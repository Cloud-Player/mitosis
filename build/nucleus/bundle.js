!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=27)}([function(e,t,n){"use strict";var r=n(3),i=n(4);var o=n(9),s=n(13);var a="function"==typeof Symbol&&Symbol.observable||"@@observable";function c(){}function u(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:c}var h=n(1),l=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,a=function(e,t,n){if(e){if(e instanceof i.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new i.a(e,t,n):new i.a(s.a)}(e,t,n);if(r?r.call(a,this.source):a.add(this.source||h.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),h.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){h.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof i.a?r:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=f(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:u(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function f(e){if(e||(e=h.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var d=n(5);function p(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}p.prototype=Object.create(Error.prototype);var g=p,_=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.a(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(d.a);n.d(t,"a",function(){return y});var b=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.a(t,e),t}(i.a),y=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.a(t,e),t.prototype[o.a]=function(){return new b(this)},t.prototype.lift=function(e){var t=new m(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new g;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new g;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new g;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new g;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new g;return this.hasError?(e.error(this.thrownError),d.a.EMPTY):this.isStopped?(e.complete(),d.a.EMPTY):(this.observers.push(e),new _(this,e))},t.prototype.asObservable=function(){var e=new l;return e.source=this,e},t.create=function(e,t){return new m(e,t)},t}(l),m=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.a(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):d.a.EMPTY},t}(y)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},function(e,t,n){"use strict";(function(e,r){n.d(t,"e",function(){return p}),n.d(t,"g",function(){return q}),n.d(t,"f",function(){return j}),n.d(t,"a",function(){return _}),n.d(t,"b",function(){return v}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return a});var i,o,s,a,c,u,h=n(0),l=(n(6),n(19));class f{constructor(){this._maxCancelId=Number.MAX_SAFE_INTEGER-10,this._lastCancelId=0,this._tickCounter=0,this._isRunning=!1,this._intervals=[],this._timeouts=[]}doTick(){this._timeouts.forEach(e=>{e.tick===this._tickCounter&&e.callback()}),this._intervals.forEach(e=>{this._tickCounter%e.tick==0&&e.callback()}),this._timeouts=this._timeouts.filter(e=>e.tick>this._tickCounter)}tick(){try{this.doTick()}catch(e){throw e}finally{this._tickCounter++}}start(){this._isRunning=!0,this.startClock()}pause(){this._isRunning=!1,this.pauseClock()}stop(){this.pause(),this._intervals.length=0,this._timeouts.length=0,this._tickCounter=0}forward(e){for(;this._tickCounter<e;)this.tick()}rewind(){this._tickCounter=0,this._timeouts.length=0}setInterval(e,t=1){t=Math.floor(Math.max(t,1)),this._lastCancelId=(this._lastCancelId+1)%this._maxCancelId;const n={tick:t,cancelId:this._lastCancelId,callback:e};return this._intervals.push(n),this._lastCancelId}clearInterval(e){this._intervals=this._intervals.filter(t=>t.cancelId!==e)}setTimeout(e,t=1){t=Math.floor(Math.max(t,1)),this._lastCancelId=(this._lastCancelId+1)%this._maxCancelId;const n={tick:this._tickCounter+t,cancelId:this._lastCancelId,callback:e};return this._timeouts.push(n),this._lastCancelId}clearTimeout(e){this._timeouts=this._timeouts.filter(t=>t.cancelId!==e)}getTick(){return this._tickCounter}isRunning(){return this._isRunning}timeIt(){const e=this.getPrecisionTimestamp();return()=>this.getPrecisionTimestamp()-e}}class d extends f{constructor(e){super(),this._masterClock=e}fork(){const e=new d(this);return e.start(),e}setSpeed(e){this.pauseClock(),this.startClock(e)}getPrecisionTimestamp(){return this._masterClock.getPrecisionTimestamp()}startClock(e){this._cancelId=this._masterClock.setInterval(this.tick.bind(this),e)}pauseClock(){this._masterClock.clearInterval(this._cancelId),this._cancelId=null}}class p extends f{constructor(e=1e3){super(),this._speed=e}fork(){const e=new d(this);return e.start(),e}setSpeed(e){this._speed=e,this.isRunning()&&(this.pauseClock(),this.startClock())}startClock(e){e&&(this._speed=e),this._masterCancelId=setInterval(this.tick.bind(this),this._speed)}getPrecisionTimestamp(){return performance&&"function"==typeof performance.now?performance.now():Date&&"function"==typeof Date.now?Date.now():this.getTick()}pauseClock(){clearInterval(this._masterCancelId)}getSpeed(){return this._speed}}!function(e){e.WEBSOCKET_UNSECURE="ws",e.WEBSOCKET="wss",e.WEBRTC_DATA="webrtc-data",e.WEBRTC_STREAM="webrtc-stream",e.VIA="via",e.VIA_MULTI="via-multi"}(i||(i={})),function(e){e.OPENING="opening",e.OPEN="open",e.CLOSING="closing",e.CLOSED="closed",e.ERROR="error"}(o||(o={})),function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.WAITING_FOR_OFFER=10]="WAITING_FOR_OFFER",e[e.WAITING_FOR_ANSWER=20]="WAITING_FOR_ANSWER",e[e.WAITING_FOR_ESTABLISH=30]="WAITING_FOR_ESTABLISH",e[e.ESTABLISHED=40]="ESTABLISHED"}(s||(s={}));!function(e){e.ADDED="added",e.REMOVED="removed"}(a||(a={})),function(e){e[e.LOG=0]="LOG",e[e.DEBUG=10]="DEBUG",e[e.INFO=20]="INFO",e[e.WARN=30]="WARN",e[e.ERROR=40]="ERROR",e[e.FATAL=50]="FATAL"}(c||(c={}));class g{constructor(e){this._logLevel=null,this._id=e,this._logSubject=new h.a}static getLogger(e){return g._loggerMap.has(e)||g._loggerMap.set(e,new g(e)),g._loggerMap.get(e)}static setLevel(e){g._logLevel=e}static setVerbose(e){this._verbose=e}doLog(e,t,n,r){let i=0,o="";if(this._clock&&(i=this._clock.getTick(),o=`${this._clock.getTick()}:`),this.getLevel()<=e){const e=`${n} [${o}${this._id}]`;g._verbose||(r=r.slice(0,1)),t(e,...r)}this._logSubject.next({level:e,data:r.map(String),tick:i})}setClock(e){this._clock=e}getLevel(){return this._logLevel||g._logLevel}setLevel(e){this._logLevel=e}log(...e){this.doLog(c.LOG,console.log,"ðŸ“ ",e)}debug(...e){this.doLog(c.DEBUG,console.log,"ðŸ”§",e)}info(...e){this.doLog(c.INFO,console.info,"ðŸ“¬",e)}warn(...e){this.doLog(c.WARN,console.warn,"ðŸš§",e)}error(...e){this.doLog(c.ERROR,console.error,"ðŸš¨",e)}fatal(...e){this.doLog(c.FATAL,console.error,"ðŸ’£",e)}observeLogEvents(){return this._logSubject}}g._loggerMap=new Map,g._logLevel=c.DEBUG,g._verbose=!0;class _{constructor(e,t,n,r="v1"){this._id=e,this._protocol=t,this._location=n,this._version=r}static fromString(e){const t=e.split("/"),[n,r,i]=t.slice(1,4),o=t.slice(4).join("/");return new _(r,i,o,n)}getId(){return this._id}getProtocol(){return this._protocol}getLocation(){return this._location}setLocation(e){this._location=e}getVersion(){return this._version}isProtocol(...e){return-1!==e.indexOf(this._protocol)}toString(){return["mitosis",this.getVersion(),this.getId(),this.getProtocol(),this.getLocation()].filter(e=>void 0!==e).join("/")}}class b extends Map{constructor(e){super(),this._factory=e,this._default=e()}get(e){return this.has(e)||this.set(e,this._factory()),super.get(e)}getDefault(){return this._default}}!function(e){e.INTRODUCTION="introduction",e.PEER_UPDATE="peer-update",e.PEER_SUGGESTION="peer-suggestion",e.ROLE_UPDATE="role-update",e.CONNECTION_NEGOTIATION="connection-negotiation",e.CHANNEL_ANNOUNCEMENT="channel-announcement",e.APP_CONTENT="app-content",e.UNKNOWN_PEER="unknown-peer",e.PING="ping",e.PONG="pong",e.ROUTER_ALIVE="router-alive",e.PEER_ALIVE="peer-alive"}(u||(u={}));const y=new b(()=>1);y.set(u.PEER_UPDATE,1),y.set(u.PEER_SUGGESTION,10),y.set(u.APP_CONTENT,16),y.set(u.CONNECTION_NEGOTIATION,20),y.set(u.ROUTER_ALIVE,20),y.set(u.PEER_ALIVE,20);class m{constructor(e,t,n,r,i,o){this._sender=e,this._receiver=t,this._subject=n,this._body=r,this._id=i||`m${Math.round(1e3+8999*Math.random())}`,this._ttl=Number.isInteger(o)?o:y.get(n)}static fromString(e){const t=JSON.parse(e);return new m(_.fromString(t.sender),_.fromString(t.receiver),t.subject,t.body,t.id,t.ttl)}get length(){return t=this.toString(),e.browser?new Blob([t]).size:r.byteLength(t);var t}getReceiver(){return this._receiver}getSender(){return this._sender}getInboundAddress(){return this._inboundAddress}getSubject(){return this._subject}getBody(){return this._body}getId(){return this._id}getTtl(){return this._ttl}decreaseTtl(){return--this._ttl}setInboundAddress(e){this._inboundAddress=e}clone(){return new m(this._sender,this._receiver,this._subject,this._body,this._id,this._ttl)}toString(){return JSON.stringify({id:this._id,receiver:this.getReceiver().toString(),sender:this.getSender().toString(),subject:this.getSubject(),ttl:this.getTtl(),body:this.getBody()},void 0,2)}}class v extends m{constructor(e,t,n){super(e,t,u.APP_CONTENT,n)}getBody(){return this._body}}var w,E;!function(e){e.NEWBIE="newbie",e.PEER="peer",e.ROUTER="router",e.SIGNAL="signal"}(w||(w={})),function(e){e[e.CLEAN=30]="CLEAN",e[e.ACQUIRE=20]="ACQUIRE",e[e.PUBLISH=10]="PUBLISH"}(E||(E={}));const S=new Map;S.set(w.NEWBIE,10),S.set(w.PEER,20),S.set(w.ROUTER,30),S.set(w.SIGNAL,40);class C{constructor(){this.BROADCAST_ADDRESS="*",this.DEFAULT_SIGNAL_ADDRESS="mitosis/v1/p000/wss/signal.mitosis.dev/websocket",this.DIRECT_CONNECTIONS_GOAL_MIN=4,this.DIRECT_CONNECTIONS_GOAL_MAX=6,this.DIRECT_CONNECTIONS_MAX=10,this.TRY_OTHER_PEERS_COUNT=0,this.DIRECT_CONNECTION_BOOST_AMOUNT=2,this.DIRECT_CONNECTION_BOOST_TIMEOUT=20,this.SLIDING_WINDOW_SIZE=12,this.TRANSMISSION_PING_INTERVAL=4,this.MAX_ROUTERS_PER_SIGNAL=1,this.LAST_SEEN_TIMEOUT=30,this.LATENCY_WINDOW_SIZE=10,this.DEFAULT_QUALITY=.5,this.DEFAULT_ROUTER_RANK=.1,this.CONNECTION_METER_OPEN_GRACE_PERIOD_TIME=10,this.CONNECTION_METER_PROTECTION_TIME=10,this.CONNECTION_METER_PUNISHMENT_TIME=20,this.OUTBOUND_STREAM_CONNECTIONS=2,this.ROUTER_ALIVE_HIGHSCORE_WINDOW_SIZE=10}}const T=new b(()=>new C);T.get(w.SIGNAL).DIRECT_CONNECTIONS_MAX=100;class R extends Set{constructor(){super(...arguments),this._sequence=0}removeOutDated(){const e=this.values();let t=e.next();for(;!t.done;){const n=t.value;this.isSequenceOutOfWindow(n)&&this.delete(n),t=e.next()}}nextSequence(){this._sequence=this._sequence+1}isSequenceOutOfWindow(e){return null==this._sequence||(e>this._sequence||e<=this._sequence-T.getDefault().SLIDING_WINDOW_SIZE)}add(e){return this.setSequence(e),super.add(e),this}slide(){this.nextSequence(),this.removeOutDated()}setSequence(e){this.isSequenceOutOfWindow(e)&&(this._sequence=e),this.removeOutDated()}getSequenceNumber(){return this._sequence}}var O,A;!function(e){e.REQUEST="request",e.OFFER="offer",e.ANSWER="answer",e.REJECTION="rejection"}(O||(O={}));class I extends m{constructor(e,t,n,r){const i=n.map(e=>({peerId:e.getId(),roles:e.getRoles(),quality:e.getMeter().getPeerUpdateQuality(r)}));super(e,t,u.PEER_UPDATE,i)}getBody(){return this._body}}!function(e){e.PUNISHED="punished",e.PROTECTED="protected",e.UNPUNISHED="unpunished",e.UNPROTECTED="unprotected"}(A||(A={}));class N{constructor(e,t){this._punished=!1,this._protected=!1,this._lastSeenTick=0,this._connection=e,this._subject=new h.a,this._clock=t.fork(),this.listenOnMessages()}listenOnMessages(){this._connection.observeMessageReceived().subscribe(this.onMessage.bind(this))}setPunished(e){const t=this._punished;this._punished=e,this._punished!==t&&(this._punished?this._subject.next({type:A.PUNISHED,connection:this._connection}):this._subject.next({type:A.UNPUNISHED,connection:this._connection}))}setProtected(e){const t=this._protected;this._protected=e,this._protected!==t&&(this._protected?this._subject.next({type:A.PROTECTED,connection:this._connection}):this._subject.next({type:A.UNPROTECTED,connection:this._connection}))}onMessage(e){this._clock?this._lastSeenTick=this._clock.getTick():g.getLogger(this._connection.getAddress().getId()).error("can not read clock for message",e)}updateLastSeen(){this._lastSeenTick=this._clock.getTick()}isLastSeenExpired(){return this._clock.getTick()-this._lastSeenTick>T.getDefault().LAST_SEEN_TIMEOUT}getLastSeen(){return this._clock.getTick()-this._lastSeenTick}isPunished(){return this._punished}isProtected(){return this._protected}start(){this.setProtected(!0),this._clock.rewind(),this._clock.setTimeout(()=>{this.setPunished(!1),this.setProtected(!1)},T.getDefault().CONNECTION_METER_PROTECTION_TIME)}stop(){const e=this._clock.getTick()<T.getDefault().CONNECTION_METER_OPEN_GRACE_PERIOD_TIME;this.setPunished(e),this.setProtected(!1)}observe(){return this._subject}toJSON(){return{lastSeen:this.getLastSeen(),protected:this.isProtected(),punished:this.isPunished(),isExpired:this.isLastSeenExpired()}}toString(){return JSON.stringify(this.toJSON(),void 0,2)}}class P extends N{constructor(e,t,n=1){super(e,t),this._quality=n}updateLastSeen(){super.updateLastSeen()}getQuality(){return this._quality}setQuality(e){this._quality=e}getRouterLinkQuality(e){const t=this._connection.getAddress(),n=e.filterById(t.getLocation()).pop();return n?n.hasRole(w.SIGNAL,w.ROUTER)?1:n.getMeter().getRouterLinkQuality():0}start(){}stop(){}}class M{constructor(e,t,n){e.getLocation()||e.setLocation(`c${Math.round(1e4+89999*Math.random())}`),this._id=e.getLocation(),this._options=n,this._address=e,this._clock=t,this._connectionState=o.CLOSED,this._stateChangeSubject=new h.a,this._messageReceivedSubject=new h.a}getMeter(){return this._meter}getAddress(){return this._address}getId(){return this._id}onOpen(e){this._onOpenResolver&&this._onOpenResolver(e),this._onOpenResolver=null,this._onOpenRejector=null,this._connectionState=o.OPEN,this._negotiationState=s.ESTABLISHED,this._stateChangeSubject.next(this._connectionState),this.getMeter().start()}onClose(e="connection closed without reason"){this.getMeter().stop(),this._onOpenRejector&&this._onOpenRejector(e),this._clock.stop(),this._onOpenResolver=null,this._onOpenRejector=null,this._negotiationState=null,this._connectionState=o.CLOSED,this._stateChangeSubject.next(this._connectionState),this._stateChangeSubject.complete(),this._messageReceivedSubject.complete()}onError(e="connection error without reason"){this._connectionState=o.ERROR,this._stateChangeSubject.next(this._connectionState),this.onClose(e)}onMessage(e){this._messageReceivedSubject.next(e)}close(){this._connectionState=o.CLOSING,this._stateChangeSubject.next(this._connectionState),this.closeClient()}open(){return this._connectionState=o.OPENING,this._negotiationState=s.INITIALIZING,this._stateChangeSubject.next(this._connectionState),new Promise((e,t)=>{this._onOpenResolver=e,this._onOpenRejector=t,this.openClient()})}isInState(...e){return-1!==e.indexOf(this.getState())}getState(){return this._connectionState}getNegotiationState(){return this._negotiationState}observeMessageReceived(){return this._messageReceivedSubject}observeStateChange(){return this._stateChangeSubject}toString(){return JSON.stringify({id:this._id,address:this._address.toString(),connectionState:this._connectionState,negotiationState:this._negotiationState,meter:this.getMeter().toJSON()},void 0,2)}}class k extends M{constructor(e,t,n){super(e,t,n),this._meter=new P(this,t,n.payload.quality)}parentStateChanged(e){switch(e){case o.OPEN:this.onOpen(this);break;case o.CLOSED:this.onClose("parent connection closed");break;case o.ERROR:this.onError("parent connection error")}}closeClient(){this._parentSubscription.unsubscribe(),this.onClose("via connection close client")}openClient(){const e=this._options.payload.parent;!e||e.isInState(o.CLOSING,o.CLOSED)?this.onError("parent connection missing"):e.isInState(o.OPEN)&&this.onOpen(this),this._parentSubscription=e.observeStateChange().subscribe(this.parentStateChanged.bind(this))}send(e){throw new Error("via connection cannot send directly")}}class L extends m{constructor(e,t,n){super(e,t,u.PING,n)}getBody(){return this._body}}class x extends m{constructor(e,t,n){super(e,t,u.PONG,n)}getBody(){return this._body}}class D{constructor(e){this._clock=e,this._timerPerSequence=new Map}getHighestSequence(){return Array.from(this._timerPerSequence.keys()).sort((e,t)=>e-t).pop()}cleanUpOldSequences(){const e=this.getHighestSequence();Array.from(this._timerPerSequence.keys()).filter(t=>e-t>=T.getDefault().LATENCY_WINDOW_SIZE).forEach(e=>{this._timerPerSequence.delete(e)})}start(e){this._timerPerSequence.get(e)||this._timerPerSequence.set(e,this._clock.timeIt()),this.cleanUpOldSequences()}stop(e){const t=this._timerPerSequence.get(e);"function"==typeof t&&this._timerPerSequence.set(e,t())}asArray(){return Array.from(this._timerPerSequence.entries()).filter(([e,t])=>"number"==typeof t&&t>0).map(([e,t])=>t)}}class B extends N{constructor(e,t,n,r){super(e,r),this._receiveSlidingWindow=new R,this._echoSlidingWindow=new R,this._originator=t,this._receiver=n,this._messageSubject=new h.a,this._latencyPerSequence=new D(r)}emitMessage(e){this._messageSubject.next(e)}sendPong(e,t){const n=new x(this._originator,e,t);g.getLogger(this._originator.getId()).debug(`send pong to ${e.getId()}`,n),this.emitMessage(n)}sendPing(){this._echoSlidingWindow.slide();const e=this._echoSlidingWindow.getSequenceNumber(),t=new L(this._originator,this._receiver,e);g.getLogger(this._originator.getId()).debug(`send ping to ${this._receiver.getId()}`,t),this.emitMessage(t),this._latencyPerSequence.start(e)}handlePing(e){g.getLogger(this._originator.getId()).debug(`handle ping from ${e.getSender().getId()}`,e,"receive sliding window:",`[${Array.from(this._receiveSlidingWindow.values()).join(", ")}]`),this.sendPong(e.getSender(),e.getBody()),this._receiveSlidingWindow.add(e.getBody())}handlePong(e){const t=e.getBody();this._echoSlidingWindow.add(t),this._latencyPerSequence.stop(t)}getEq(){return this._echoSlidingWindow.size/T.getDefault().SLIDING_WINDOW_SIZE}getRq(){return this._receiveSlidingWindow.size/T.getDefault().SLIDING_WINDOW_SIZE}getTq(){const e=this.getRq();if(0===e)return 0;{const t=this.getEq()/e;return t>1?T.getDefault().DEFAULT_QUALITY:t}}getLatencyQuality(e){const t=T.getDefault(),n=this.getAverageLatency();if(0===n)return t.DEFAULT_QUALITY;const r=e.aggregateConnections(e=>e.filterByProtocol(i.WEBRTC_DATA).filterByStates(o.OPEN)).map(e=>e.getMeter().getAverageLatency()).filter(e=>e>0);if(r.length<=1)return T.getDefault().DEFAULT_QUALITY;const s=r.reduce((e,t)=>t<e?t:e,Number.MAX_SAFE_INTEGER),a=r.reduce((e,t)=>t>e?t:e,0);switch(n){case s:return 1;case a:return 0;default:return 1-(n-s)/(a-s)}}getAverageLatency(){const e=T.getDefault(),t=this._latencyPerSequence.asArray();return 0===t.length?e.DEFAULT_QUALITY:Math.max(t.reduce((e,t)=>e+t,0)/t.length,e.DEFAULT_QUALITY)}getQuality(e){return(this.getTq()+this.getLatencyQuality(e))/2}onMessage(e){super.onMessage(e),e.getSubject()===u.PING?this.handlePing(e):e.getSubject()===u.PONG&&this.handlePong(e)}observeMessages(){return this._messageSubject}start(){super.start(),this._pingInterval=this._clock.setInterval(()=>{this.sendPing()},T.getDefault().TRANSMISSION_PING_INTERVAL)}stop(){super.stop(),this._pingInterval&&this._clock.clearInterval(this._pingInterval)}}class U extends M{constructor(e,t,n){super(e,t,n),this._simplePeerOptions={trickle:!1}}createOffer(e){this._negotiationState=s.WAITING_FOR_OFFER,this._simplePeerOptions.initiator=!0,this._client=new l(this._simplePeerOptions),this._client.on("signal",t=>{const n=Object.assign(t,this.getAdditionalOfferPayload());g.getLogger(e).debug(`webrtc offer for ${this.getAddress().getId()} ready`,JSON.stringify(t)),this.onMessage(new m(this.getMyAddress(),new _(this.getAddress().getId()),u.CONNECTION_NEGOTIATION,n)),this._negotiationState=s.WAITING_FOR_ANSWER})}createAnswer(e,t){const n=t.payload;this._negotiationState=s.WAITING_FOR_ANSWER,this._simplePeerOptions.initiator=!1,this._client=new l(this._simplePeerOptions),this._client.signal(n),this._client.on("signal",t=>{g.getLogger(e).debug(`webrtc answer for ${this.getAddress().getId()} ready`,JSON.stringify(t)),this.onMessage(new m(this.getMyAddress(),new _(this.getAddress().getId()),u.CONNECTION_NEGOTIATION,t)),this._negotiationState=s.WAITING_FOR_ESTABLISH})}getMyAddress(){return new _(this._options.mitosisId,this.getAddress().getProtocol(),this.getId())}getRTCPeerConnection(){if(this._client)return this._client._pc}getStats(){const e=this.getRTCPeerConnection();return e?new Promise(t=>{e.getStats().then(e=>{const n=[];e.forEach(e=>{n.push(e)}),t(n)})}):Promise.reject(`no stats for missing connection to ${this.getMyAddress().getId()}`)}closeClient(){this._client?(this._client.destroy(),this._client=null):this.onClose("webrtc peer connection was closed and no client exists; probably other client has closed")}bindClientListeners(){this._client.on("connect",()=>{this.onOpen(this)}),this._client.on("data",e=>{this.onMessage(m.fromString(e))}),this._client.on("close",()=>{this.onClose("webrtc peer connection close")}),this._client.on("error",e=>{this.onError(e)})}openClient(){if(!this._options)throw new Error("webrtc cannot be opened without options");if(this._options.payload)switch(this._options.payload.type){case O.OFFER:this.createAnswer(this._options.mitosisId,this._options);break;case O.ANSWER:this.establish(this._options);break;default:throw new Error(`webrtc options unsupported ${this._options.payload.type}`)}else this.createOffer(this._options.mitosisId);this.bindClientListeners()}isInitiator(){return this._simplePeerOptions.initiator}send(e){if(!this._client)throw new Error("webrtc client not initialized");if(this.getState()!==o.OPEN)throw new Error(`webrtc cannot send to ${this.getState()} connection`);this._client.send(e.toString())}establish(e){const t=e.payload;g.getLogger(this._options.mitosisId).debug(`webrtc answer for ${this.getAddress().getId()} negotiating`,JSON.stringify(t)),this._client.signal(t)}}class j extends U{constructor(e,t,n){super(e,t,n),this._meter=new B(this,this.getMyAddress(),this.getAddress(),this._clock),this._meter.observeMessages().subscribe(this.sendMessageOverUnreliableChannel.bind(this))}sendMessageOverUnreliableChannel(e){this._unreliableChannel&&"open"===this._unreliableChannel.readyState&&this._unreliableChannel.send(e.toString())}listenOnUnreliableChannel(){this._unreliableChannel.onmessage=(e=>{const t=m.fromString(e.data);this._meter.onMessage(t)})}bindClientListeners(){super.bindClientListeners();const e=this.getRTCPeerConnection().ondatachannel;this.getRTCPeerConnection().ondatachannel=(t=>{t.channel.label===j._statsDataChannelLabel?(this._unreliableChannel=t.channel,this.listenOnUnreliableChannel()):"function"==typeof e&&e.call(this._client,t)})}getAdditionalOfferPayload(){return{}}establish(e){super.establish(e),this._unreliableChannel=super.getRTCPeerConnection().createDataChannel(j._statsDataChannelLabel,{ordered:!1,maxRetransmits:0}),this.listenOnUnreliableChannel()}}j._statsDataChannelLabel="stats";class F extends N{getQuality(){return.1}isLastSeenExpired(){return!1}start(){}stop(){}}class q extends U{constructor(e,t,n){super(e,t,n),this._meter=new F(this,t),this._streamSubject=new h.a,this.setStream(n.stream)}bindStreamListeners(){this._stream&&(this._stream.onactive=(()=>{this._streamSubject.next({type:a.ADDED,stream:this._stream,channelId:this._channelId})}),this._stream.oninactive=(()=>{this._streamSubject.next({type:a.REMOVED,stream:this._stream,channelId:this._channelId})}))}createAnswer(e,t){this._channelId=t.channelId,super.createAnswer(e,t)}getAdditionalOfferPayload(){return{channelId:this.getChannelId()||"any"}}closeClient(){this.removeStream(),super.closeClient()}bindClientListeners(){super.bindClientListeners(),this._client.on("track",(e,t)=>{this.setStream(t)}),this._client.on("stream",e=>{this.setStream(e)})}send(e){g.getLogger(this._address.getId()).error("stream connection can not send messages",e)}getChannelId(){return this._options.channelId||this._channelId}setStream(e){e?(this._stream=e,this._simplePeerOptions.stream=e,this.bindStreamListeners(),this._streamSubject.next({stream:this._stream,channelId:this._channelId,type:a.ADDED})):this.removeStream()}getStream(){return this._stream}removeStream(){if(this._stream){const e=this._stream;e.getTracks().forEach(e=>e.stop()),this._stream=null,this._streamSubject.next({stream:e,channelId:this._channelId,type:a.REMOVED})}}observeStreamChurn(){return this._streamSubject}}class W extends N{getQuality(){return 1}isLastSeenExpired(){return!1}start(){}stop(){}}class G extends M{constructor(e,t,n){super(e,t,n),this._meter=new W(this,t)}onSocketOpen(){this.onOpen(this)}onSocketClose(e){this.onClose(e)}onSocketMessage(e){this.onMessage(m.fromString(e.data))}onSocketError(e){this.onError(e)}closeClient(){this._client.close(),this._client=null}send(e){if(!this._client)throw new Error("socket client not initialized");if(this.getState()!==o.OPEN)throw new Error(`socket connection not in open state (${this.getState()})`);if(this._client.readyState!==WebSocket.OPEN)throw new Error(`socket client not in open state (${this._client.readyState})`);this._client.send(e.toString())}openClient(){this._client=new WebSocket(`${this._address.getProtocol()}://${this._address.getLocation()}`),this._client.onopen=this.onSocketOpen.bind(this),this._client.onclose=this.onSocketClose.bind(this),this._client.onmessage=this.onSocketMessage.bind(this),this._client.onerror=this.onSocketError.bind(this)}}const H=new Map;H.set(i.WEBSOCKET,G),H.set(i.WEBSOCKET_UNSECURE,G),H.set(i.WEBRTC_DATA,j),H.set(i.WEBRTC_STREAM,q),H.set(i.VIA,k),H.set(i.VIA_MULTI,k);class Y{constructor(){this._initialized=!1}isInitialized(){return this._initialized}onInit(e){}onConnectionClose(e,t){}onConnectionOpen(e,t){}onMessage(e,t){}requiresPeer(e){return!1}}class V extends m{constructor(e,t){super(e,t,u.INTRODUCTION,null)}getBody(){return this._body}}function $(e){const t=new V(e.getMyAddress(),e.getSignalAddress());g.getLogger(e.getMyAddress().getId()).debug("connecting to signal"),e.getPeerManager().connectTo(e.getSignalAddress()).then(n=>{n.setRoles([w.SIGNAL]),e.getPeerManager().sendMessage(t)}).catch(t=>g.getLogger(e.getMyAddress().getId()).warn("connecting to signal failed",t))}function Q(e){e.getPeerTable().forEach(e=>{const t=e.getConnectionTable().filterDirect().filterByStates(o.OPEN);t.length<=1||Object.values(i).forEach(e=>{t.filter(t=>t.getAddress().isProtocol(e)).sortBy(e=>e.getAddress().getLocation()).slice(1).forEach(e=>e.close())})})}function z(e){const t=e.getRoleManager();t.hasRole(w.ROUTER,w.NEWBIE)||0===e.getPeerManager().getPeerTable().filterByRole(w.ROUTER).countConnections()&&(g.getLogger(e.getMyAddress().getId()).info("lost all connections to router, becoming a newbie again"),t.getRoles().forEach(e=>t.removeRole(e)),t.addRole(w.NEWBIE),e.getPeerManager().getPeerTable().forEach(e=>e.getMeter().getRouterAliveHighScore().reset()))}function J(e){if(e.getRoleManager().hasRole(w.ROUTER))return;0===e.getPeerManager().getPeerTable().filterByRole(w.ROUTER).countConnections()&&(g.getLogger(e.getMyAddress().getId()).debug("lost all connections to router"),e.getRoleManager().addRole(w.NEWBIE))}class X extends m{constructor(e,t,n){super(e,t,u.CHANNEL_ANNOUNCEMENT,n)}getBody(){return this._body}}function Z(e){const t=e.getStreamManager().getChannelTable().filter(e=>e.getProviderTable().has(e=>e.isSource()&&e.isLive()&&e.isActive())).map(t=>{const n=t.asAnnouncement(),r=e.getMyAddress().getId(),i=n.providers.find(e=>e.peerId===r),o=e.getStreamManager().getMyCapacity();return i?i.capacity=o:n.providers.push({peerId:r,capacity:o}),n});0!==t.length&&e.getPeerManager().getPeerTable().filterByRole(w.PEER).filterConnections(e=>e.filterDirect().filterByStates(o.OPEN)).forEach(n=>{const r=new X(e.getMyAddress(),new _(n.getId()),t);e.getPeerManager().sendMessage(r)})}class K extends m{constructor(e,t){super(e,t,u.PEER_ALIVE,null)}getBody(){return this._body}}function ee(e){if(e.getRoleManager().hasRole(w.ROUTER))return;e.getPeerManager().getPeerTable().filterByRole(w.ROUTER).filterConnections(e=>e.filterByStates(o.OPEN)).exclude(e=>e.filterConnections(e=>e.filterByProtocol(i.VIA,i.WEBRTC_DATA,i.WEBSOCKET,i.WEBSOCKET_UNSECURE))).forEach(t=>e.getPeerManager().sendMessage(new K(e.getMyAddress(),new _(t.getId()))))}function te(e){e.getPeerManager().getPeerTable().filterByRole(w.PEER).filterConnections(e=>e.filterDirectData().filterByStates(o.OPEN)).forEach(t=>e.getPeerManager().sendPeerUpdate(t.getId()))}function ne(e){e.getPeerManager().getPeerTable().aggregateConnections(e=>e.filterByMeter(e=>e.isLastSeenExpired())).forEach(t=>{g.getLogger(e.getMyAddress().getId()).debug(`removing expired connection ${t.getAddress().getId()}`,t),t.close()})}function re(e){if(e.getRoleManager().hasRole(w.ROUTER))return;const t=e.getPeerManager().getPeerTable(),n=t.filterByRole(w.SIGNAL).filterConnections(e=>e.filterDirect().filterByStates(o.OPEN));if(0===n.length)return;if(e.getRoleManager().hasRole(w.NEWBIE))return;const r=t.filterByRole(w.ROUTER).aggregateConnections(e=>e.filterByStates(o.OPEN).exclude(e=>e.filterByLocation(...n.map(e=>e.getId())))),i=t.exclude(e=>e.filterByRole(w.SIGNAL)).aggregateConnections(e=>e.filterDirectData().filterByStates(o.OPEN));0===r.length||i.length<2||(g.getLogger(e.getMyAddress().getId()).info("close connection to signals",`routers: ${r.length}`,`connections: ${i.length}`,...n),n.forEach(e=>e.getConnectionTable().filterDirectData().forEach(e=>e.close())))}function ie(e,t){if(t<1)return;const n=e.getRoleManager().getConfiguration(),r=n.DIRECT_CONNECTIONS_GOAL_MAX,i=n.DIRECT_CONNECTIONS_GOAL_MIN,s=e.getPeerManager().getPeerTable().filterConnections(e=>e.filterDirectData().filterByStates(o.OPEN)),a=s.aggregateConnections(e=>e.filterDirectData().filterByStates(o.OPEN));let c=s.filter(t=>0===e.getRoleManager().getRolesRequiringPeer(t).length).filterIsProtected(!1);const u=s.filter(e=>1===e.getMeter().getRouterLinkQuality()).pop();u&&(c=c.filter(e=>e.getId()!==u.getId()));const h=c.aggregateConnections(e=>e.filterDirectData().filterByStates(o.OPEN)).sortBy(t=>t.getMeter().isProtected()?1:t.getMeter().getQuality(e.getPeerManager().getPeerTable())),l=Math.max(h.length-i,0),f=Math.max(a.length-r,0),d=Math.min(l,f,t);d>0?h.slice(0,d).forEach(t=>{g.getLogger(e.getMyAddress().getId()).debug(`loosing worst connection ${t.getAddress().getId()}`,t),t.close()}):g.getLogger(e.getMyAddress().getId()).warn("can not loose peers because no closable connection is available")}function oe(e){const t=e.getRoleManager().getConfiguration(),n=e.getPeerManager().getPeerTable().countConnections(e=>e.filterDirectData().filterByStates(o.OPEN));ie(e,n-t.DIRECT_CONNECTIONS_GOAL_MAX)}function se(e){e.getStreamManager().getChannelTable().has(e=>e.isActive())||e.getStreamManager().getChannelTable().map(t=>t.getProviderTable().filter(t=>t.getCapacity()>0&&t.getPeerId()!==e.getMyAddress().getId()).map(e=>({peerId:e.getPeerId(),channelId:t.getId()}))).reduce((e,t)=>e.concat(t),[]).forEach(t=>{const n=new m(new _(e.getMyAddress().getId(),i.WEBRTC_STREAM),new _(t.peerId),u.CONNECTION_NEGOTIATION,{type:O.REQUEST,channelId:t.channelId});e.getPeerManager().sendMessage(n)})}function ae(e,t){if(t<1)return[];const n=e.getPeerManager().getPeerTable();let r=n.filterConnections(e=>e.filterByProtocol(i.VIA)).filterByRole(w.PEER).exclude(e=>e.filterConnections(e=>e.filterDirectData()));return r.length<=1&&(r=n.filterConnections(e=>e.filterByProtocol(i.VIA,i.VIA_MULTI)).filterByRole(w.PEER).exclude(e=>e.filterConnections(e=>e.filterDirectData()))),r.exclude(e=>e.filter(e=>e.getMeter().getAverageConnectionPunishment()<0)),r.sortBy(e=>e.getMeter().getAcquisitionQuality(n)).reverse().slice(0,t).map(t=>{const n=new _(t.getId(),i.WEBRTC_DATA);return g.getLogger(e.getMyAddress().getId()).debug(`connecting to ${t.getId()} with quality ${t.getMeter().getQuality(e.getPeerManager().getPeerTable())}`,t),e.getPeerManager().connectTo(n).catch(n=>g.getLogger(e.getMyAddress().getId()).debug(`can not acquire ${t.getId()}`,n))})}function ce(e){const t=e.getRoleManager().getConfiguration(),n=e.getPeerManager().getPeerTable().countConnections(e=>e.filterDirectData().filterByStates(o.OPEN,o.OPENING)),r=e.getPeerManager().getAcquisitionBoost(),i=t.DIRECT_CONNECTIONS_GOAL_MIN-n+r;if(i>0){g.getLogger(e.getMyAddress().getId()).debug(`need to acquire ${i} peers`,`min goal is ${t.DIRECT_CONNECTIONS_GOAL_MIN}`,`boost is ${r}`,`already have ${n} connections`);const o=ae(e,i);Promise.all(o).catch(t=>g.getLogger(e.getMyAddress().getId()).warn("could not satisfy connection goal",t))}}function ue(e){const t=e.getRoleManager().getConfiguration(),n=e.getPeerManager().getPeerTable(),r=n.aggregateConnections(e=>e.filterDirectData().filterByStates(o.OPEN,o.OPENING)),i=r.length,s=r.filterByStates(o.OPENING).length;if(i<t.DIRECT_CONNECTIONS_GOAL_MIN||s>0)return;const a=Math.min(t.TRY_OTHER_PEERS_COUNT+e.getPeerManager().getAcquisitionBoost(),t.DIRECT_CONNECTIONS_MAX-i);ae(e,a).forEach(t=>t.then(()=>{n.countConnections(e=>e.filterDirectData().filterByStates(o.OPEN,o.OPENING))>i&&ie(e,1)}).catch(t=>g.getLogger(e.getMyAddress().getId()).warn("could not try new peers",t)))}function he(e){const t=e.getRoleManager(),n=0===e.getPeerTable().filterByRole(w.SIGNAL).length;t.hasRole(w.ROUTER)&&n&&(g.getLogger(e.getMyAddress().getId()).debug("lost signal connection"),t.removeRole(w.ROUTER))}function le(e){const t=e.getPeerManager().getPeerTable().filterByRole(w.SIGNAL,w.ROUTER).filterConnections(e=>e.filterDirectData().filterByStates(o.OPEN));t.forEach(n=>e.getPeerManager().sendMessage(new I(e.getMyAddress(),new _(n.getId()),t,e.getPeerManager().getPeerTable())))}class fe extends m{constructor(e,t,n){super(e,t,u.ROUTER_ALIVE,null),this._body=n}getBody(){return this._body}}function de(e){const t=e.getRoleManager().getRole(w.ROUTER);if(!t)return;const n=t.nextSequenceNumber();e.getPeerManager().sendMessage(new fe(e.getMyAddress(),new _(T.getDefault().BROADCAST_ADDRESS),{sequence:n}))}class pe extends m{constructor(e,t,n){super(e,t,u.ROLE_UPDATE,n)}getBody(){return this._body}}function ge(e,t,n){n.getPeerManager().getPeerById(e.getId()).setRoles(t);const r=new pe(n.getMyAddress(),e,t);n.getPeerManager().sendMessage(r)}function _e(e,t){const n=t.getSender(),r=e.getPeerManager().getPeerTable().filterByRole(w.ROUTER).filterConnections(e=>e.filterDirect().filterByStates(o.OPEN,o.OPENING)),i=r.filter(e=>e.getId()===n.getId()).length;t.getSubject()===u.INTRODUCTION&&(i||r.length<T.getDefault().MAX_ROUTERS_PER_SIGNAL?ge(n,[w.PEER,w.ROUTER],e):ge(n,[w.PEER],e),function(e,t,n){const r=new I(n.getMyAddress(),e,t,n.getPeerManager().getPeerTable());n.getPeerManager().sendMessage(r)}(n,r,e))}const be=new Map;be.set(w.PEER,class extends Y{getTaskSchedule(){return[{phase:E.CLEAN,interval:1,task:re},{phase:E.CLEAN,interval:1,task:Q},{phase:E.CLEAN,interval:1,task:ne},{phase:E.CLEAN,interval:1,task:oe},{phase:E.CLEAN,interval:1,task:z},{phase:E.CLEAN,interval:1,task:J},{phase:E.ACQUIRE,interval:1,task:ce},{phase:E.ACQUIRE,interval:1,task:se},{phase:E.ACQUIRE,interval:60,task:ue},{phase:E.PUBLISH,interval:4,task:te},{phase:E.PUBLISH,interval:2,task:Z},{phase:E.PUBLISH,interval:4,task:ee}]}onInit(e){e.getPeerManager().activateAcquisitionBoost()}onMessage(e,t){!function(e,t){const n=e.getRoleManager().getConfiguration(),r=e.getPeerManager();t.getSubject()===u.CONNECTION_NEGOTIATION&&t.getReceiver().getId()===r.getMyId()&&r.getPeerTable().countConnections(e=>e.filterDirectData().filterByStates(o.OPEN))>=n.DIRECT_CONNECTIONS_MAX&&r.getPeerTable().filterById(t.getSender().getId()).exclude(e=>e.filterConnections(e=>e.filterDirectData().filterByStates(o.OPEN))).forEach(e=>r.sendPeerSuggestion(e.getId()))}(e,t)}}),be.set(w.NEWBIE,class extends Y{getTaskSchedule(){return[{phase:E.PUBLISH,interval:1,task:$}]}requiresPeer(e){return e.hasRole(w.SIGNAL)}}),be.set(w.ROUTER,class extends Y{constructor(){super(...arguments),this._sequenceNumber=1}getTaskSchedule(){return[{phase:E.CLEAN,interval:1,task:he},{phase:E.PUBLISH,interval:4,task:le},{phase:E.PUBLISH,interval:4,task:de}]}requiresPeer(e){return e.hasRole(w.SIGNAL)}nextSequenceNumber(){return this._sequenceNumber++}}),be.set(w.SIGNAL,class extends Y{getTaskSchedule(){return[{phase:E.PUBLISH,interval:4,task:le}]}onMessage(e,t){_e(e,t)}requiresPeer(e){return e.hasRole(w.ROUTER)}})}).call(this,n(7),n(14).Buffer)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(3),i=n(16),o=n(13),s=n(5),a=n(9),c=n(1),u=n(10),h=function(e){function t(n,r,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,s._parentSubscription=null,arguments.length){case 0:s.destination=o.a;break;case 1:if(!n){s.destination=o.a;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new l(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new l(s,n,r,i)}return s}return r.a(t,e),t.prototype[a.a]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this},t}(s.a),l=function(e){function t(t,n,r,s){var a,c=e.call(this)||this;c._parentSubscriber=t;var u=c;return Object(i.a)(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.a&&(u=Object.create(n),Object(i.a)(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=r,c._complete=s,c}return r.a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.a.useDeprecatedSynchronousErrorHandling)throw e;Object(u.a)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return c.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Object(u.a)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(h)},function(e,t,n){"use strict";var r=Array.isArray||function(e){return e&&"number"==typeof e.length};var i,o=n(16),s={e:{}};function a(){try{return i.apply(this,arguments)}catch(e){return s.e=e,s}}function c(e){return i=e,a}function u(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}u.prototype=Object.create(Error.prototype);var h=u;n.d(t,"a",function(){return l});var l=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,i=this._parents,a=this._unsubscribe,u=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var l,d=-1,p=i?i.length:0;n;)n.remove(this),n=++d<p&&i[d]||null;if(Object(o.a)(a))c(a).call(this)===s&&(t=!0,e=e||(s.e instanceof h?f(s.e.errors):[s.e]));if(r(u))for(d=-1,p=u.length;++d<p;){var g=u[d];if(null!=(l=g)&&"object"==typeof l)if(c(g.unsubscribe).call(g)===s){t=!0,e=e||[];var _=s.e;_ instanceof h?e=e.concat(f(_.errors)):e.push(_)}}if(t)throw new h(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function f(e){return e.reduce(function(e,t){return e.concat(t instanceof h?t.errors:t)},[])}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(3),i=n(4);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(i.a)},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,u=[],h=!1,l=-1;function f(){h&&c&&(h=!1,c.length?u=c.concat(u):l=-1,u.length&&d())}function d(){if(!h){var e=a(f);h=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||h||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},function(e,t,n){"use strict";function r(e){setTimeout(function(){throw e})}n.d(t,"a",function(){return r})},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r=n(18),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var o=n(15);o.inherits=n(11);var s=n(20),a=n(24);o.inherits(l,s);for(var c=i(a.prototype),u=0;u<c.length;u++){var h=c[u];l.prototype[h]||(l.prototype[h]=a.prototype[h])}function l(e){if(!(this instanceof l))return new l(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),i=n(10),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(28),i=n(29),o=n(30);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=a(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|d(t.length);return 0===(e=a(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(h(t),e=a(e,t<0?0:0|d(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|d(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return F(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){var o,s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var h=-1;for(o=n;o<a;o++)if(u(e,o)===u(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===c)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var l=!0,f=0;f<c;f++)if(u(e,o+f)!==u(t,f)){l=!1;break}if(l)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function m(e,t,n,r){return W(F(t,e.length-n),e,n,r)}function v(e,t,n,r){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return v(e,t,n,r)}function E(e,t,n,r){return W(q(t),e,n,r)}function S(e,t,n,r){return W(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,c,u=e[i],h=null,l=u>239?4:u>223?3:u>191?2:1;if(i+l<=n)switch(l){case 1:u<128&&(h=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(h=c);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(h=c);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(h=c)}null===h?(h=65533,l=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=l}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return h(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return l(null,e)},c.allocUnsafeSlow=function(e){return l(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),u=this.slice(r,i),h=e.slice(t,n),l=0;l<a;++l)if(u[l]!==h[l]){o=u[l],s=h[l];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return m(this,e,t,n);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=j(e[o]);return i}function N(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function k(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function x(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,o){return o||x(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,o){return o||x(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=c.isBuffer(e)?e:F(new c(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(8))},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(14).Buffer)},function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",function(){return r})},function(e,t,n){var r=n(14),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(this,n(7))},function(e,t,n){(function(t){e.exports=u;var r=n(31)("simple-peer"),i=n(34),o=n(11),s=n(35),a=n(36),c=5e3;function u(e){var t,n,r=this;if(!(r instanceof u))return new u(e);if(r._id=s(4).toString("hex").slice(0,7),r._debug("new peer %o",e),e=Object.assign({allowHalfOpen:!1},e),a.Duplex.call(r,e),r.channelName=e.initiator?e.channelName||s(20).toString("hex"):null,r._isChromium="undefined"!=typeof window&&!!window.webkitRTCPeerConnection,r.initiator=e.initiator||!1,r.channelConfig=e.channelConfig||u.channelConfig,r.config=e.config||u.config,r.constraints=r._transformConstraints(e.constraints||u.constraints),r.offerConstraints=r._transformConstraints(e.offerConstraints||{}),r.answerConstraints=r._transformConstraints(e.answerConstraints||{}),r.sdpTransform=e.sdpTransform||function(e){return e},r.streams=e.streams||(e.stream?[e.stream]:[]),r.trickle=void 0===e.trickle||e.trickle,r.allowHalfTrickle=void 0!==e.allowHalfTrickle&&e.allowHalfTrickle,r.iceCompleteTimeout=e.iceCompleteTimeout||c,r.destroyed=!1,r.connected=!1,r.remoteAddress=void 0,r.remoteFamily=void 0,r.remotePort=void 0,r.localAddress=void 0,r.localPort=void 0,r._wrtc=e.wrtc&&"object"==typeof e.wrtc?e.wrtc:i(),!r._wrtc)throw"undefined"==typeof window?l("No WebRTC support: Specify `opts.wrtc` option in this environment","ERR_WEBRTC_SUPPORT"):l("No WebRTC support: Not a supported browser","ERR_WEBRTC_SUPPORT");r._pcReady=!1,r._channelReady=!1,r._iceComplete=!1,r._iceCompleteTimer=null,r._channel=null,r._pendingCandidates=[],r._isNegotiating=!r.initiator,r._batchedNegotiation=!1,r._queuedNegotiation=!1,r._sendersAwaitingStable=[],r._senderMap=new WeakMap,r._firstStable=!0,r._closingInterval=null,r._remoteTracks=[],r._remoteStreams=[],r._chunk=null,r._cb=null,r._interval=null,r._pc=new r._wrtc.RTCPeerConnection(r.config,r.constraints),(r._isChromium||r._wrtc&&r._wrtc.electronDaemon)&&(t=r._wrtc.RTCPeerConnection,(n=r._pc).createOffer=function(e){return new Promise((n,r)=>{t.prototype.createOffer.call(this,n,r,e)})},n.createAnswer=function(e){return new Promise((n,r)=>{t.prototype.createAnswer.call(this,n,r,e)})},n.setLocalDescription=function(e){return new Promise((n,r)=>{t.prototype.setLocalDescription.call(this,e,n,r)})},n.setRemoteDescription=function(e){return new Promise((n,r)=>{t.prototype.setRemoteDescription.call(this,e,n,r)})}),r._isReactNativeWebrtc="number"==typeof r._pc._peerConnectionId,r._pc.oniceconnectionstatechange=function(){r._onIceStateChange()},r._pc.onicegatheringstatechange=function(){r._onIceStateChange()},r._pc.onsignalingstatechange=function(){r._onSignalingStateChange()},r._pc.onicecandidate=function(e){r._onIceCandidate(e)},r.initiator?r._setupData({channel:r._pc.createDataChannel(r.channelName,r.channelConfig)}):r._pc.ondatachannel=function(e){r._setupData(e)},"addTrack"in r._pc&&(r.streams&&r.streams.forEach(function(e){r.addStream(e)}),r._pc.ontrack=function(e){r._onTrack(e)}),r.initiator&&r._needsNegotiation(),r._onFinishBound=function(){r._onFinish()},r.once("finish",r._onFinishBound)}function h(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}function l(e,t){var n=new Error(e);return n.code=t,n}function f(){}o(u,a.Duplex),u.WEBRTC_SUPPORT=!!i(),u.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478?transport=udp"}]},u.constraints={},u.channelConfig={},Object.defineProperty(u.prototype,"bufferSize",{get:function(){return this._channel&&this._channel.bufferedAmount||0}}),u.prototype.address=function(){return{port:this.localPort,family:"IPv4",address:this.localAddress}},u.prototype.signal=function(e){var t=this;if(t.destroyed)throw l("cannot signal after peer is destroyed","ERR_SIGNALING");if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}t._debug("signal()"),e.renegotiate&&t.initiator&&(t._debug("got request to renegotiate"),t._needsNegotiation()),e.candidate&&(t._pc.remoteDescription&&t._pc.remoteDescription.type?t._addIceCandidate(e.candidate):t._pendingCandidates.push(e.candidate)),e.sdp&&t._pc.setRemoteDescription(new t._wrtc.RTCSessionDescription(e)).then(function(){t.destroyed||(t._pendingCandidates.forEach(function(e){t._addIceCandidate(e)}),t._pendingCandidates=[],"offer"===t._pc.remoteDescription.type&&t._createAnswer())}).catch(function(e){t.destroy(l(e,"ERR_SET_REMOTE_DESCRIPTION"))}),e.sdp||e.candidate||e.renegotiate||t.destroy(l("signal() called with invalid signal data","ERR_SIGNALING"))},u.prototype._addIceCandidate=function(e){var t=this;try{t._pc.addIceCandidate(new t._wrtc.RTCIceCandidate(e),f,function(e){t.destroy(l(e,"ERR_ADD_ICE_CANDIDATE"))})}catch(e){t.destroy(l("error adding candidate: "+e.message,"ERR_ADD_ICE_CANDIDATE"))}},u.prototype.send=function(e){this._channel.send(e)},u.prototype.addStream=function(e){var t=this;t._debug("addStream()"),e.getTracks().forEach(function(n){t.addTrack(n,e)})},u.prototype.addTrack=function(e,t){this._debug("addTrack()");var n=this._pc.addTrack(e,t),r=this._senderMap.get(e)||new WeakMap;r.set(t,n),this._senderMap.set(e,r),this._needsNegotiation()},u.prototype.replaceTrack=async function(e,t,n){this._debug("replaceTrack()");var r=this._senderMap.get(e),i=r?r.get(n):null;i||this.destroy(new Error("Cannot replace track that was never added.")),t&&this._senderMap.set(t,r),null!=i.replaceTrack?await i.replaceTrack(t):this.destroy(l("replaceTrack is not supported in this browser","ERR_UNSUPPORTED_REPLACETRACK"))},u.prototype.removeTrack=function(e,t){this._debug("removeSender()");var n=this._senderMap.get(e),r=n?n.get(t):null;r||this.destroy(new Error("Cannot remove track that was never added."));try{this._pc.removeTrack(r)}catch(e){"NS_ERROR_UNEXPECTED"===e.name?this._sendersAwaitingStable.push(r):this.destroy(e)}},u.prototype.removeStream=function(e){var t=this;t._debug("removeSenders()"),e.getTracks().forEach(function(n){t.removeTrack(n,e)})},u.prototype._needsNegotiation=function(){var e=this;e._debug("_needsNegotiation"),e._batchedNegotiation||(e._batchedNegotiation=!0,setTimeout(function(){e._batchedNegotiation=!1,e._debug("starting batched negotiation"),e.negotiate()},0))},u.prototype.negotiate=function(){this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),this._createOffer()):this._isNegotiating||(this._debug("requesting negotiation from initiator"),this.emit("signal",{renegotiate:!0})),this._isNegotiating=!0},u.prototype.destroy=function(e){this._destroy(e,function(){})},u.prototype._destroy=function(e,t){if(!this.destroyed){if(this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.destroyed=!0,this.connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(e){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(e){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,"addTrack"in this._pc&&(this._pc.ontrack=null),this._pc.ondatachannel=null}this._pc=null,this._channel=null,e&&this.emit("error",e),this.emit("close"),t()}},u.prototype._setupData=function(e){var t=this;if(!e.channel)return t.destroy(l("Data channel event is missing `channel` property","ERR_DATA_CHANNEL"));t._channel=e.channel,t._channel.binaryType="arraybuffer","number"==typeof t._channel.bufferedAmountLowThreshold&&(t._channel.bufferedAmountLowThreshold=65536),t.channelName=t._channel.label,t._channel.onmessage=function(e){t._onChannelMessage(e)},t._channel.onbufferedamountlow=function(){t._onChannelBufferedAmountLow()},t._channel.onopen=function(){t._onChannelOpen()},t._channel.onclose=function(){t._onChannelClose()},t._channel.onerror=function(e){t.destroy(l(e,"ERR_DATA_CHANNEL"))};var n=!1;t._closingInterval=setInterval(function(){t._channel&&"closing"===t._channel.readyState?(n&&t._onChannelClose(),n=!0):n=!1},5e3)},u.prototype._read=function(){},u.prototype._write=function(e,t,n){if(this.destroyed)return n(l("cannot write after peer is destroyed","ERR_DATA_CHANNEL"));if(this.connected){try{this.send(e)}catch(e){return this.destroy(l(e,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>65536?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=e,this._cb=n},u.prototype._onFinish=function(){var e=this;function t(){setTimeout(function(){e.destroy()},1e3)}e.destroyed||(e.connected?t():e.once("connect",t))},u.prototype._startIceCompleteTimeout=function(){r("started iceComplete timeout");var e=this;e.destroyed||e._iceCompleteTimer||(e._iceCompleteTimer=setTimeout(function(){e._iceComplete||(e._iceComplete=!0,e.emit("iceTimeout"),e.emit("_iceComplete"))},this.iceCompleteTimeout))},u.prototype._createOffer=function(){var e=this;e.destroyed||e._pc.createOffer(e.offerConstraints).then(function(t){function n(){if(!e.destroyed){var n=e._pc.localDescription||t;e._debug("signal"),e.emit("signal",{type:n.type,sdp:n.sdp})}}e.destroyed||(e.trickle||e.allowHalfTrickle||(t.sdp=h(t.sdp)),t.sdp=e.sdpTransform(t.sdp),e._pc.setLocalDescription(t).then(function(){if(e._debug("createOffer success"),e.destroyed)return;e.trickle||e._iceComplete?n():e.once("_iceComplete",n)}).catch(function(t){e.destroy(l(t,"ERR_SET_LOCAL_DESCRIPTION"))}))}).catch(function(t){e.destroy(l(t,"ERR_CREATE_OFFER"))})},u.prototype._createAnswer=function(){var e=this;e.destroyed||e._pc.createAnswer(e.answerConstraints).then(function(t){function n(){if(!e.destroyed){var n=e._pc.localDescription||t;e._debug("signal"),e.emit("signal",{type:n.type,sdp:n.sdp})}}e.destroyed||(e.trickle||e.allowHalfTrickle||(t.sdp=h(t.sdp)),t.sdp=e.sdpTransform(t.sdp),e._pc.setLocalDescription(t).then(function(){if(e.destroyed)return;e.trickle||e._iceComplete?n():e.once("_iceComplete",n)}).catch(function(t){e.destroy(l(t,"ERR_SET_LOCAL_DESCRIPTION"))}))}).catch(function(t){e.destroy(l(t,"ERR_CREATE_ANSWER"))})},u.prototype._onIceStateChange=function(){if(!this.destroyed){var e=this._pc.iceConnectionState,t=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),"connected"!==e&&"completed"!==e||(this._pcReady=!0,this._maybeReady()),"failed"===e&&this.destroy(l("Ice connection failed.","ERR_ICE_CONNECTION_FAILURE")),"closed"===e&&this.destroy(new Error("Ice connection closed."))}},u.prototype.getStats=function(e){var t=this;0===t._pc.getStats.length?t._pc.getStats().then(function(t){var n=[];t.forEach(function(e){n.push(e)}),e(null,n)},function(t){e(t)}):t._isReactNativeWebrtc?t._pc.getStats(null,function(t){var n=[];t.forEach(function(e){n.push(e)}),e(null,n)},function(t){e(t)}):t._pc.getStats.length>0?t._pc.getStats(function(n){if(!t.destroyed){var r=[];n.result().forEach(function(e){var t={};e.names().forEach(function(n){t[n]=e.stat(n)}),t.id=e.id,t.type=e.type,t.timestamp=e.timestamp,r.push(t)}),e(null,r)}},function(t){e(t)}):e(null,[])},u.prototype._maybeReady=function(){var e=this;e._debug("maybeReady pc %s channel %s",e._pcReady,e._channelReady),!e.connected&&!e._connecting&&e._pcReady&&e._channelReady&&(e._connecting=!0,function t(){e.destroyed||e.getStats(function(n,r){if(!e.destroyed){n&&(r=[]);var i={},o={},s={},a=!1;if(r.forEach(function(e){"remotecandidate"!==e.type&&"remote-candidate"!==e.type||(i[e.id]=e),"localcandidate"!==e.type&&"local-candidate"!==e.type||(o[e.id]=e),"candidatepair"!==e.type&&"candidate-pair"!==e.type||(s[e.id]=e)}),r.forEach(function(e){"transport"===e.type&&e.selectedCandidatePairId&&u(s[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&u(e)}),a||Object.keys(s).length&&!Object.keys(o).length){if(e._connecting=!1,e.connected=!0,e._chunk){try{e.send(e._chunk)}catch(n){return e.destroy(l(n,"ERR_DATA_CHANNEL"))}e._chunk=null,e._debug('sent chunk from "write before connect"');var c=e._cb;e._cb=null,c(null)}"number"!=typeof e._channel.bufferedAmountLowThreshold&&(e._interval=setInterval(function(){e._onInterval()},150),e._interval.unref&&e._interval.unref()),e._debug("connect"),e.emit("connect")}else setTimeout(t,100)}function u(t){a=!0;var n=o[t.localCandidateId];n&&n.ip?(e.localAddress=n.ip,e.localPort=Number(n.port)):n&&n.ipAddress?(e.localAddress=n.ipAddress,e.localPort=Number(n.portNumber)):"string"==typeof t.googLocalAddress&&(n=t.googLocalAddress.split(":"),e.localAddress=n[0],e.localPort=Number(n[1]));var r=i[t.remoteCandidateId];r&&r.ip?(e.remoteAddress=r.ip,e.remotePort=Number(r.port)):r&&r.ipAddress?(e.remoteAddress=r.ipAddress,e.remotePort=Number(r.portNumber)):"string"==typeof t.googRemoteAddress&&(r=t.googRemoteAddress.split(":"),e.remoteAddress=r[0],e.remotePort=Number(r[1])),e.remoteFamily="IPv4",e._debug("connect local: %s:%s remote: %s:%s",e.localAddress,e.localPort,e.remoteAddress,e.remotePort)}})}())},u.prototype._onInterval=function(){!this._cb||!this._channel||this._channel.bufferedAmount>65536||this._onChannelBufferedAmountLow()},u.prototype._onSignalingStateChange=function(){var e=this;e.destroyed||("stable"!==e._pc.signalingState||e._firstStable||(e._isNegotiating=!1,e._debug("flushing sender queue",e._sendersAwaitingStable),e._sendersAwaitingStable.forEach(function(t){e._pc.removeTrack(t),e._queuedNegotiation=!0}),e._sendersAwaitingStable=[],e._queuedNegotiation&&(e._debug("flushing negotiation queue"),e._queuedNegotiation=!1,e._needsNegotiation()),e._debug("negotiate"),e.emit("negotiate")),e._firstStable=!1,e._debug("signalingStateChange %s",e._pc.signalingState),e.emit("signalingStateChange",e._pc.signalingState))},u.prototype._onIceCandidate=function(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())},u.prototype._onChannelMessage=function(e){if(!this.destroyed){var n=e.data;n instanceof ArrayBuffer&&(n=t.from(n)),this.push(n)}},u.prototype._onChannelBufferedAmountLow=function(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);var e=this._cb;this._cb=null,e(null)}},u.prototype._onChannelOpen=function(){this.connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())},u.prototype._onChannelClose=function(){this.destroyed||(this._debug("on channel close"),this.destroy())},u.prototype._onTrack=function(e){var t=this;t.destroyed||e.streams.forEach(function(n){t._debug("on track"),t.emit("track",e.track,n),t._remoteTracks.push({track:e.track,stream:n}),t._remoteStreams.some(function(e){return e.id===n.id})||(t._remoteStreams.push(n),setTimeout(function(){t.emit("stream",n)},0))})},u.prototype.setConstraints=function(e){this.initiator?this.offerConstraints=this._transformConstraints(e):this.answerConstraints=this._transformConstraints(e)},u.prototype._debug=function(){var e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],r.apply(null,e)},u.prototype._transformConstraints=function(e){if(0===Object.keys(e).length)return e;if((e.mandatory||e.optional)&&!this._isChromium){var t=Object.assign({},e.optional,e.mandatory);return void 0!==t.OfferToReceiveVideo&&(t.offerToReceiveVideo=t.OfferToReceiveVideo,delete t.OfferToReceiveVideo),void 0!==t.OfferToReceiveAudio&&(t.offerToReceiveAudio=t.OfferToReceiveAudio,delete t.OfferToReceiveAudio),t}return e.mandatory||e.optional||!this._isChromium?e:(void 0!==e.offerToReceiveVideo&&(e.OfferToReceiveVideo=e.offerToReceiveVideo,delete e.offerToReceiveVideo),void 0!==e.offerToReceiveAudio&&(e.OfferToReceiveAudio=e.offerToReceiveAudio,delete e.offerToReceiveAudio),{mandatory:e})}}).call(this,n(14).Buffer)},function(e,t,n){"use strict";(function(t,r){var i=n(18);e.exports=m;var o,s=n(37);m.ReadableState=y;n(21).EventEmitter;var a=function(e,t){return e.listeners(t).length},c=n(22),u=n(17).Buffer,h=t.Uint8Array||function(){};var l=n(15);l.inherits=n(11);var f=n(38),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g=n(39),_=n(23);l.inherits(m,c);var b=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(o=o||n(12));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(25).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function m(e){if(o=o||n(12),!(this instanceof m))return new m(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function v(e,t,n,r,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,C(e)}(e,s)):(i||(o=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof h||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?w(e,s,t,!1):R(e,s)):w(e,s,t,!1))):r||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&C(e)),R(e,t)}Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),m.prototype.destroy=_.destroy,m.prototype._undestroy=_.undestroy,m.prototype._destroy=function(e,t){this.push(null),t(e)},m.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),v(this,e,t,!1,n)},m.prototype.unshift=function(e){return v(this,e,null,!0,!1)},m.prototype.isPaused=function(){return!1===this._readableState.flowing},m.prototype.setEncoding=function(e){return p||(p=n(25).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var E=8388608;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=E?e=E:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(T,e):T(e))}function T(e){d("emit readable"),e.emit("readable"),N(e)}function R(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(O,e,t))}function O(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function A(e){d("readable nexttick read 0"),e.read(0)}function I(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0===(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(k,t,e))}function k(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}m.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):C(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&M(this),null;var r,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(n,t))),null===(r=e>0?P(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==r&&this.emit("data",r),r},m.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},m.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var c=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?h:m;function u(t,r){d("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),e.removeListener("close",b),e.removeListener("finish",y),e.removeListener("drain",l),e.removeListener("error",_),e.removeListener("unpipe",u),n.removeListener("end",h),n.removeListener("end",m),n.removeListener("data",g),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function h(){d("onend"),e.end()}o.endEmitted?i.nextTick(c):n.once("end",c),e.on("unpipe",u);var l=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,N(e))}}(n);e.on("drain",l);var f=!1;var p=!1;function g(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==L(o.pipes,e))&&!f&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function _(t){d("onerror",t),m(),e.removeListener("error",_),0===a(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",y),m()}function y(){d("onfinish"),e.removeListener("close",b),m()}function m(){d("unpipe"),n.unpipe(e)}return n.on("data",g),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",_),e.once("close",b),e.once("finish",y),e.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),e},m.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=L(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},m.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&C(this):i.nextTick(A,this))}return n},m.prototype.addListener=m.prototype.on,m.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(I,e,t))}(this,e)),this},m.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},m.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],this.emit.bind(this,b[o]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),m._fromList=P}).call(this,n(8),n(7))},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,o,s,a;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=u(e))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var u=c.length,h=p(c,u);for(n=0;n<u;++n)o(h[n],this,t)}return!0},a.prototype.addListener=function(e,t){return h(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return h(this,e,t,!0)},a.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,l(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,l(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,o,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},a.prototype.listenerCount=d,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){e.exports=n(21).EventEmitter},function(e,t,n){"use strict";var r=n(18);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";(function(t,r,i){var o=n(18);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var a,c=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;y.WritableState=b;var u=n(15);u.inherits=n(11);var h={deprecate:n(43)},l=n(22),f=n(17).Buffer,d=i.Uint8Array||function(){};var p,g=n(23);function _(){}function b(e,t){a=a||n(12),e=e||{};var r=t instanceof a;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,u=e.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===e.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(C,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),C(e,t))}(e,n,r,t,i);else{var s=E(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),r?c(v,e,n,s,i):v(e,n,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function y(e){if(a=a||n(12),!(p.call(y,this)||this instanceof a))return new y(e);this._writableState=new b(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function m(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function v(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),C(e,t)}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var a=0,c=!0;n;)i[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;i.allBuffers=c,m(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,h=n.encoding,l=n.callback;if(m(e,t,!1,t.objectMode?1:u.length,u,h,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),C(e,t)})}function C(e,t){var n=E(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(y,l),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===y&&(e&&e._writableState instanceof b)}})):p=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,i=this._writableState,s=!1,a=!i.objectMode&&(r=e,f.isBuffer(r)||r instanceof d);return a&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=_),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),o.nextTick(r,s),i=!1),i}(this,i,e,n))&&(i.pendingcb++,s=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,a,r,i,o);return c}(this,i,a,e,t,n)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,C(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(7),n(41).setImmediate,n(8))},function(e,t,n){"use strict";var r=n(44).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=h,this.end=l,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"ï¿½";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"ï¿½";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"ï¿½"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function h(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"ï¿½":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=s;var r=n(12),i=n(15);function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){c(e,t,n)}):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(11),i.inherits(s,r),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){n(47),e.exports=n(46)},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=u(e),r=n[0],s=n[1],a=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,s)),c=0,h=s>0?r-4:r,l=0;l<h;l+=4)t=i[e.charCodeAt(l)]<<18|i[e.charCodeAt(l+1)]<<12|i[e.charCodeAt(l+2)]<<6|i[e.charCodeAt(l+3)],a[c++]=t>>16&255,a[c++]=t>>8&255,a[c++]=255&t;2===s&&(t=i[e.charCodeAt(l)]<<2|i[e.charCodeAt(l+1)]>>4,a[c++]=255&t);1===s&&(t=i[e.charCodeAt(l)]<<10|i[e.charCodeAt(l+1)]<<4|i[e.charCodeAt(l+2)]>>2,a[c++]=t>>8&255,a[c++]=255&t);return a},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(h(e,s,s+16383>a?a:s+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function h(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,h=-7,l=n?i-1:0,f=n?-1:1,d=e[t+l];for(l+=f,o=d&(1<<-h)-1,d>>=-h,h+=a;h>0;o=256*o+e[t+l],l+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+e[t+l],l+=f,h-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=u}return(d?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,c,u=8*o-i-1,h=(1<<u)-1,l=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+l>=1?f/c:f*Math.pow(2,1-l))*c>=2&&(s++,c/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(t*c-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+d]=255&s,d+=p,s/=256,u-=8);e[n+d-p]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(r){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(32)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(7))},function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function s(...e){if(!s.enabled)return;const t=s,i=Number(new Date),o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;a++;const o=r.formatters[i];if("function"==typeof o){const r=e[a];n=o.call(t,r),e.splice(a,1),a--}return n}),r.formatArgs.call(t,e),(t.log||r.log).apply(t,e)}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function i(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){const e=[...r.names.map(s),...r.skips.map(s).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(33),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,s=7*o,a=365.25*o;function c(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*s;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return c(e,t,o,"day");if(t>=i)return c(e,t,i,"hour");if(t>=r)return c(e,t,r,"minute");if(t>=n)return c(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){e.exports=function(){if("undefined"==typeof window)return null;var e={RTCPeerConnection:window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,RTCSessionDescription:window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription,RTCIceCandidate:window.RTCIceCandidate||window.mozRTCIceCandidate||window.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}},function(e,t,n){"use strict";(function(t,r){var i=n(17).Buffer,o=t.crypto||t.msCrypto;o&&o.getRandomValues?e.exports=function(e,n){if(e>65536)throw new Error("requested too many random bytes");var s=new t.Uint8Array(e);e>0&&o.getRandomValues(s);var a=i.from(s.buffer);if("function"==typeof n)return r.nextTick(function(){n(null,a)});return a}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n(8),n(7))},function(e,t,n){(t=e.exports=n(20)).Stream=t,t.Readable=t,t.Writable=n(24),t.Duplex=n(12),t.Transform=n(26),t.PassThrough=n(45)},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){},function(e,t,n){"use strict";var r=n(17).Buffer,i=n(40);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=o,i=a,t.copy(n,i),a+=s.data.length,s=s.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(42),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(8))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,s,a,c=1,u={},h=!1,l=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,r=function(e){var t=l.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),r=function(t){e.postMessage(s+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[c]=i,r(c),c++},f.clearImmediate=d}function d(e){delete u[e]}function p(e){if(h)setTimeout(p,0,e);else{var t=u[e];if(t){h=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{d(e),h=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(8),n(7))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(8))},function(e,t,n){var r=n(14),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";e.exports=o;var r=n(26),i=n(15);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(11),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(2);function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}i.prototype=Object.create(Error.prototype);var o=i,s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function a(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function c(e){return"function"==typeof e}var u=!1,h={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;u=e},get useDeprecatedSynchronousErrorHandling(){return u}};function l(e){setTimeout(function(){throw e})}var f={closed:!0,next:function(e){},error:function(e){if(h.useDeprecatedSynchronousErrorHandling)throw e;l(e)},complete:function(){}},d=Array.isArray||function(e){return e&&"number"==typeof e.length};var p,g={e:{}};function _(){try{return p.apply(this,arguments)}catch(e){return g.e=e,g}}function b(e){return p=e,_}function y(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}y.prototype=Object.create(Error.prototype);var m=y,v=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,r=this._parents,i=this._unsubscribe,o=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s,a=-1,u=r?r.length:0;n;)n.remove(this),n=++a<u&&r[a]||null;if(c(i))b(i).call(this)===g&&(t=!0,e=e||(g.e instanceof m?w(g.e.errors):[g.e]));if(d(o))for(a=-1,u=o.length;++a<u;){var h=o[a];if(null!=(s=h)&&"object"==typeof s)if(b(h.unsubscribe).call(h)===g){t=!0,e=e||[];var l=g.e;l instanceof m?e=e.concat(w(l.errors)):e.push(l)}}if(t)throw new m(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function w(e){return e.reduce(function(e,t){return e.concat(t instanceof m?t.errors:t)},[])}var E="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),S=function(e){function t(n,r,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,o._parentSubscription=null,arguments.length){case 0:o.destination=f;break;case 1:if(!n){o.destination=f;break}if("object"==typeof n){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new C(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new C(o,n,r,i)}return o}return a(t,e),t.prototype[E]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this},t}(v),C=function(e){function t(t,n,r,i){var o,s=e.call(this)||this;s._parentSubscriber=t;var a=s;return c(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==f&&(c((a=Object.create(n)).unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=o,s._error=r,s._complete=i,s}return a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;h.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=h.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):l(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;l(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};h.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),h.useDeprecatedSynchronousErrorHandling)throw e;l(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!h.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return h.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(l(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(S);function T(e,t){return function(n){return n.lift(new R(e,t))}}var R=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new O(e,this.predicate,this.thisArg))},e}(),O=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return a(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(S);function A(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}A.prototype=Object.create(Error.prototype);var I=A;var N="function"==typeof Symbol&&Symbol.observable||"@@observable";function P(){}function M(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:P}var k=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof S)return e;if(e[E])return e[E]()}return e||t||n?new S(e,t,n):new S(f)}(e,t,n);if(r?r.call(i,this.source):i.add(this.source||h.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),h.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){h.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof S?r:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=L(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[N]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:M(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=L(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function L(e){if(e||(e=h.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var x=new k(function(e){return e.complete()});function D(e){return e?function(e){return new k(function(t){return e.schedule(function(){return t.complete()})})}(e):x}var B=function(){function e(e){if(this.total=e,this.total<0)throw new I}return e.prototype.call=function(e,t){return t.subscribe(new U(e,this.total))},e}(),U=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return a(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(S);var j=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new F(e,this.defaultValue))},e}(),F=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return a(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(S);var q=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new W(e,this.nextOrObserver,this.error,this.complete))},e}(),W=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._tapNext=P,o._tapError=P,o._tapComplete=P,o._tapError=r||P,o._tapComplete=i||P,c(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||P,o._tapError=n.error||P,o._tapComplete=n.complete||P),o}return a(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(S),G=function(e){return void 0===e&&(e=H),t={hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw e()}},function(e){return e.lift(new q(t,n,r))};var t,n,r};function H(){return new o}function Y(e){return e}function V(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?T(function(t,n){return e(t,n,r)}):Y,(i=1,function(e){return 0===i?D():e.lift(new B(i))}),n?function(e){return void 0===e&&(e=null),function(t){return t.lift(new j(e))}}(t):G(function(){return new o}));var i}}var $=function(){function e(){this._connections=[],setTimeout(this.init.bind(this))}return e.prototype.createOffer=function(){var e=this;this.connectionOptions&&this.connectionOptions.payload&&delete this.connectionOptions.payload;var t=new this.Connection(this.address,new r.e,this.connectionOptions);this._connections.unshift(t),t.observeMessageReceived().pipe(V()).subscribe(function(t){e._outAreaElement.value=JSON.stringify(t.getBody())}),this.beforeCreateOffer(t).then(function(){t.open().then(e.onOpen.bind(e))}),t.observeStateChange().subscribe(function(t){return e._outAreaElement.value=t})},e.prototype.createAnswer=function(){var e=this;this.connectionOptions.payload=JSON.parse(this._inAreaElement.value);var t=new this.Connection(this.address,new r.e,this.connectionOptions);this._connections.unshift(t),t.observeMessageReceived().pipe(V()).subscribe(function(t){e._outAreaElement.value=JSON.stringify(t.getBody())}),this.beforeCreateAnswer(t).then(function(){t.open().then(e.onOpen.bind(e,t))}),t.observeStateChange().subscribe(function(t){return e._outAreaElement.value=t})},e.prototype.pastedAnswer=function(){this._createOfferBtn.disabled=!0,this._createAnswerBtn.disabled=!0,this._establishBtn.disabled=!1},e.prototype.pastedOffer=function(){this._createOfferBtn.disabled=!0,this._createAnswerBtn.disabled=!1,this._establishBtn.disabled=!0},e.prototype.pastedUnknownInput=function(){this._createOfferBtn.disabled=!1,this._createAnswerBtn.disabled=!0,this._establishBtn.disabled=!0},e.prototype.establish=function(){var e=JSON.parse(this._inAreaElement.value);this._connections[0].establish({payload:e})},e.prototype.onOpen=function(e){this._createOfferBtn.disabled=!1,this._createAnswerBtn.disabled=!0,this._establishBtn.disabled=!0,this._inAreaElement.value="",e.observeStateChange().pipe(T(function(e){return e===r.d.CLOSED})).subscribe(this.onClose.bind(this,e))},e.prototype.onClose=function(e){var t=this._connections.indexOf(e);-1!==t&&(console.warn("Remove connection that was closed!"),this._connections.splice(t,1))},e.prototype.bindInputArea=function(){var e=this;this._inAreaElement.addEventListener("input",function(){var t=e._inAreaElement.value;try{switch(JSON.parse(t).type){case"offer":e.pastedOffer();break;case"answer":e.pastedAnswer();break;default:e.pastedUnknownInput()}}catch(t){e.pastedUnknownInput()}}),this._outAreaElement.addEventListener("click",function(){e._outAreaElement.focus(),e._outAreaElement.select()})},e.prototype.bindButtonListeners=function(){this._createOfferBtn.addEventListener("click",this.createOffer.bind(this)),this._createAnswerBtn.addEventListener("click",this.createAnswer.bind(this)),this._establishBtn.addEventListener("click",this.establish.bind(this))},e.prototype.beforeCreateOffer=function(e){return Promise.resolve()},e.prototype.beforeCreateAnswer=function(e){return Promise.resolve()},e.prototype.init=function(){this._inAreaElement=document.querySelector(this.baseSelector+" .in-text-area"),this._outAreaElement=document.querySelector(this.baseSelector+" .out-text-area"),this._createOfferBtn=document.querySelector(this.baseSelector+" .create-offer-btn"),this._createAnswerBtn=document.querySelector(this.baseSelector+" .create-answer-btn"),this._establishBtn=document.querySelector(this.baseSelector+" .establish-btn"),this.pastedUnknownInput(),this._inAreaElement.value="",this._outAreaElement.value='\n    1. Click on "Create offer" button\r\n    2. Copy offer that appears in this textarea\r\n    3. Open a new tab and paste the offer into the textarea above "Create offer button"\r\n    4. Click on "Create answer" button\r\n    5. Copy the answer that appears in this textarea\r\n    6. Go to the previous tab and paste the answer into the textarea above "Create offer button"\r\n    7. Click on "Establish" button\n    ',this.bindButtonListeners(),this.bindInputArea()},e}(),Q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.baseSelector=".stream-rtc",t.address=r.a.fromString("mitosis/v1/nuclus/webrtc-stream"),t.Connection=r.g,t.connectionOptions={mitosisId:"nucleus"},t}return Q(t,e),t.prototype.beforeCreateOffer=function(e){var t=this;return new Promise(function(n){if(1===t._connections.length)navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(function(r){t._videoElement.srcObject=r,e.setStream(r),n()});else{var i=t._connections[1].getStream();i?(e.setStream(i),n()):e.observeStreamChurn().subscribe(function(t){t.type===r.c.ADDED&&(e.setStream(t.stream),n())})}})},t.prototype.beforeCreateAnswer=function(e){var t=this;return new Promise(function(n){e.getStream()?t._videoElement.srcObject=e.getStream():e.observeStreamChurn().subscribe(function(n){n.type===r.c.ADDED&&(t._videoElement.srcObject=e.getStream())}),n()})},t.prototype.init=function(){console.log(this.baseSelector),this._videoElement=document.querySelector(this.baseSelector+" video"),e.prototype.init.call(this)},t}($),J=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.baseSelector=".data-rtc",t.address=r.a.fromString("mitosis/v1/nuclus/webrtc-data"),t.Connection=r.f,t.connectionOptions={mitosisId:"nucleus"},t}return J(t,e),t.prototype.sendMessage=function(){var e=this;this._connections.forEach(function(t){t.send(new r.b(e.address,t.getAddress(),e._outMessageElement.value))})},t.prototype.onMessage=function(e){var t="\n      "+ +new Date+" "+e.getSender().getId()+" "+e.getBody()+"\n    ";this._inMessagesElement.value=this._inMessagesElement.value+="\r"+t},t.prototype.onOpen=function(t){e.prototype.onOpen.call(this,t),this._outMessageFieldsetElement.disabled=!1,t.observeMessageReceived().subscribe(this.onMessage.bind(this))},t.prototype.onClose=function(t){e.prototype.onClose.call(this,t),0===this._connections.length&&(this._outMessageFieldsetElement.disabled=!0)},t.prototype.bindButtonListeners=function(){e.prototype.bindButtonListeners.call(this),this._sendElement.addEventListener("click",this.sendMessage.bind(this))},t.prototype.init=function(){console.log(this.baseSelector),this._inMessagesElement=document.querySelector(this.baseSelector+" .in-messages"),this._outMessageElement=document.querySelector(this.baseSelector+" .out-message"),this._outMessageFieldsetElement=document.querySelector(this.baseSelector+" fieldset.out"),this._outMessageFieldsetElement.disabled=!0,this._sendElement=document.querySelector(this.baseSelector+" .send-msg-btn"),e.prototype.init.call(this)},t}($);new(function(){return function(){this._streamConnector=new z,this._dataConnector=new X}}())}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvcGlwZS50cyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvT2JzZXJ2YWJsZS50cyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC90b1N1YnNjcmliZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvY2FuUmVwb3J0RXJyb3IudHMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IudHMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL1N1YmplY3RTdWJzY3JpcHRpb24udHMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL1N1YmplY3QudHMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL2NvbmZpZy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nvbm5lY3Rpb24vaW50ZXJmYWNlLnRzIiwid2VicGFjazovLy8uLi9zcmMvaW50ZXJmYWNlLnRzIiwid2VicGFjazovLy8uLi9zcmMvbG9nZ2VyL2ludGVyZmFjZS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21lc3NhZ2UvaW50ZXJmYWNlLnRzIiwid2VicGFjazovLy8uLi9zcmMvY2xvY2svY2xvY2sudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jbG9jay9mb3JrZWQudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jbG9jay9tYXN0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9sb2dnZXIvbG9nZ2VyLnRzIiwid2VicGFjazovLy8uLi9zcmMvbWVzc2FnZS9hZGRyZXNzLnRzIiwid2VicGFjazovLy8uLi9zcmMvdXRpbC9kZWZhdWx0LW1hcC50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21lc3NhZ2UvbWVzc2FnZS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3V0aWwvc3RyaW5nLWZ1bmN0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21lc3NhZ2UvYXBwLWNvbnRlbnQudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL2ludGVyZmFjZS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2NvbmZpZ3VyYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tZXRlcmluZy9zbGlkaW5nLXdpbmRvdy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21lc3NhZ2UvY29ubmVjdGlvbi1uZWdvdGlhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21ldGVyaW5nL2Nvbm5lY3Rpb24tbWV0ZXIvaW50ZXJmYWNlLnRzIiwid2VicGFjazovLy8uLi9zcmMvbWVzc2FnZS9wZWVyLXVwZGF0ZS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21ldGVyaW5nL2Nvbm5lY3Rpb24tbWV0ZXIvY29ubmVjdGlvbi1tZXRlci50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21ldGVyaW5nL2Nvbm5lY3Rpb24tbWV0ZXIvdmlhLWNvbm5lY3Rpb24tbWV0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb25uZWN0aW9uL2Nvbm5lY3Rpb24udHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb25uZWN0aW9uL3ZpYS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21lc3NhZ2UvcGluZy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21lc3NhZ2UvcG9uZy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21ldGVyaW5nL2Nvbm5lY3Rpb24tbWV0ZXIvbGF0ZW5jeS1zdG9wd2F0Y2gudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tZXRlcmluZy9jb25uZWN0aW9uLW1ldGVyL3RyYW5zbWlzc2lvbi1jb25uZWN0aW9uLW1ldGVyLnRzIiwid2VicGFjazovLy8uLi9zcmMvY29ubmVjdGlvbi93ZWJydGMudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb25uZWN0aW9uL3dlYnJ0Yy1kYXRhLnRzIiwid2VicGFjazovLy8uLi9zcmMvbWV0ZXJpbmcvY29ubmVjdGlvbi1tZXRlci9zdHJlYW0tY29ubmVjdGlvbi1tZXRlci50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nvbm5lY3Rpb24vd2VicnRjLXN0cmVhbS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21ldGVyaW5nL2Nvbm5lY3Rpb24tbWV0ZXIvbm9vcC1jb25uZWN0aW9uLW1ldGVyLnRzIiwid2VicGFjazovLy8uLi9zcmMvY29ubmVjdGlvbi93ZWJzb2NrZXQudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb25uZWN0aW9uL3Byb3RvY29sLW1hcC50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JvbGUvcm9sZS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21lc3NhZ2UvaW50cm9kdWN0aW9uLnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS90YXNrL3NlbmQtaW50cm9kdWN0aW9uLnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS90YXNrL2Nsb3NlLWR1cGxpY2F0ZS1jb25uZWN0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JvbGUvdGFzay9kZWdyYWRlLXRvLW5ld2JpZS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JvbGUvdGFzay9lbnN1cmUtcm91dGVyLWNvbm5lY3Rpb24udHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tZXNzYWdlL2NoYW5uZWwtYW5ub3VuY2VtZW50LnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS90YXNrL3B1Ymxpc2gtY2hhbm5lbC1hbm5vdW5jZW1lbnQudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tZXNzYWdlL3BlZXItYWxpdmUudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL3Rhc2svcHVibGlzaC1wZWVyLWFsaXZlLnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS90YXNrL3B1Ymxpc2gtcGVlci11cGRhdGUudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL3Rhc2svcmVtb3ZlLWV4cGlyZWQtY29ubmVjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL3Rhc2svcmVtb3ZlLXNpZ25hbC50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JvbGUvdGFzay9sb29zZS1kaXJlY3QtY29ubmVjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL3Rhc2svcmVtb3ZlLXN1cGVyZmx1b3VzLWNvbm5lY3Rpb25zLnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS90YXNrL3JlcXVlc3Qtc3RyZWFtLWNvbm5lY3Rpb24udHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL3Rhc2svYWNxdWlyZS1kaXJlY3QtY29ubmVjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL3Rhc2svc2F0aXNmeS1jb25uZWN0aW9uLWdvYWwudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL3Rhc2svdHJ5LW90aGVyLXBlZXJzLnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS90YXNrL2RlZ3JhZGUtdG8tcGVlci50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JvbGUvdGFzay9wdWJsaXNoLXNpZ25hbC1hbmQtcm91dGVyLXVwZGF0ZS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21lc3NhZ2Uvcm91dGVyLWFsaXZlLnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS90YXNrL3NlbmQtcm91dGVyLWFsaXZlLnRzIiwid2VicGFjazovLy8uLi9zcmMvbWVzc2FnZS9yb2xlLXVwZGF0ZS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JvbGUvdGFzay9vbmJvYXJkLW5ld2JpZS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JvbGUvcm9sZS1tYXAudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL3BlZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL3Rhc2svc2VuZC1hbHRlcm5hdGl2ZXMudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL25ld2JpZS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JvbGUvcm91dGVyLnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS9zaWduYWwudHMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvU3Vic2NyaWJlci50cyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC90cnlDYXRjaC50cyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yLnRzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9TdWJzY3JpcHRpb24udHMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvaXNPYmplY3QudHMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9maWx0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zeW1ib2wvcnhTdWJzY3JpYmVyLnRzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2hvc3RSZXBvcnRFcnJvci50cyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvaW5oZXJpdHMvaW5oZXJpdHNfYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX2R1cGxleC5qcyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvT2JzZXJ2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2J1ZmZlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvY29yZS11dGlsLWlzL2xpYi91dGlsLmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24udHMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3NhZmUtYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9wcm9jZXNzLW5leHRpY2stYXJncy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvc2ltcGxlLXBlZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV9yZWFkYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL3N0cmVhbS1icm93c2VyLmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvZGVzdHJveS5qcyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX3dyaXRhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ub2RlLWxpYnMtYnJvd3Nlci9ub2RlX21vZHVsZXMvc3RyaW5nX2RlY29kZXIvbGliL3N0cmluZ19kZWNvZGVyLmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fdHJhbnNmb3JtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYXNlNjQtanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2llZWU3NTQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2J1ZmZlci9ub2RlX21vZHVsZXMvaXNhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9jb21tb24uanMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL21zL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9nZXQtYnJvd3Nlci1ydGMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3JhbmRvbWJ5dGVzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9yZWFkYWJsZS1icm93c2VyLmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9pc2FycmF5L2luZGV4LmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvQnVmZmVyTGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2V0aW1tZWRpYXRlL3NldEltbWVkaWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvdXRpbC1kZXByZWNhdGUvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2FmZS1idWZmZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV9wYXNzdGhyb3VnaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9FbXB0eUVycm9yLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvaXNGdW5jdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvY29uZmlnLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2hvc3RSZXBvcnRFcnJvci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvT2JzZXJ2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvdHJ5Q2F0Y2gudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvU3Vic2NyaXB0aW9uLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2lzT2JqZWN0LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zeW1ib2wvcnhTdWJzY3JpYmVyLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9TdWJzY3JpYmVyLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZmlsdGVyLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL3BpcGUudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL09ic2VydmFibGUudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvdG9TdWJzY3JpYmVyLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2NhblJlcG9ydEVycm9yLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL2VtcHR5LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvdGFrZS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2RlZmF1bHRJZkVtcHR5LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvdGFwLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvdGhyb3dJZkVtcHR5LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2lkZW50aXR5LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZmlyc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Nvbm5lY3Rvci9hYnN0cmFjdC1jb25uZWN0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Nvbm5lY3Rvci9zdHJlYW0tY29ubmVjdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9jb25uZWN0b3IvZGF0YS1jb25uZWN0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicGlwZUZyb21BcnJheSIsImZucyIsImxlbmd0aCIsImlucHV0IiwicmVkdWNlIiwicHJldiIsImZuIiwibm9vcCIsIk9ic2VydmFibGVfT2JzZXJ2YWJsZSIsIk9ic2VydmFibGUiLCJzdWJzY3JpYmUiLCJ0aGlzIiwiX2lzU2NhbGFyIiwiX3N1YnNjcmliZSIsImxpZnQiLCJvcGVyYXRvciIsIm9ic2VydmFibGUiLCJzb3VyY2UiLCJvYnNlcnZlck9yTmV4dCIsImVycm9yIiwiY29tcGxldGUiLCJzaW5rIiwibmV4dE9yT2JzZXJ2ZXIiLCJTdWJzY3JpYmVyIiwicnhTdWJzY3JpYmVyIiwiT2JzZXJ2ZXIiLCJ0b1N1YnNjcmliZXIiLCJhZGQiLCJjb25maWciLCJ1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIiwic3luY0Vycm9yVGhyb3dhYmxlIiwiX3RyeVN1YnNjcmliZSIsInN5bmNFcnJvclRocm93biIsInN5bmNFcnJvclZhbHVlIiwiZXJyIiwib2JzZXJ2ZXIiLCJfYSIsImNsb3NlZF8xIiwiY2xvc2VkIiwiZGVzdGluYXRpb24iLCJpc1N0b3BwZWQiLCJjYW5SZXBvcnRFcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiZm9yRWFjaCIsIm5leHQiLCJwcm9taXNlQ3RvciIsIl90aGlzIiwiZ2V0UHJvbWlzZUN0b3IiLCJyZXNvbHZlIiwicmVqZWN0Iiwic3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmUiLCJzdWJzY3JpYmVyIiwib2JzZXJ2YWJsZV9vYnNlcnZhYmxlIiwicGlwZSIsIl9pIiwiYXJndW1lbnRzIiwib3BlcmF0aW9ucyIsInRvUHJvbWlzZSIsIngiLCJQcm9taXNlIiwiRXJyb3IiLCJPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwiLCJtZXNzYWdlIiwiU3ViamVjdFN1YnNjcmlwdGlvbl9TdWJqZWN0U3Vic2NyaXB0aW9uIiwiX3N1cGVyIiwiU3ViamVjdFN1YnNjcmlwdGlvbiIsInN1YmplY3QiLCJ0c2xpYl9lczYiLCJvYnNlcnZlcnMiLCJzdWJzY3JpYmVySW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiU3ViamVjdF9TdWJqZWN0U3Vic2NyaWJlciIsIlN1YmplY3RTdWJzY3JpYmVyIiwiU3ViamVjdF9TdWJqZWN0IiwiU3ViamVjdCIsImhhc0Vycm9yIiwiU3ViamVjdF9Bbm9ueW1vdXNTdWJqZWN0IiwiT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IiLCJsZW4iLCJjb3B5Iiwic2xpY2UiLCJ0aHJvd25FcnJvciIsIlN1YnNjcmlwdGlvbiIsIkVNUFRZIiwicHVzaCIsImFzT2JzZXJ2YWJsZSIsIkFub255bW91c1N1YmplY3QiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzIiwidW5kZWZpbmVkIiwic3RhY2siLCJQcm90b2NvbCIsIkNvbm5lY3Rpb25TdGF0ZSIsIk5lZ290aWF0aW9uU3RhdGUiLCJDaHVyblR5cGUiLCJMb2dMZXZlbCIsIk1lc3NhZ2VTdWJqZWN0IiwiQWJzdHJhY3RDbG9jayIsIltvYmplY3QgT2JqZWN0XSIsIl9tYXhDYW5jZWxJZCIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJfbGFzdENhbmNlbElkIiwiX3RpY2tDb3VudGVyIiwiX2lzUnVubmluZyIsIl9pbnRlcnZhbHMiLCJfdGltZW91dHMiLCJ0aWNrIiwiY2FsbGJhY2siLCJmaWx0ZXIiLCJkb1RpY2siLCJzdGFydENsb2NrIiwicGF1c2VDbG9jayIsInBhdXNlIiwiaW50ZXJ2YWwiLCJNYXRoIiwiZmxvb3IiLCJtYXgiLCJzY2hlZHVsZWRDYWxsYmFjayIsImNhbmNlbElkIiwidGltZW91dCIsInN0YXJ0IiwiZ2V0UHJlY2lzaW9uVGltZXN0YW1wIiwiRm9ya2VkQ2xvY2siLCJtYXN0ZXJDbG9jayIsInN1cGVyIiwiX21hc3RlckNsb2NrIiwiZm9ya2VkIiwic3BlZWQiLCJfY2FuY2VsSWQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJNYXN0ZXJDbG9jayIsIl9zcGVlZCIsImlzUnVubmluZyIsIl9tYXN0ZXJDYW5jZWxJZCIsInBlcmZvcm1hbmNlIiwibm93IiwiRGF0ZSIsImdldFRpY2siLCJMb2dnZXIiLCJpZCIsIl9sb2dMZXZlbCIsIl9pZCIsIl9sb2dTdWJqZWN0Iiwicnhqc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX2xvZ2dlck1hcCIsImhhcyIsInNldCIsImxldmVsIiwidmVyYm9zZSIsIl92ZXJib3NlIiwibG9nRm4iLCJwcmVmaXgiLCJhcmdzIiwiY3VycmVudFRpY2siLCJ0aW1lc3RhbXAiLCJfY2xvY2siLCJnZXRMZXZlbCIsInRhZyIsImRhdGEiLCJtYXAiLCJTdHJpbmciLCJjbG9jayIsImRvTG9nIiwiTE9HIiwibG9nIiwiREVCVUciLCJJTkZPIiwiaW5mbyIsIldBUk4iLCJFUlJPUiIsIkZBVEFMIiwiTWFwIiwiQWRkcmVzcyIsInByb3RvY29sIiwibG9jYXRpb24iLCJ2ZXJzaW9uIiwiX3Byb3RvY29sIiwiX2xvY2F0aW9uIiwiX3ZlcnNpb24iLCJhZGRyZXNzU3RyaW5nIiwic2VnbWVudHMiLCJzcGxpdCIsImpvaW4iLCJwcm90b2NvbHMiLCJnZXRWZXJzaW9uIiwiZ2V0SWQiLCJnZXRQcm90b2NvbCIsImdldExvY2F0aW9uIiwiRGVmYXVsdE1hcCIsImZhY3RvcnkiLCJfZmFjdG9yeSIsIl9kZWZhdWx0IiwiTWVzc2FnZVR0bHMiLCJQRUVSX1VQREFURSIsIlBFRVJfU1VHR0VTVElPTiIsIkFQUF9DT05URU5UIiwiQ09OTkVDVElPTl9ORUdPVElBVElPTiIsIlJPVVRFUl9BTElWRSIsIlBFRVJfQUxJVkUiLCJNZXNzYWdlIiwic2VuZGVyIiwicmVjZWl2ZXIiLCJib2R5IiwidHRsIiwiX3NlbmRlciIsIl9yZWNlaXZlciIsIl9zdWJqZWN0IiwiX2JvZHkiLCJyb3VuZCIsInJhbmRvbSIsIl90dGwiLCJpc0ludGVnZXIiLCJtZXNzYWdlU3RyaW5nIiwibWVzc2FnZUpTT04iLCJKU09OIiwicGFyc2UiLCJmcm9tU3RyaW5nIiwidG9TdHJpbmciLCJwcm9jZXNzIiwiYnJvd3NlciIsIkJsb2IiLCJzaXplIiwiQnVmZmVyIiwiYnl0ZUxlbmd0aCIsIl9pbmJvdW5kQWRkcmVzcyIsImFkZHJlc3MiLCJzdHJpbmdpZnkiLCJnZXRSZWNlaXZlciIsImdldFNlbmRlciIsImdldFN1YmplY3QiLCJnZXRUdGwiLCJnZXRCb2R5IiwiQXBwQ29udGVudCIsIlJvbGVUeXBlIiwiVGFza1BoYXNlIiwiUm9sZVByaW9yaXR5TWFwIiwiTkVXQklFIiwiUEVFUiIsIlJPVVRFUiIsIlNJR05BTCIsIkNvbmZpZ3VyYXRpb24iLCJCUk9BRENBU1RfQUREUkVTUyIsIkRFRkFVTFRfU0lHTkFMX0FERFJFU1MiLCJESVJFQ1RfQ09OTkVDVElPTlNfR09BTF9NSU4iLCJESVJFQ1RfQ09OTkVDVElPTlNfR09BTF9NQVgiLCJESVJFQ1RfQ09OTkVDVElPTlNfTUFYIiwiVFJZX09USEVSX1BFRVJTX0NPVU5UIiwiRElSRUNUX0NPTk5FQ1RJT05fQk9PU1RfQU1PVU5UIiwiRElSRUNUX0NPTk5FQ1RJT05fQk9PU1RfVElNRU9VVCIsIlNMSURJTkdfV0lORE9XX1NJWkUiLCJUUkFOU01JU1NJT05fUElOR19JTlRFUlZBTCIsIk1BWF9ST1VURVJTX1BFUl9TSUdOQUwiLCJMQVNUX1NFRU5fVElNRU9VVCIsIkxBVEVOQ1lfV0lORE9XX1NJWkUiLCJERUZBVUxUX1FVQUxJVFkiLCJERUZBVUxUX1JPVVRFUl9SQU5LIiwiQ09OTkVDVElPTl9NRVRFUl9PUEVOX0dSQUNFX1BFUklPRF9USU1FIiwiQ09OTkVDVElPTl9NRVRFUl9QUk9URUNUSU9OX1RJTUUiLCJDT05ORUNUSU9OX01FVEVSX1BVTklTSE1FTlRfVElNRSIsIk9VVEJPVU5EX1NUUkVBTV9DT05ORUNUSU9OUyIsIlJPVVRFUl9BTElWRV9ISUdIU0NPUkVfV0lORE9XX1NJWkUiLCJDb25maWd1cmF0aW9uTWFwIiwiU2xpZGluZ1dpbmRvdyIsIlNldCIsIl9zZXF1ZW5jZSIsIml0ZXJhYmxlIiwidmFsdWVzIiwiZG9uZSIsInNlcXVlbmNlIiwiaXNTZXF1ZW5jZU91dE9mV2luZG93IiwiZGVsZXRlIiwiZ2V0RGVmYXVsdCIsInNldFNlcXVlbmNlIiwibmV4dFNlcXVlbmNlIiwicmVtb3ZlT3V0RGF0ZWQiLCJDb25uZWN0aW9uTmVnb3RpYXRpb25UeXBlIiwiSUNvbm5lY3Rpb25FdmVudFR5cGUiLCJQZWVyVXBkYXRlIiwicmVtb3RlUGVlcnMiLCJhbGxSZW1vdGVQZWVycyIsInBlZXIiLCJwZWVySWQiLCJyb2xlcyIsImdldFJvbGVzIiwicXVhbGl0eSIsImdldE1ldGVyIiwiZ2V0UGVlclVwZGF0ZVF1YWxpdHkiLCJDb25uZWN0aW9uTWV0ZXIiLCJjb25uZWN0aW9uIiwiX3B1bmlzaGVkIiwiX3Byb3RlY3RlZCIsIl9sYXN0U2VlblRpY2siLCJfY29ubmVjdGlvbiIsImZvcmsiLCJsaXN0ZW5Pbk1lc3NhZ2VzIiwib2JzZXJ2ZU1lc3NhZ2VSZWNlaXZlZCIsIm9uTWVzc2FnZSIsImlzUHVuaXNoZWQiLCJ3YXNQdW5pc2hlZCIsInR5cGUiLCJQVU5JU0hFRCIsIlVOUFVOSVNIRUQiLCJpc1Byb3RlY3RlZCIsIndhc1Byb3RlY3RlZCIsIlBST1RFQ1RFRCIsIlVOUFJPVEVDVEVEIiwiZ2V0TG9nZ2VyIiwiZ2V0QWRkcmVzcyIsInNldFByb3RlY3RlZCIsInJld2luZCIsInNldFRpbWVvdXQiLCJzZXRQdW5pc2hlZCIsInByZW1hdHVyZUNsb3NlIiwibGFzdFNlZW4iLCJnZXRMYXN0U2VlbiIsInByb3RlY3RlZCIsInB1bmlzaGVkIiwiaXNFeHBpcmVkIiwiaXNMYXN0U2VlbkV4cGlyZWQiLCJ0b0pTT04iLCJWaWFDb25uZWN0aW9uTWV0ZXIiLCJfcXVhbGl0eSIsInVwZGF0ZUxhc3RTZWVuIiwidmlhQWRyZXNzIiwiZGlyZWN0UGVlciIsImZpbHRlckJ5SWQiLCJwb3AiLCJoYXNSb2xlIiwiZ2V0Um91dGVyTGlua1F1YWxpdHkiLCJBYnN0cmFjdENvbm5lY3Rpb24iLCJvcHRpb25zIiwic2V0TG9jYXRpb24iLCJfb3B0aW9ucyIsIl9hZGRyZXNzIiwiX2Nvbm5lY3Rpb25TdGF0ZSIsIkNMT1NFRCIsIl9zdGF0ZUNoYW5nZVN1YmplY3QiLCJfbWVzc2FnZVJlY2VpdmVkU3ViamVjdCIsIl9tZXRlciIsIl9vbk9wZW5SZXNvbHZlciIsIl9vbk9wZW5SZWplY3RvciIsIk9QRU4iLCJfbmVnb3RpYXRpb25TdGF0ZSIsIkVTVEFCTElTSEVEIiwicmVhc29uIiwic3RvcCIsIm9uQ2xvc2UiLCJDTE9TSU5HIiwiY2xvc2VDbGllbnQiLCJPUEVOSU5HIiwiSU5JVElBTElaSU5HIiwib3BlbkNsaWVudCIsInN0YXRlcyIsImdldFN0YXRlIiwiY29ubmVjdGlvblN0YXRlIiwibmVnb3RpYXRpb25TdGF0ZSIsIm1ldGVyIiwiVmlhQ29ubmVjdGlvbiIsInBheWxvYWQiLCJvbk9wZW4iLCJvbkVycm9yIiwiX3BhcmVudFN1YnNjcmlwdGlvbiIsInBhcmVudCIsImlzSW5TdGF0ZSIsIm9ic2VydmVTdGF0ZUNoYW5nZSIsInBhcmVudFN0YXRlQ2hhbmdlZCIsIlBpbmciLCJQSU5HIiwiUG9uZyIsIlBPTkciLCJMYXRlbmN5U3RvcHdhdGNoIiwiX3RpbWVyUGVyU2VxdWVuY2UiLCJBcnJheSIsImZyb20iLCJrZXlzIiwic29ydCIsImEiLCJiIiwiaGlnaGVzdFNlcXVlbmNlIiwiZ2V0SGlnaGVzdFNlcXVlbmNlIiwidGltZUl0IiwiY2xlYW5VcE9sZFNlcXVlbmNlcyIsImV4aXN0aW5nVGltZXIiLCJlbnRyaWVzIiwidmFsIiwiVHJhbnNtaXNzaW9uQ29ubmVjdGlvbk1ldGVyIiwib3JpZ2luYXRvciIsIl9yZWNlaXZlU2xpZGluZ1dpbmRvdyIsIl9lY2hvU2xpZGluZ1dpbmRvdyIsIl9vcmlnaW5hdG9yIiwiX21lc3NhZ2VTdWJqZWN0IiwiX2xhdGVuY3lQZXJTZXF1ZW5jZSIsInBvbmciLCJkZWJ1ZyIsImVtaXRNZXNzYWdlIiwic2xpZGUiLCJnZXRTZXF1ZW5jZU51bWJlciIsInBpbmciLCJzZW5kUG9uZyIsInJxIiwiZ2V0UnEiLCJ0cSIsImdldEVxIiwiY29uZmlndXJhdGlvbiIsIm15TGF0ZW5jeSIsImdldEF2ZXJhZ2VMYXRlbmN5IiwiYWxsTGF0ZW5jaWVzIiwiYWdncmVnYXRlQ29ubmVjdGlvbnMiLCJ0YWJsZSIsImZpbHRlckJ5UHJvdG9jb2wiLCJXRUJSVENfREFUQSIsImZpbHRlckJ5U3RhdGVzIiwiYmVzdExhdGVuY3kiLCJwcmV2aW91cyIsImN1cnJlbnQiLCJ3b3JzdExhdGVuY3kiLCJsYXRlbmN5VmFsdWVzIiwiYXNBcnJheSIsImdldFRxIiwiZ2V0TGF0ZW5jeVF1YWxpdHkiLCJoYW5kbGVQaW5nIiwiaGFuZGxlUG9uZyIsIl9waW5nSW50ZXJ2YWwiLCJzZW5kUGluZyIsIldlYlJUQ0Nvbm5lY3Rpb24iLCJfc2ltcGxlUGVlck9wdGlvbnMiLCJ0cmlja2xlIiwibWl0b3Npc0lkIiwiV0FJVElOR19GT1JfT0ZGRVIiLCJpbml0aWF0b3IiLCJfY2xpZW50Iiwic2ltcGxlX3BlZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsIm9uIiwib2ZmZXIiLCJhc3NpZ24iLCJnZXRBZGRpdGlvbmFsT2ZmZXJQYXlsb2FkIiwiZ2V0TXlBZGRyZXNzIiwiV0FJVElOR19GT1JfQU5TV0VSIiwic2lnbmFsIiwiYW5zd2VyIiwiV0FJVElOR19GT1JfRVNUQUJMSVNIIiwiX3BjIiwicnRjcGMiLCJnZXRSVENQZWVyQ29ubmVjdGlvbiIsImdldFN0YXRzIiwidGhlbiIsInJlcG9ydCIsInN0YXRzQXJyYXkiLCJzdGF0cyIsImRlc3Ryb3kiLCJPRkZFUiIsImNyZWF0ZUFuc3dlciIsIkFOU1dFUiIsImVzdGFibGlzaCIsImNyZWF0ZU9mZmVyIiwiYmluZENsaWVudExpc3RlbmVycyIsInNlbmQiLCJXZWJSVENEYXRhQ29ubmVjdGlvbiIsIm9ic2VydmVNZXNzYWdlcyIsInNlbmRNZXNzYWdlT3ZlclVucmVsaWFibGVDaGFubmVsIiwiX3VucmVsaWFibGVDaGFubmVsIiwicmVhZHlTdGF0ZSIsIm9ubWVzc2FnZSIsImV2ZW50Iiwic3VwZXJPbkRhdGFDaGFubmVsIiwib25kYXRhY2hhbm5lbCIsImNoYW5uZWwiLCJsYWJlbCIsIl9zdGF0c0RhdGFDaGFubmVsTGFiZWwiLCJsaXN0ZW5PblVucmVsaWFibGVDaGFubmVsIiwiY3JlYXRlRGF0YUNoYW5uZWwiLCJvcmRlcmVkIiwibWF4UmV0cmFuc21pdHMiLCJTdHJlYW1Db25uZWN0aW9uTWV0ZXIiLCJXZWJSVENTdHJlYW1Db25uZWN0aW9uIiwiX3N0cmVhbVN1YmplY3QiLCJzZXRTdHJlYW0iLCJzdHJlYW0iLCJfc3RyZWFtIiwib25hY3RpdmUiLCJBRERFRCIsImNoYW5uZWxJZCIsIl9jaGFubmVsSWQiLCJvbmluYWN0aXZlIiwiUkVNT1ZFRCIsImdldENoYW5uZWxJZCIsInJlbW92ZVN0cmVhbSIsInRyYWNrIiwiYmluZFN0cmVhbUxpc3RlbmVycyIsImdldFRyYWNrcyIsIk5vb3BDb25uZWN0aW9uTWV0ZXIiLCJXZWJTb2NrZXRDb25uZWN0aW9uIiwiY2xvc2UiLCJXZWJTb2NrZXQiLCJvbm9wZW4iLCJvblNvY2tldE9wZW4iLCJvbmNsb3NlIiwib25Tb2NrZXRDbG9zZSIsIm9uU29ja2V0TWVzc2FnZSIsIm9uZXJyb3IiLCJvblNvY2tldEVycm9yIiwiUHJvdG9jb2xDb25uZWN0aW9uTWFwIiwiV0VCU09DS0VUIiwiV0VCU09DS0VUX1VOU0VDVVJFIiwiV0VCUlRDX1NUUkVBTSIsIlZJQSIsIlZJQV9NVUxUSSIsIkFic3RyYWN0Um9sZSIsIl9pbml0aWFsaXplZCIsIm1pdG9zaXMiLCJyZW1vdGVQZWVyIiwiSW50cm9kdWN0aW9uIiwiSU5UUk9EVUNUSU9OIiwic2VuZEludHJvZHVjdGlvbiIsImludHJvZHVjdGlvbiIsImdldFNpZ25hbEFkZHJlc3MiLCJnZXRQZWVyTWFuYWdlciIsImNvbm5lY3RUbyIsInNldFJvbGVzIiwic2VuZE1lc3NhZ2UiLCJjYXRjaCIsImNsb3NlRHVwbGljYXRlQ29ubmVjdGlvbnMiLCJnZXRQZWVyVGFibGUiLCJkaXJlY3QiLCJnZXRDb25uZWN0aW9uVGFibGUiLCJmaWx0ZXJEaXJlY3QiLCJpc1Byb3RvY29sIiwic29ydEJ5IiwiZGVncmFkZVRvTmV3YmllIiwicm9sZU1hbmFnZXIiLCJnZXRSb2xlTWFuYWdlciIsImZpbHRlckJ5Um9sZSIsImNvdW50Q29ubmVjdGlvbnMiLCJyb2xlVHlwZSIsInJlbW92ZVJvbGUiLCJhZGRSb2xlIiwiZ2V0Um91dGVyQWxpdmVIaWdoU2NvcmUiLCJyZXNldCIsImVuc3VyZVJvdXRlckNvbm5lY3Rpb24iLCJDaGFubmVsQW5ub3VuY2VtZW50IiwiQ0hBTk5FTF9BTk5PVU5DRU1FTlQiLCJwdWJsaXNoQ2hhbm5lbEFubm91bmNlbWVudCIsImFubm91bmNlbWVudHMiLCJnZXRTdHJlYW1NYW5hZ2VyIiwiZ2V0Q2hhbm5lbFRhYmxlIiwiZ2V0UHJvdmlkZXJUYWJsZSIsInByb3ZpZGVyIiwiaXNTb3VyY2UiLCJpc0xpdmUiLCJpc0FjdGl2ZSIsImFubm91bmNlbWVudCIsImFzQW5ub3VuY2VtZW50IiwibXlJZCIsImlBbVByb3ZpZGVyIiwicHJvdmlkZXJzIiwiZmluZCIsImNhcGFjaXR5IiwiZ2V0TXlDYXBhY2l0eSIsImZpbHRlckNvbm5lY3Rpb25zIiwiY2hhbm5lbEFubm91bmNlbWVudCIsIlBlZXJBbGl2ZSIsInB1Ymxpc2hQZWVyQWxpdmUiLCJwZWVyVGFibGUiLCJleGNsdWRlIiwiY29ubmVjdGlvblRhYmxlIiwicm91dGVyIiwicHVibGlzaFBlZXJVcGRhdGUiLCJmaWx0ZXJEaXJlY3REYXRhIiwic2VuZFBlZXJVcGRhdGUiLCJyZW1vdmVFeHBpcmVkQ29ubmVjdGlvbnMiLCJmaWx0ZXJCeU1ldGVyIiwicmVtb3ZlU2lnbmFsIiwic2lnbmFscyIsInJvdXRlckNvbm5lY3Rpb25zIiwiZXhjbHVkZVRhYmxlIiwiZmlsdGVyQnlMb2NhdGlvbiIsImRpcmVjdENvbm5lY3Rpb25zIiwibG9vc2VEaXJlY3RDb25uZWN0aW9ucyIsImNvdW50IiwiZ2V0Q29uZmlndXJhdGlvbiIsIm1heEdvYWwiLCJtaW5Hb2FsIiwiZGlyZWN0UGVlcnMiLCJjbG9zYWJsZVBlZXJzIiwiZ2V0Um9sZXNSZXF1aXJpbmdQZWVyIiwiZmlsdGVySXNQcm90ZWN0ZWQiLCJiZXN0Um91dGVyTGluayIsImNsb3NhYmxlQ29ubmVjdGlvbnMiLCJnZXRRdWFsaXR5Iiwib3Zlck1pbkdvYWwiLCJvdmVyTWF4R29hbCIsInNhZmVDbG9zYWJsZUNvbm5lY3Rpb25Db3VudCIsIm1pbiIsInJlbW92ZVN1cGVyZmx1b3VzQ29ubmVjdGlvbnMiLCJkaXJlY3RDb25uZWN0aW9uQ291bnQiLCJyZXF1ZXN0U3RyZWFtQ29ubmVjdGlvbiIsImdldENhcGFjaXR5IiwiZ2V0UGVlcklkIiwiY29uY2F0IiwiaW50ZXJlc3QiLCJyZXF1ZXN0IiwiUkVRVUVTVCIsImFjcXVpcmVEaXJlY3RDb25uZWN0aW9ucyIsInZpYVBlZXJzIiwiZ2V0QXZlcmFnZUNvbm5lY3Rpb25QdW5pc2htZW50IiwiZ2V0QWNxdWlzaXRpb25RdWFsaXR5IiwicmV2ZXJzZSIsInNhdGlzZnlDb25uZWN0aW9uR29hbCIsImJvb3N0IiwiZ2V0QWNxdWlzaXRpb25Cb29zdCIsImFjcXVpc2l0aW9uR29hbCIsInByb21pc2VzIiwiYWxsIiwidHJ5T3RoZXJQZWVycyIsIm9wZW5pbmdDb25uZWN0aW9uQ291bnQiLCJwcm9taXNlIiwiZGVncmFkZVRvUGVlciIsIm5vU2lnbmFsIiwicHVibGlzaFNpZ25hbEFuZFJvdXRlclVwZGF0ZSIsInNpZ25hbHNBbmRSb3V0ZXJzIiwiUm91dGVyQWxpdmUiLCJzZW5kUm91dGVyQWxpdmUiLCJnZXRSb2xlIiwic2VxdWVuY2VOdW1iZXIiLCJuZXh0U2VxdWVuY2VOdW1iZXIiLCJSb2xlVXBkYXRlIiwiUk9MRV9VUERBVEUiLCJwcm9tb3RlVG9Sb2xlcyIsImdldFBlZXJCeUlkIiwicm9sZVVwZGF0ZSIsIm9uYm9hcmROZXdiaWUiLCJyb3V0ZXJzIiwic2VuZGVySXNSb3V0ZXIiLCJ0YWJsZVVwZGF0ZSIsInNlbmRFeGlzdGluZ1JvdXRlcnMiLCJSb2xlVHlwZU1hcCIsInBoYXNlIiwiQ0xFQU4iLCJ0YXNrIiwiQUNRVUlSRSIsIlBVQkxJU0giLCJhY3RpdmF0ZUFjcXVpc2l0aW9uQm9vc3QiLCJwZWVyTWFuYWdlciIsImdldE15SWQiLCJzZW5kUGVlclN1Z2dlc3Rpb24iLCJzZW5kQWx0ZXJuYXRpdmVzIiwiX3NlcXVlbmNlTnVtYmVyIiwiX19leHRlbmRzIiwiZXh0ZW5kU3RhdGljcyIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX18iLCJjb25zdHJ1Y3RvciIsImRlc3RpbmF0aW9uT3JOZXh0IiwiX09ic2VydmVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJTYWZlU3Vic2NyaWJlciIsInRzbGliX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfaW50ZXJuYWxfc3ltYm9sX3J4U3Vic2NyaWJlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fIiwiX25leHQiLCJfZXJyb3IiLCJfY29tcGxldGUiLCJfdW5zdWJzY3JpYmVBbmRSZWN5Y2xlIiwiX3BhcmVudCIsIl9wYXJlbnRzIiwiX3BhcmVudFN1YnNjcmliZXIiLCJjb250ZXh0IiwiX3V0aWxfaXNGdW5jdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX2NvbnRleHQiLCJfY29uZmlnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18iLCJfX3RyeU9yU2V0RXJyb3IiLCJfX3RyeU9yVW5zdWIiLCJfdXRpbF9ob3N0UmVwb3J0RXJyb3JfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyIsIndyYXBwZWRDb21wbGV0ZSIsIl91bnN1YnNjcmliZSIsInRyeUNhdGNoVGFyZ2V0IiwidHJ5Q2F0Y2hlciIsImFwcGx5IiwiZSIsImVycm9yT2JqZWN0IiwidHJ5Q2F0Y2giLCJVbnN1YnNjcmlwdGlvbkVycm9ySW1wbCIsImVycm9ycyIsIlN1YnNjcmlwdGlvbl9TdWJzY3JpcHRpb24iLCJfc3Vic2NyaXB0aW9ucyIsImVtcHR5IiwiaGFzRXJyb3JzIiwiaW5kZXgiLCJyZW1vdmUiLCJpc0Z1bmN0aW9uIiwiVW5zdWJzY3JpcHRpb25FcnJvciIsImZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyIsImlzQXJyYXkiLCJzdWIiLCJ0ZWFyZG93biIsIl9hZGRQYXJlbnQiLCJ0bXAiLCJzdWJzY3JpcHRpb25zIiwic3Vic2NyaXB0aW9uSW5kZXgiLCJlcnJzIiwicHJlZGljYXRlIiwidGhpc0FyZyIsIkZpbHRlck9wZXJhdG9yIiwiRmlsdGVyU3Vic2NyaWJlciIsInJlc3VsdCIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluUXVldWUiLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwiYXJyYXkiLCJuZXh0VGljayIsInRpdGxlIiwiZW52IiwiYXJndiIsInZlcnNpb25zIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiZyIsIkZ1bmN0aW9uIiwid2luZG93IiwiaG9zdFJlcG9ydEVycm9yIiwiY3RvciIsInN1cGVyQ3RvciIsInN1cGVyXyIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwiVGVtcEN0b3IiLCJwbmEiLCJvYmplY3RLZXlzIiwib2JqIiwiRHVwbGV4IiwidXRpbCIsImluaGVyaXRzIiwiUmVhZGFibGUiLCJXcml0YWJsZSIsInYiLCJtZXRob2QiLCJyZWFkYWJsZSIsImFsbG93SGFsZk9wZW4iLCJvbmVuZCIsIl93cml0YWJsZVN0YXRlIiwiZW5kZWQiLCJvbkVuZE5UIiwic2VsZiIsImVuZCIsImhpZ2hXYXRlck1hcmsiLCJfcmVhZGFibGVTdGF0ZSIsImRlc3Ryb3llZCIsIl9kZXN0cm95IiwiY2IiLCJfY29uZmlnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfdXRpbF9ob3N0UmVwb3J0RXJyb3JfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsImdsb2JhbCIsImJhc2U2NCIsImllZWU3NTQiLCJrTWF4TGVuZ3RoIiwiVFlQRURfQVJSQVlfU1VQUE9SVCIsImNyZWF0ZUJ1ZmZlciIsInRoYXQiLCJSYW5nZUVycm9yIiwiVWludDhBcnJheSIsImFyZyIsImVuY29kaW5nT3JPZmZzZXQiLCJhbGxvY1Vuc2FmZSIsIlR5cGVFcnJvciIsIkFycmF5QnVmZmVyIiwiYnl0ZU9mZnNldCIsImZyb21BcnJheUxpa2UiLCJmcm9tQXJyYXlCdWZmZXIiLCJzdHJpbmciLCJlbmNvZGluZyIsImlzRW5jb2RpbmciLCJhY3R1YWwiLCJ3cml0ZSIsImlzQnVmZmVyIiwiY2hlY2tlZCIsImJ1ZmZlciIsImZyb21PYmplY3QiLCJhc3NlcnRTaXplIiwiaXNWaWV3IiwibG93ZXJlZENhc2UiLCJ1dGY4VG9CeXRlcyIsImJhc2U2NFRvQnl0ZXMiLCJ0b0xvd2VyQ2FzZSIsInN3YXAiLCJiaWRpcmVjdGlvbmFsSW5kZXhPZiIsImlzTmFOIiwiYXJyYXlJbmRleE9mIiwibGFzdEluZGV4T2YiLCJhcnIiLCJpbmRleFNpemUiLCJhcnJMZW5ndGgiLCJ2YWxMZW5ndGgiLCJyZWFkIiwiYnVmIiwicmVhZFVJbnQxNkJFIiwiZm91bmRJbmRleCIsImZvdW5kIiwiaiIsImhleFdyaXRlIiwib2Zmc2V0IiwicmVtYWluaW5nIiwic3RyTGVuIiwicGFyc2VkIiwicGFyc2VJbnQiLCJzdWJzdHIiLCJ1dGY4V3JpdGUiLCJibGl0QnVmZmVyIiwiYXNjaWlXcml0ZSIsInN0ciIsImJ5dGVBcnJheSIsImNoYXJDb2RlQXQiLCJhc2NpaVRvQnl0ZXMiLCJsYXRpbjFXcml0ZSIsImJhc2U2NFdyaXRlIiwidWNzMldyaXRlIiwidW5pdHMiLCJoaSIsImxvIiwidXRmMTZsZVRvQnl0ZXMiLCJiYXNlNjRTbGljZSIsImZyb21CeXRlQXJyYXkiLCJ1dGY4U2xpY2UiLCJyZXMiLCJzZWNvbmRCeXRlIiwidGhpcmRCeXRlIiwiZm91cnRoQnl0ZSIsInRlbXBDb2RlUG9pbnQiLCJmaXJzdEJ5dGUiLCJjb2RlUG9pbnQiLCJieXRlc1BlclNlcXVlbmNlIiwiY29kZVBvaW50cyIsIk1BWF9BUkdVTUVOVFNfTEVOR1RIIiwiZnJvbUNoYXJDb2RlIiwiZGVjb2RlQ29kZVBvaW50c0FycmF5IiwiU2xvd0J1ZmZlciIsImFsbG9jIiwiSU5TUEVDVF9NQVhfQllURVMiLCJmb28iLCJzdWJhcnJheSIsInR5cGVkQXJyYXlTdXBwb3J0IiwicG9vbFNpemUiLCJfYXVnbWVudCIsInNwZWNpZXMiLCJmaWxsIiwiYWxsb2NVbnNhZmVTbG93IiwiX2lzQnVmZmVyIiwiY29tcGFyZSIsInkiLCJsaXN0IiwicG9zIiwic3dhcDE2Iiwic3dhcDMyIiwic3dhcDY0IiwiaGV4U2xpY2UiLCJhc2NpaVNsaWNlIiwibGF0aW4xU2xpY2UiLCJ1dGYxNmxlU2xpY2UiLCJlcXVhbHMiLCJpbnNwZWN0IiwibWF0Y2giLCJ0YXJnZXQiLCJ0aGlzU3RhcnQiLCJ0aGlzRW5kIiwidGhpc0NvcHkiLCJ0YXJnZXRDb3B5IiwiaW5jbHVkZXMiLCJpc0Zpbml0ZSIsIl9hcnIiLCJyZXQiLCJvdXQiLCJ0b0hleCIsImJ5dGVzIiwiY2hlY2tPZmZzZXQiLCJleHQiLCJjaGVja0ludCIsIm9iamVjdFdyaXRlVUludDE2IiwibGl0dGxlRW5kaWFuIiwib2JqZWN0V3JpdGVVSW50MzIiLCJjaGVja0lFRUU3NTQiLCJ3cml0ZUZsb2F0Iiwibm9Bc3NlcnQiLCJ3cml0ZURvdWJsZSIsIm5ld0J1ZiIsInNsaWNlTGVuIiwicmVhZFVJbnRMRSIsIm11bCIsInJlYWRVSW50QkUiLCJyZWFkVUludDgiLCJyZWFkVUludDE2TEUiLCJyZWFkVUludDMyTEUiLCJyZWFkVUludDMyQkUiLCJyZWFkSW50TEUiLCJwb3ciLCJyZWFkSW50QkUiLCJyZWFkSW50OCIsInJlYWRJbnQxNkxFIiwicmVhZEludDE2QkUiLCJyZWFkSW50MzJMRSIsInJlYWRJbnQzMkJFIiwicmVhZEZsb2F0TEUiLCJyZWFkRmxvYXRCRSIsInJlYWREb3VibGVMRSIsInJlYWREb3VibGVCRSIsIndyaXRlVUludExFIiwid3JpdGVVSW50QkUiLCJ3cml0ZVVJbnQ4Iiwid3JpdGVVSW50MTZMRSIsIndyaXRlVUludDE2QkUiLCJ3cml0ZVVJbnQzMkxFIiwid3JpdGVVSW50MzJCRSIsIndyaXRlSW50TEUiLCJsaW1pdCIsIndyaXRlSW50QkUiLCJ3cml0ZUludDgiLCJ3cml0ZUludDE2TEUiLCJ3cml0ZUludDE2QkUiLCJ3cml0ZUludDMyTEUiLCJ3cml0ZUludDMyQkUiLCJ3cml0ZUZsb2F0TEUiLCJ3cml0ZUZsb2F0QkUiLCJ3cml0ZURvdWJsZUxFIiwid3JpdGVEb3VibGVCRSIsInRhcmdldFN0YXJ0IiwiY29kZSIsIklOVkFMSURfQkFTRTY0X1JFIiwiSW5maW5pdHkiLCJsZWFkU3Vycm9nYXRlIiwidG9CeXRlQXJyYXkiLCJ0cmltIiwicmVwbGFjZSIsInN0cmluZ3RyaW0iLCJiYXNlNjRjbGVhbiIsInNyYyIsImRzdCIsIm9iamVjdFRvU3RyaW5nIiwiaXNCb29sZWFuIiwiaXNOdWxsIiwiaXNOdWxsT3JVbmRlZmluZWQiLCJpc051bWJlciIsImlzU3RyaW5nIiwiaXNTeW1ib2wiLCJpc1VuZGVmaW5lZCIsImlzUmVnRXhwIiwicmUiLCJpc09iamVjdCIsImlzRGF0ZSIsImlzRXJyb3IiLCJpc1ByaW1pdGl2ZSIsImNvcHlQcm9wcyIsIlNhZmVCdWZmZXIiLCJhcmcxIiwiYXJnMiIsImFyZzMiLCJQZWVyIiwiZ2V0QnJvd3NlclJUQyIsInJhbmRvbWJ5dGVzIiwiSUNFQ09NUExFVEVfVElNRU9VVCIsIm9wdHMiLCJSVENQZWVyQ29ubmVjdGlvbiIsInBjIiwiX2RlYnVnIiwiY2hhbm5lbE5hbWUiLCJfaXNDaHJvbWl1bSIsIndlYmtpdFJUQ1BlZXJDb25uZWN0aW9uIiwiY2hhbm5lbENvbmZpZyIsImNvbnN0cmFpbnRzIiwiX3RyYW5zZm9ybUNvbnN0cmFpbnRzIiwib2ZmZXJDb25zdHJhaW50cyIsImFuc3dlckNvbnN0cmFpbnRzIiwic2RwVHJhbnNmb3JtIiwic2RwIiwic3RyZWFtcyIsImFsbG93SGFsZlRyaWNrbGUiLCJpY2VDb21wbGV0ZVRpbWVvdXQiLCJjb25uZWN0ZWQiLCJyZW1vdGVBZGRyZXNzIiwicmVtb3RlRmFtaWx5IiwicmVtb3RlUG9ydCIsImxvY2FsQWRkcmVzcyIsImxvY2FsUG9ydCIsIl93cnRjIiwid3J0YyIsIm1ha2VFcnJvciIsIl9wY1JlYWR5IiwiX2NoYW5uZWxSZWFkeSIsIl9pY2VDb21wbGV0ZSIsIl9pY2VDb21wbGV0ZVRpbWVyIiwiX2NoYW5uZWwiLCJfcGVuZGluZ0NhbmRpZGF0ZXMiLCJfaXNOZWdvdGlhdGluZyIsIl9iYXRjaGVkTmVnb3RpYXRpb24iLCJfcXVldWVkTmVnb3RpYXRpb24iLCJfc2VuZGVyc0F3YWl0aW5nU3RhYmxlIiwiX3NlbmRlck1hcCIsIldlYWtNYXAiLCJfZmlyc3RTdGFibGUiLCJfY2xvc2luZ0ludGVydmFsIiwiX3JlbW90ZVRyYWNrcyIsIl9yZW1vdGVTdHJlYW1zIiwiX2NodW5rIiwiX2NiIiwiX2ludGVydmFsIiwiZWxlY3Ryb25EYWVtb24iLCJzZXRMb2NhbERlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJzZXRSZW1vdGVEZXNjcmlwdGlvbiIsIl9pc1JlYWN0TmF0aXZlV2VicnRjIiwiX3BlZXJDb25uZWN0aW9uSWQiLCJvbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSIsIl9vbkljZVN0YXRlQ2hhbmdlIiwib25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZSIsIm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2UiLCJfb25TaWduYWxpbmdTdGF0ZUNoYW5nZSIsIm9uaWNlY2FuZGlkYXRlIiwiX29uSWNlQ2FuZGlkYXRlIiwiX3NldHVwRGF0YSIsImFkZFN0cmVhbSIsIm9udHJhY2siLCJfb25UcmFjayIsIl9uZWVkc05lZ290aWF0aW9uIiwiX29uRmluaXNoQm91bmQiLCJfb25GaW5pc2giLCJmaWx0ZXJUcmlja2xlIiwiV0VCUlRDX1NVUFBPUlQiLCJpY2VTZXJ2ZXJzIiwidXJscyIsImJ1ZmZlcmVkQW1vdW50IiwicG9ydCIsImZhbWlseSIsInJlbmVnb3RpYXRlIiwiY2FuZGlkYXRlIiwicmVtb3RlRGVzY3JpcHRpb24iLCJfYWRkSWNlQ2FuZGlkYXRlIiwiX2NyZWF0ZUFuc3dlciIsImFkZEljZUNhbmRpZGF0ZSIsIlJUQ0ljZUNhbmRpZGF0ZSIsImNodW5rIiwiYWRkVHJhY2siLCJzdWJtYXAiLCJyZXBsYWNlVHJhY2siLCJhc3luYyIsIm9sZFRyYWNrIiwibmV3VHJhY2siLCJyZW1vdmVUcmFjayIsIm5lZ290aWF0ZSIsIl9jcmVhdGVPZmZlciIsImZpbmlzaGVkIiwiYmluYXJ5VHlwZSIsImJ1ZmZlcmVkQW1vdW50TG93VGhyZXNob2xkIiwiX29uQ2hhbm5lbE1lc3NhZ2UiLCJvbmJ1ZmZlcmVkYW1vdW50bG93IiwiX29uQ2hhbm5lbEJ1ZmZlcmVkQW1vdW50TG93IiwiX29uQ2hhbm5lbE9wZW4iLCJfb25DaGFubmVsQ2xvc2UiLCJpc0Nsb3NpbmciLCJfcmVhZCIsIl93cml0ZSIsImRlc3Ryb3lTb29uIiwiX3N0YXJ0SWNlQ29tcGxldGVUaW1lb3V0Iiwic2VuZE9mZmVyIiwibG9jYWxEZXNjcmlwdGlvbiIsInNlbmRBbnN3ZXIiLCJpY2VDb25uZWN0aW9uU3RhdGUiLCJpY2VHYXRoZXJpbmdTdGF0ZSIsIl9tYXliZVJlYWR5IiwicmVwb3J0cyIsIm5hbWVzIiwic3RhdCIsIl9jb25uZWN0aW5nIiwiZmluZENhbmRpZGF0ZVBhaXIiLCJpdGVtcyIsInJlbW90ZUNhbmRpZGF0ZXMiLCJsb2NhbENhbmRpZGF0ZXMiLCJjYW5kaWRhdGVQYWlycyIsImZvdW5kU2VsZWN0ZWRDYW5kaWRhdGVQYWlyIiwiaXRlbSIsInNlbGVjdGVkQ2FuZGlkYXRlUGFpcklkIiwic2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyIiwiZ29vZ0FjdGl2ZUNvbm5lY3Rpb24iLCJzZWxlY3RlZCIsIl9vbkludGVydmFsIiwidW5yZWYiLCJzZWxlY3RlZENhbmRpZGF0ZVBhaXIiLCJsb2NhbCIsImxvY2FsQ2FuZGlkYXRlSWQiLCJpcCIsImlwQWRkcmVzcyIsInBvcnROdW1iZXIiLCJnb29nTG9jYWxBZGRyZXNzIiwicmVtb3RlIiwicmVtb3RlQ2FuZGlkYXRlSWQiLCJnb29nUmVtb3RlQWRkcmVzcyIsInNpZ25hbGluZ1N0YXRlIiwic2RwTUxpbmVJbmRleCIsInNkcE1pZCIsImV2ZW50U3RyZWFtIiwic29tZSIsInJlbW90ZVN0cmVhbSIsInNldENvbnN0cmFpbnRzIiwibWFuZGF0b3J5Iiwib3B0aW9uYWwiLCJuZXdDb25zdHJhaW50cyIsIk9mZmVyVG9SZWNlaXZlVmlkZW8iLCJvZmZlclRvUmVjZWl2ZVZpZGVvIiwiT2ZmZXJUb1JlY2VpdmVBdWRpbyIsIm9mZmVyVG9SZWNlaXZlQXVkaW8iLCJSZWFkYWJsZVN0YXRlIiwiRXZlbnRFbWl0dGVyIiwiRUVsaXN0ZW5lckNvdW50IiwiZW1pdHRlciIsIlN0cmVhbSIsIk91clVpbnQ4QXJyYXkiLCJkZWJ1Z1V0aWwiLCJkZWJ1Z2xvZyIsIlN0cmluZ0RlY29kZXIiLCJCdWZmZXJMaXN0IiwiZGVzdHJveUltcGwiLCJrUHJveHlFdmVudHMiLCJpc0R1cGxleCIsIm9iamVjdE1vZGUiLCJyZWFkYWJsZU9iamVjdE1vZGUiLCJod20iLCJyZWFkYWJsZUh3bSIsInJlYWRhYmxlSGlnaFdhdGVyTWFyayIsImRlZmF1bHRId20iLCJwaXBlcyIsInBpcGVzQ291bnQiLCJmbG93aW5nIiwiZW5kRW1pdHRlZCIsInJlYWRpbmciLCJzeW5jIiwibmVlZFJlYWRhYmxlIiwiZW1pdHRlZFJlYWRhYmxlIiwicmVhZGFibGVMaXN0ZW5pbmciLCJyZXN1bWVTY2hlZHVsZWQiLCJkZWZhdWx0RW5jb2RpbmciLCJhd2FpdERyYWluIiwicmVhZGluZ01vcmUiLCJkZWNvZGVyIiwicmVhZGFibGVBZGRDaHVuayIsImFkZFRvRnJvbnQiLCJza2lwQ2h1bmtDaGVjayIsImVyIiwic3RhdGUiLCJlbWl0UmVhZGFibGUiLCJvbkVvZkNodW5rIiwiY2h1bmtJbnZhbGlkIiwiZ2V0UHJvdG90eXBlT2YiLCJfdWludDhBcnJheVRvQnVmZmVyIiwiYWRkQ2h1bmsiLCJtYXliZVJlYWRNb3JlIiwibmVlZE1vcmVEYXRhIiwidW5zaGlmdCIsIl91bmRlc3Ryb3kiLCJ1bmRlc3Ryb3kiLCJpc1BhdXNlZCIsInNldEVuY29kaW5nIiwiZW5jIiwiTUFYX0hXTSIsImhvd011Y2hUb1JlYWQiLCJoZWFkIiwiY29tcHV0ZU5ld0hpZ2hXYXRlck1hcmsiLCJlbWl0UmVhZGFibGVfIiwiZmxvdyIsIm1heWJlUmVhZE1vcmVfIiwiblJlYWRpbmdOZXh0VGljayIsInJlc3VtZV8iLCJmcm9tTGlzdCIsInNoaWZ0IiwiY2xlYXIiLCJoYXNTdHJpbmdzIiwibmIiLCJ0YWlsIiwiY29weUZyb21CdWZmZXJTdHJpbmciLCJjb3B5RnJvbUJ1ZmZlciIsImZyb21MaXN0UGFydGlhbCIsImVuZFJlYWRhYmxlIiwiZW5kUmVhZGFibGVOVCIsInhzIiwibk9yaWciLCJkb1JlYWQiLCJkZXN0IiwicGlwZU9wdHMiLCJlbmRGbiIsInN0ZG91dCIsInN0ZGVyciIsInVucGlwZSIsIm9udW5waXBlIiwidW5waXBlSW5mbyIsImhhc1VucGlwZWQiLCJvbmZpbmlzaCIsIm9uZHJhaW4iLCJvbmRhdGEiLCJjbGVhbmVkVXAiLCJuZWVkRHJhaW4iLCJwaXBlT25EcmFpbiIsImluY3JlYXNlZEF3YWl0RHJhaW4iLCJfZXZlbnRzIiwicmVzdW1lIiwiZGVzdHMiLCJldiIsIndyYXAiLCJwYXVzZWQiLCJfZnJvbUxpc3QiLCJSZWZsZWN0T3duS2V5cyIsIlIiLCJSZWZsZWN0IiwiUmVmbGVjdEFwcGx5Iiwib3duS2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImdldE93blByb3BlcnR5TmFtZXMiLCJOdW1iZXJJc05hTiIsImluaXQiLCJfZXZlbnRzQ291bnQiLCJfbWF4TGlzdGVuZXJzIiwiZGVmYXVsdE1heExpc3RlbmVycyIsIiRnZXRNYXhMaXN0ZW5lcnMiLCJfYWRkTGlzdGVuZXIiLCJsaXN0ZW5lciIsInByZXBlbmQiLCJldmVudHMiLCJleGlzdGluZyIsIndhcm5pbmciLCJuZXdMaXN0ZW5lciIsIndhcm5lZCIsInciLCJfb25jZVdyYXAiLCJmaXJlZCIsIndyYXBGbiIsIndyYXBwZWQiLCJfbGlzdGVuZXJzIiwidW53cmFwIiwiZXZsaXN0ZW5lciIsInVud3JhcExpc3RlbmVycyIsImFycmF5Q2xvbmUiLCJsaXN0ZW5lckNvdW50Iiwic2V0TWF4TGlzdGVuZXJzIiwiZ2V0TWF4TGlzdGVuZXJzIiwiZG9FcnJvciIsImhhbmRsZXIiLCJwb3NpdGlvbiIsIm9yaWdpbmFsTGlzdGVuZXIiLCJzcGxpY2VPbmUiLCJyYXdMaXN0ZW5lcnMiLCJldmVudE5hbWVzIiwiZW1pdEVycm9yTlQiLCJyZWFkYWJsZURlc3Ryb3llZCIsIndyaXRhYmxlRGVzdHJveWVkIiwiZXJyb3JFbWl0dGVkIiwiZW5kaW5nIiwic2V0SW1tZWRpYXRlIiwiQ29ya2VkUmVxdWVzdCIsImVudHJ5IiwiZmluaXNoIiwiY29ya1JlcSIsInBlbmRpbmdjYiIsImNvcmtlZFJlcXVlc3RzRnJlZSIsIm9uQ29ya2VkRmluaXNoIiwiYXN5bmNXcml0ZSIsIldyaXRhYmxlU3RhdGUiLCJpbnRlcm5hbFV0aWwiLCJkZXByZWNhdGUiLCJyZWFsSGFzSW5zdGFuY2UiLCJub3AiLCJ3cml0YWJsZU9iamVjdE1vZGUiLCJ3cml0YWJsZUh3bSIsIndyaXRhYmxlSGlnaFdhdGVyTWFyayIsImZpbmFsQ2FsbGVkIiwibm9EZWNvZGUiLCJkZWNvZGVTdHJpbmdzIiwid3JpdGluZyIsImNvcmtlZCIsImJ1ZmZlclByb2Nlc3NpbmciLCJvbndyaXRlIiwid3JpdGVjYiIsIndyaXRlbGVuIiwib253cml0ZVN0YXRlVXBkYXRlIiwiZmluaXNoTWF5YmUiLCJvbndyaXRlRXJyb3IiLCJuZWVkRmluaXNoIiwiYnVmZmVyZWRSZXF1ZXN0IiwiY2xlYXJCdWZmZXIiLCJhZnRlcldyaXRlIiwibGFzdEJ1ZmZlcmVkUmVxdWVzdCIsInByZWZpbmlzaGVkIiwiYnVmZmVyZWRSZXF1ZXN0Q291bnQiLCJ3cml0ZXYiLCJfd3JpdGV2IiwiZmluYWwiLCJfZmluYWwiLCJkb1dyaXRlIiwib253cml0ZURyYWluIiwiaG9sZGVyIiwiYWxsQnVmZmVycyIsImlzQnVmIiwiY2FsbEZpbmFsIiwibmVlZCIsInByZWZpbmlzaCIsImdldEJ1ZmZlciIsIl8iLCJoYXNJbnN0YW5jZSIsIndyaXRlQWZ0ZXJFbmQiLCJ2YWxpZCIsInZhbGlkQ2h1bmsiLCJuZXdDaHVuayIsImRlY29kZUNodW5rIiwibGFzdCIsIndyaXRlT3JCdWZmZXIiLCJjb3JrIiwidW5jb3JrIiwic2V0RGVmYXVsdEVuY29kaW5nIiwiZW5kV3JpdGFibGUiLCJuZW5jIiwicmV0cmllZCIsIl9ub3JtYWxpemVFbmNvZGluZyIsIm5vcm1hbGl6ZUVuY29kaW5nIiwidGV4dCIsInV0ZjE2VGV4dCIsInV0ZjE2RW5kIiwiZmlsbExhc3QiLCJ1dGY4RmlsbExhc3QiLCJiYXNlNjRUZXh0IiwiYmFzZTY0RW5kIiwic2ltcGxlV3JpdGUiLCJzaW1wbGVFbmQiLCJsYXN0TmVlZCIsImxhc3RUb3RhbCIsImxhc3RDaGFyIiwidXRmOENoZWNrQnl0ZSIsImJ5dGUiLCJ1dGY4Q2hlY2tFeHRyYUJ5dGVzIiwidG90YWwiLCJ1dGY4Q2hlY2tJbmNvbXBsZXRlIiwiVHJhbnNmb3JtIiwiYWZ0ZXJUcmFuc2Zvcm0iLCJ0cyIsIl90cmFuc2Zvcm1TdGF0ZSIsInRyYW5zZm9ybWluZyIsIndyaXRlY2h1bmsiLCJycyIsIm5lZWRUcmFuc2Zvcm0iLCJ3cml0ZWVuY29kaW5nIiwidHJhbnNmb3JtIiwiX3RyYW5zZm9ybSIsImZsdXNoIiwiX2ZsdXNoIiwiX3RoaXMyIiwiZXJyMiIsImI2NCIsImxlbnMiLCJnZXRMZW5zIiwidmFsaWRMZW4iLCJwbGFjZUhvbGRlcnNMZW4iLCJBcnIiLCJfYnl0ZUxlbmd0aCIsImN1ckJ5dGUiLCJyZXZMb29rdXAiLCJ1aW50OCIsImV4dHJhQnl0ZXMiLCJwYXJ0cyIsImxlbjIiLCJlbmNvZGVDaHVuayIsImxvb2t1cCIsIm51bSIsIm91dHB1dCIsImlzTEUiLCJtTGVuIiwibkJ5dGVzIiwiZUxlbiIsImVNYXgiLCJlQmlhcyIsIm5CaXRzIiwiTmFOIiwicnQiLCJhYnMiLCJMTjIiLCJmb3JtYXRBcmdzIiwidXNlQ29sb3JzIiwibmFtZXNwYWNlIiwiaHVtYW5pemUiLCJkaWZmIiwiY29sb3IiLCJsYXN0QyIsInNhdmUiLCJuYW1lc3BhY2VzIiwic3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwibG9hZCIsImdldEl0ZW0iLCJfX253anMiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwiV2Via2l0QXBwZWFyYW5jZSIsImZpcmVidWciLCJleGNlcHRpb24iLCJSZWdFeHAiLCIkMSIsImxvY2FsU3RvcmFnZSIsImxvY2Fsc3RvcmFnZSIsImNvbG9ycyIsImZvcm1hdHRlcnMiLCJzZWxlY3RDb2xvciIsImhhc2giLCJjcmVhdGVEZWJ1ZyIsInByZXZUaW1lIiwiZW5hYmxlZCIsImN1cnIiLCJtcyIsImNvZXJjZSIsImZvcm1hdCIsImZvcm1hdHRlciIsImV4dGVuZCIsImluc3RhbmNlcyIsImRlbGltaXRlciIsIm5ld0RlYnVnIiwidG9OYW1lc3BhY2UiLCJyZWdleHAiLCJzdWJzdHJpbmciLCJkZWZhdWx0IiwiZGlzYWJsZSIsInNraXBzIiwiZW5hYmxlIiwiaW5zdGFuY2UiLCJ0ZXN0IiwiaCIsInBsdXJhbCIsIm1zQWJzIiwiaXNQbHVyYWwiLCJleGVjIiwicGFyc2VGbG9hdCIsImxvbmciLCJmbXRMb25nIiwiZm10U2hvcnQiLCJtb3pSVENQZWVyQ29ubmVjdGlvbiIsIlJUQ1Nlc3Npb25EZXNjcmlwdGlvbiIsIm1velJUQ1Nlc3Npb25EZXNjcmlwdGlvbiIsIndlYmtpdFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiIsIm1velJUQ0ljZUNhbmRpZGF0ZSIsIndlYmtpdFJUQ0ljZUNhbmRpZGF0ZSIsImNyeXB0byIsIm1zQ3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwicmF3Qnl0ZXMiLCJQYXNzVGhyb3VnaCIsIkNvbnN0cnVjdG9yIiwiX2NsYXNzQ2FsbENoZWNrIiwiY3VzdG9tIiwic2NvcGUiLCJUaW1lb3V0IiwiY2xlYXJGbiIsIl9jbGVhckZuIiwicmVmIiwiZW5yb2xsIiwibXNlY3MiLCJfaWRsZVRpbWVvdXRJZCIsIl9pZGxlVGltZW91dCIsInVuZW5yb2xsIiwiX3VucmVmQWN0aXZlIiwiYWN0aXZlIiwiX29uVGltZW91dCIsImNsZWFySW1tZWRpYXRlIiwicmVnaXN0ZXJJbW1lZGlhdGUiLCJodG1sIiwibWVzc2FnZVByZWZpeCIsIm9uR2xvYmFsTWVzc2FnZSIsIm5leHRIYW5kbGUiLCJ0YXNrc0J5SGFuZGxlIiwiY3VycmVudGx5UnVubmluZ0FUYXNrIiwiZG9jIiwiYXR0YWNoVG8iLCJoYW5kbGUiLCJydW5JZlByZXNlbnQiLCJwb3N0TWVzc2FnZSIsImltcG9ydFNjcmlwdHMiLCJwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzIiwib2xkT25NZXNzYWdlIiwiY2FuVXNlUG9zdE1lc3NhZ2UiLCJNZXNzYWdlQ2hhbm5lbCIsInBvcnQxIiwicG9ydDIiLCJjcmVhdGVFbGVtZW50Iiwic2NyaXB0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVtb3ZlQ2hpbGQiLCJhcHBlbmRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdHRhY2hFdmVudCIsIm1zZyIsInRyYWNlIiwiRW1wdHlFcnJvckltcGwiLCJTdWJzY3JpYmVyX1N1YnNjcmliZXIiLCJTdWJzY3JpYmVyX1NhZmVTdWJzY3JpYmVyIiwiZmlsdGVyX0ZpbHRlclN1YnNjcmliZXIiLCJBcmd1bWVudE91dE9mUmFuZ2VFcnJvckltcGwiLCJlbXB0eV9lbXB0eSIsInNjaGVkdWxlciIsInNjaGVkdWxlIiwiZW1wdHlTY2hlZHVsZWQiLCJ0YWtlX1Rha2VPcGVyYXRvciIsIlRha2VPcGVyYXRvciIsIkFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yIiwidGFrZV9UYWtlU3Vic2NyaWJlciIsIlRha2VTdWJzY3JpYmVyIiwiRGVmYXVsdElmRW1wdHlPcGVyYXRvciIsImRlZmF1bHRWYWx1ZSIsImRlZmF1bHRJZkVtcHR5X0RlZmF1bHRJZkVtcHR5U3Vic2NyaWJlciIsIkRlZmF1bHRJZkVtcHR5U3Vic2NyaWJlciIsImlzRW1wdHkiLCJEb09wZXJhdG9yIiwidGFwX1RhcFN1YnNjcmliZXIiLCJUYXBTdWJzY3JpYmVyIiwiX3RhcE5leHQiLCJfdGFwRXJyb3IiLCJfdGFwQ29tcGxldGUiLCJ0aHJvd0lmRW1wdHkiLCJlcnJvckZhY3RvcnkiLCJkZWZhdWx0RXJyb3JGYWN0b3J5IiwiaGFzVmFsdWUiLCJpZGVudGl0eSIsImZpcnN0IiwiaGFzRGVmYXVsdFZhbHVlIiwiZGVmYXVsdElmRW1wdHkiLCJFbXB0eUVycm9yIiwiYWJzdHJhY3RfY29ubmVjdG9yX0Fic3RyYWN0Q29ubmVjdG9yIiwiQWJzdHJhY3RDb25uZWN0b3IiLCJfY29ubmVjdGlvbnMiLCJjb25uZWN0aW9uT3B0aW9ucyIsIkNvbm5lY3Rpb24iLCJtaXRvc2lzX2VzNiIsIl9vdXRBcmVhRWxlbWVudCIsImJlZm9yZUNyZWF0ZU9mZmVyIiwib3BlbiIsIl9pbkFyZWFFbGVtZW50IiwiYmVmb3JlQ3JlYXRlQW5zd2VyIiwicGFzdGVkQW5zd2VyIiwiX2NyZWF0ZU9mZmVyQnRuIiwiZGlzYWJsZWQiLCJfY3JlYXRlQW5zd2VyQnRuIiwiX2VzdGFibGlzaEJ0biIsInBhc3RlZE9mZmVyIiwicGFzdGVkVW5rbm93bklucHV0IiwiaW5kZXhPZkNvbm5lY3Rpb24iLCJiaW5kSW5wdXRBcmVhIiwiZm9jdXMiLCJzZWxlY3QiLCJiaW5kQnV0dG9uTGlzdGVuZXJzIiwicXVlcnlTZWxlY3RvciIsImJhc2VTZWxlY3RvciIsInN0cmVhbV9jb25uZWN0b3JfU3RyZWFtQ29ubmVjdG9yIiwiU3RyZWFtQ29ubmVjdG9yIiwic3RyZWFtX2Nvbm5lY3Rvcl9leHRlbmRzIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwidmlkZW8iLCJhdWRpbyIsIl92aWRlb0VsZW1lbnQiLCJzcmNPYmplY3QiLCJnZXRTdHJlYW0iLCJvYnNlcnZlU3RyZWFtQ2h1cm4iLCJzdHJlYW1DaHVybkV2IiwiZGF0YV9jb25uZWN0b3JfRGF0YUNvbm5lY3RvciIsIkRhdGFDb25uZWN0b3IiLCJkYXRhX2Nvbm5lY3Rvcl9leHRlbmRzIiwiX291dE1lc3NhZ2VFbGVtZW50IiwiX2luTWVzc2FnZXNFbGVtZW50IiwiX291dE1lc3NhZ2VGaWVsZHNldEVsZW1lbnQiLCJfc2VuZEVsZW1lbnQiLCJfc3RyZWFtQ29ubmVjdG9yIiwiX2RhdGFDb25uZWN0b3IiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdB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QVVDLEtBQUtrUyxVQUFVclQsS0FBS21CLFFBRzFEZ2pELEVBQUEvakQsVUFBQW1XLFFBQVYsU0FBa0IxRCxHQUNoQm5PLEVBQUF0RSxVQUFNbVcsUUFBTzVYLEtBQUF3QyxLQUFDMFIsR0FDbUIsSUFBN0IxUixLQUFLNGdELGFBQWFyaEQsU0FDcEJTLEtBQUtvakQsMkJBQTJCN0IsVUFBVyxJQUlyQ3lCLEVBQUEvakQsVUFBQStpRCxvQkFBVixXQUNFeitDLEVBQUF0RSxVQUFNK2lELG9CQUFtQnhrRCxLQUFBd0MsTUFDekJBLEtBQUtxakQsYUFBYWpGLGlCQUFpQixRQUFTcCtDLEtBQUtpZ0IsWUFBWXBoQixLQUFLbUIsUUFHMURnakQsRUFBQS9qRCxVQUFBOHRDLEtBQVYsV0FDRWhyQyxRQUFRK0gsSUFBSTlKLEtBQUtraUQsY0FDakJsaUQsS0FBS21qRCxtQkFBcUIvSyxTQUFTNkosY0FBaUJqaUQsS0FBS2tpRCxhQUFZLGlCQUNyRWxpRCxLQUFLa2pELG1CQUFxQjlLLFNBQVM2SixjQUFpQmppRCxLQUFLa2lELGFBQVksaUJBQ3JFbGlELEtBQUtvakQsMkJBQTZCaEwsU0FBUzZKLGNBQWlCamlELEtBQUtraUQsYUFBWSxpQkFDN0VsaUQsS0FBS29qRCwyQkFBMkI3QixVQUFXLEVBQzNDdmhELEtBQUtxakQsYUFBZWpMLFNBQVM2SixjQUFpQmppRCxLQUFLa2lELGFBQVksa0JBQy9EMytDLEVBQUF0RSxVQUFNOHRDLEtBQUl2dkMsS0FBQXdDLE9BRWRnakQsRUF6REEsQ0FBbUN0QyxHQ0VuQixJQVZoQixXQVFBLE9BSkUsV0FDRTFnRCxLQUFLc2pELGlCQUFtQixJQUFJbkIsRUFDNUJuaUQsS0FBS3VqRCxlQUFpQixJQUFJUixHQU45QiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDI3KTtcbiIsImltcG9ydCB7IG5vb3AgfSBmcm9tICcuL25vb3AnO1xuaW1wb3J0IHsgVW5hcnlGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcblxuLyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5leHBvcnQgZnVuY3Rpb24gcGlwZTxUPigpOiBVbmFyeUZ1bmN0aW9uPFQsIFQ+O1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VCwgQT4oZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+KTogVW5hcnlGdW5jdGlvbjxULCBBPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEI+KGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPiwgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+KTogVW5hcnlGdW5jdGlvbjxULCBCPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEM+KGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPiwgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+LCBmbjM6IFVuYXJ5RnVuY3Rpb248QiwgQz4pOiBVbmFyeUZ1bmN0aW9uPFQsIEM+O1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VCwgQSwgQiwgQywgRD4oZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+LCBmbjI6IFVuYXJ5RnVuY3Rpb248QSwgQj4sIGZuMzogVW5hcnlGdW5jdGlvbjxCLCBDPiwgZm40OiBVbmFyeUZ1bmN0aW9uPEMsIEQ+KTogVW5hcnlGdW5jdGlvbjxULCBEPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQsIEU+KGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPiwgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+LCBmbjM6IFVuYXJ5RnVuY3Rpb248QiwgQz4sIGZuNDogVW5hcnlGdW5jdGlvbjxDLCBEPiwgZm41OiBVbmFyeUZ1bmN0aW9uPEQsIEU+KTogVW5hcnlGdW5jdGlvbjxULCBFPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQsIEUsIEY+KGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPiwgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+LCBmbjM6IFVuYXJ5RnVuY3Rpb248QiwgQz4sIGZuNDogVW5hcnlGdW5jdGlvbjxDLCBEPiwgZm41OiBVbmFyeUZ1bmN0aW9uPEQsIEU+LCBmbjY6IFVuYXJ5RnVuY3Rpb248RSwgRj4pOiBVbmFyeUZ1bmN0aW9uPFQsIEY+O1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VCwgQSwgQiwgQywgRCwgRSwgRiwgRz4oZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+LCBmbjI6IFVuYXJ5RnVuY3Rpb248QSwgQj4sIGZuMzogVW5hcnlGdW5jdGlvbjxCLCBDPiwgZm40OiBVbmFyeUZ1bmN0aW9uPEMsIEQ+LCBmbjU6IFVuYXJ5RnVuY3Rpb248RCwgRT4sIGZuNjogVW5hcnlGdW5jdGlvbjxFLCBGPiwgZm43OiBVbmFyeUZ1bmN0aW9uPEYsIEc+KTogVW5hcnlGdW5jdGlvbjxULCBHPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQsIEUsIEYsIEcsIEg+KGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPiwgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+LCBmbjM6IFVuYXJ5RnVuY3Rpb248QiwgQz4sIGZuNDogVW5hcnlGdW5jdGlvbjxDLCBEPiwgZm41OiBVbmFyeUZ1bmN0aW9uPEQsIEU+LCBmbjY6IFVuYXJ5RnVuY3Rpb248RSwgRj4sIGZuNzogVW5hcnlGdW5jdGlvbjxGLCBHPiwgZm44OiBVbmFyeUZ1bmN0aW9uPEcsIEg+KTogVW5hcnlGdW5jdGlvbjxULCBIPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQsIEUsIEYsIEcsIEgsIEk+KGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPiwgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+LCBmbjM6IFVuYXJ5RnVuY3Rpb248QiwgQz4sIGZuNDogVW5hcnlGdW5jdGlvbjxDLCBEPiwgZm41OiBVbmFyeUZ1bmN0aW9uPEQsIEU+LCBmbjY6IFVuYXJ5RnVuY3Rpb248RSwgRj4sIGZuNzogVW5hcnlGdW5jdGlvbjxGLCBHPiwgZm44OiBVbmFyeUZ1bmN0aW9uPEcsIEg+LCBmbjk6IFVuYXJ5RnVuY3Rpb248SCwgST4pOiBVbmFyeUZ1bmN0aW9uPFQsIEk+O1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VCwgQSwgQiwgQywgRCwgRSwgRiwgRywgSCwgST4oZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+LCBmbjI6IFVuYXJ5RnVuY3Rpb248QSwgQj4sIGZuMzogVW5hcnlGdW5jdGlvbjxCLCBDPiwgZm40OiBVbmFyeUZ1bmN0aW9uPEMsIEQ+LCBmbjU6IFVuYXJ5RnVuY3Rpb248RCwgRT4sIGZuNjogVW5hcnlGdW5jdGlvbjxFLCBGPiwgZm43OiBVbmFyeUZ1bmN0aW9uPEYsIEc+LCBmbjg6IFVuYXJ5RnVuY3Rpb248RywgSD4sIGZuOTogVW5hcnlGdW5jdGlvbjxILCBJPiwgLi4uZm5zOiBVbmFyeUZ1bmN0aW9uPGFueSwgYW55PltdKTogVW5hcnlGdW5jdGlvbjxULCB7fT47XG4vKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGlwZSguLi5mbnM6IEFycmF5PFVuYXJ5RnVuY3Rpb248YW55LCBhbnk+Pik6IFVuYXJ5RnVuY3Rpb248YW55LCBhbnk+IHtcbiAgcmV0dXJuIHBpcGVGcm9tQXJyYXkoZm5zKTtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGVGcm9tQXJyYXk8VCwgUj4oZm5zOiBBcnJheTxVbmFyeUZ1bmN0aW9uPFQsIFI+Pik6IFVuYXJ5RnVuY3Rpb248VCwgUj4ge1xuICBpZiAoIWZucykge1xuICAgIHJldHVybiBub29wIGFzIFVuYXJ5RnVuY3Rpb248YW55LCBhbnk+O1xuICB9XG5cbiAgaWYgKGZucy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gZm5zWzBdO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHBpcGVkKGlucHV0OiBUKTogUiB7XG4gICAgcmV0dXJuIGZucy5yZWR1Y2UoKHByZXY6IGFueSwgZm46IFVuYXJ5RnVuY3Rpb248VCwgUj4pID0+IGZuKHByZXYpLCBpbnB1dCBhcyBhbnkpO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3IgfSBmcm9tICcuL09wZXJhdG9yJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgVGVhcmRvd25Mb2dpYywgT3BlcmF0b3JGdW5jdGlvbiwgUGFydGlhbE9ic2VydmVyLCBTdWJzY3JpYmFibGUgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGNhblJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2NhblJlcG9ydEVycm9yJztcbmltcG9ydCB7IHRvU3Vic2NyaWJlciB9IGZyb20gJy4vdXRpbC90b1N1YnNjcmliZXInO1xuaW1wb3J0IHsgaWlmIH0gZnJvbSAnLi9vYnNlcnZhYmxlL2lpZic7XG5pbXBvcnQgeyB0aHJvd0Vycm9yIH0gZnJvbSAnLi9vYnNlcnZhYmxlL3Rocm93RXJyb3InO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IHBpcGVGcm9tQXJyYXkgfSBmcm9tICcuL3V0aWwvcGlwZSc7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5cbi8qKlxuICogQSByZXByZXNlbnRhdGlvbiBvZiBhbnkgc2V0IG9mIHZhbHVlcyBvdmVyIGFueSBhbW91bnQgb2YgdGltZS4gVGhpcyBpcyB0aGUgbW9zdCBiYXNpYyBidWlsZGluZyBibG9ja1xuICogb2YgUnhKUy5cbiAqXG4gKiBAY2xhc3MgT2JzZXJ2YWJsZTxUPlxuICovXG5leHBvcnQgY2xhc3MgT2JzZXJ2YWJsZTxUPiBpbXBsZW1lbnRzIFN1YnNjcmliYWJsZTxUPiB7XG5cbiAgLyoqIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZSBkaXJlY3RseS4gKi9cbiAgcHVibGljIF9pc1NjYWxhcjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKiBAZGVwcmVjYXRlZCBUaGlzIGlzIGFuIGludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZS4gKi9cbiAgc291cmNlOiBPYnNlcnZhYmxlPGFueT47XG5cbiAgLyoqIEBkZXByZWNhdGVkIFRoaXMgaXMgYW4gaW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlLiAqL1xuICBvcGVyYXRvcjogT3BlcmF0b3I8YW55LCBUPjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHN1YnNjcmliZSB0aGUgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgT2JzZXJ2YWJsZSBpc1xuICAgKiBpbml0aWFsbHkgc3Vic2NyaWJlZCB0by4gVGhpcyBmdW5jdGlvbiBpcyBnaXZlbiBhIFN1YnNjcmliZXIsIHRvIHdoaWNoIG5ldyB2YWx1ZXNcbiAgICogY2FuIGJlIGBuZXh0YGVkLCBvciBhbiBgZXJyb3JgIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJhaXNlIGFuIGVycm9yLCBvclxuICAgKiBgY29tcGxldGVgIGNhbiBiZSBjYWxsZWQgdG8gbm90aWZ5IG9mIGEgc3VjY2Vzc2Z1bCBjb21wbGV0aW9uLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioc3Vic2NyaWJlPzogKHRoaXM6IE9ic2VydmFibGU8VD4sIHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4pID0+IFRlYXJkb3duTG9naWMpIHtcbiAgICBpZiAoc3Vic2NyaWJlKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgfVxuICB9XG5cbiAgLy8gSEFDSzogU2luY2UgVHlwZVNjcmlwdCBpbmhlcml0cyBzdGF0aWMgcHJvcGVydGllcyB0b28sIHdlIGhhdmUgdG9cbiAgLy8gZmlnaHQgYWdhaW5zdCBUeXBlU2NyaXB0IGhlcmUgc28gU3ViamVjdCBjYW4gaGF2ZSBhIGRpZmZlcmVudCBzdGF0aWMgY3JlYXRlIHNpZ25hdHVyZVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBjb2xkIE9ic2VydmFibGUgYnkgY2FsbGluZyB0aGUgT2JzZXJ2YWJsZSBjb25zdHJ1Y3RvclxuICAgKiBAc3RhdGljIHRydWVcbiAgICogQG93bmVyIE9ic2VydmFibGVcbiAgICogQG1ldGhvZCBjcmVhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3Vic2NyaWJlPyB0aGUgc3Vic2NyaWJlciBmdW5jdGlvbiB0byBiZSBwYXNzZWQgdG8gdGhlIE9ic2VydmFibGUgY29uc3RydWN0b3JcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZX0gYSBuZXcgY29sZCBvYnNlcnZhYmxlXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlOiBGdW5jdGlvbiA9IDxUPihzdWJzY3JpYmU/OiAoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPikgPT4gVGVhcmRvd25Mb2dpYykgPT4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxUPihzdWJzY3JpYmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgT2JzZXJ2YWJsZSwgd2l0aCB0aGlzIE9ic2VydmFibGUgYXMgdGhlIHNvdXJjZSwgYW5kIHRoZSBwYXNzZWRcbiAgICogb3BlcmF0b3IgZGVmaW5lZCBhcyB0aGUgbmV3IG9ic2VydmFibGUncyBvcGVyYXRvci5cbiAgICogQG1ldGhvZCBsaWZ0XG4gICAqIEBwYXJhbSB7T3BlcmF0b3J9IG9wZXJhdG9yIHRoZSBvcGVyYXRvciBkZWZpbmluZyB0aGUgb3BlcmF0aW9uIHRvIHRha2Ugb24gdGhlIG9ic2VydmFibGVcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZX0gYSBuZXcgb2JzZXJ2YWJsZSB3aXRoIHRoZSBPcGVyYXRvciBhcHBsaWVkXG4gICAqL1xuICBsaWZ0PFI+KG9wZXJhdG9yOiBPcGVyYXRvcjxULCBSPik6IE9ic2VydmFibGU8Uj4ge1xuICAgIGNvbnN0IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTxSPigpO1xuICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICBvYnNlcnZhYmxlLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgcmV0dXJuIG9ic2VydmFibGU7XG4gIH1cblxuICBzdWJzY3JpYmUob2JzZXJ2ZXI/OiBQYXJ0aWFsT2JzZXJ2ZXI8VD4pOiBTdWJzY3JpcHRpb247XG4gIHN1YnNjcmliZShuZXh0PzogKHZhbHVlOiBUKSA9PiB2b2lkLCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQpOiBTdWJzY3JpcHRpb247XG4gIC8qKlxuICAgKiBJbnZva2VzIGFuIGV4ZWN1dGlvbiBvZiBhbiBPYnNlcnZhYmxlIGFuZCByZWdpc3RlcnMgT2JzZXJ2ZXIgaGFuZGxlcnMgZm9yIG5vdGlmaWNhdGlvbnMgaXQgd2lsbCBlbWl0LlxuICAgKlxuICAgKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+VXNlIGl0IHdoZW4geW91IGhhdmUgYWxsIHRoZXNlIE9ic2VydmFibGVzLCBidXQgc3RpbGwgbm90aGluZyBpcyBoYXBwZW5pbmcuPC9zcGFuPlxuICAgKlxuICAgKiBgc3Vic2NyaWJlYCBpcyBub3QgYSByZWd1bGFyIG9wZXJhdG9yLCBidXQgYSBtZXRob2QgdGhhdCBjYWxscyBPYnNlcnZhYmxlJ3MgaW50ZXJuYWwgYHN1YnNjcmliZWAgZnVuY3Rpb24uIEl0XG4gICAqIG1pZ2h0IGJlIGZvciBleGFtcGxlIGEgZnVuY3Rpb24gdGhhdCB5b3UgcGFzc2VkIHRvIE9ic2VydmFibGUncyBjb25zdHJ1Y3RvciwgYnV0IG1vc3Qgb2YgdGhlIHRpbWUgaXQgaXNcbiAgICogYSBsaWJyYXJ5IGltcGxlbWVudGF0aW9uLCB3aGljaCBkZWZpbmVzIHdoYXQgd2lsbCBiZSBlbWl0dGVkIGJ5IGFuIE9ic2VydmFibGUsIGFuZCB3aGVuIGl0IGJlIHdpbGwgZW1pdHRlZC4gVGhpcyBtZWFuc1xuICAgKiB0aGF0IGNhbGxpbmcgYHN1YnNjcmliZWAgaXMgYWN0dWFsbHkgdGhlIG1vbWVudCB3aGVuIE9ic2VydmFibGUgc3RhcnRzIGl0cyB3b3JrLCBub3Qgd2hlbiBpdCBpcyBjcmVhdGVkLCBhcyBpdCBpcyBvZnRlblxuICAgKiB0aGUgdGhvdWdodC5cbiAgICpcbiAgICogQXBhcnQgZnJvbSBzdGFydGluZyB0aGUgZXhlY3V0aW9uIG9mIGFuIE9ic2VydmFibGUsIHRoaXMgbWV0aG9kIGFsbG93cyB5b3UgdG8gbGlzdGVuIGZvciB2YWx1ZXNcbiAgICogdGhhdCBhbiBPYnNlcnZhYmxlIGVtaXRzLCBhcyB3ZWxsIGFzIGZvciB3aGVuIGl0IGNvbXBsZXRlcyBvciBlcnJvcnMuIFlvdSBjYW4gYWNoaWV2ZSB0aGlzIGluIHR3b1xuICAgKiBvZiB0aGUgZm9sbG93aW5nIHdheXMuXG4gICAqXG4gICAqIFRoZSBmaXJzdCB3YXkgaXMgY3JlYXRpbmcgYW4gb2JqZWN0IHRoYXQgaW1wbGVtZW50cyB7QGxpbmsgT2JzZXJ2ZXJ9IGludGVyZmFjZS4gSXQgc2hvdWxkIGhhdmUgbWV0aG9kc1xuICAgKiBkZWZpbmVkIGJ5IHRoYXQgaW50ZXJmYWNlLCBidXQgbm90ZSB0aGF0IGl0IHNob3VsZCBiZSBqdXN0IGEgcmVndWxhciBKYXZhU2NyaXB0IG9iamVjdCwgd2hpY2ggeW91IGNhbiBjcmVhdGVcbiAgICogeW91cnNlbGYgaW4gYW55IHdheSB5b3Ugd2FudCAoRVM2IGNsYXNzLCBjbGFzc2ljIGZ1bmN0aW9uIGNvbnN0cnVjdG9yLCBvYmplY3QgbGl0ZXJhbCBldGMuKS4gSW4gcGFydGljdWxhciBkb1xuICAgKiBub3QgYXR0ZW1wdCB0byB1c2UgYW55IFJ4SlMgaW1wbGVtZW50YXRpb24gZGV0YWlscyB0byBjcmVhdGUgT2JzZXJ2ZXJzIC0geW91IGRvbid0IG5lZWQgdGhlbS4gUmVtZW1iZXIgYWxzb1xuICAgKiB0aGF0IHlvdXIgb2JqZWN0IGRvZXMgbm90IGhhdmUgdG8gaW1wbGVtZW50IGFsbCBtZXRob2RzLiBJZiB5b3UgZmluZCB5b3Vyc2VsZiBjcmVhdGluZyBhIG1ldGhvZCB0aGF0IGRvZXNuJ3RcbiAgICogZG8gYW55dGhpbmcsIHlvdSBjYW4gc2ltcGx5IG9taXQgaXQuIE5vdGUgaG93ZXZlciwgaWYgdGhlIGBlcnJvcmAgbWV0aG9kIGlzIG5vdCBwcm92aWRlZCwgYWxsIGVycm9ycyB3aWxsXG4gICAqIGJlIGxlZnQgdW5jYXVnaHQuXG4gICAqXG4gICAqIFRoZSBzZWNvbmQgd2F5IGlzIHRvIGdpdmUgdXAgb24gT2JzZXJ2ZXIgb2JqZWN0IGFsdG9nZXRoZXIgYW5kIHNpbXBseSBwcm92aWRlIGNhbGxiYWNrIGZ1bmN0aW9ucyBpbiBwbGFjZSBvZiBpdHMgbWV0aG9kcy5cbiAgICogVGhpcyBtZWFucyB5b3UgY2FuIHByb3ZpZGUgdGhyZWUgZnVuY3Rpb25zIGFzIGFyZ3VtZW50cyB0byBgc3Vic2NyaWJlYCwgd2hlcmUgdGhlIGZpcnN0IGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnRcbiAgICogb2YgYSBgbmV4dGAgbWV0aG9kLCB0aGUgc2Vjb25kIG9mIGFuIGBlcnJvcmAgbWV0aG9kIGFuZCB0aGUgdGhpcmQgb2YgYSBgY29tcGxldGVgIG1ldGhvZC4gSnVzdCBhcyBpbiBjYXNlIG9mIE9ic2VydmVyLFxuICAgKiBpZiB5b3UgZG8gbm90IG5lZWQgdG8gbGlzdGVuIGZvciBzb21ldGhpbmcsIHlvdSBjYW4gb21pdCBhIGZ1bmN0aW9uLCBwcmVmZXJhYmx5IGJ5IHBhc3NpbmcgYHVuZGVmaW5lZGAgb3IgYG51bGxgLFxuICAgKiBzaW5jZSBgc3Vic2NyaWJlYCByZWNvZ25pemVzIHRoZXNlIGZ1bmN0aW9ucyBieSB3aGVyZSB0aGV5IHdlcmUgcGxhY2VkIGluIGZ1bmN0aW9uIGNhbGwuIFdoZW4gaXQgY29tZXNcbiAgICogdG8gYGVycm9yYCBmdW5jdGlvbiwganVzdCBhcyBiZWZvcmUsIGlmIG5vdCBwcm92aWRlZCwgZXJyb3JzIGVtaXR0ZWQgYnkgYW4gT2JzZXJ2YWJsZSB3aWxsIGJlIHRocm93bi5cbiAgICpcbiAgICogV2hpY2hldmVyIHN0eWxlIG9mIGNhbGxpbmcgYHN1YnNjcmliZWAgeW91IHVzZSwgaW4gYm90aCBjYXNlcyBpdCByZXR1cm5zIGEgU3Vic2NyaXB0aW9uIG9iamVjdC5cbiAgICogVGhpcyBvYmplY3QgYWxsb3dzIHlvdSB0byBjYWxsIGB1bnN1YnNjcmliZWAgb24gaXQsIHdoaWNoIGluIHR1cm4gd2lsbCBzdG9wIHRoZSB3b3JrIHRoYXQgYW4gT2JzZXJ2YWJsZSBkb2VzIGFuZCB3aWxsIGNsZWFuXG4gICAqIHVwIGFsbCByZXNvdXJjZXMgdGhhdCBhbiBPYnNlcnZhYmxlIHVzZWQuIE5vdGUgdGhhdCBjYW5jZWxsaW5nIGEgc3Vic2NyaXB0aW9uIHdpbGwgbm90IGNhbGwgYGNvbXBsZXRlYCBjYWxsYmFja1xuICAgKiBwcm92aWRlZCB0byBgc3Vic2NyaWJlYCBmdW5jdGlvbiwgd2hpY2ggaXMgcmVzZXJ2ZWQgZm9yIGEgcmVndWxhciBjb21wbGV0aW9uIHNpZ25hbCB0aGF0IGNvbWVzIGZyb20gYW4gT2JzZXJ2YWJsZS5cbiAgICpcbiAgICogUmVtZW1iZXIgdGhhdCBjYWxsYmFja3MgcHJvdmlkZWQgdG8gYHN1YnNjcmliZWAgYXJlIG5vdCBndWFyYW50ZWVkIHRvIGJlIGNhbGxlZCBhc3luY2hyb25vdXNseS5cbiAgICogSXQgaXMgYW4gT2JzZXJ2YWJsZSBpdHNlbGYgdGhhdCBkZWNpZGVzIHdoZW4gdGhlc2UgZnVuY3Rpb25zIHdpbGwgYmUgY2FsbGVkLiBGb3IgZXhhbXBsZSB7QGxpbmsgb2Z9XG4gICAqIGJ5IGRlZmF1bHQgZW1pdHMgYWxsIGl0cyB2YWx1ZXMgc3luY2hyb25vdXNseS4gQWx3YXlzIGNoZWNrIGRvY3VtZW50YXRpb24gZm9yIGhvdyBnaXZlbiBPYnNlcnZhYmxlXG4gICAqIHdpbGwgYmVoYXZlIHdoZW4gc3Vic2NyaWJlZCBhbmQgaWYgaXRzIGRlZmF1bHQgYmVoYXZpb3IgY2FuIGJlIG1vZGlmaWVkIHdpdGggYSBgc2NoZWR1bGVyYC5cbiAgICpcbiAgICogIyMgRXhhbXBsZVxuICAgKiAjIyMgU3Vic2NyaWJlIHdpdGggYW4gT2JzZXJ2ZXJcbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiBjb25zdCBzdW1PYnNlcnZlciA9IHtcbiAgICogICBzdW06IDAsXG4gICAqICAgbmV4dCh2YWx1ZSkge1xuICAgKiAgICAgY29uc29sZS5sb2coJ0FkZGluZzogJyArIHZhbHVlKTtcbiAgICogICAgIHRoaXMuc3VtID0gdGhpcy5zdW0gKyB2YWx1ZTtcbiAgICogICB9LFxuICAgKiAgIGVycm9yKCkgeyAvLyBXZSBhY3R1YWxseSBjb3VsZCBqdXN0IHJlbW92ZSB0aGlzIG1ldGhvZCxcbiAgICogICB9LCAgICAgICAgLy8gc2luY2Ugd2UgZG8gbm90IHJlYWxseSBjYXJlIGFib3V0IGVycm9ycyByaWdodCBub3cuXG4gICAqICAgY29tcGxldGUoKSB7XG4gICAqICAgICBjb25zb2xlLmxvZygnU3VtIGVxdWFsczogJyArIHRoaXMuc3VtKTtcbiAgICogICB9XG4gICAqIH07XG4gICAqXG4gICAqIFJ4Lk9ic2VydmFibGUub2YoMSwgMiwgMykgLy8gU3luY2hyb25vdXNseSBlbWl0cyAxLCAyLCAzIGFuZCB0aGVuIGNvbXBsZXRlcy5cbiAgICogLnN1YnNjcmliZShzdW1PYnNlcnZlcik7XG4gICAqXG4gICAqIC8vIExvZ3M6XG4gICAqIC8vIFwiQWRkaW5nOiAxXCJcbiAgICogLy8gXCJBZGRpbmc6IDJcIlxuICAgKiAvLyBcIkFkZGluZzogM1wiXG4gICAqIC8vIFwiU3VtIGVxdWFsczogNlwiXG4gICAqIGBgYFxuICAgKlxuICAgKiAjIyMgU3Vic2NyaWJlIHdpdGggZnVuY3Rpb25zXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogbGV0IHN1bSA9IDA7XG4gICAqXG4gICAqIFJ4Lk9ic2VydmFibGUub2YoMSwgMiwgMylcbiAgICogLnN1YnNjcmliZShcbiAgICogICBmdW5jdGlvbih2YWx1ZSkge1xuICAgKiAgICAgY29uc29sZS5sb2coJ0FkZGluZzogJyArIHZhbHVlKTtcbiAgICogICAgIHN1bSA9IHN1bSArIHZhbHVlO1xuICAgKiAgIH0sXG4gICAqICAgdW5kZWZpbmVkLFxuICAgKiAgIGZ1bmN0aW9uKCkge1xuICAgKiAgICAgY29uc29sZS5sb2coJ1N1bSBlcXVhbHM6ICcgKyBzdW0pO1xuICAgKiAgIH1cbiAgICogKTtcbiAgICpcbiAgICogLy8gTG9nczpcbiAgICogLy8gXCJBZGRpbmc6IDFcIlxuICAgKiAvLyBcIkFkZGluZzogMlwiXG4gICAqIC8vIFwiQWRkaW5nOiAzXCJcbiAgICogLy8gXCJTdW0gZXF1YWxzOiA2XCJcbiAgICogYGBgXG4gICAqXG4gICAqICMjIyBDYW5jZWwgYSBzdWJzY3JpcHRpb25cbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiBjb25zdCBzdWJzY3JpcHRpb24gPSBSeC5PYnNlcnZhYmxlLmludGVydmFsKDEwMDApLnN1YnNjcmliZShcbiAgICogICBudW0gPT4gY29uc29sZS5sb2cobnVtKSxcbiAgICogICB1bmRlZmluZWQsXG4gICAqICAgKCkgPT4gY29uc29sZS5sb2coJ2NvbXBsZXRlZCEnKSAvLyBXaWxsIG5vdCBiZSBjYWxsZWQsIGV2ZW5cbiAgICogKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gY2FuY2VsbGluZyBzdWJzY3JpcHRpb25cbiAgICpcbiAgICpcbiAgICogc2V0VGltZW91dCgoKSA9PiB7XG4gICAqICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAqICAgY29uc29sZS5sb2coJ3Vuc3Vic2NyaWJlZCEnKTtcbiAgICogfSwgMjUwMCk7XG4gICAqXG4gICAqIC8vIExvZ3M6XG4gICAqIC8vIDAgYWZ0ZXIgMXNcbiAgICogLy8gMSBhZnRlciAyc1xuICAgKiAvLyBcInVuc3Vic2NyaWJlZCFcIiBhZnRlciAyLjVzXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0ge09ic2VydmVyfEZ1bmN0aW9ufSBvYnNlcnZlck9yTmV4dCAob3B0aW9uYWwpIEVpdGhlciBhbiBvYnNlcnZlciB3aXRoIG1ldGhvZHMgdG8gYmUgY2FsbGVkLFxuICAgKiAgb3IgdGhlIGZpcnN0IG9mIHRocmVlIHBvc3NpYmxlIGhhbmRsZXJzLCB3aGljaCBpcyB0aGUgaGFuZGxlciBmb3IgZWFjaCB2YWx1ZSBlbWl0dGVkIGZyb20gdGhlIHN1YnNjcmliZWRcbiAgICogIE9ic2VydmFibGUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVycm9yIChvcHRpb25hbCkgQSBoYW5kbGVyIGZvciBhIHRlcm1pbmFsIGV2ZW50IHJlc3VsdGluZyBmcm9tIGFuIGVycm9yLiBJZiBubyBlcnJvciBoYW5kbGVyIGlzIHByb3ZpZGVkLFxuICAgKiAgdGhlIGVycm9yIHdpbGwgYmUgdGhyb3duIGFzIHVuaGFuZGxlZC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGxldGUgKG9wdGlvbmFsKSBBIGhhbmRsZXIgZm9yIGEgdGVybWluYWwgZXZlbnQgcmVzdWx0aW5nIGZyb20gc3VjY2Vzc2Z1bCBjb21wbGV0aW9uLlxuICAgKiBAcmV0dXJuIHtJU3Vic2NyaXB0aW9ufSBhIHN1YnNjcmlwdGlvbiByZWZlcmVuY2UgdG8gdGhlIHJlZ2lzdGVyZWQgaGFuZGxlcnNcbiAgICogQG1ldGhvZCBzdWJzY3JpYmVcbiAgICovXG4gIHN1YnNjcmliZShvYnNlcnZlck9yTmV4dD86IFBhcnRpYWxPYnNlcnZlcjxUPiB8ICgodmFsdWU6IFQpID0+IHZvaWQpLFxuICAgICAgICAgICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICAgICAgICAgIGNvbXBsZXRlPzogKCkgPT4gdm9pZCk6IFN1YnNjcmlwdGlvbiB7XG5cbiAgICBjb25zdCB7IG9wZXJhdG9yIH0gPSB0aGlzO1xuICAgIGNvbnN0IHNpbmsgPSB0b1N1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG5cbiAgICBpZiAob3BlcmF0b3IpIHtcbiAgICAgIG9wZXJhdG9yLmNhbGwoc2luaywgdGhpcy5zb3VyY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaW5rLmFkZChcbiAgICAgICAgdGhpcy5zb3VyY2UgfHwgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nICYmICFzaW5rLnN5bmNFcnJvclRocm93YWJsZSkgP1xuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoc2luaykgOlxuICAgICAgICB0aGlzLl90cnlTdWJzY3JpYmUoc2luaylcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICBpZiAoc2luay5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgc2luay5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHNpbmsuc3luY0Vycm9yVGhyb3duKSB7XG4gICAgICAgICAgdGhyb3cgc2luay5zeW5jRXJyb3JWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzaW5rO1xuICB9XG5cbiAgLyoqIEBkZXByZWNhdGVkIFRoaXMgaXMgYW4gaW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlLiAqL1xuICBfdHJ5U3Vic2NyaWJlKHNpbms6IFN1YnNjcmliZXI8VD4pOiBUZWFyZG93bkxvZ2ljIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZShzaW5rKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICBzaW5rLnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgIHNpbmsuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICB9XG4gICAgICBpZiAoY2FuUmVwb3J0RXJyb3Ioc2luaykpIHtcbiAgICAgICAgc2luay5lcnJvcihlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKGVycik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgZm9yRWFjaFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0IGEgaGFuZGxlciBmb3IgZWFjaCB2YWx1ZSBlbWl0dGVkIGJ5IHRoZSBvYnNlcnZhYmxlXG4gICAqIEBwYXJhbSB7UHJvbWlzZUNvbnN0cnVjdG9yfSBbcHJvbWlzZUN0b3JdIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gdXNlZCB0byBpbnN0YW50aWF0ZSB0aGUgUHJvbWlzZVxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBhIHByb21pc2UgdGhhdCBlaXRoZXIgcmVzb2x2ZXMgb24gb2JzZXJ2YWJsZSBjb21wbGV0aW9uIG9yXG4gICAqICByZWplY3RzIHdpdGggdGhlIGhhbmRsZWQgZXJyb3JcbiAgICovXG4gIGZvckVhY2gobmV4dDogKHZhbHVlOiBUKSA9PiB2b2lkLCBwcm9taXNlQ3Rvcj86IFByb21pc2VDb25zdHJ1Y3Rvckxpa2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcblxuICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3I8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgLy8gTXVzdCBiZSBkZWNsYXJlZCBpbiBhIHNlcGFyYXRlIHN0YXRlbWVudCB0byBhdm9pZCBhIFJlZmVybmNlRXJyb3Igd2hlblxuICAgICAgLy8gYWNjZXNzaW5nIHN1YnNjcmlwdGlvbiBiZWxvdyBpbiB0aGUgY2xvc3VyZSBkdWUgdG8gVGVtcG9yYWwgRGVhZCBab25lLlxuICAgICAgbGV0IHN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xuICAgICAgc3Vic2NyaXB0aW9uID0gdGhpcy5zdWJzY3JpYmUoKHZhbHVlKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbmV4dCh2YWx1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgcmVqZWN0LCByZXNvbHZlKTtcbiAgICB9KSBhcyBQcm9taXNlPHZvaWQ+O1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCBUaGlzIGlzIGFuIGludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZS4gKi9cbiAgX3N1YnNjcmliZShzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPGFueT4pOiBUZWFyZG93bkxvZ2ljIHtcbiAgICBjb25zdCB7IHNvdXJjZSB9ID0gdGhpcztcbiAgICByZXR1cm4gc291cmNlICYmIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gIH1cblxuICAvLyBgaWZgIGFuZCBgdGhyb3dgIGFyZSBzcGVjaWFsIHNub3cgZmxha2VzLCB0aGUgY29tcGlsZXIgc2VlcyB0aGVtIGFzIHJlc2VydmVkIHdvcmRzLiBEZXByZWNhdGVkIGluXG4gIC8vIGZhdm9yIG9mIGlpZiBhbmQgdGhyb3dFcnJvciBmdW5jdGlvbnMuXG4gIC8qKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAZGVwcmVjYXRlZCBJbiBmYXZvciBvZiBpaWYgY3JlYXRpb24gZnVuY3Rpb246IGltcG9ydCB7IGlpZiB9IGZyb20gJ3J4anMnO1xuICAgKi9cbiAgc3RhdGljIGlmOiB0eXBlb2YgaWlmO1xuICAvKipcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGRlcHJlY2F0ZWQgSW4gZmF2b3Igb2YgdGhyb3dFcnJvciBjcmVhdGlvbiBmdW5jdGlvbjogaW1wb3J0IHsgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xuICAgKi9cbiAgc3RhdGljIHRocm93OiB0eXBlb2YgdGhyb3dFcnJvcjtcblxuICAvKipcbiAgICogQW4gaW50ZXJvcCBwb2ludCBkZWZpbmVkIGJ5IHRoZSBlczctb2JzZXJ2YWJsZSBzcGVjIGh0dHBzOi8vZ2l0aHViLmNvbS96ZW5wYXJzaW5nL2VzLW9ic2VydmFibGVcbiAgICogQG1ldGhvZCBTeW1ib2wub2JzZXJ2YWJsZVxuICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSB0aGlzIGluc3RhbmNlIG9mIHRoZSBvYnNlcnZhYmxlXG4gICAqL1xuICBbU3ltYm9sX29ic2VydmFibGVdKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovXG4gIHBpcGUoKTogT2JzZXJ2YWJsZTxUPjtcbiAgcGlwZTxBPihvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4pOiBPYnNlcnZhYmxlPEE+O1xuICBwaXBlPEEsIEI+KG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPiwgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+KTogT2JzZXJ2YWJsZTxCPjtcbiAgcGlwZTxBLCBCLCBDPihvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sIG9wMjogT3BlcmF0b3JGdW5jdGlvbjxBLCBCPiwgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+KTogT2JzZXJ2YWJsZTxDPjtcbiAgcGlwZTxBLCBCLCBDLCBEPihvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sIG9wMjogT3BlcmF0b3JGdW5jdGlvbjxBLCBCPiwgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LCBvcDQ6IE9wZXJhdG9yRnVuY3Rpb248QywgRD4pOiBPYnNlcnZhYmxlPEQ+O1xuICBwaXBlPEEsIEIsIEMsIEQsIEU+KG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPiwgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LCBvcDM6IE9wZXJhdG9yRnVuY3Rpb248QiwgQz4sIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPiwgb3A1OiBPcGVyYXRvckZ1bmN0aW9uPEQsIEU+KTogT2JzZXJ2YWJsZTxFPjtcbiAgcGlwZTxBLCBCLCBDLCBELCBFLCBGPihvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sIG9wMjogT3BlcmF0b3JGdW5jdGlvbjxBLCBCPiwgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LCBvcDQ6IE9wZXJhdG9yRnVuY3Rpb248QywgRD4sIG9wNTogT3BlcmF0b3JGdW5jdGlvbjxELCBFPiwgb3A2OiBPcGVyYXRvckZ1bmN0aW9uPEUsIEY+KTogT2JzZXJ2YWJsZTxGPjtcbiAgcGlwZTxBLCBCLCBDLCBELCBFLCBGLCBHPihvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sIG9wMjogT3BlcmF0b3JGdW5jdGlvbjxBLCBCPiwgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LCBvcDQ6IE9wZXJhdG9yRnVuY3Rpb248QywgRD4sIG9wNTogT3BlcmF0b3JGdW5jdGlvbjxELCBFPiwgb3A2OiBPcGVyYXRvckZ1bmN0aW9uPEUsIEY+LCBvcDc6IE9wZXJhdG9yRnVuY3Rpb248RiwgRz4pOiBPYnNlcnZhYmxlPEc+O1xuICBwaXBlPEEsIEIsIEMsIEQsIEUsIEYsIEcsIEg+KG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPiwgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LCBvcDM6IE9wZXJhdG9yRnVuY3Rpb248QiwgQz4sIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPiwgb3A1OiBPcGVyYXRvckZ1bmN0aW9uPEQsIEU+LCBvcDY6IE9wZXJhdG9yRnVuY3Rpb248RSwgRj4sIG9wNzogT3BlcmF0b3JGdW5jdGlvbjxGLCBHPiwgb3A4OiBPcGVyYXRvckZ1bmN0aW9uPEcsIEg+KTogT2JzZXJ2YWJsZTxIPjtcbiAgcGlwZTxBLCBCLCBDLCBELCBFLCBGLCBHLCBILCBJPihvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sIG9wMjogT3BlcmF0b3JGdW5jdGlvbjxBLCBCPiwgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LCBvcDQ6IE9wZXJhdG9yRnVuY3Rpb248QywgRD4sIG9wNTogT3BlcmF0b3JGdW5jdGlvbjxELCBFPiwgb3A2OiBPcGVyYXRvckZ1bmN0aW9uPEUsIEY+LCBvcDc6IE9wZXJhdG9yRnVuY3Rpb248RiwgRz4sIG9wODogT3BlcmF0b3JGdW5jdGlvbjxHLCBIPiwgb3A5OiBPcGVyYXRvckZ1bmN0aW9uPEgsIEk+KTogT2JzZXJ2YWJsZTxJPjtcbiAgcGlwZTxBLCBCLCBDLCBELCBFLCBGLCBHLCBILCBJPihvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sIG9wMjogT3BlcmF0b3JGdW5jdGlvbjxBLCBCPiwgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LCBvcDQ6IE9wZXJhdG9yRnVuY3Rpb248QywgRD4sIG9wNTogT3BlcmF0b3JGdW5jdGlvbjxELCBFPiwgb3A2OiBPcGVyYXRvckZ1bmN0aW9uPEUsIEY+LCBvcDc6IE9wZXJhdG9yRnVuY3Rpb248RiwgRz4sIG9wODogT3BlcmF0b3JGdW5jdGlvbjxHLCBIPiwgb3A5OiBPcGVyYXRvckZ1bmN0aW9uPEgsIEk+LCAuLi5vcGVyYXRpb25zOiBPcGVyYXRvckZ1bmN0aW9uPGFueSwgYW55PltdKTogT2JzZXJ2YWJsZTx7fT47XG4gIC8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gc3RpdGNoIHRvZ2V0aGVyIGZ1bmN0aW9uYWwgb3BlcmF0b3JzIGludG8gYSBjaGFpbi5cbiAgICogQG1ldGhvZCBwaXBlXG4gICAqIEByZXR1cm4ge09ic2VydmFibGV9IHRoZSBPYnNlcnZhYmxlIHJlc3VsdCBvZiBhbGwgb2YgdGhlIG9wZXJhdG9ycyBoYXZpbmdcbiAgICogYmVlbiBjYWxsZWQgaW4gdGhlIG9yZGVyIHRoZXkgd2VyZSBwYXNzZWQgaW4uXG4gICAqXG4gICAqICMjIyBFeGFtcGxlXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogaW1wb3J0IHsgbWFwLCBmaWx0ZXIsIHNjYW4gfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG4gICAqXG4gICAqIFJ4Lk9ic2VydmFibGUuaW50ZXJ2YWwoMTAwMClcbiAgICogICAucGlwZShcbiAgICogICAgIGZpbHRlcih4ID0+IHggJSAyID09PSAwKSxcbiAgICogICAgIG1hcCh4ID0+IHggKyB4KSxcbiAgICogICAgIHNjYW4oKGFjYywgeCkgPT4gYWNjICsgeClcbiAgICogICApXG4gICAqICAgLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKVxuICAgKiBgYGBcbiAgICovXG4gIHBpcGUoLi4ub3BlcmF0aW9uczogT3BlcmF0b3JGdW5jdGlvbjxhbnksIGFueT5bXSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgaWYgKG9wZXJhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcyBhcyBhbnk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkob3BlcmF0aW9ucykodGhpcyk7XG4gIH1cblxuICAvKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbiAgdG9Qcm9taXNlPFQ+KHRoaXM6IE9ic2VydmFibGU8VD4pOiBQcm9taXNlPFQ+O1xuICB0b1Byb21pc2U8VD4odGhpczogT2JzZXJ2YWJsZTxUPiwgUHJvbWlzZUN0b3I6IHR5cGVvZiBQcm9taXNlKTogUHJvbWlzZTxUPjtcbiAgdG9Qcm9taXNlPFQ+KHRoaXM6IE9ic2VydmFibGU8VD4sIFByb21pc2VDdG9yOiBQcm9taXNlQ29uc3RydWN0b3JMaWtlKTogUHJvbWlzZTxUPjtcbiAgLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cblxuICB0b1Byb21pc2UocHJvbWlzZUN0b3I/OiBQcm9taXNlQ29uc3RydWN0b3JMaWtlKTogUHJvbWlzZTxUPiB7XG4gICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG5cbiAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCB2YWx1ZTogYW55O1xuICAgICAgdGhpcy5zdWJzY3JpYmUoKHg6IFQpID0+IHZhbHVlID0geCwgKGVycjogYW55KSA9PiByZWplY3QoZXJyKSwgKCkgPT4gcmVzb2x2ZSh2YWx1ZSkpO1xuICAgIH0pIGFzIFByb21pc2U8VD47XG4gIH1cbn1cblxuLyoqXG4gKiBEZWNpZGVzIGJldHdlZW4gYSBwYXNzZWQgcHJvbWlzZSBjb25zdHJ1Y3RvciBmcm9tIGNvbnN1bWluZyBjb2RlLFxuICogQSBkZWZhdWx0IGNvbmZpZ3VyZWQgcHJvbWlzZSBjb25zdHJ1Y3RvciwgYW5kIHRoZSBuYXRpdmUgcHJvbWlzZVxuICogY29uc3RydWN0b3IgYW5kIHJldHVybnMgaXQuIElmIG5vdGhpbmcgY2FuIGJlIGZvdW5kLCBpdCB3aWxsIHRocm93XG4gKiBhbiBlcnJvci5cbiAqIEBwYXJhbSBwcm9taXNlQ3RvciBUaGUgb3B0aW9uYWwgcHJvbWlzZSBjb25zdHJ1Y3RvciB0byBwYXNzZWQgYnkgY29uc3VtaW5nIGNvZGVcbiAqL1xuZnVuY3Rpb24gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3I6IFByb21pc2VDb25zdHJ1Y3Rvckxpa2UgfCB1bmRlZmluZWQpIHtcbiAgaWYgKCFwcm9taXNlQ3Rvcikge1xuICAgIHByb21pc2VDdG9yID0gY29uZmlnLlByb21pc2UgfHwgUHJvbWlzZTtcbiAgfVxuXG4gIGlmICghcHJvbWlzZUN0b3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIFByb21pc2UgaW1wbCBmb3VuZCcpO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2VDdG9yO1xufVxuIiwiaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL3N5bWJvbC9yeFN1YnNjcmliZXInO1xuaW1wb3J0IHsgZW1wdHkgYXMgZW1wdHlPYnNlcnZlciB9IGZyb20gJy4uL09ic2VydmVyJztcbmltcG9ydCB7IFBhcnRpYWxPYnNlcnZlciB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHRvU3Vic2NyaWJlcjxUPihcbiAgbmV4dE9yT2JzZXJ2ZXI/OiBQYXJ0aWFsT2JzZXJ2ZXI8VD4gfCAoKHZhbHVlOiBUKSA9PiB2b2lkKSxcbiAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgY29tcGxldGU/OiAoKSA9PiB2b2lkKTogU3Vic2NyaWJlcjxUPiB7XG5cbiAgaWYgKG5leHRPck9ic2VydmVyKSB7XG4gICAgaWYgKG5leHRPck9ic2VydmVyIGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgcmV0dXJuICg8U3Vic2NyaWJlcjxUPj4gbmV4dE9yT2JzZXJ2ZXIpO1xuICAgIH1cblxuICAgIGlmIChuZXh0T3JPYnNlcnZlcltyeFN1YnNjcmliZXJTeW1ib2xdKSB7XG4gICAgICByZXR1cm4gbmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyU3ltYm9sXSgpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghbmV4dE9yT2JzZXJ2ZXIgJiYgIWVycm9yICYmICFjb21wbGV0ZSkge1xuICAgIHJldHVybiBuZXcgU3Vic2NyaWJlcihlbXB0eU9ic2VydmVyKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgU3Vic2NyaWJlcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKTtcbn1cbiIsImltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuLi9TdWJqZWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIEVycm9yT2JzZXJ2ZXIgaXMgY2xvc2VkIG9yIHN0b3BwZWQgb3IgaGFzIGFcbiAqIGRlc3RpbmF0aW9uIHRoYXQgaXMgY2xvc2VkIG9yIHN0b3BwZWQgLSBpbiB3aGljaCBjYXNlIGVycm9ycyB3aWxsXG4gKiBuZWVkIHRvIGJlIHJlcG9ydGVkIHZpYSBhIGRpZmZlcmVudCBtZWNoYW5pc20uXG4gKiBAcGFyYW0gb2JzZXJ2ZXIgdGhlIG9ic2VydmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYW5SZXBvcnRFcnJvcihvYnNlcnZlcjogU3Vic2NyaWJlcjxhbnk+IHwgU3ViamVjdDxhbnk+KTogYm9vbGVhbiB7XG4gIHdoaWxlIChvYnNlcnZlcikge1xuICAgIGNvbnN0IHsgY2xvc2VkLCBkZXN0aW5hdGlvbiwgaXNTdG9wcGVkIH0gPSBvYnNlcnZlciBhcyBhbnk7XG4gICAgaWYgKGNsb3NlZCB8fCBpc1N0b3BwZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uIGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgb2JzZXJ2ZXIgPSBkZXN0aW5hdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JzZXJ2ZXIgPSBudWxsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbiIsImV4cG9ydCBpbnRlcmZhY2UgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JDdG9yIHtcbiAgbmV3KCk6IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yO1xufVxuXG5mdW5jdGlvbiBPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwodGhpczogYW55KSB7XG4gIEVycm9yLmNhbGwodGhpcyk7XG4gIHRoaXMubWVzc2FnZSA9ICdvYmplY3QgdW5zdWJzY3JpYmVkJztcbiAgdGhpcy5uYW1lID0gJ09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbiAgcmV0dXJuIHRoaXM7XG59XG5cbk9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5cbi8qKlxuICogQW4gZXJyb3IgdGhyb3duIHdoZW4gYW4gYWN0aW9uIGlzIGludmFsaWQgYmVjYXVzZSB0aGUgb2JqZWN0IGhhcyBiZWVuXG4gKiB1bnN1YnNjcmliZWQuXG4gKlxuICogQHNlZSB7QGxpbmsgU3ViamVjdH1cbiAqIEBzZWUge0BsaW5rIEJlaGF2aW9yU3ViamVjdH1cbiAqXG4gKiBAY2xhc3MgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JcbiAqL1xuZXhwb3J0IGNvbnN0IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yOiBPYmplY3RVbnN1YnNjcmliZWRFcnJvckN0b3IgPSBPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwgYXMgYW55OyIsImltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuL1N1YmplY3QnO1xuaW1wb3J0IHsgT2JzZXJ2ZXIgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcblxuLyoqXG4gKiBXZSBuZWVkIHRoaXMgSlNEb2MgY29tbWVudCBmb3IgYWZmZWN0aW5nIEVTRG9jLlxuICogQGlnbm9yZVxuICogQGV4dGVuZHMge0lnbm9yZWR9XG4gKi9cbmV4cG9ydCBjbGFzcyBTdWJqZWN0U3Vic2NyaXB0aW9uPFQ+IGV4dGVuZHMgU3Vic2NyaXB0aW9uIHtcbiAgY2xvc2VkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHN1YmplY3Q6IFN1YmplY3Q8VD4sIHB1YmxpYyBzdWJzY3JpYmVyOiBPYnNlcnZlcjxUPikge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICB1bnN1YnNjcmliZSgpIHtcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG5cbiAgICBjb25zdCBzdWJqZWN0ID0gdGhpcy5zdWJqZWN0O1xuICAgIGNvbnN0IG9ic2VydmVycyA9IHN1YmplY3Qub2JzZXJ2ZXJzO1xuXG4gICAgdGhpcy5zdWJqZWN0ID0gbnVsbDtcblxuICAgIGlmICghb2JzZXJ2ZXJzIHx8IG9ic2VydmVycy5sZW5ndGggPT09IDAgfHwgc3ViamVjdC5pc1N0b3BwZWQgfHwgc3ViamVjdC5jbG9zZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzdWJzY3JpYmVySW5kZXggPSBvYnNlcnZlcnMuaW5kZXhPZih0aGlzLnN1YnNjcmliZXIpO1xuXG4gICAgaWYgKHN1YnNjcmliZXJJbmRleCAhPT0gLTEpIHtcbiAgICAgIG9ic2VydmVycy5zcGxpY2Uoc3Vic2NyaWJlckluZGV4LCAxKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yIH0gZnJvbSAnLi9PcGVyYXRvcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgT2JzZXJ2ZXIsIFN1YnNjcmlwdGlvbkxpa2UsIFRlYXJkb3duTG9naWMgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yIH0gZnJvbSAnLi91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbmltcG9ydCB7IFN1YmplY3RTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YmplY3RTdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXInO1xuXG4vKipcbiAqIEBjbGFzcyBTdWJqZWN0U3Vic2NyaWJlcjxUPlxuICovXG5leHBvcnQgY2xhc3MgU3ViamVjdFN1YnNjcmliZXI8VD4gZXh0ZW5kcyBTdWJzY3JpYmVyPFQ+IHtcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIGRlc3RpbmF0aW9uOiBTdWJqZWN0PFQ+KSB7XG4gICAgc3VwZXIoZGVzdGluYXRpb24pO1xuICB9XG59XG5cbi8qKlxuICogQSBTdWJqZWN0IGlzIGEgc3BlY2lhbCB0eXBlIG9mIE9ic2VydmFibGUgdGhhdCBhbGxvd3MgdmFsdWVzIHRvIGJlXG4gKiBtdWx0aWNhc3RlZCB0byBtYW55IE9ic2VydmFibGVzLiBTdWJqZWN0cyBhcmUgbGlrZSBFdmVudEVtaXR0ZXJzLlxuICpcbiAqIEV2ZXJ5IFN1YmplY3QgaXMgYW4gT2JzZXJ2YWJsZSBhbmQgYW4gT2JzZXJ2ZXIuIFlvdSBjYW4gc3Vic2NyaWJlIHRvIGFcbiAqIFN1YmplY3QsIGFuZCB5b3UgY2FuIGNhbGwgbmV4dCB0byBmZWVkIHZhbHVlcyBhcyB3ZWxsIGFzIGVycm9yIGFuZCBjb21wbGV0ZS5cbiAqXG4gKiBAY2xhc3MgU3ViamVjdDxUPlxuICovXG5leHBvcnQgY2xhc3MgU3ViamVjdDxUPiBleHRlbmRzIE9ic2VydmFibGU8VD4gaW1wbGVtZW50cyBTdWJzY3JpcHRpb25MaWtlIHtcblxuICBbcnhTdWJzY3JpYmVyU3ltYm9sXSgpIHtcbiAgICByZXR1cm4gbmV3IFN1YmplY3RTdWJzY3JpYmVyKHRoaXMpO1xuICB9XG5cbiAgb2JzZXJ2ZXJzOiBPYnNlcnZlcjxUPltdID0gW107XG5cbiAgY2xvc2VkID0gZmFsc2U7XG5cbiAgaXNTdG9wcGVkID0gZmFsc2U7XG5cbiAgaGFzRXJyb3IgPSBmYWxzZTtcblxuICB0aHJvd25FcnJvcjogYW55ID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqQG5vY29sbGFwc2UgKi9cbiAgc3RhdGljIGNyZWF0ZTogRnVuY3Rpb24gPSA8VD4oZGVzdGluYXRpb246IE9ic2VydmVyPFQ+LCBzb3VyY2U6IE9ic2VydmFibGU8VD4pOiBBbm9ueW1vdXNTdWJqZWN0PFQ+ID0+IHtcbiAgICByZXR1cm4gbmV3IEFub255bW91c1N1YmplY3Q8VD4oZGVzdGluYXRpb24sIHNvdXJjZSk7XG4gIH1cblxuICBsaWZ0PFI+KG9wZXJhdG9yOiBPcGVyYXRvcjxULCBSPik6IE9ic2VydmFibGU8Uj4ge1xuICAgIGNvbnN0IHN1YmplY3QgPSBuZXcgQW5vbnltb3VzU3ViamVjdCh0aGlzLCB0aGlzKTtcbiAgICBzdWJqZWN0Lm9wZXJhdG9yID0gPGFueT5vcGVyYXRvcjtcbiAgICByZXR1cm4gPGFueT5zdWJqZWN0O1xuICB9XG5cbiAgbmV4dCh2YWx1ZT86IFQpIHtcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICBjb25zdCB7IG9ic2VydmVycyB9ID0gdGhpcztcbiAgICAgIGNvbnN0IGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgICBjb25zdCBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvcHlbaV0ubmV4dCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZXJyb3IoZXJyOiBhbnkpIHtcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgIH1cbiAgICB0aGlzLmhhc0Vycm9yID0gdHJ1ZTtcbiAgICB0aGlzLnRocm93bkVycm9yID0gZXJyO1xuICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICBjb25zdCB7IG9ic2VydmVycyB9ID0gdGhpcztcbiAgICBjb25zdCBsZW4gPSBvYnNlcnZlcnMubGVuZ3RoO1xuICAgIGNvbnN0IGNvcHkgPSBvYnNlcnZlcnMuc2xpY2UoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb3B5W2ldLmVycm9yKGVycik7XG4gICAgfVxuICAgIHRoaXMub2JzZXJ2ZXJzLmxlbmd0aCA9IDA7XG4gIH1cblxuICBjb21wbGV0ZSgpIHtcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgIH1cbiAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgY29uc3QgeyBvYnNlcnZlcnMgfSA9IHRoaXM7XG4gICAgY29uc3QgbGVuID0gb2JzZXJ2ZXJzLmxlbmd0aDtcbiAgICBjb25zdCBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29weVtpXS5jb21wbGV0ZSgpO1xuICAgIH1cbiAgICB0aGlzLm9ic2VydmVycy5sZW5ndGggPSAwO1xuICB9XG5cbiAgdW5zdWJzY3JpYmUoKSB7XG4gICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICB0aGlzLm9ic2VydmVycyA9IG51bGw7XG4gIH1cblxuICAvKiogQGRlcHJlY2F0ZWQgVGhpcyBpcyBhbiBpbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UuICovXG4gIF90cnlTdWJzY3JpYmUoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPik6IFRlYXJkb3duTG9naWMge1xuICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdXBlci5fdHJ5U3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAZGVwcmVjYXRlZCBUaGlzIGlzIGFuIGludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZS4gKi9cbiAgX3N1YnNjcmliZShzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KTogU3Vic2NyaXB0aW9uIHtcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5oYXNFcnJvcikge1xuICAgICAgc3Vic2NyaWJlci5lcnJvcih0aGlzLnRocm93bkVycm9yKTtcbiAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChzdWJzY3JpYmVyKTtcbiAgICAgIHJldHVybiBuZXcgU3ViamVjdFN1YnNjcmlwdGlvbih0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBPYnNlcnZhYmxlIHdpdGggdGhpcyBTdWJqZWN0IGFzIHRoZSBzb3VyY2UuIFlvdSBjYW4gZG8gdGhpc1xuICAgKiB0byBjcmVhdGUgY3VzdG9taXplIE9ic2VydmVyLXNpZGUgbG9naWMgb2YgdGhlIFN1YmplY3QgYW5kIGNvbmNlYWwgaXQgZnJvbVxuICAgKiBjb2RlIHRoYXQgdXNlcyB0aGUgT2JzZXJ2YWJsZS5cbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZX0gT2JzZXJ2YWJsZSB0aGF0IHRoZSBTdWJqZWN0IGNhc3RzIHRvXG4gICAqL1xuICBhc09ic2VydmFibGUoKTogT2JzZXJ2YWJsZTxUPiB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPFQ+KCk7XG4gICAgKDxhbnk+b2JzZXJ2YWJsZSkuc291cmNlID0gdGhpcztcbiAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgfVxufVxuXG4vKipcbiAqIEBjbGFzcyBBbm9ueW1vdXNTdWJqZWN0PFQ+XG4gKi9cbmV4cG9ydCBjbGFzcyBBbm9ueW1vdXNTdWJqZWN0PFQ+IGV4dGVuZHMgU3ViamVjdDxUPiB7XG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBkZXN0aW5hdGlvbj86IE9ic2VydmVyPFQ+LCBzb3VyY2U/OiBPYnNlcnZhYmxlPFQ+KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgfVxuXG4gIG5leHQodmFsdWU6IFQpIHtcbiAgICBjb25zdCB7IGRlc3RpbmF0aW9uIH0gPSB0aGlzO1xuICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5uZXh0KSB7XG4gICAgICBkZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBlcnJvcihlcnI6IGFueSkge1xuICAgIGNvbnN0IHsgZGVzdGluYXRpb24gfSA9IHRoaXM7XG4gICAgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uLmVycm9yKSB7XG4gICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgfVxuICB9XG5cbiAgY29tcGxldGUoKSB7XG4gICAgY29uc3QgeyBkZXN0aW5hdGlvbiB9ID0gdGhpcztcbiAgICBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24uY29tcGxldGUpIHtcbiAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9XG4gIH1cblxuICAvKiogQGRlcHJlY2F0ZWQgVGhpcyBpcyBhbiBpbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UuICovXG4gIF9zdWJzY3JpYmUoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPik6IFN1YnNjcmlwdGlvbiB7XG4gICAgY29uc3QgeyBzb3VyY2UgfSA9IHRoaXM7XG4gICAgaWYgKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICB9XG4gIH1cbn1cbiIsImxldCBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MgPSBmYWxzZTtcblxuLyoqXG4gKiBUaGUgZ2xvYmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciBSeEpTLCB1c2VkIHRvIGNvbmZpZ3VyZSB0aGluZ3NcbiAqIGxpa2Ugd2hhdCBQcm9taXNlIGNvbnRydWN0b3Igc2hvdWxkIHVzZWQgdG8gY3JlYXRlIFByb21pc2VzXG4gKi9cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIC8qKlxuICAgKiBUaGUgcHJvbWlzZSBjb25zdHJ1Y3RvciB1c2VkIGJ5IGRlZmF1bHQgZm9yIG1ldGhvZHMgc3VjaCBhc1xuICAgKiB7QGxpbmsgdG9Qcm9taXNlfSBhbmQge0BsaW5rIGZvckVhY2h9XG4gICAqL1xuICBQcm9taXNlOiB1bmRlZmluZWQgYXMgUHJvbWlzZUNvbnN0cnVjdG9yTGlrZSxcblxuICAvKipcbiAgICogSWYgdHJ1ZSwgdHVybnMgb24gc3luY2hyb25vdXMgZXJyb3IgcmV0aHJvd2luZywgd2hpY2ggaXMgYSBkZXByZWNhdGVkIGJlaGF2aW9yXG4gICAqIGluIHY2IGFuZCBoaWdoZXIuIFRoaXMgYmVoYXZpb3IgZW5hYmxlcyBiYWQgcGF0dGVybnMgbGlrZSB3cmFwcGluZyBhIHN1YnNjcmliZVxuICAgKiBjYWxsIGluIGEgdHJ5L2NhdGNoIGJsb2NrLiBJdCBhbHNvIGVuYWJsZXMgcHJvZHVjZXIgaW50ZXJmZXJlbmNlLCBhIG5hc3R5IGJ1Z1xuICAgKiB3aGVyZSBhIG11bHRpY2FzdCBjYW4gYmUgYnJva2VuIGZvciBhbGwgb2JzZXJ2ZXJzIGJ5IGEgZG93bnN0cmVhbSBjb25zdW1lciB3aXRoXG4gICAqIGFuIHVuaGFuZGxlZCBlcnJvci4gRE8gTk9UIFVTRSBUSElTIEZMQUcgVU5MRVNTIElUJ1MgTkVFREVEIFRPIEJZIFRJTUVcbiAgICogRk9SIE1JR1JBVElPTiBSRUFTT05TLlxuICAgKi9cbiAgc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcodmFsdWU6IGJvb2xlYW4pIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCk7XG4gICAgICBjb25zb2xlLndhcm4oJ0RFUFJFQ0FURUQhIFJ4SlMgd2FzIHNldCB0byB1c2UgZGVwcmVjYXRlZCBzeW5jaHJvbm91cyBlcnJvciBoYW5kbGluZyBiZWhhdmlvciBieSBjb2RlIGF0OiBcXG4nICsgZXJyb3Iuc3RhY2spO1xuICAgIH0gZWxzZSBpZiAoX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzKSB7XG4gICAgICBjb25zb2xlLmxvZygnUnhKUzogQmFjayB0byBhIGJldHRlciBlcnJvciBiZWhhdmlvci4gVGhhbmsgeW91LiA8MycpO1xuICAgIH1cbiAgICBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MgPSB2YWx1ZTtcbiAgfSxcblxuICBnZXQgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZygpIHtcbiAgICByZXR1cm4gX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzO1xuICB9LFxufTtcbiIsImltcG9ydCB7U3ViamVjdH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge0lDbG9ja30gZnJvbSAnLi4vY2xvY2svaW50ZXJmYWNlJztcbmltcG9ydCB7Q2h1cm5UeXBlfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuLi9tZXNzYWdlL2FkZHJlc3MnO1xuaW1wb3J0IHtDb25uZWN0aW9uTmVnb3RpYXRpb25UeXBlfSBmcm9tICcuLi9tZXNzYWdlL2Nvbm5lY3Rpb24tbmVnb3RpYXRpb24nO1xuaW1wb3J0IHtJTWVzc2FnZX0gZnJvbSAnLi4vbWVzc2FnZS9pbnRlcmZhY2UnO1xuaW1wb3J0IHtJQ29ubmVjdGlvbk1ldGVyfSBmcm9tICcuLi9tZXRlcmluZy9jb25uZWN0aW9uLW1ldGVyL2ludGVyZmFjZSc7XG5cbmV4cG9ydCB0eXBlIElDb25uZWN0aW9uQ29uc3RydWN0b3IgPSBuZXcgKFxuICBhZGRyZXNzOiBBZGRyZXNzLFxuICBjbG9jazogSUNsb2NrLFxuICBvcHRpb25zPzogSUNvbm5lY3Rpb25PcHRpb25zXG4pID0+IElDb25uZWN0aW9uO1xuXG5leHBvcnQgZW51bSBQcm90b2NvbCB7XG4gIFdFQlNPQ0tFVF9VTlNFQ1VSRSA9ICd3cycsXG4gIFdFQlNPQ0tFVCA9ICd3c3MnLFxuICBXRUJSVENfREFUQSA9ICd3ZWJydGMtZGF0YScsXG4gIFdFQlJUQ19TVFJFQU0gPSAnd2VicnRjLXN0cmVhbScsXG4gIFZJQSA9ICd2aWEnLFxuICBWSUFfTVVMVEkgPSAndmlhLW11bHRpJ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDb25uZWN0aW9uQ2h1cm5FdmVudCB7XG4gIHR5cGU6IENodXJuVHlwZTtcbiAgY29ubmVjdGlvbjogSUNvbm5lY3Rpb247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNvbm5lY3Rpb25PcHRpb25zIHtcbiAgbWl0b3Npc0lkPzogc3RyaW5nO1xuICBwYXlsb2FkPzogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElWaWFDb25uZWN0aW9uT3B0aW9ucyBleHRlbmRzIElDb25uZWN0aW9uT3B0aW9ucyB7XG4gIHBheWxvYWQ6IElWaWFDb25uZWN0aW9uT3B0aW9uc1BheWxvYWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVZpYUNvbm5lY3Rpb25PcHRpb25zUGF5bG9hZCB7XG4gIHBhcmVudDogSUNvbm5lY3Rpb247XG4gIHF1YWxpdHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJV2ViUlRDQ29ubmVjdGlvbk9wdGlvbnMgZXh0ZW5kcyBJQ29ubmVjdGlvbk9wdGlvbnMge1xuICBwYXlsb2FkPzogSVdlYlJUQ0Nvbm5lY3Rpb25PcHRpb25zUGF5bG9hZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJV2ViUlRDU3RyZWFtQ29ubmVjdGlvbk9wdGlvbnMgZXh0ZW5kcyBJV2ViUlRDQ29ubmVjdGlvbk9wdGlvbnMge1xuICBjaGFubmVsSWQ6IHN0cmluZztcbiAgc3RyZWFtPzogTWVkaWFTdHJlYW07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVdlYlJUQ0Nvbm5lY3Rpb25PcHRpb25zUGF5bG9hZCB7XG4gIHR5cGU6IENvbm5lY3Rpb25OZWdvdGlhdGlvblR5cGU7XG4gIHNkcDogc3RyaW5nO1xufVxuXG5leHBvcnQgZW51bSBDb25uZWN0aW9uU3RhdGUge1xuICBPUEVOSU5HID0gJ29wZW5pbmcnLFxuICBPUEVOID0gJ29wZW4nLFxuICBDTE9TSU5HID0gJ2Nsb3NpbmcnLFxuICBDTE9TRUQgPSAnY2xvc2VkJyxcbiAgRVJST1IgPSAnZXJyb3InXG59XG5cbmV4cG9ydCBlbnVtIE5lZ290aWF0aW9uU3RhdGUge1xuICBJTklUSUFMSVpJTkcgPSAwLFxuICBXQUlUSU5HX0ZPUl9PRkZFUiA9IDEwLFxuICBXQUlUSU5HX0ZPUl9BTlNXRVIgPSAyMCxcbiAgV0FJVElOR19GT1JfRVNUQUJMSVNIID0gMzAsXG4gIEVTVEFCTElTSEVEID0gNDBcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ29ubmVjdGlvbiB7XG5cbiAgZ2V0TWV0ZXIoKTogSUNvbm5lY3Rpb25NZXRlcjtcblxuICBnZXRBZGRyZXNzKCk6IEFkZHJlc3M7XG5cbiAgb3BlbigpOiBQcm9taXNlPElDb25uZWN0aW9uPjtcblxuICBjbG9zZSgpOiB2b2lkO1xuXG4gIHNlbmQobWVzc2FnZTogSU1lc3NhZ2UpOiB2b2lkO1xuXG4gIG9ic2VydmVNZXNzYWdlUmVjZWl2ZWQoKTogU3ViamVjdDxJTWVzc2FnZT47XG5cbiAgb2JzZXJ2ZVN0YXRlQ2hhbmdlKCk6IFN1YmplY3Q8Q29ubmVjdGlvblN0YXRlPjtcblxuICBnZXRTdGF0ZSgpOiBDb25uZWN0aW9uU3RhdGU7XG5cbiAgZ2V0TmVnb3RpYXRpb25TdGF0ZSgpOiBOZWdvdGlhdGlvblN0YXRlO1xuXG4gIGlzSW5TdGF0ZSguLi5zdGF0ZXM6IEFycmF5PENvbm5lY3Rpb25TdGF0ZT4pOiBib29sZWFuO1xufVxuIiwiZXhwb3J0IGVudW0gQ2h1cm5UeXBlIHtcbiAgQURERUQgPSAnYWRkZWQnLFxuICBSRU1PVkVEID0gJ3JlbW92ZWQnXG59XG4iLCJpbXBvcnQge1N1YmplY3R9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtJQ2xvY2t9IGZyb20gJy4uL2Nsb2NrL2ludGVyZmFjZSc7XG5cbmV4cG9ydCBlbnVtIExvZ0xldmVsIHtcbiAgTE9HID0gMCxcbiAgREVCVUcgPSAxMCxcbiAgSU5GTyA9IDIwLFxuICBXQVJOID0gMzAsXG4gIEVSUk9SID0gNDAsXG4gIEZBVEFMID0gNTBcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTG9nRXZlbnQge1xuICBsZXZlbDogTG9nTGV2ZWw7XG4gIGRhdGE6IEFycmF5PGFueT47XG4gIHRpY2s6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTG9nZ2VyIHtcblxuICBzZXRMZXZlbChsZXZlbDogTG9nTGV2ZWwpOiB2b2lkO1xuXG4gIHNldENsb2NrKGNsb2NrOiBJQ2xvY2spOiB2b2lkO1xuXG4gIGxvZyguLi5hcmdzOiBBcnJheTxhbnk+KTogdm9pZDtcblxuICBkZWJ1ZyguLi5hcmdzOiBBcnJheTxhbnk+KTogdm9pZDtcblxuICBpbmZvKC4uLmFyZ3M6IEFycmF5PGFueT4pOiB2b2lkO1xuXG4gIHdhcm4oLi4uYXJnczogQXJyYXk8YW55Pik6IHZvaWQ7XG5cbiAgZXJyb3IoLi4uYXJnczogQXJyYXk8YW55Pik6IHZvaWQ7XG5cbiAgZmF0YWwoLi4uYXJnczogQXJyYXk8YW55Pik6IHZvaWQ7XG5cbiAgb2JzZXJ2ZUxvZ0V2ZW50cygpOiBTdWJqZWN0PElMb2dFdmVudD47XG59XG4iLCJpbXBvcnQge0NvbmZpZ3VyYXRpb259IGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHtSb2xlVHlwZX0gZnJvbSAnLi4vcm9sZS9pbnRlcmZhY2UnO1xuaW1wb3J0IHtEZWZhdWx0TWFwfSBmcm9tICcuLi91dGlsL2RlZmF1bHQtbWFwJztcbmltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi9hZGRyZXNzJztcblxuZXhwb3J0IGVudW0gTWVzc2FnZVN1YmplY3Qge1xuICBJTlRST0RVQ1RJT04gPSAnaW50cm9kdWN0aW9uJyxcbiAgUEVFUl9VUERBVEUgPSAncGVlci11cGRhdGUnLFxuICBQRUVSX1NVR0dFU1RJT04gPSAncGVlci1zdWdnZXN0aW9uJyxcbiAgUk9MRV9VUERBVEUgPSAncm9sZS11cGRhdGUnLFxuICBDT05ORUNUSU9OX05FR09USUFUSU9OID0gJ2Nvbm5lY3Rpb24tbmVnb3RpYXRpb24nLFxuICBDSEFOTkVMX0FOTk9VTkNFTUVOVCA9ICdjaGFubmVsLWFubm91bmNlbWVudCcsXG4gIEFQUF9DT05URU5UID0gJ2FwcC1jb250ZW50JyxcbiAgVU5LTk9XTl9QRUVSID0gJ3Vua25vd24tcGVlcicsXG4gIFBJTkcgPSAncGluZycsXG4gIFBPTkcgPSAncG9uZycsXG4gIFJPVVRFUl9BTElWRSA9ICdyb3V0ZXItYWxpdmUnLFxuICBQRUVSX0FMSVZFID0gJ3BlZXItYWxpdmUnXG59XG5cbmV4cG9ydCBjb25zdCBNZXNzYWdlVHRsczogRGVmYXVsdE1hcDxNZXNzYWdlU3ViamVjdCwgbnVtYmVyPiA9IG5ldyBEZWZhdWx0TWFwKCgpID0+IDEpO1xuTWVzc2FnZVR0bHMuc2V0KE1lc3NhZ2VTdWJqZWN0LlBFRVJfVVBEQVRFLCAxKTtcbk1lc3NhZ2VUdGxzLnNldChNZXNzYWdlU3ViamVjdC5QRUVSX1NVR0dFU1RJT04sIDEwKTtcbk1lc3NhZ2VUdGxzLnNldChNZXNzYWdlU3ViamVjdC5BUFBfQ09OVEVOVCwgMTYpO1xuTWVzc2FnZVR0bHMuc2V0KE1lc3NhZ2VTdWJqZWN0LkNPTk5FQ1RJT05fTkVHT1RJQVRJT04sIDIwKTtcbk1lc3NhZ2VUdGxzLnNldChNZXNzYWdlU3ViamVjdC5ST1VURVJfQUxJVkUsIDIwKTtcbk1lc3NhZ2VUdGxzLnNldChNZXNzYWdlU3ViamVjdC5QRUVSX0FMSVZFLCAyMCk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVBlZXJVcGRhdGVFbnRyeSB7XG4gIHBlZXJJZDogc3RyaW5nO1xuICByb2xlczogQXJyYXk8Um9sZVR5cGU+O1xuICBxdWFsaXR5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNoYW5uZWxQcm92aWRlciB7XG4gIHBlZXJJZDogc3RyaW5nO1xuICBjYXBhY2l0eTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDaGFubmVsQW5ub3VuY2VtZW50IHtcbiAgcHJvdmlkZXJzOiBBcnJheTxJQ2hhbm5lbFByb3ZpZGVyPjtcbiAgY2hhbm5lbElkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU1lc3NhZ2Uge1xuXG4gIGxlbmd0aDogbnVtYmVyO1xuXG4gIGdldFJlY2VpdmVyKCk6IEFkZHJlc3M7XG5cbiAgZ2V0U2VuZGVyKCk6IEFkZHJlc3M7XG5cbiAgZ2V0SW5ib3VuZEFkZHJlc3MoKTogQWRkcmVzcztcblxuICBnZXRTdWJqZWN0KCk6IE1lc3NhZ2VTdWJqZWN0O1xuXG4gIGdldEJvZHkoKTogYW55O1xuXG4gIGdldElkKCk6IHN0cmluZztcblxuICBnZXRUdGwoKTogbnVtYmVyO1xuXG4gIGRlY3JlYXNlVHRsKCk6IG51bWJlcjtcblxuICBzZXRJbmJvdW5kQWRkcmVzcyhhZGRyZXNzOiBBZGRyZXNzKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRmxvb2RhYmxlTWVzc2FnZSBleHRlbmRzIElNZXNzYWdlIHtcbiAgZ2V0Qm9keSgpOiB7XG4gICAgc2VxdWVuY2U6IG51bWJlcjtcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7XG4gIH07XG59XG4iLCJpbXBvcnQge0lTY2hlZHVsZWRDYWxsYmFja30gZnJvbSAnLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RDbG9jayB7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBfbWF4Q2FuY2VsSWQgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiAtIDEwO1xuICBwcml2YXRlIF9sYXN0Q2FuY2VsSWQgPSAwO1xuICBwcml2YXRlIF90aWNrQ291bnRlciA9IDA7XG4gIHByaXZhdGUgX2lzUnVubmluZyA9IGZhbHNlO1xuICBwcm90ZWN0ZWQgX2ludGVydmFsczogQXJyYXk8SVNjaGVkdWxlZENhbGxiYWNrPiA9IFtdO1xuICBwcm90ZWN0ZWQgX3RpbWVvdXRzOiBBcnJheTxJU2NoZWR1bGVkQ2FsbGJhY2s+ID0gW107XG5cbiAgcHJpdmF0ZSBkb1RpY2soKTogdm9pZCB7XG4gICAgdGhpcy5fdGltZW91dHMuZm9yRWFjaChcbiAgICAgICh2YWx1ZTogSVNjaGVkdWxlZENhbGxiYWNrKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZS50aWNrID09PSB0aGlzLl90aWNrQ291bnRlcikge1xuICAgICAgICAgIHZhbHVlLmNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIHRoaXMuX2ludGVydmFscy5mb3JFYWNoKFxuICAgICAgKHZhbHVlOiBJU2NoZWR1bGVkQ2FsbGJhY2spID0+IHtcbiAgICAgICAgaWYgKHRoaXMuX3RpY2tDb3VudGVyICUgdmFsdWUudGljayA9PT0gMCkge1xuICAgICAgICAgIHZhbHVlLmNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIHRoaXMuX3RpbWVvdXRzID0gdGhpcy5fdGltZW91dHMuZmlsdGVyKFxuICAgICAgKHZhbHVlOiBJU2NoZWR1bGVkQ2FsbGJhY2spID0+IHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnRpY2sgPiB0aGlzLl90aWNrQ291bnRlcjtcbiAgICAgIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IHN0YXJ0Q2xvY2soc3BlZWQ/OiBudW1iZXIpOiB2b2lkO1xuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBwYXVzZUNsb2NrKCk6IHZvaWQ7XG5cbiAgcHVibGljIGFic3RyYWN0IGdldFByZWNpc2lvblRpbWVzdGFtcCgpOiBudW1iZXI7XG5cbiAgcHVibGljIHRpY2soKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuZG9UaWNrKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLl90aWNrQ291bnRlcisrO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzdGFydCgpIHtcbiAgICB0aGlzLl9pc1J1bm5pbmcgPSB0cnVlO1xuICAgIHRoaXMuc3RhcnRDbG9jaygpO1xuICB9XG5cbiAgcHVibGljIHBhdXNlKCkge1xuICAgIHRoaXMuX2lzUnVubmluZyA9IGZhbHNlO1xuICAgIHRoaXMucGF1c2VDbG9jaygpO1xuICB9XG5cbiAgcHVibGljIHN0b3AoKTogdm9pZCB7XG4gICAgdGhpcy5wYXVzZSgpO1xuICAgIHRoaXMuX2ludGVydmFscy5sZW5ndGggPSAwO1xuICAgIHRoaXMuX3RpbWVvdXRzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5fdGlja0NvdW50ZXIgPSAwO1xuICB9XG5cbiAgcHVibGljIGZvcndhcmQodGljazogbnVtYmVyKTogdm9pZCB7XG4gICAgd2hpbGUgKHRoaXMuX3RpY2tDb3VudGVyIDwgdGljaykge1xuICAgICAgdGhpcy50aWNrKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJld2luZCgpOiB2b2lkIHtcbiAgICB0aGlzLl90aWNrQ291bnRlciA9IDA7XG4gICAgdGhpcy5fdGltZW91dHMubGVuZ3RoID0gMDtcbiAgfVxuXG4gIHB1YmxpYyBzZXRJbnRlcnZhbChjYWxsYmFjazogKCkgPT4gdm9pZCwgaW50ZXJ2YWw6IG51bWJlciA9IDEpOiBudW1iZXIge1xuICAgIGludGVydmFsID0gTWF0aC5mbG9vcihNYXRoLm1heChpbnRlcnZhbCwgMSkpO1xuICAgIHRoaXMuX2xhc3RDYW5jZWxJZCA9ICh0aGlzLl9sYXN0Q2FuY2VsSWQgKyAxKSAlIHRoaXMuX21heENhbmNlbElkO1xuICAgIGNvbnN0IHNjaGVkdWxlZENhbGxiYWNrID0ge3RpY2s6IGludGVydmFsLCBjYW5jZWxJZDogdGhpcy5fbGFzdENhbmNlbElkLCBjYWxsYmFjazogY2FsbGJhY2t9O1xuICAgIHRoaXMuX2ludGVydmFscy5wdXNoKHNjaGVkdWxlZENhbGxiYWNrKTtcbiAgICByZXR1cm4gdGhpcy5fbGFzdENhbmNlbElkO1xuICB9XG5cbiAgcHVibGljIGNsZWFySW50ZXJ2YWwoY2FuY2VsSWQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuX2ludGVydmFscyA9IHRoaXMuX2ludGVydmFscy5maWx0ZXIoXG4gICAgICB2YWx1ZSA9PiB2YWx1ZS5jYW5jZWxJZCAhPT0gY2FuY2VsSWRcbiAgICApO1xuICB9XG5cbiAgcHVibGljIHNldFRpbWVvdXQoY2FsbGJhY2s6ICgpID0+IHZvaWQsIHRpbWVvdXQ6IG51bWJlciA9IDEpOiBudW1iZXIge1xuICAgIHRpbWVvdXQgPSBNYXRoLmZsb29yKE1hdGgubWF4KHRpbWVvdXQsIDEpKTtcbiAgICB0aGlzLl9sYXN0Q2FuY2VsSWQgPSAodGhpcy5fbGFzdENhbmNlbElkICsgMSkgJSB0aGlzLl9tYXhDYW5jZWxJZDtcbiAgICBjb25zdCBzY2hlZHVsZWRDYWxsYmFjayA9IHt0aWNrOiB0aGlzLl90aWNrQ291bnRlciArIHRpbWVvdXQsIGNhbmNlbElkOiB0aGlzLl9sYXN0Q2FuY2VsSWQsIGNhbGxiYWNrOiBjYWxsYmFja307XG4gICAgdGhpcy5fdGltZW91dHMucHVzaChzY2hlZHVsZWRDYWxsYmFjayk7XG4gICAgcmV0dXJuIHRoaXMuX2xhc3RDYW5jZWxJZDtcbiAgfVxuXG4gIHB1YmxpYyBjbGVhclRpbWVvdXQoY2FuY2VsSWQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuX3RpbWVvdXRzID0gdGhpcy5fdGltZW91dHMuZmlsdGVyKFxuICAgICAgdmFsdWUgPT4gdmFsdWUuY2FuY2VsSWQgIT09IGNhbmNlbElkXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRUaWNrKCkge1xuICAgIHJldHVybiB0aGlzLl90aWNrQ291bnRlcjtcbiAgfVxuXG4gIHB1YmxpYyBpc1J1bm5pbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzUnVubmluZztcbiAgfVxuXG4gIHB1YmxpYyB0aW1lSXQoKTogKCkgPT4gbnVtYmVyIHtcbiAgICBjb25zdCBzdGFydCA9IHRoaXMuZ2V0UHJlY2lzaW9uVGltZXN0YW1wKCk7XG4gICAgcmV0dXJuICgpOiBudW1iZXIgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJlY2lzaW9uVGltZXN0YW1wKCkgLSBzdGFydDtcbiAgICB9O1xuICB9XG59XG4iLCJpbXBvcnQge0Fic3RyYWN0Q2xvY2t9IGZyb20gJy4vY2xvY2snO1xuaW1wb3J0IHtJQ2xvY2t9IGZyb20gJy4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIEZvcmtlZENsb2NrIGV4dGVuZHMgQWJzdHJhY3RDbG9jayBpbXBsZW1lbnRzIElDbG9jayB7XG5cbiAgcHJpdmF0ZSBfbWFzdGVyQ2xvY2s6IElDbG9jaztcbiAgcHJpdmF0ZSBfY2FuY2VsSWQ6IG51bWJlcjtcblxuICBwdWJsaWMgY29uc3RydWN0b3IobWFzdGVyQ2xvY2s6IElDbG9jaykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fbWFzdGVyQ2xvY2sgPSBtYXN0ZXJDbG9jaztcbiAgfVxuXG4gIHB1YmxpYyBmb3JrKCk6IElDbG9jayB7XG4gICAgY29uc3QgZm9ya2VkID0gbmV3IEZvcmtlZENsb2NrKHRoaXMpO1xuICAgIGZvcmtlZC5zdGFydCgpO1xuICAgIHJldHVybiBmb3JrZWQ7XG4gIH1cblxuICBwdWJsaWMgc2V0U3BlZWQoc3BlZWQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMucGF1c2VDbG9jaygpO1xuICAgIHRoaXMuc3RhcnRDbG9jayhzcGVlZCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UHJlY2lzaW9uVGltZXN0YW1wKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX21hc3RlckNsb2NrLmdldFByZWNpc2lvblRpbWVzdGFtcCgpO1xuICB9XG5cbiAgcHVibGljIHN0YXJ0Q2xvY2soc3BlZWQ/OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9jYW5jZWxJZCA9IHRoaXMuX21hc3RlckNsb2NrLnNldEludGVydmFsKHRoaXMudGljay5iaW5kKHRoaXMpLCBzcGVlZCk7XG4gIH1cblxuICBwdWJsaWMgcGF1c2VDbG9jaygpOiB2b2lkIHtcbiAgICB0aGlzLl9tYXN0ZXJDbG9jay5jbGVhckludGVydmFsKHRoaXMuX2NhbmNlbElkKTtcbiAgICB0aGlzLl9jYW5jZWxJZCA9IG51bGw7XG4gIH1cbn1cbiIsImltcG9ydCB7QWJzdHJhY3RDbG9ja30gZnJvbSAnLi9jbG9jayc7XG5pbXBvcnQge0ZvcmtlZENsb2NrfSBmcm9tICcuL2ZvcmtlZCc7XG5pbXBvcnQge0lDbG9ja30gZnJvbSAnLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgY2xhc3MgTWFzdGVyQ2xvY2sgZXh0ZW5kcyBBYnN0cmFjdENsb2NrIGltcGxlbWVudHMgSUNsb2NrIHtcblxuICBwcml2YXRlIF9tYXN0ZXJDYW5jZWxJZDogYW55O1xuICBwcml2YXRlIF9zcGVlZDogbnVtYmVyO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihzcGVlZDogbnVtYmVyID0gMTAwMCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fc3BlZWQgPSBzcGVlZDtcbiAgfVxuXG4gIHB1YmxpYyBmb3JrKCk6IElDbG9jayB7XG4gICAgY29uc3QgZm9ya2VkID0gbmV3IEZvcmtlZENsb2NrKHRoaXMpO1xuICAgIGZvcmtlZC5zdGFydCgpO1xuICAgIHJldHVybiBmb3JrZWQ7XG4gIH1cblxuICBwdWJsaWMgc2V0U3BlZWQoc3BlZWQ6IG51bWJlcikge1xuICAgIHRoaXMuX3NwZWVkID0gc3BlZWQ7XG4gICAgaWYgKHRoaXMuaXNSdW5uaW5nKCkpIHtcbiAgICAgIHRoaXMucGF1c2VDbG9jaygpO1xuICAgICAgdGhpcy5zdGFydENsb2NrKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHN0YXJ0Q2xvY2soc3BlZWQ/OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoc3BlZWQpIHtcbiAgICAgIHRoaXMuX3NwZWVkID0gc3BlZWQ7XG4gICAgfVxuICAgIHRoaXMuX21hc3RlckNhbmNlbElkID0gc2V0SW50ZXJ2YWwodGhpcy50aWNrLmJpbmQodGhpcyksIHRoaXMuX3NwZWVkKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQcmVjaXNpb25UaW1lc3RhbXAoKTogbnVtYmVyIHtcbiAgICBpZiAocGVyZm9ybWFuY2UgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH0gZWxzZSBpZiAoRGF0ZSAmJiB0eXBlb2YgRGF0ZS5ub3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBEYXRlLm5vdygpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRUaWNrKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHBhdXNlQ2xvY2soKTogdm9pZCB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9tYXN0ZXJDYW5jZWxJZCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0U3BlZWQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fc3BlZWQ7XG4gIH1cbn1cbiIsImltcG9ydCB7U3ViamVjdH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge0lDbG9ja30gZnJvbSAnLi4vY2xvY2svaW50ZXJmYWNlJztcbmltcG9ydCB7SUxvZ0V2ZW50LCBJTG9nZ2VyLCBMb2dMZXZlbH0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgY2xhc3MgTG9nZ2VyIGltcGxlbWVudHMgSUxvZ2dlciB7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX2xvZ2dlck1hcDogTWFwPHN0cmluZywgSUxvZ2dlcj4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgc3RhdGljIF9sb2dMZXZlbDogTG9nTGV2ZWwgPSBMb2dMZXZlbC5ERUJVRztcbiAgcHJpdmF0ZSBzdGF0aWMgX3ZlcmJvc2UgPSB0cnVlO1xuICBwcml2YXRlIF9sb2dMZXZlbDogTG9nTGV2ZWwgPSBudWxsO1xuICBwcml2YXRlIF9jbG9jazogSUNsb2NrO1xuXG4gIHByaXZhdGUgX2lkOiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgX2xvZ1N1YmplY3Q6IFN1YmplY3Q8SUxvZ0V2ZW50PjtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9pZCA9IGlkO1xuICAgIHRoaXMuX2xvZ1N1YmplY3QgPSBuZXcgU3ViamVjdDxJTG9nRXZlbnQ+KCk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldExvZ2dlcihpZDogc3RyaW5nKTogSUxvZ2dlciB7XG4gICAgaWYgKCFMb2dnZXIuX2xvZ2dlck1hcC5oYXMoaWQpKSB7XG4gICAgICBMb2dnZXIuX2xvZ2dlck1hcC5zZXQoaWQsIG5ldyBMb2dnZXIoaWQpKTtcbiAgICB9XG4gICAgcmV0dXJuIExvZ2dlci5fbG9nZ2VyTWFwLmdldChpZCk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIHNldExldmVsKGxldmVsOiBMb2dMZXZlbCkge1xuICAgIExvZ2dlci5fbG9nTGV2ZWwgPSBsZXZlbDtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgc2V0VmVyYm9zZSh2ZXJib3NlOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5fdmVyYm9zZSA9IHZlcmJvc2U7XG4gIH1cblxuICBwcml2YXRlIGRvTG9nKGxldmVsOiBMb2dMZXZlbCwgbG9nRm46ICguLi5hcmdzOiBBcnJheTxhbnk+KSA9PiB2b2lkLCBwcmVmaXg6IHN0cmluZywgYXJnczogQXJyYXk8YW55Pikge1xuICAgIGxldCBjdXJyZW50VGljayA9IDA7XG4gICAgbGV0IHRpbWVzdGFtcCA9ICcnO1xuICAgIGlmICh0aGlzLl9jbG9jaykge1xuICAgICAgY3VycmVudFRpY2sgPSB0aGlzLl9jbG9jay5nZXRUaWNrKCk7XG4gICAgICB0aW1lc3RhbXAgPSBgJHt0aGlzLl9jbG9jay5nZXRUaWNrKCl9OmA7XG4gICAgfVxuICAgIGlmICh0aGlzLmdldExldmVsKCkgPD0gbGV2ZWwpIHtcbiAgICAgIGNvbnN0IHRhZyA9IGAke3ByZWZpeH0gWyR7dGltZXN0YW1wfSR7dGhpcy5faWR9XWA7XG4gICAgICBpZiAoIUxvZ2dlci5fdmVyYm9zZSkge1xuICAgICAgICBhcmdzID0gYXJncy5zbGljZSgwLCAxKTtcbiAgICAgIH1cbiAgICAgIGxvZ0ZuKHRhZywgLi4uYXJncyk7XG4gICAgfVxuICAgIHRoaXMuX2xvZ1N1YmplY3QubmV4dCh7bGV2ZWw6IGxldmVsLCBkYXRhOiBhcmdzLm1hcChTdHJpbmcpLCB0aWNrOiBjdXJyZW50VGlja30pO1xuICB9XG5cbiAgcHVibGljIHNldENsb2NrKGNsb2NrOiBJQ2xvY2spIHtcbiAgICB0aGlzLl9jbG9jayA9IGNsb2NrO1xuICB9XG5cbiAgcHVibGljIGdldExldmVsKCk6IExvZ0xldmVsIHtcbiAgICByZXR1cm4gdGhpcy5fbG9nTGV2ZWwgfHwgTG9nZ2VyLl9sb2dMZXZlbDtcbiAgfVxuXG4gIHB1YmxpYyBzZXRMZXZlbChsZXZlbDogTG9nTGV2ZWwpOiB2b2lkIHtcbiAgICB0aGlzLl9sb2dMZXZlbCA9IGxldmVsO1xuICB9XG5cbiAgcHVibGljIGxvZyguLi5hcmdzOiBBcnJheTxhbnk+KTogdm9pZCB7XG4gICAgdGhpcy5kb0xvZyhMb2dMZXZlbC5MT0csIGNvbnNvbGUubG9nLCAn8J+ToCcsIGFyZ3MpO1xuICB9XG5cbiAgcHVibGljIGRlYnVnKC4uLmFyZ3M6IEFycmF5PGFueT4pOiB2b2lkIHtcbiAgICB0aGlzLmRvTG9nKExvZ0xldmVsLkRFQlVHLCBjb25zb2xlLmxvZywgJ/CflKcnLCBhcmdzKTtcbiAgfVxuXG4gIHB1YmxpYyBpbmZvKC4uLmFyZ3M6IEFycmF5PGFueT4pOiB2b2lkIHtcbiAgICB0aGlzLmRvTG9nKExvZ0xldmVsLklORk8sIGNvbnNvbGUuaW5mbywgJ/Cfk6wnLCBhcmdzKTtcbiAgfVxuXG4gIHB1YmxpYyB3YXJuKC4uLmFyZ3M6IEFycmF5PGFueT4pOiB2b2lkIHtcbiAgICB0aGlzLmRvTG9nKExvZ0xldmVsLldBUk4sIGNvbnNvbGUud2FybiwgJ/CfmqcnLCBhcmdzKTtcbiAgfVxuXG4gIHB1YmxpYyBlcnJvciguLi5hcmdzOiBBcnJheTxhbnk+KTogdm9pZCB7XG4gICAgdGhpcy5kb0xvZyhMb2dMZXZlbC5FUlJPUiwgY29uc29sZS5lcnJvciwgJ/CfmqgnLCBhcmdzKTtcbiAgfVxuXG4gIHB1YmxpYyBmYXRhbCguLi5hcmdzOiBBcnJheTxhbnk+KTogdm9pZCB7XG4gICAgdGhpcy5kb0xvZyhMb2dMZXZlbC5GQVRBTCwgY29uc29sZS5lcnJvciwgJ/CfkqMnLCBhcmdzKTtcbiAgfVxuXG4gIHB1YmxpYyBvYnNlcnZlTG9nRXZlbnRzKCk6IFN1YmplY3Q8SUxvZ0V2ZW50PiB7XG4gICAgcmV0dXJuIHRoaXMuX2xvZ1N1YmplY3Q7XG4gIH1cbn1cbiIsImltcG9ydCB7UHJvdG9jb2x9IGZyb20gJy4uL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIEFkZHJlc3Mge1xuXG4gIHByaXZhdGUgX2lkOiBzdHJpbmc7XG4gIHByaXZhdGUgX3Byb3RvY29sOiBQcm90b2NvbDtcbiAgcHJpdmF0ZSBfbG9jYXRpb246IHN0cmluZztcbiAgcHJpdmF0ZSBfdmVyc2lvbjogc3RyaW5nO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICBpZDogc3RyaW5nLFxuICAgIHByb3RvY29sPzogUHJvdG9jb2wsXG4gICAgbG9jYXRpb24/OiBzdHJpbmcsXG4gICAgdmVyc2lvbjogc3RyaW5nID0gJ3YxJ1xuICApIHtcbiAgICB0aGlzLl9pZCA9IGlkO1xuICAgIHRoaXMuX3Byb3RvY29sID0gcHJvdG9jb2w7XG4gICAgdGhpcy5fbG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICB0aGlzLl92ZXJzaW9uID0gdmVyc2lvbjtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZnJvbVN0cmluZyhhZGRyZXNzU3RyaW5nOiBzdHJpbmcpOiBBZGRyZXNzIHtcbiAgICBjb25zdCBzZWdtZW50cyA9IGFkZHJlc3NTdHJpbmcuc3BsaXQoJy8nKTtcbiAgICBjb25zdCBbdmVyc2lvbiwgaWQsIHByb3RvY29sXSA9IHNlZ21lbnRzLnNsaWNlKDEsIDQpO1xuICAgIGNvbnN0IGxvY2F0aW9uID0gc2VnbWVudHMuc2xpY2UoNCkuam9pbignLycpO1xuICAgIHJldHVybiBuZXcgQWRkcmVzcyhpZCwgcHJvdG9jb2wgYXMgUHJvdG9jb2wsIGxvY2F0aW9uLCB2ZXJzaW9uKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9pZDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQcm90b2NvbCgpOiBQcm90b2NvbCB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb3RvY29sO1xuICB9XG5cbiAgcHVibGljIGdldExvY2F0aW9uKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2xvY2F0aW9uO1xuICB9XG5cbiAgcHVibGljIHNldExvY2F0aW9uKGxvY2F0aW9uOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLl9sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICB9XG5cbiAgcHVibGljIGdldFZlcnNpb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fdmVyc2lvbjtcbiAgfVxuXG4gIHB1YmxpYyBpc1Byb3RvY29sKC4uLnByb3RvY29sczogQXJyYXk8UHJvdG9jb2w+KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHByb3RvY29scy5pbmRleE9mKHRoaXMuX3Byb3RvY29sKSAhPT0gLTE7XG4gIH1cblxuICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBjb25zdCBzZWdtZW50cyA9IFtcbiAgICAgICdtaXRvc2lzJyxcbiAgICAgIHRoaXMuZ2V0VmVyc2lvbigpLFxuICAgICAgdGhpcy5nZXRJZCgpLFxuICAgICAgdGhpcy5nZXRQcm90b2NvbCgpLFxuICAgICAgdGhpcy5nZXRMb2NhdGlvbigpXG4gICAgXS5maWx0ZXIodmFsdWUgPT4gdmFsdWUgIT09IHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIHNlZ21lbnRzLmpvaW4oJy8nKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIERlZmF1bHRNYXA8SywgVj4gZXh0ZW5kcyBNYXA8SywgVj4ge1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgX2ZhY3Rvcnk6ICgpID0+IFY7XG4gIHByaXZhdGUgcmVhZG9ubHkgX2RlZmF1bHQ6IFY7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKGZhY3Rvcnk6ICgpID0+IFYpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX2ZhY3RvcnkgPSBmYWN0b3J5O1xuICAgIHRoaXMuX2RlZmF1bHQgPSBmYWN0b3J5KCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0KGtleTogSyk6IFYge1xuICAgIGlmICghdGhpcy5oYXMoa2V5KSkge1xuICAgICAgdGhpcy5zZXQoa2V5LCB0aGlzLl9mYWN0b3J5KCkpO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuZ2V0KGtleSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0RGVmYXVsdCgpOiBWIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmYXVsdDtcbiAgfVxufVxuIiwiaW1wb3J0IHtzdHJpbmdCeXRlTGVuZ3RofSBmcm9tICcuLi91dGlsL3N0cmluZy1mdW5jdGlvbnMnO1xuaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuL2FkZHJlc3MnO1xuaW1wb3J0IHtJTWVzc2FnZSwgTWVzc2FnZVN1YmplY3QsIE1lc3NhZ2VUdGxzfSBmcm9tICcuL2ludGVyZmFjZSc7XG5cbmV4cG9ydCBjbGFzcyBNZXNzYWdlIGltcGxlbWVudHMgSU1lc3NhZ2Uge1xuXG4gIHByaXZhdGUgX2lkOiBzdHJpbmc7XG4gIHByaXZhdGUgX3JlY2VpdmVyOiBBZGRyZXNzO1xuICBwcml2YXRlIF9zZW5kZXI6IEFkZHJlc3M7XG4gIHByaXZhdGUgX3R0bDogbnVtYmVyO1xuICBwcml2YXRlIF9pbmJvdW5kQWRkcmVzczogQWRkcmVzcztcbiAgcHJpdmF0ZSBfc3ViamVjdDogTWVzc2FnZVN1YmplY3Q7XG4gIHByb3RlY3RlZCBfYm9keTogYW55O1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihzZW5kZXI6IEFkZHJlc3MsIHJlY2VpdmVyOiBBZGRyZXNzLCBzdWJqZWN0OiBNZXNzYWdlU3ViamVjdCwgYm9keTogYW55LCBpZD86IHN0cmluZywgdHRsPzogbnVtYmVyKSB7XG4gICAgdGhpcy5fc2VuZGVyID0gc2VuZGVyO1xuICAgIHRoaXMuX3JlY2VpdmVyID0gcmVjZWl2ZXI7XG4gICAgdGhpcy5fc3ViamVjdCA9IHN1YmplY3Q7XG4gICAgdGhpcy5fYm9keSA9IGJvZHk7XG4gICAgdGhpcy5faWQgPSBpZCB8fCBgbSR7TWF0aC5yb3VuZCgxMDAwICsgTWF0aC5yYW5kb20oKSAqIDg5OTkpfWA7XG4gICAgdGhpcy5fdHRsID0gTnVtYmVyLmlzSW50ZWdlcih0dGwpID8gdHRsIDogTWVzc2FnZVR0bHMuZ2V0KHN1YmplY3QpO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBmcm9tU3RyaW5nKG1lc3NhZ2VTdHJpbmc6IHN0cmluZyk6IE1lc3NhZ2Uge1xuICAgIGNvbnN0IG1lc3NhZ2VKU09OID0gSlNPTi5wYXJzZShtZXNzYWdlU3RyaW5nKTtcbiAgICByZXR1cm4gbmV3IE1lc3NhZ2UoXG4gICAgICBBZGRyZXNzLmZyb21TdHJpbmcobWVzc2FnZUpTT04uc2VuZGVyKSxcbiAgICAgIEFkZHJlc3MuZnJvbVN0cmluZyhtZXNzYWdlSlNPTi5yZWNlaXZlciksXG4gICAgICBtZXNzYWdlSlNPTi5zdWJqZWN0IGFzIE1lc3NhZ2VTdWJqZWN0LFxuICAgICAgbWVzc2FnZUpTT04uYm9keSxcbiAgICAgIG1lc3NhZ2VKU09OLmlkLFxuICAgICAgbWVzc2FnZUpTT04udHRsXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgbGVuZ3RoKCkge1xuICAgIHJldHVybiBzdHJpbmdCeXRlTGVuZ3RoKHRoaXMudG9TdHJpbmcoKSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UmVjZWl2ZXIoKTogQWRkcmVzcyB7XG4gICAgcmV0dXJuIHRoaXMuX3JlY2VpdmVyO1xuICB9XG5cbiAgcHVibGljIGdldFNlbmRlcigpOiBBZGRyZXNzIHtcbiAgICByZXR1cm4gdGhpcy5fc2VuZGVyO1xuICB9XG5cbiAgcHVibGljIGdldEluYm91bmRBZGRyZXNzKCk6IEFkZHJlc3Mge1xuICAgIHJldHVybiB0aGlzLl9pbmJvdW5kQWRkcmVzcztcbiAgfVxuXG4gIHB1YmxpYyBnZXRTdWJqZWN0KCk6IE1lc3NhZ2VTdWJqZWN0IHtcbiAgICByZXR1cm4gdGhpcy5fc3ViamVjdDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRCb2R5KCk6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMuX2JvZHk7XG4gIH1cblxuICBwdWJsaWMgZ2V0SWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5faWQ7XG4gIH1cblxuICBwdWJsaWMgZ2V0VHRsKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3R0bDtcbiAgfVxuXG4gIHB1YmxpYyBkZWNyZWFzZVR0bCgpOiBudW1iZXIge1xuICAgIHJldHVybiAtLXRoaXMuX3R0bDtcbiAgfVxuXG4gIHB1YmxpYyBzZXRJbmJvdW5kQWRkcmVzcyhhZGRyZXNzOiBBZGRyZXNzKTogdm9pZCB7XG4gICAgdGhpcy5faW5ib3VuZEFkZHJlc3MgPSBhZGRyZXNzO1xuICB9XG5cbiAgcHVibGljIGNsb25lKCk6IE1lc3NhZ2Uge1xuICAgIHJldHVybiBuZXcgTWVzc2FnZShcbiAgICAgIHRoaXMuX3NlbmRlcixcbiAgICAgIHRoaXMuX3JlY2VpdmVyICxcbiAgICAgdGhpcy5fc3ViamVjdCAsXG4gICAgIHRoaXMuX2JvZHkgLFxuICAgICB0aGlzLl9pZCAsXG4gICAgIHRoaXMuX3R0bFxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBpZDogdGhpcy5faWQsXG4gICAgICAgIHJlY2VpdmVyOiB0aGlzLmdldFJlY2VpdmVyKCkudG9TdHJpbmcoKSxcbiAgICAgICAgc2VuZGVyOiB0aGlzLmdldFNlbmRlcigpLnRvU3RyaW5nKCksXG4gICAgICAgIHN1YmplY3Q6IHRoaXMuZ2V0U3ViamVjdCgpLFxuICAgICAgICB0dGw6IHRoaXMuZ2V0VHRsKCksXG4gICAgICAgIGJvZHk6IHRoaXMuZ2V0Qm9keSgpXG4gICAgICB9LFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgMlxuICAgICk7XG4gIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBzdHJpbmdCeXRlTGVuZ3RoKHZhbHVlOiBzdHJpbmcpOiBudW1iZXIge1xuICAvLyBAdHMtaWdub3JlXG4gIGlmIChwcm9jZXNzLmJyb3dzZXIpIHtcbiAgICByZXR1cm4gbmV3IEJsb2IoW3ZhbHVlXSkuc2l6ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gQnVmZmVyLmJ5dGVMZW5ndGgodmFsdWUpO1xuICB9XG59XG4iLCJpbXBvcnQge1JvbGVUeXBlfSBmcm9tICcuLi9yb2xlL2ludGVyZmFjZSc7XG5pbXBvcnQge0FkZHJlc3N9IGZyb20gJy4vYWRkcmVzcyc7XG5pbXBvcnQge01lc3NhZ2VTdWJqZWN0fSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQge01lc3NhZ2V9IGZyb20gJy4vbWVzc2FnZSc7XG5cbmV4cG9ydCBjbGFzcyBBcHBDb250ZW50IGV4dGVuZHMgTWVzc2FnZSB7XG4gIHByb3RlY3RlZCBfYm9keTogQXJyYXk8Um9sZVR5cGU+O1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihzZW5kZXI6IEFkZHJlc3MsIHJlY2VpdmVyOiBBZGRyZXNzLCBtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihzZW5kZXIsIHJlY2VpdmVyLCBNZXNzYWdlU3ViamVjdC5BUFBfQ09OVEVOVCwgbWVzc2FnZSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Qm9keSgpOiBBcnJheTxSb2xlVHlwZT4ge1xuICAgIHJldHVybiB0aGlzLl9ib2R5O1xuICB9XG59XG4iLCJpbXBvcnQge0lNZXNzYWdlfSBmcm9tICcuLi9tZXNzYWdlL2ludGVyZmFjZSc7XG5pbXBvcnQge0NodXJuVHlwZSwgSUNvbm5lY3Rpb24sIE1pdG9zaXN9IGZyb20gJy4uL21pdG9zaXMnO1xuaW1wb3J0IHtSZW1vdGVQZWVyfSBmcm9tICcuLi9wZWVyL3JlbW90ZS1wZWVyJztcblxuZXhwb3J0IGVudW0gUm9sZVR5cGUge1xuICBORVdCSUUgPSAnbmV3YmllJyxcbiAgUEVFUiA9ICdwZWVyJyxcbiAgUk9VVEVSID0gJ3JvdXRlcicsXG4gIFNJR05BTCA9ICdzaWduYWwnXG59XG5cbmV4cG9ydCBlbnVtIFRhc2tQaGFzZSB7XG4gIENMRUFOID0gMzAsXG4gIEFDUVVJUkUgPSAyMCxcbiAgUFVCTElTSCA9IDEwXG59XG5cbmV4cG9ydCBjb25zdCBSb2xlUHJpb3JpdHlNYXA6IE1hcDxSb2xlVHlwZSwgbnVtYmVyPiA9IG5ldyBNYXAoKTtcblJvbGVQcmlvcml0eU1hcC5zZXQoUm9sZVR5cGUuTkVXQklFLCAxMCk7XG5Sb2xlUHJpb3JpdHlNYXAuc2V0KFJvbGVUeXBlLlBFRVIsIDIwKTtcblJvbGVQcmlvcml0eU1hcC5zZXQoUm9sZVR5cGUuUk9VVEVSLCAzMCk7XG5Sb2xlUHJpb3JpdHlNYXAuc2V0KFJvbGVUeXBlLlNJR05BTCwgNDApO1xuXG5leHBvcnQgdHlwZSBJUm9sZUNvbnN0cnVjdG9yID0gbmV3KC4uLmFyZ3M6IEFycmF5PGFueT4pID0+IElSb2xlO1xuXG5leHBvcnQgaW50ZXJmYWNlIElUYXNrU2NoZWR1bGUge1xuICB0YXNrOiAobWl0b3NpczogTWl0b3NpcykgPT4gdm9pZDtcbiAgcGhhc2U6IFRhc2tQaGFzZTtcbiAgaW50ZXJ2YWw6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUm9sZSB7XG5cbiAgaXNJbml0aWFsaXplZCgpOiBib29sZWFuO1xuXG4gIGdldFRhc2tTY2hlZHVsZSgpOiBBcnJheTxJVGFza1NjaGVkdWxlPjtcblxuICBvbkluaXQobWl0b3NpczogTWl0b3Npcyk6IHZvaWQ7XG5cbiAgb25NZXNzYWdlKG1pdG9zaXM6IE1pdG9zaXMsIG1lc3NhZ2U6IElNZXNzYWdlKTogdm9pZDtcblxuICBvbkNvbm5lY3Rpb25PcGVuKG1pdG9zaXM6IE1pdG9zaXMsIGNvbm5lY3Rpb246IElDb25uZWN0aW9uKTogdm9pZDtcblxuICBvbkNvbm5lY3Rpb25DbG9zZShtaXRvc2lzOiBNaXRvc2lzLCBjb25uZWN0aW9uOiBJQ29ubmVjdGlvbik6IHZvaWQ7XG5cbiAgcmVxdWlyZXNQZWVyKHJlbW90ZVBlZXI6IFJlbW90ZVBlZXIpOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElSb2xlQ2h1cm5FdmVudCB7XG4gIHR5cGU6IENodXJuVHlwZTtcbiAgcm9sZTogUm9sZVR5cGU7XG59XG4iLCIvKiB0c2xpbnQ6ZGlzYWJsZTptYXgtY2xhc3Nlcy1wZXItZmlsZSAqL1xuXG5pbXBvcnQge1JvbGVUeXBlfSBmcm9tICcuL3JvbGUvaW50ZXJmYWNlJztcbmltcG9ydCB7RGVmYXVsdE1hcH0gZnJvbSAnLi91dGlsL2RlZmF1bHQtbWFwJztcblxuZXhwb3J0IGNsYXNzIENvbmZpZ3VyYXRpb24ge1xuICBwdWJsaWMgQlJPQURDQVNUX0FERFJFU1MgPSAnKic7XG4gIHB1YmxpYyBERUZBVUxUX1NJR05BTF9BRERSRVNTID0gJ21pdG9zaXMvdjEvcDAwMC93c3Mvc2lnbmFsLm1pdG9zaXMuZGV2L3dlYnNvY2tldCc7XG5cbiAgcHVibGljIERJUkVDVF9DT05ORUNUSU9OU19HT0FMX01JTiA9IDQ7XG4gIHB1YmxpYyBESVJFQ1RfQ09OTkVDVElPTlNfR09BTF9NQVggPSA2O1xuICBwdWJsaWMgRElSRUNUX0NPTk5FQ1RJT05TX01BWCA9IDEwO1xuICBwdWJsaWMgVFJZX09USEVSX1BFRVJTX0NPVU5UID0gMDtcbiAgcHVibGljIERJUkVDVF9DT05ORUNUSU9OX0JPT1NUX0FNT1VOVCA9IDI7XG4gIHB1YmxpYyBESVJFQ1RfQ09OTkVDVElPTl9CT09TVF9USU1FT1VUID0gMjA7XG5cbiAgcHVibGljIFNMSURJTkdfV0lORE9XX1NJWkUgPSAxMjtcbiAgcHVibGljIFRSQU5TTUlTU0lPTl9QSU5HX0lOVEVSVkFMID0gNDtcbiAgcHVibGljIE1BWF9ST1VURVJTX1BFUl9TSUdOQUwgPSAxO1xuICBwdWJsaWMgTEFTVF9TRUVOX1RJTUVPVVQgPSAzMDtcbiAgcHVibGljIExBVEVOQ1lfV0lORE9XX1NJWkUgPSAxMDtcbiAgcHVibGljIERFRkFVTFRfUVVBTElUWSA9IDAuNTtcbiAgcHVibGljIERFRkFVTFRfUk9VVEVSX1JBTksgPSAwLjE7XG5cbiAgcHVibGljIENPTk5FQ1RJT05fTUVURVJfT1BFTl9HUkFDRV9QRVJJT0RfVElNRSA9IDEwO1xuICBwdWJsaWMgQ09OTkVDVElPTl9NRVRFUl9QUk9URUNUSU9OX1RJTUUgPSAxMDtcbiAgcHVibGljIENPTk5FQ1RJT05fTUVURVJfUFVOSVNITUVOVF9USU1FID0gMjA7XG5cbiAgcHVibGljIE9VVEJPVU5EX1NUUkVBTV9DT05ORUNUSU9OUyA9IDI7XG5cbiAgcHVibGljIFJPVVRFUl9BTElWRV9ISUdIU0NPUkVfV0lORE9XX1NJWkUgPSAxMDtcbn1cblxuZXhwb3J0IGNvbnN0IENvbmZpZ3VyYXRpb25NYXA6IERlZmF1bHRNYXA8Um9sZVR5cGUsIENvbmZpZ3VyYXRpb24+ID0gbmV3IERlZmF1bHRNYXAoKCkgPT4gbmV3IENvbmZpZ3VyYXRpb24oKSk7XG5Db25maWd1cmF0aW9uTWFwLmdldChSb2xlVHlwZS5TSUdOQUwpLkRJUkVDVF9DT05ORUNUSU9OU19NQVggPSAxMDA7XG4iLCJpbXBvcnQge0NvbmZpZ3VyYXRpb25NYXB9IGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuXG5leHBvcnQgY2xhc3MgU2xpZGluZ1dpbmRvdyBleHRlbmRzIFNldDxudW1iZXI+IHtcbiAgcHJpdmF0ZSBfc2VxdWVuY2UgPSAwO1xuXG4gIHByaXZhdGUgcmVtb3ZlT3V0RGF0ZWQoKTogdm9pZCB7XG4gICAgY29uc3QgaXRlcmFibGUgPSB0aGlzLnZhbHVlcygpO1xuICAgIGxldCBuZXh0ID0gaXRlcmFibGUubmV4dCgpO1xuICAgIHdoaWxlICghbmV4dC5kb25lKSB7XG4gICAgICBjb25zdCBzZXF1ZW5jZSA9IG5leHQudmFsdWU7XG4gICAgICBpZiAodGhpcy5pc1NlcXVlbmNlT3V0T2ZXaW5kb3coc2VxdWVuY2UpKSB7XG4gICAgICAgIHRoaXMuZGVsZXRlKHNlcXVlbmNlKTtcbiAgICAgIH1cbiAgICAgIG5leHQgPSBpdGVyYWJsZS5uZXh0KCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBuZXh0U2VxdWVuY2UoKSB7XG4gICAgdGhpcy5fc2VxdWVuY2UgPSB0aGlzLl9zZXF1ZW5jZSArIDE7XG4gIH1cblxuICBwdWJsaWMgaXNTZXF1ZW5jZU91dE9mV2luZG93KHNlcXVlbmNlOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5fc2VxdWVuY2UgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoc2VxdWVuY2UgPiB0aGlzLl9zZXF1ZW5jZSkgfHwgKHNlcXVlbmNlIDw9IHRoaXMuX3NlcXVlbmNlIC0gQ29uZmlndXJhdGlvbk1hcC5nZXREZWZhdWx0KCkuU0xJRElOR19XSU5ET1dfU0laRSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFkZChzZXF1ZW5jZTogbnVtYmVyKTogdGhpcyB7XG4gICAgdGhpcy5zZXRTZXF1ZW5jZShzZXF1ZW5jZSk7XG4gICAgc3VwZXIuYWRkKHNlcXVlbmNlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1YmxpYyBzbGlkZSgpIHtcbiAgICB0aGlzLm5leHRTZXF1ZW5jZSgpO1xuICAgIHRoaXMucmVtb3ZlT3V0RGF0ZWQoKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRTZXF1ZW5jZShzZXF1ZW5jZTogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMuaXNTZXF1ZW5jZU91dE9mV2luZG93KHNlcXVlbmNlKSkge1xuICAgICAgdGhpcy5fc2VxdWVuY2UgPSBzZXF1ZW5jZTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVPdXREYXRlZCgpO1xuICB9XG5cbiAgcHVibGljIGdldFNlcXVlbmNlTnVtYmVyKCkge1xuICAgIHJldHVybiB0aGlzLl9zZXF1ZW5jZTtcbiAgfVxufVxuIiwiaW1wb3J0IHtNZXNzYWdlfSBmcm9tICcuL21lc3NhZ2UnO1xuXG5leHBvcnQgZW51bSBDb25uZWN0aW9uTmVnb3RpYXRpb25UeXBlIHtcbiAgUkVRVUVTVCA9ICdyZXF1ZXN0JyxcbiAgT0ZGRVIgPSAnb2ZmZXInLFxuICBBTlNXRVIgPSAnYW5zd2VyJyxcbiAgUkVKRUNUSU9OID0gJ3JlamVjdGlvbidcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ29ubmVjdGlvbk5lZ290aWF0aW9uQm9keSB7XG4gIHR5cGU6IENvbm5lY3Rpb25OZWdvdGlhdGlvblR5cGU7XG4gIHNkcD86IHN0cmluZztcbiAgY2hhbm5lbElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbk5lZ290aWF0aW9uIGV4dGVuZHMgTWVzc2FnZSB7XG5cbiAgcHJvdGVjdGVkIF9ib2R5OiBJQ29ubmVjdGlvbk5lZ290aWF0aW9uQm9keTtcblxuICBwdWJsaWMgZ2V0Qm9keSgpOiBJQ29ubmVjdGlvbk5lZ290aWF0aW9uQm9keSB7XG4gICAgcmV0dXJuIHRoaXMuX2JvZHk7XG4gIH1cblxuICBwdWJsaWMgZ2V0VHlwZSgpOiBDb25uZWN0aW9uTmVnb3RpYXRpb25UeXBlIHtcbiAgICBpZiAodGhpcy5fYm9keSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2JvZHkudHlwZTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7U3ViamVjdH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge0lDb25uZWN0aW9ufSBmcm9tICcuLi8uLi9jb25uZWN0aW9uL2ludGVyZmFjZSc7XG5pbXBvcnQge0lNZXRlcn0gZnJvbSAnLi4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGVudW0gSUNvbm5lY3Rpb25FdmVudFR5cGUge1xuICBQVU5JU0hFRCA9ICdwdW5pc2hlZCcsXG4gIFBST1RFQ1RFRCA9ICdwcm90ZWN0ZWQnLFxuICBVTlBVTklTSEVEID0gJ3VucHVuaXNoZWQnLFxuICBVTlBST1RFQ1RFRCA9ICd1bnByb3RlY3RlZCdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ29ubmVjdGlvbk1ldGVyRXZlbnQge1xuICB0eXBlOiBJQ29ubmVjdGlvbkV2ZW50VHlwZTtcbiAgY29ubmVjdGlvbjogSUNvbm5lY3Rpb247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNvbm5lY3Rpb25NZXRlciBleHRlbmRzIElNZXRlciB7XG5cbiAgaXNQcm90ZWN0ZWQoKTogYm9vbGVhbjtcblxuICBpc1B1bmlzaGVkKCk6IGJvb2xlYW47XG5cbiAgZ2V0TGFzdFNlZW4oKTogbnVtYmVyO1xuXG4gIGlzTGFzdFNlZW5FeHBpcmVkKCk6IGJvb2xlYW47XG5cbiAgb2JzZXJ2ZSgpOiBTdWJqZWN0PElDb25uZWN0aW9uTWV0ZXJFdmVudD47XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nO1xuXG4gIHRvSlNPTigpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xufVxuIiwiaW1wb3J0IHtSZW1vdGVQZWVyfSBmcm9tICcuLi9wZWVyL3JlbW90ZS1wZWVyJztcbmltcG9ydCB7UmVtb3RlUGVlclRhYmxlfSBmcm9tICcuLi9wZWVyL3JlbW90ZS1wZWVyLXRhYmxlJztcbmltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi9hZGRyZXNzJztcbmltcG9ydCB7SVBlZXJVcGRhdGVFbnRyeSwgTWVzc2FnZVN1YmplY3R9IGZyb20gJy4vaW50ZXJmYWNlJztcbmltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi9tZXNzYWdlJztcblxuZXhwb3J0IGNsYXNzIFBlZXJVcGRhdGUgZXh0ZW5kcyBNZXNzYWdlIHtcbiAgcHJvdGVjdGVkIF9ib2R5OiBBcnJheTxJUGVlclVwZGF0ZUVudHJ5PjtcblxuICBwdWJsaWMgY29uc3RydWN0b3Ioc2VuZGVyOiBBZGRyZXNzLCByZWNlaXZlcjogQWRkcmVzcywgcmVtb3RlUGVlcnM6IFJlbW90ZVBlZXJUYWJsZSwgYWxsUmVtb3RlUGVlcnM6IFJlbW90ZVBlZXJUYWJsZSkge1xuICAgIGNvbnN0IGJvZHkgPSByZW1vdGVQZWVyc1xuICAgICAgLm1hcChcbiAgICAgICAgKHBlZXI6IFJlbW90ZVBlZXIpID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGVlcklkOiBwZWVyLmdldElkKCksXG4gICAgICAgICAgICByb2xlczogcGVlci5nZXRSb2xlcygpLFxuICAgICAgICAgICAgcXVhbGl0eTogcGVlci5nZXRNZXRlcigpLmdldFBlZXJVcGRhdGVRdWFsaXR5KGFsbFJlbW90ZVBlZXJzKVxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIHN1cGVyKHNlbmRlciwgcmVjZWl2ZXIsIE1lc3NhZ2VTdWJqZWN0LlBFRVJfVVBEQVRFLCBib2R5KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRCb2R5KCk6IEFycmF5PElQZWVyVXBkYXRlRW50cnk+IHtcbiAgICByZXR1cm4gdGhpcy5fYm9keTtcbiAgfVxufVxuIiwiaW1wb3J0IHtTdWJqZWN0fSBmcm9tICdyeGpzJztcbmltcG9ydCB7SUNsb2NrfSBmcm9tICcuLi8uLi9jbG9jay9pbnRlcmZhY2UnO1xuaW1wb3J0IHtDb25maWd1cmF0aW9uTWFwfSBmcm9tICcuLi8uLi9jb25maWd1cmF0aW9uJztcbmltcG9ydCB7SUNvbm5lY3Rpb259IGZyb20gJy4uLy4uL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcbmltcG9ydCB7TG9nZ2VyfSBmcm9tICcuLi8uLi9sb2dnZXIvbG9nZ2VyJztcbmltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi4vLi4vbWVzc2FnZS9tZXNzYWdlJztcbmltcG9ydCB7UmVtb3RlUGVlclRhYmxlfSBmcm9tICcuLi8uLi9wZWVyL3JlbW90ZS1wZWVyLXRhYmxlJztcbmltcG9ydCB7SUNvbm5lY3Rpb25FdmVudFR5cGUsIElDb25uZWN0aW9uTWV0ZXJFdmVudH0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29ubmVjdGlvbk1ldGVyIHtcbiAgcHJpdmF0ZSBfcHVuaXNoZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSBfcHJvdGVjdGVkID0gZmFsc2U7XG4gIHByaXZhdGUgX3N1YmplY3Q6IFN1YmplY3Q8SUNvbm5lY3Rpb25NZXRlckV2ZW50PjtcbiAgcHJpdmF0ZSBfbGFzdFNlZW5UaWNrID0gMDtcbiAgcHJvdGVjdGVkIF9jb25uZWN0aW9uOiBJQ29ubmVjdGlvbjtcbiAgcHJvdGVjdGVkIF9jbG9jazogSUNsb2NrO1xuXG4gIGNvbnN0cnVjdG9yKGNvbm5lY3Rpb246IElDb25uZWN0aW9uLCBjbG9jazogSUNsb2NrKSB7XG4gICAgdGhpcy5fY29ubmVjdGlvbiA9IGNvbm5lY3Rpb247XG4gICAgdGhpcy5fc3ViamVjdCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgdGhpcy5fY2xvY2sgPSBjbG9jay5mb3JrKCk7XG4gICAgdGhpcy5saXN0ZW5Pbk1lc3NhZ2VzKCk7XG4gIH1cblxuICBwcml2YXRlIGxpc3Rlbk9uTWVzc2FnZXMoKTogdm9pZCB7XG4gICAgdGhpcy5fY29ubmVjdGlvbi5vYnNlcnZlTWVzc2FnZVJlY2VpdmVkKClcbiAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgIHRoaXMub25NZXNzYWdlLmJpbmQodGhpcylcbiAgICAgICk7XG4gIH1cblxuICBwcml2YXRlIHNldFB1bmlzaGVkKGlzUHVuaXNoZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBjb25zdCB3YXNQdW5pc2hlZCA9IHRoaXMuX3B1bmlzaGVkO1xuICAgIHRoaXMuX3B1bmlzaGVkID0gaXNQdW5pc2hlZDtcblxuICAgIGlmICh0aGlzLl9wdW5pc2hlZCAhPT0gd2FzUHVuaXNoZWQpIHtcbiAgICAgIGlmICh0aGlzLl9wdW5pc2hlZCkge1xuICAgICAgICB0aGlzLl9zdWJqZWN0Lm5leHQoe3R5cGU6IElDb25uZWN0aW9uRXZlbnRUeXBlLlBVTklTSEVELCBjb25uZWN0aW9uOiB0aGlzLl9jb25uZWN0aW9ufSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zdWJqZWN0Lm5leHQoe3R5cGU6IElDb25uZWN0aW9uRXZlbnRUeXBlLlVOUFVOSVNIRUQsIGNvbm5lY3Rpb246IHRoaXMuX2Nvbm5lY3Rpb259KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNldFByb3RlY3RlZChpc1Byb3RlY3RlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIGNvbnN0IHdhc1Byb3RlY3RlZCA9IHRoaXMuX3Byb3RlY3RlZDtcbiAgICB0aGlzLl9wcm90ZWN0ZWQgPSBpc1Byb3RlY3RlZDtcblxuICAgIGlmICh0aGlzLl9wcm90ZWN0ZWQgIT09IHdhc1Byb3RlY3RlZCkge1xuICAgICAgaWYgKHRoaXMuX3Byb3RlY3RlZCkge1xuICAgICAgICB0aGlzLl9zdWJqZWN0Lm5leHQoe3R5cGU6IElDb25uZWN0aW9uRXZlbnRUeXBlLlBST1RFQ1RFRCwgY29ubmVjdGlvbjogdGhpcy5fY29ubmVjdGlvbn0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc3ViamVjdC5uZXh0KHt0eXBlOiBJQ29ubmVjdGlvbkV2ZW50VHlwZS5VTlBST1RFQ1RFRCwgY29ubmVjdGlvbjogdGhpcy5fY29ubmVjdGlvbn0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBvbk1lc3NhZ2UobWVzc2FnZTogTWVzc2FnZSk6IHZvaWQge1xuICAgIGlmICghdGhpcy5fY2xvY2spIHtcbiAgICAgIExvZ2dlci5nZXRMb2dnZXIodGhpcy5fY29ubmVjdGlvbi5nZXRBZGRyZXNzKCkuZ2V0SWQoKSkuZXJyb3IoYGNhbiBub3QgcmVhZCBjbG9jayBmb3IgbWVzc2FnZWAsIG1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sYXN0U2VlblRpY2sgPSB0aGlzLl9jbG9jay5nZXRUaWNrKCk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZUxhc3RTZWVuKCk6IHZvaWQge1xuICAgIHRoaXMuX2xhc3RTZWVuVGljayA9IHRoaXMuX2Nsb2NrLmdldFRpY2soKTtcbiAgfVxuXG4gIHB1YmxpYyBhYnN0cmFjdCBnZXRRdWFsaXR5KHJlbW90ZVBlZXJzOiBSZW1vdGVQZWVyVGFibGUpOiBudW1iZXI7XG5cbiAgcHVibGljIGlzTGFzdFNlZW5FeHBpcmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAodGhpcy5fY2xvY2suZ2V0VGljaygpIC0gdGhpcy5fbGFzdFNlZW5UaWNrKSA+IENvbmZpZ3VyYXRpb25NYXAuZ2V0RGVmYXVsdCgpLkxBU1RfU0VFTl9USU1FT1VUO1xuICB9XG5cbiAgcHVibGljIGdldExhc3RTZWVuKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2Nsb2NrLmdldFRpY2soKSAtIHRoaXMuX2xhc3RTZWVuVGljaztcbiAgfVxuXG4gIHB1YmxpYyBpc1B1bmlzaGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9wdW5pc2hlZDtcbiAgfVxuXG4gIHB1YmxpYyBpc1Byb3RlY3RlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvdGVjdGVkO1xuICB9XG5cbiAgcHVibGljIHN0YXJ0KCk6IHZvaWQge1xuICAgIHRoaXMuc2V0UHJvdGVjdGVkKHRydWUpO1xuICAgIHRoaXMuX2Nsb2NrLnJld2luZCgpO1xuICAgIC8vIFRPRE86IFVzZSByb2xlIHNwZWNpZmljIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgcmVtb3RlIHBlZXJcbiAgICB0aGlzLl9jbG9jay5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuc2V0UHVuaXNoZWQoZmFsc2UpO1xuICAgICAgdGhpcy5zZXRQcm90ZWN0ZWQoZmFsc2UpO1xuICAgIH0sIENvbmZpZ3VyYXRpb25NYXAuZ2V0RGVmYXVsdCgpLkNPTk5FQ1RJT05fTUVURVJfUFJPVEVDVElPTl9USU1FKTtcbiAgfVxuXG4gIHB1YmxpYyBzdG9wKCk6IHZvaWQge1xuICAgIC8vIFRPRE86IFVzZSByb2xlIHNwZWNpZmljIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgcmVtb3RlIHBlZXJcbiAgICBjb25zdCBwcmVtYXR1cmVDbG9zZSA9IHRoaXMuX2Nsb2NrLmdldFRpY2soKSA8IENvbmZpZ3VyYXRpb25NYXAuZ2V0RGVmYXVsdCgpLkNPTk5FQ1RJT05fTUVURVJfT1BFTl9HUkFDRV9QRVJJT0RfVElNRTtcbiAgICB0aGlzLnNldFB1bmlzaGVkKHByZW1hdHVyZUNsb3NlKTtcbiAgICB0aGlzLnNldFByb3RlY3RlZChmYWxzZSk7XG4gIH1cblxuICBwdWJsaWMgb2JzZXJ2ZSgpOiBTdWJqZWN0PElDb25uZWN0aW9uTWV0ZXJFdmVudD4ge1xuICAgIHJldHVybiB0aGlzLl9zdWJqZWN0O1xuICB9XG5cbiAgcHVibGljIHRvSlNPTigpOiB7W2tleTogc3RyaW5nXTogYW55fSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhc3RTZWVuOiB0aGlzLmdldExhc3RTZWVuKCksXG4gICAgICBwcm90ZWN0ZWQ6IHRoaXMuaXNQcm90ZWN0ZWQoKSxcbiAgICAgIHB1bmlzaGVkOiB0aGlzLmlzUHVuaXNoZWQoKSxcbiAgICAgIGlzRXhwaXJlZDogdGhpcy5pc0xhc3RTZWVuRXhwaXJlZCgpXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShcbiAgICAgIHRoaXMudG9KU09OKCksXG4gICAgICB1bmRlZmluZWQsXG4gICAgICAyXG4gICAgKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtJQ2xvY2t9IGZyb20gJy4uLy4uL2Nsb2NrL2ludGVyZmFjZSc7XG5pbXBvcnQge0lDb25uZWN0aW9ufSBmcm9tICcuLi8uLi9jb25uZWN0aW9uL2ludGVyZmFjZSc7XG5pbXBvcnQge1ZpYUNvbm5lY3Rpb259IGZyb20gJy4uLy4uL2Nvbm5lY3Rpb24vdmlhJztcbmltcG9ydCB7UmVtb3RlUGVlclRhYmxlfSBmcm9tICcuLi8uLi9wZWVyL3JlbW90ZS1wZWVyLXRhYmxlJztcbmltcG9ydCB7Um9sZVR5cGV9IGZyb20gJy4uLy4uL3JvbGUvaW50ZXJmYWNlJztcbmltcG9ydCB7Q29ubmVjdGlvbk1ldGVyfSBmcm9tICcuL2Nvbm5lY3Rpb24tbWV0ZXInO1xuaW1wb3J0IHtJQ29ubmVjdGlvbk1ldGVyfSBmcm9tICcuL2ludGVyZmFjZSc7XG5cbmV4cG9ydCBjbGFzcyBWaWFDb25uZWN0aW9uTWV0ZXIgZXh0ZW5kcyBDb25uZWN0aW9uTWV0ZXIgaW1wbGVtZW50cyBJQ29ubmVjdGlvbk1ldGVyIHtcbiAgcHJpdmF0ZSBfcXVhbGl0eTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKGNvbm5lY3Rpb246IElDb25uZWN0aW9uLCBjbG9jazogSUNsb2NrLCBxdWFsaXR5ID0gMSkge1xuICAgIHN1cGVyKGNvbm5lY3Rpb24sIGNsb2NrKTtcbiAgICB0aGlzLl9xdWFsaXR5ID0gcXVhbGl0eTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVMYXN0U2VlbigpIHtcbiAgICBzdXBlci51cGRhdGVMYXN0U2VlbigpO1xuICB9XG5cbiAgcHVibGljIGdldFF1YWxpdHkoKTogbnVtYmVyIHtcbiAgICAvLyBUT0RPOiBDYWxjdWxhdGUgcXVhbGl0eSBmcm9tIFBVcyBhbmQgZGlyZWN0IGNvbm5lY3Rpb25cbiAgICByZXR1cm4gdGhpcy5fcXVhbGl0eTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRRdWFsaXR5KHF1YWxpdHk6IG51bWJlcikge1xuICAgIHRoaXMuX3F1YWxpdHkgPSBxdWFsaXR5O1xuICB9XG5cbiAgcHVibGljIGdldFJvdXRlckxpbmtRdWFsaXR5KHJlbW90ZVBlZXJzOiBSZW1vdGVQZWVyVGFibGUpIHtcbiAgICBjb25zdCB2aWFBZHJlc3MgPSB0aGlzLl9jb25uZWN0aW9uLmdldEFkZHJlc3MoKTtcbiAgICBjb25zdCBkaXJlY3RQZWVyID0gcmVtb3RlUGVlcnMuZmlsdGVyQnlJZCh2aWFBZHJlc3MuZ2V0TG9jYXRpb24oKSkucG9wKCk7XG4gICAgaWYgKGRpcmVjdFBlZXIpIHtcbiAgICAgIGlmIChkaXJlY3RQZWVyLmhhc1JvbGUoUm9sZVR5cGUuU0lHTkFMLCBSb2xlVHlwZS5ST1VURVIpKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRpcmVjdFBlZXIuZ2V0TWV0ZXIoKS5nZXRSb3V0ZXJMaW5rUXVhbGl0eSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc3RhcnQoKTogdm9pZCB7XG4gIH1cblxuICBwdWJsaWMgc3RvcCgpOiB2b2lkIHtcbiAgfVxufVxuIiwiaW1wb3J0IHtTdWJqZWN0fSBmcm9tICdyeGpzJztcbmltcG9ydCB7SUNsb2NrfSBmcm9tICcuLi9jbG9jay9pbnRlcmZhY2UnO1xuaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuLi9tZXNzYWdlL2FkZHJlc3MnO1xuaW1wb3J0IHtJTWVzc2FnZX0gZnJvbSAnLi4vbWVzc2FnZS9pbnRlcmZhY2UnO1xuaW1wb3J0IHtJQ29ubmVjdGlvbk1ldGVyfSBmcm9tICcuLi9tZXRlcmluZy9jb25uZWN0aW9uLW1ldGVyL2ludGVyZmFjZSc7XG5pbXBvcnQge0Nvbm5lY3Rpb25TdGF0ZSwgSUNvbm5lY3Rpb24sIElDb25uZWN0aW9uT3B0aW9ucywgTmVnb3RpYXRpb25TdGF0ZX0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RDb25uZWN0aW9uIHtcblxuICBwcml2YXRlIF9vbk9wZW5SZXNvbHZlcjogKGNvbm5lY3Rpb246IElDb25uZWN0aW9uKSA9PiB2b2lkO1xuICBwcml2YXRlIF9vbk9wZW5SZWplY3RvcjogKGVycm9yPzogYW55KSA9PiB2b2lkO1xuICBwcm90ZWN0ZWQgX2Nvbm5lY3Rpb25TdGF0ZTogQ29ubmVjdGlvblN0YXRlO1xuICBwcm90ZWN0ZWQgX25lZ290aWF0aW9uU3RhdGU6IE5lZ290aWF0aW9uU3RhdGU7XG4gIHByb3RlY3RlZCBfaWQ6IHN0cmluZztcbiAgcHJvdGVjdGVkIF9tZXRlcjogSUNvbm5lY3Rpb25NZXRlcjtcbiAgcHJvdGVjdGVkIF9jbG9jazogSUNsb2NrO1xuICBwcm90ZWN0ZWQgX29wdGlvbnM6IElDb25uZWN0aW9uT3B0aW9ucztcbiAgcHJvdGVjdGVkIF9hZGRyZXNzOiBBZGRyZXNzO1xuICBwcm90ZWN0ZWQgX3N0YXRlQ2hhbmdlU3ViamVjdDogU3ViamVjdDxDb25uZWN0aW9uU3RhdGU+O1xuICBwcm90ZWN0ZWQgX21lc3NhZ2VSZWNlaXZlZFN1YmplY3Q6IFN1YmplY3Q8SU1lc3NhZ2U+O1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihhZGRyZXNzOiBBZGRyZXNzLCBjbG9jazogSUNsb2NrLCBvcHRpb25zOiBJQ29ubmVjdGlvbk9wdGlvbnMpIHtcbiAgICBpZiAoIWFkZHJlc3MuZ2V0TG9jYXRpb24oKSkge1xuICAgICAgYWRkcmVzcy5zZXRMb2NhdGlvbihgYyR7TWF0aC5yb3VuZCgxMDAwMCArIE1hdGgucmFuZG9tKCkgKiA4OTk5OSl9YCk7XG4gICAgfVxuICAgIHRoaXMuX2lkID0gYWRkcmVzcy5nZXRMb2NhdGlvbigpO1xuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuX2FkZHJlc3MgPSBhZGRyZXNzO1xuICAgIHRoaXMuX2Nsb2NrID0gY2xvY2s7XG4gICAgdGhpcy5fY29ubmVjdGlvblN0YXRlID0gQ29ubmVjdGlvblN0YXRlLkNMT1NFRDtcbiAgICB0aGlzLl9zdGF0ZUNoYW5nZVN1YmplY3QgPSBuZXcgU3ViamVjdCgpO1xuICAgIHRoaXMuX21lc3NhZ2VSZWNlaXZlZFN1YmplY3QgPSBuZXcgU3ViamVjdCgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IG9wZW5DbGllbnQoKTogdm9pZDtcblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgY2xvc2VDbGllbnQoKTogdm9pZDtcblxuICBwdWJsaWMgZ2V0TWV0ZXIoKTogSUNvbm5lY3Rpb25NZXRlciB7XG4gICAgcmV0dXJuIHRoaXMuX21ldGVyO1xuICB9XG5cbiAgcHVibGljIGdldEFkZHJlc3MoKTogQWRkcmVzcyB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZHJlc3M7XG4gIH1cblxuICBwdWJsaWMgZ2V0SWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5faWQ7XG4gIH1cblxuICBwdWJsaWMgb25PcGVuKGNvbm5lY3Rpb246IElDb25uZWN0aW9uKSB7XG4gICAgaWYgKHRoaXMuX29uT3BlblJlc29sdmVyKSB7XG4gICAgICB0aGlzLl9vbk9wZW5SZXNvbHZlcihjb25uZWN0aW9uKTtcbiAgICB9XG4gICAgdGhpcy5fb25PcGVuUmVzb2x2ZXIgPSBudWxsO1xuICAgIHRoaXMuX29uT3BlblJlamVjdG9yID0gbnVsbDtcbiAgICB0aGlzLl9jb25uZWN0aW9uU3RhdGUgPSBDb25uZWN0aW9uU3RhdGUuT1BFTjtcbiAgICB0aGlzLl9uZWdvdGlhdGlvblN0YXRlID0gTmVnb3RpYXRpb25TdGF0ZS5FU1RBQkxJU0hFRDtcbiAgICB0aGlzLl9zdGF0ZUNoYW5nZVN1YmplY3QubmV4dCh0aGlzLl9jb25uZWN0aW9uU3RhdGUpO1xuICAgIHRoaXMuZ2V0TWV0ZXIoKS5zdGFydCgpO1xuICB9XG5cbiAgcHVibGljIG9uQ2xvc2UocmVhc29uOiBhbnkgPSAnY29ubmVjdGlvbiBjbG9zZWQgd2l0aG91dCByZWFzb24nKSB7XG4gICAgdGhpcy5nZXRNZXRlcigpLnN0b3AoKTtcbiAgICBpZiAodGhpcy5fb25PcGVuUmVqZWN0b3IpIHtcbiAgICAgIHRoaXMuX29uT3BlblJlamVjdG9yKHJlYXNvbik7XG4gICAgfVxuICAgIHRoaXMuX2Nsb2NrLnN0b3AoKTtcbiAgICB0aGlzLl9vbk9wZW5SZXNvbHZlciA9IG51bGw7XG4gICAgdGhpcy5fb25PcGVuUmVqZWN0b3IgPSBudWxsO1xuICAgIHRoaXMuX25lZ290aWF0aW9uU3RhdGUgPSBudWxsO1xuICAgIHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSA9IENvbm5lY3Rpb25TdGF0ZS5DTE9TRUQ7XG4gICAgdGhpcy5fc3RhdGVDaGFuZ2VTdWJqZWN0Lm5leHQodGhpcy5fY29ubmVjdGlvblN0YXRlKTtcbiAgICB0aGlzLl9zdGF0ZUNoYW5nZVN1YmplY3QuY29tcGxldGUoKTtcbiAgICB0aGlzLl9tZXNzYWdlUmVjZWl2ZWRTdWJqZWN0LmNvbXBsZXRlKCk7XG4gIH1cblxuICBwdWJsaWMgb25FcnJvcihyZWFzb246IGFueSA9ICdjb25uZWN0aW9uIGVycm9yIHdpdGhvdXQgcmVhc29uJykge1xuICAgIHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSA9IENvbm5lY3Rpb25TdGF0ZS5FUlJPUjtcbiAgICB0aGlzLl9zdGF0ZUNoYW5nZVN1YmplY3QubmV4dCh0aGlzLl9jb25uZWN0aW9uU3RhdGUpO1xuICAgIHRoaXMub25DbG9zZShyZWFzb24pO1xuICB9XG5cbiAgcHVibGljIG9uTWVzc2FnZShtZXNzYWdlOiBJTWVzc2FnZSkge1xuICAgIHRoaXMuX21lc3NhZ2VSZWNlaXZlZFN1YmplY3QubmV4dChtZXNzYWdlKTtcbiAgfVxuXG4gIHB1YmxpYyBjbG9zZSgpIHtcbiAgICB0aGlzLl9jb25uZWN0aW9uU3RhdGUgPSBDb25uZWN0aW9uU3RhdGUuQ0xPU0lORztcbiAgICB0aGlzLl9zdGF0ZUNoYW5nZVN1YmplY3QubmV4dCh0aGlzLl9jb25uZWN0aW9uU3RhdGUpO1xuICAgIHRoaXMuY2xvc2VDbGllbnQoKTtcbiAgfVxuXG4gIHB1YmxpYyBvcGVuKCk6IFByb21pc2U8SUNvbm5lY3Rpb24+IHtcbiAgICB0aGlzLl9jb25uZWN0aW9uU3RhdGUgPSBDb25uZWN0aW9uU3RhdGUuT1BFTklORztcbiAgICB0aGlzLl9uZWdvdGlhdGlvblN0YXRlID0gTmVnb3RpYXRpb25TdGF0ZS5JTklUSUFMSVpJTkc7XG4gICAgdGhpcy5fc3RhdGVDaGFuZ2VTdWJqZWN0Lm5leHQodGhpcy5fY29ubmVjdGlvblN0YXRlKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8SUNvbm5lY3Rpb24+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuX29uT3BlblJlc29sdmVyID0gcmVzb2x2ZTtcbiAgICAgIHRoaXMuX29uT3BlblJlamVjdG9yID0gcmVqZWN0O1xuICAgICAgdGhpcy5vcGVuQ2xpZW50KCk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgaXNJblN0YXRlKC4uLnN0YXRlczogQXJyYXk8Q29ubmVjdGlvblN0YXRlPik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBzdGF0ZXMuaW5kZXhPZih0aGlzLmdldFN0YXRlKCkpICE9PSAtMTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTdGF0ZSgpOiBDb25uZWN0aW9uU3RhdGUge1xuICAgIHJldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdGU7XG4gIH1cblxuICBwdWJsaWMgZ2V0TmVnb3RpYXRpb25TdGF0ZSgpOiBOZWdvdGlhdGlvblN0YXRlIHtcbiAgICByZXR1cm4gdGhpcy5fbmVnb3RpYXRpb25TdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyBvYnNlcnZlTWVzc2FnZVJlY2VpdmVkKCk6IFN1YmplY3Q8SU1lc3NhZ2U+IHtcbiAgICByZXR1cm4gdGhpcy5fbWVzc2FnZVJlY2VpdmVkU3ViamVjdDtcbiAgfVxuXG4gIHB1YmxpYyBvYnNlcnZlU3RhdGVDaGFuZ2UoKTogU3ViamVjdDxDb25uZWN0aW9uU3RhdGU+IHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGVDaGFuZ2VTdWJqZWN0O1xuICB9XG5cbiAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgaWQ6IHRoaXMuX2lkLFxuICAgICAgICBhZGRyZXNzOiB0aGlzLl9hZGRyZXNzLnRvU3RyaW5nKCksXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0ZTogdGhpcy5fY29ubmVjdGlvblN0YXRlLFxuICAgICAgICBuZWdvdGlhdGlvblN0YXRlOiB0aGlzLl9uZWdvdGlhdGlvblN0YXRlLFxuICAgICAgICBtZXRlcjogdGhpcy5nZXRNZXRlcigpLnRvSlNPTigpXG4gICAgICB9LFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgMlxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCB7U3Vic2NyaXB0aW9ufSBmcm9tICdyeGpzJztcbmltcG9ydCB7SUNsb2NrfSBmcm9tICcuLi9jbG9jay9pbnRlcmZhY2UnO1xuaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuLi9tZXNzYWdlL2FkZHJlc3MnO1xuaW1wb3J0IHtNZXNzYWdlfSBmcm9tICcuLi9tZXNzYWdlL21lc3NhZ2UnO1xuaW1wb3J0IHtWaWFDb25uZWN0aW9uTWV0ZXJ9IGZyb20gJy4uL21ldGVyaW5nL2Nvbm5lY3Rpb24tbWV0ZXIvdmlhLWNvbm5lY3Rpb24tbWV0ZXInO1xuaW1wb3J0IHtBYnN0cmFjdENvbm5lY3Rpb259IGZyb20gJy4vY29ubmVjdGlvbic7XG5pbXBvcnQge0Nvbm5lY3Rpb25TdGF0ZSwgSUNvbm5lY3Rpb24sIElWaWFDb25uZWN0aW9uT3B0aW9uc30gZnJvbSAnLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgY2xhc3MgVmlhQ29ubmVjdGlvbiBleHRlbmRzIEFic3RyYWN0Q29ubmVjdGlvbiBpbXBsZW1lbnRzIElDb25uZWN0aW9uIHtcblxuICBwcml2YXRlIF9wYXJlbnRTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcbiAgcHJvdGVjdGVkIF9vcHRpb25zOiBJVmlhQ29ubmVjdGlvbk9wdGlvbnM7XG5cbiAgY29uc3RydWN0b3IoYWRkcmVzczogQWRkcmVzcywgY2xvY2s6IElDbG9jaywgb3B0aW9uczogSVZpYUNvbm5lY3Rpb25PcHRpb25zKSB7XG4gICAgc3VwZXIoYWRkcmVzcywgY2xvY2ssIG9wdGlvbnMpO1xuICAgIHRoaXMuX21ldGVyID0gbmV3IFZpYUNvbm5lY3Rpb25NZXRlcih0aGlzLCBjbG9jaywgb3B0aW9ucy5wYXlsb2FkLnF1YWxpdHkpO1xuICB9XG5cbiAgcHJpdmF0ZSBwYXJlbnRTdGF0ZUNoYW5nZWQoY29ubmVjdGlvblN0YXRlOiBDb25uZWN0aW9uU3RhdGUpOiB2b2lkIHtcbiAgICBzd2l0Y2ggKGNvbm5lY3Rpb25TdGF0ZSkge1xuICAgICAgY2FzZSBDb25uZWN0aW9uU3RhdGUuT1BFTjpcbiAgICAgICAgdGhpcy5vbk9wZW4odGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb25uZWN0aW9uU3RhdGUuQ0xPU0VEOlxuICAgICAgICB0aGlzLm9uQ2xvc2UoJ3BhcmVudCBjb25uZWN0aW9uIGNsb3NlZCcpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29ubmVjdGlvblN0YXRlLkVSUk9SOlxuICAgICAgICB0aGlzLm9uRXJyb3IoJ3BhcmVudCBjb25uZWN0aW9uIGVycm9yJyk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBjbG9zZUNsaWVudCgpOiB2b2lkIHtcbiAgICB0aGlzLl9wYXJlbnRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB0aGlzLm9uQ2xvc2UoJ3ZpYSBjb25uZWN0aW9uIGNsb3NlIGNsaWVudCcpO1xuICB9XG5cbiAgcHJvdGVjdGVkIG9wZW5DbGllbnQoKTogdm9pZCB7XG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5fb3B0aW9ucy5wYXlsb2FkLnBhcmVudDtcbiAgICBpZiAoIXBhcmVudCB8fCBwYXJlbnQuaXNJblN0YXRlKENvbm5lY3Rpb25TdGF0ZS5DTE9TSU5HLCBDb25uZWN0aW9uU3RhdGUuQ0xPU0VEKSkge1xuICAgICAgdGhpcy5vbkVycm9yKCdwYXJlbnQgY29ubmVjdGlvbiBtaXNzaW5nJyk7XG4gICAgfSBlbHNlIGlmIChwYXJlbnQuaXNJblN0YXRlKENvbm5lY3Rpb25TdGF0ZS5PUEVOKSkge1xuICAgICAgdGhpcy5vbk9wZW4odGhpcyk7XG4gICAgfVxuICAgIHRoaXMuX3BhcmVudFN1YnNjcmlwdGlvbiA9IHBhcmVudFxuICAgICAgLm9ic2VydmVTdGF0ZUNoYW5nZSgpXG4gICAgICAuc3Vic2NyaWJlKHRoaXMucGFyZW50U3RhdGVDaGFuZ2VkLmJpbmQodGhpcykpO1xuICB9XG5cbiAgcHVibGljIHNlbmQobWVzc2FnZTogTWVzc2FnZSk6IHZvaWQge1xuICAgIHRocm93IG5ldyBFcnJvcigndmlhIGNvbm5lY3Rpb24gY2Fubm90IHNlbmQgZGlyZWN0bHknKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuL2FkZHJlc3MnO1xuaW1wb3J0IHtNZXNzYWdlU3ViamVjdH0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtNZXNzYWdlfSBmcm9tICcuL21lc3NhZ2UnO1xuXG5leHBvcnQgY2xhc3MgUGluZyBleHRlbmRzIE1lc3NhZ2Uge1xuICBwcm90ZWN0ZWQgX2JvZHk6IG51bWJlcjtcblxuICBwdWJsaWMgY29uc3RydWN0b3Ioc2VuZGVyOiBBZGRyZXNzLCByZWNlaXZlcjogQWRkcmVzcywgc2VxdWVuY2U6IG51bWJlcikge1xuICAgIHN1cGVyKHNlbmRlciwgcmVjZWl2ZXIsIE1lc3NhZ2VTdWJqZWN0LlBJTkcsIHNlcXVlbmNlKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRCb2R5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2JvZHk7XG4gIH1cbn1cbiIsImltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi9hZGRyZXNzJztcbmltcG9ydCB7TWVzc2FnZVN1YmplY3R9IGZyb20gJy4vaW50ZXJmYWNlJztcbmltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi9tZXNzYWdlJztcblxuZXhwb3J0IGNsYXNzIFBvbmcgZXh0ZW5kcyBNZXNzYWdlIHtcbiAgcHJvdGVjdGVkIF9ib2R5OiBudW1iZXI7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKHNlbmRlcjogQWRkcmVzcywgcmVjZWl2ZXI6IEFkZHJlc3MsIHNlcXVlbmNlOiBudW1iZXIpIHtcbiAgICBzdXBlcihzZW5kZXIsIHJlY2VpdmVyLCBNZXNzYWdlU3ViamVjdC5QT05HLCBzZXF1ZW5jZSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Qm9keSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9ib2R5O1xuICB9XG59XG4iLCJpbXBvcnQge0lDbG9ja30gZnJvbSAnLi4vLi4vY2xvY2svaW50ZXJmYWNlJztcbmltcG9ydCB7Q29uZmlndXJhdGlvbk1hcH0gZnJvbSAnLi4vLi4vY29uZmlndXJhdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBMYXRlbmN5U3RvcHdhdGNoIHtcbiAgcHJpdmF0ZSBfY2xvY2s6IElDbG9jaztcbiAgcHJpdmF0ZSBfdGltZXJQZXJTZXF1ZW5jZTogTWFwPG51bWJlciwgKCgpID0+IG51bWJlcikgfCBudW1iZXI+O1xuXG4gIGNvbnN0cnVjdG9yKGNsb2NrOiBJQ2xvY2spIHtcbiAgICB0aGlzLl9jbG9jayA9IGNsb2NrO1xuICAgIHRoaXMuX3RpbWVyUGVyU2VxdWVuY2UgPSBuZXcgTWFwKCk7XG4gIH1cblxuICBwcml2YXRlIGdldEhpZ2hlc3RTZXF1ZW5jZSgpIHtcbiAgICByZXR1cm4gQXJyYXlcbiAgICAgIC5mcm9tKHRoaXMuX3RpbWVyUGVyU2VxdWVuY2Uua2V5cygpKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGEgLSBiKVxuICAgICAgLnBvcCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBjbGVhblVwT2xkU2VxdWVuY2VzKCkge1xuICAgIGNvbnN0IGhpZ2hlc3RTZXF1ZW5jZSA9IHRoaXMuZ2V0SGlnaGVzdFNlcXVlbmNlKCk7XG4gICAgY29uc3QgcmVtb3ZlS2V5cyA9IEFycmF5XG4gICAgICAuZnJvbSh0aGlzLl90aW1lclBlclNlcXVlbmNlLmtleXMoKSlcbiAgICAgIC5maWx0ZXIoXG4gICAgICAgIGtleSA9PiBoaWdoZXN0U2VxdWVuY2UgLSBrZXkgPj0gQ29uZmlndXJhdGlvbk1hcC5nZXREZWZhdWx0KCkuTEFURU5DWV9XSU5ET1dfU0laRVxuICAgICAgKTtcbiAgICByZW1vdmVLZXlzXG4gICAgICAuZm9yRWFjaChcbiAgICAgICAga2V5ID0+IHtcbiAgICAgICAgICB0aGlzLl90aW1lclBlclNlcXVlbmNlLmRlbGV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICApO1xuICB9XG5cbiAgcHVibGljIHN0YXJ0KHNlcXVlbmNlOiBudW1iZXIpIHtcbiAgICBpZiAoIXRoaXMuX3RpbWVyUGVyU2VxdWVuY2UuZ2V0KHNlcXVlbmNlKSkge1xuICAgICAgdGhpcy5fdGltZXJQZXJTZXF1ZW5jZS5zZXQoc2VxdWVuY2UsIHRoaXMuX2Nsb2NrLnRpbWVJdCgpKTtcbiAgICB9XG4gICAgdGhpcy5jbGVhblVwT2xkU2VxdWVuY2VzKCk7XG4gIH1cblxuICBwdWJsaWMgc3RvcChzZXF1ZW5jZTogbnVtYmVyKSB7XG4gICAgY29uc3QgZXhpc3RpbmdUaW1lciA9IHRoaXMuX3RpbWVyUGVyU2VxdWVuY2UuZ2V0KHNlcXVlbmNlKTtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nVGltZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuX3RpbWVyUGVyU2VxdWVuY2Uuc2V0KHNlcXVlbmNlLCBleGlzdGluZ1RpbWVyKCkpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBhc0FycmF5KCk6IEFycmF5PG51bWJlcj4ge1xuICAgIHJldHVybiBBcnJheVxuICAgICAgLmZyb20odGhpcy5fdGltZXJQZXJTZXF1ZW5jZS5lbnRyaWVzKCkpXG4gICAgICAuZmlsdGVyKFxuICAgICAgICAoW3ZhbCwgdmFsdWVdKSA9PiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlID4gMFxuICAgICAgKVxuICAgICAgLm1hcChcbiAgICAgICAgKFtrZXksIHZhbHVlXSkgPT4gdmFsdWUgYXMgbnVtYmVyXG4gICAgICApO1xuICB9XG59XG4iLCJpbXBvcnQge1N1YmplY3R9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtJQ2xvY2t9IGZyb20gJy4uLy4uL2Nsb2NrL2ludGVyZmFjZSc7XG5pbXBvcnQge0NvbmZpZ3VyYXRpb25NYXB9IGZyb20gJy4uLy4uL2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHtDb25uZWN0aW9uU3RhdGUsIElDb25uZWN0aW9uLCBQcm90b2NvbH0gZnJvbSAnLi4vLi4vY29ubmVjdGlvbi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtMb2dnZXJ9IGZyb20gJy4uLy4uL2xvZ2dlci9sb2dnZXInO1xuaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuLi8uLi9tZXNzYWdlL2FkZHJlc3MnO1xuaW1wb3J0IHtNZXNzYWdlU3ViamVjdH0gZnJvbSAnLi4vLi4vbWVzc2FnZS9pbnRlcmZhY2UnO1xuaW1wb3J0IHtNZXNzYWdlfSBmcm9tICcuLi8uLi9tZXNzYWdlL21lc3NhZ2UnO1xuaW1wb3J0IHtQaW5nfSBmcm9tICcuLi8uLi9tZXNzYWdlL3BpbmcnO1xuaW1wb3J0IHtQb25nfSBmcm9tICcuLi8uLi9tZXNzYWdlL3BvbmcnO1xuaW1wb3J0IHtSZW1vdGVQZWVyVGFibGV9IGZyb20gJy4uLy4uL3BlZXIvcmVtb3RlLXBlZXItdGFibGUnO1xuaW1wb3J0IHtTbGlkaW5nV2luZG93fSBmcm9tICcuLi9zbGlkaW5nLXdpbmRvdyc7XG5pbXBvcnQge0Nvbm5lY3Rpb25NZXRlcn0gZnJvbSAnLi9jb25uZWN0aW9uLW1ldGVyJztcbmltcG9ydCB7SUNvbm5lY3Rpb25NZXRlcn0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtMYXRlbmN5U3RvcHdhdGNofSBmcm9tICcuL2xhdGVuY3ktc3RvcHdhdGNoJztcblxuZXhwb3J0IGNsYXNzIFRyYW5zbWlzc2lvbkNvbm5lY3Rpb25NZXRlciBleHRlbmRzIENvbm5lY3Rpb25NZXRlciBpbXBsZW1lbnRzIElDb25uZWN0aW9uTWV0ZXIge1xuICBwcml2YXRlIF9yZWNlaXZlU2xpZGluZ1dpbmRvdzogU2xpZGluZ1dpbmRvdztcbiAgcHJpdmF0ZSBfZWNob1NsaWRpbmdXaW5kb3c6IFNsaWRpbmdXaW5kb3c7XG4gIHByaXZhdGUgX3BpbmdJbnRlcnZhbDogYW55O1xuICBwcml2YXRlIF9vcmlnaW5hdG9yOiBBZGRyZXNzO1xuICBwcml2YXRlIF9yZWNlaXZlcjogQWRkcmVzcztcbiAgcHJpdmF0ZSBfbWVzc2FnZVN1YmplY3Q6IFN1YmplY3Q8TWVzc2FnZT47XG4gIHByaXZhdGUgX2xhdGVuY3lQZXJTZXF1ZW5jZTogTGF0ZW5jeVN0b3B3YXRjaDtcblxuICBjb25zdHJ1Y3Rvcihjb25uZWN0aW9uOiBJQ29ubmVjdGlvbiwgb3JpZ2luYXRvcjogQWRkcmVzcywgcmVjZWl2ZXI6IEFkZHJlc3MsIGNsb2NrOiBJQ2xvY2spIHtcbiAgICBzdXBlcihjb25uZWN0aW9uLCBjbG9jayk7XG4gICAgdGhpcy5fcmVjZWl2ZVNsaWRpbmdXaW5kb3cgPSBuZXcgU2xpZGluZ1dpbmRvdygpO1xuICAgIHRoaXMuX2VjaG9TbGlkaW5nV2luZG93ID0gbmV3IFNsaWRpbmdXaW5kb3coKTtcbiAgICB0aGlzLl9vcmlnaW5hdG9yID0gb3JpZ2luYXRvcjtcbiAgICB0aGlzLl9yZWNlaXZlciA9IHJlY2VpdmVyO1xuICAgIHRoaXMuX21lc3NhZ2VTdWJqZWN0ID0gbmV3IFN1YmplY3Q8TWVzc2FnZT4oKTtcbiAgICB0aGlzLl9sYXRlbmN5UGVyU2VxdWVuY2UgPSBuZXcgTGF0ZW5jeVN0b3B3YXRjaChjbG9jayk7XG4gIH1cblxuICBwcml2YXRlIGVtaXRNZXNzYWdlKG1lc3NhZ2U6IE1lc3NhZ2UpIHtcbiAgICB0aGlzLl9tZXNzYWdlU3ViamVjdC5uZXh0KG1lc3NhZ2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZW5kUG9uZyhyZWNlaXZlcjogQWRkcmVzcywgc2VxdWVuY2U6IG51bWJlcikge1xuICAgIGNvbnN0IHBvbmcgPSBuZXcgUG9uZyhcbiAgICAgIHRoaXMuX29yaWdpbmF0b3IsXG4gICAgICByZWNlaXZlcixcbiAgICAgIHNlcXVlbmNlXG4gICAgKTtcbiAgICBMb2dnZXIuZ2V0TG9nZ2VyKHRoaXMuX29yaWdpbmF0b3IuZ2V0SWQoKSkuZGVidWcoXG4gICAgICBgc2VuZCBwb25nIHRvICR7cmVjZWl2ZXIuZ2V0SWQoKX1gLFxuICAgICAgcG9uZ1xuICAgICk7XG4gICAgdGhpcy5lbWl0TWVzc2FnZShwb25nKTtcbiAgfVxuXG4gIHByaXZhdGUgc2VuZFBpbmcoKSB7XG4gICAgdGhpcy5fZWNob1NsaWRpbmdXaW5kb3cuc2xpZGUoKTtcbiAgICBjb25zdCBuZXh0U2VxdWVuY2UgPSB0aGlzLl9lY2hvU2xpZGluZ1dpbmRvdy5nZXRTZXF1ZW5jZU51bWJlcigpO1xuICAgIGNvbnN0IHBpbmcgPSBuZXcgUGluZyhcbiAgICAgIHRoaXMuX29yaWdpbmF0b3IsXG4gICAgICB0aGlzLl9yZWNlaXZlcixcbiAgICAgIG5leHRTZXF1ZW5jZVxuICAgICk7XG4gICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLl9vcmlnaW5hdG9yLmdldElkKCkpLmRlYnVnKFxuICAgICAgYHNlbmQgcGluZyB0byAke3RoaXMuX3JlY2VpdmVyLmdldElkKCl9YCxcbiAgICAgIHBpbmdcbiAgICApO1xuICAgIHRoaXMuZW1pdE1lc3NhZ2UocGluZyk7XG4gICAgdGhpcy5fbGF0ZW5jeVBlclNlcXVlbmNlLnN0YXJ0KG5leHRTZXF1ZW5jZSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVBpbmcobWVzc2FnZTogUGluZykge1xuICAgIExvZ2dlci5nZXRMb2dnZXIodGhpcy5fb3JpZ2luYXRvci5nZXRJZCgpKVxuICAgICAgLmRlYnVnKFxuICAgICAgICBgaGFuZGxlIHBpbmcgZnJvbSAke21lc3NhZ2UuZ2V0U2VuZGVyKCkuZ2V0SWQoKX1gLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICBgcmVjZWl2ZSBzbGlkaW5nIHdpbmRvdzpgLFxuICAgICAgICBgWyR7QXJyYXkuZnJvbSh0aGlzLl9yZWNlaXZlU2xpZGluZ1dpbmRvdy52YWx1ZXMoKSkuam9pbignLCAnKX1dYFxuICAgICAgKTtcbiAgICB0aGlzLnNlbmRQb25nKG1lc3NhZ2UuZ2V0U2VuZGVyKCksIG1lc3NhZ2UuZ2V0Qm9keSgpKTtcbiAgICB0aGlzLl9yZWNlaXZlU2xpZGluZ1dpbmRvdy5hZGQobWVzc2FnZS5nZXRCb2R5KCkpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVQb25nKG1lc3NhZ2U6IFBvbmcpIHtcbiAgICBjb25zdCBzZXF1ZW5jZSA9IG1lc3NhZ2UuZ2V0Qm9keSgpO1xuICAgIHRoaXMuX2VjaG9TbGlkaW5nV2luZG93LmFkZChzZXF1ZW5jZSk7XG4gICAgdGhpcy5fbGF0ZW5jeVBlclNlcXVlbmNlLnN0b3Aoc2VxdWVuY2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRFcSgpOiBudW1iZXIge1xuICAgIHJldHVybiAodGhpcy5fZWNob1NsaWRpbmdXaW5kb3cuc2l6ZSkgLyBDb25maWd1cmF0aW9uTWFwLmdldERlZmF1bHQoKS5TTElESU5HX1dJTkRPV19TSVpFO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRScSgpOiBudW1iZXIge1xuICAgIHJldHVybiAodGhpcy5fcmVjZWl2ZVNsaWRpbmdXaW5kb3cuc2l6ZSkgLyBDb25maWd1cmF0aW9uTWFwLmdldERlZmF1bHQoKS5TTElESU5HX1dJTkRPV19TSVpFO1xuICB9XG5cbiAgcHVibGljIGdldFRxKCk6IG51bWJlciB7XG4gICAgY29uc3QgcnEgPSB0aGlzLmdldFJxKCk7XG4gICAgaWYgKHJxID09PSAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdHEgPSB0aGlzLmdldEVxKCkgLyBycTtcbiAgICAgIGlmICh0cSA+IDEpIHtcbiAgICAgICAgLy8gRXEgc2hvdWxkIG5vdCBleGNlZWQgUnFcbiAgICAgICAgcmV0dXJuIENvbmZpZ3VyYXRpb25NYXAuZ2V0RGVmYXVsdCgpLkRFRkFVTFRfUVVBTElUWTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ2V0TGF0ZW5jeVF1YWxpdHkocmVtb3RlUGVlcnM6IFJlbW90ZVBlZXJUYWJsZSk6IG51bWJlciB7XG4gICAgY29uc3QgY29uZmlndXJhdGlvbiA9IENvbmZpZ3VyYXRpb25NYXAuZ2V0RGVmYXVsdCgpO1xuICAgIGNvbnN0IG15TGF0ZW5jeSA9IHRoaXMuZ2V0QXZlcmFnZUxhdGVuY3koKTtcbiAgICBpZiAobXlMYXRlbmN5ID09PSAwKSB7XG4gICAgICByZXR1cm4gY29uZmlndXJhdGlvbi5ERUZBVUxUX1FVQUxJVFk7XG4gICAgfVxuXG4gICAgY29uc3QgYWxsTGF0ZW5jaWVzID0gcmVtb3RlUGVlcnNcbiAgICAgIC5hZ2dyZWdhdGVDb25uZWN0aW9ucyhcbiAgICAgICAgdGFibGUgPT4gdGFibGVcbiAgICAgICAgICAuZmlsdGVyQnlQcm90b2NvbChQcm90b2NvbC5XRUJSVENfREFUQSlcbiAgICAgICAgICAuZmlsdGVyQnlTdGF0ZXMoQ29ubmVjdGlvblN0YXRlLk9QRU4pXG4gICAgICApXG4gICAgICAubWFwKFxuICAgICAgICAoY29ubmVjdGlvbjogSUNvbm5lY3Rpb24pID0+IChjb25uZWN0aW9uLmdldE1ldGVyKCkgYXMgVHJhbnNtaXNzaW9uQ29ubmVjdGlvbk1ldGVyKS5nZXRBdmVyYWdlTGF0ZW5jeSgpXG4gICAgICApXG4gICAgICAuZmlsdGVyKFxuICAgICAgICB2YWx1ZSA9PiB2YWx1ZSA+IDBcbiAgICAgICk7XG5cbiAgICBpZiAoYWxsTGF0ZW5jaWVzLmxlbmd0aCA8PSAxKSB7XG4gICAgICByZXR1cm4gQ29uZmlndXJhdGlvbk1hcC5nZXREZWZhdWx0KCkuREVGQVVMVF9RVUFMSVRZO1xuICAgIH1cblxuICAgIGNvbnN0IGJlc3RMYXRlbmN5OiBudW1iZXIgPSBhbGxMYXRlbmNpZXNcbiAgICAgIC5yZWR1Y2UoXG4gICAgICAgIChwcmV2aW91cywgY3VycmVudCkgPT4gY3VycmVudCA8IHByZXZpb3VzID8gY3VycmVudCA6IHByZXZpb3VzLCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUlxuICAgICAgKTtcbiAgICBjb25zdCB3b3JzdExhdGVuY3k6IG51bWJlciA9IGFsbExhdGVuY2llc1xuICAgICAgLnJlZHVjZShcbiAgICAgICAgKHByZXZpb3VzLCBjdXJyZW50KSA9PiBjdXJyZW50ID4gcHJldmlvdXMgPyBjdXJyZW50IDogcHJldmlvdXMsIDBcbiAgICAgICk7XG5cbiAgICBzd2l0Y2ggKG15TGF0ZW5jeSkge1xuICAgICAgY2FzZSBiZXN0TGF0ZW5jeTpcbiAgICAgICAgcmV0dXJuIDEuMDtcbiAgICAgIGNhc2Ugd29yc3RMYXRlbmN5OlxuICAgICAgICByZXR1cm4gMC4wO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIDEgLSAobXlMYXRlbmN5IC0gYmVzdExhdGVuY3kpIC8gKHdvcnN0TGF0ZW5jeSAtIGJlc3RMYXRlbmN5KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ2V0QXZlcmFnZUxhdGVuY3koKTogbnVtYmVyIHtcbiAgICBjb25zdCBjb25maWd1cmF0aW9uID0gQ29uZmlndXJhdGlvbk1hcC5nZXREZWZhdWx0KCk7XG4gICAgY29uc3QgbGF0ZW5jeVZhbHVlcyA9IHRoaXMuX2xhdGVuY3lQZXJTZXF1ZW5jZS5hc0FycmF5KCk7XG5cbiAgICBpZiAobGF0ZW5jeVZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBjb25maWd1cmF0aW9uLkRFRkFVTFRfUVVBTElUWTtcbiAgICB9XG5cbiAgICByZXR1cm4gTWF0aC5tYXgoXG4gICAgICBsYXRlbmN5VmFsdWVzXG4gICAgICAgIC5yZWR1Y2UoXG4gICAgICAgICAgKHByZXZpb3VzLCBjdXJyZW50KSA9PiBwcmV2aW91cyArIGN1cnJlbnQsIDApXG4gICAgICAvIGxhdGVuY3lWYWx1ZXMubGVuZ3RoLFxuICAgICAgY29uZmlndXJhdGlvbi5ERUZBVUxUX1FVQUxJVFlcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGdldFF1YWxpdHkocmVtb3RlUGVlcnM6IFJlbW90ZVBlZXJUYWJsZSk6IG51bWJlciB7XG4gICAgICByZXR1cm4gKHRoaXMuZ2V0VHEoKSArIHRoaXMuZ2V0TGF0ZW5jeVF1YWxpdHkocmVtb3RlUGVlcnMpKSAvIDI7XG4gIH1cblxuICBwdWJsaWMgb25NZXNzYWdlKG1lc3NhZ2U6IE1lc3NhZ2UpOiB2b2lkIHtcbiAgICBzdXBlci5vbk1lc3NhZ2UobWVzc2FnZSk7XG4gICAgaWYgKG1lc3NhZ2UuZ2V0U3ViamVjdCgpID09PSBNZXNzYWdlU3ViamVjdC5QSU5HKSB7XG4gICAgICB0aGlzLmhhbmRsZVBpbmcobWVzc2FnZSBhcyBQaW5nKTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuZ2V0U3ViamVjdCgpID09PSBNZXNzYWdlU3ViamVjdC5QT05HKSB7XG4gICAgICB0aGlzLmhhbmRsZVBvbmcobWVzc2FnZSBhcyBQb25nKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgb2JzZXJ2ZU1lc3NhZ2VzKCkge1xuICAgIHJldHVybiB0aGlzLl9tZXNzYWdlU3ViamVjdDtcbiAgfVxuXG4gIHB1YmxpYyBzdGFydCgpOiB2b2lkIHtcbiAgICBzdXBlci5zdGFydCgpO1xuICAgIHRoaXMuX3BpbmdJbnRlcnZhbCA9IHRoaXMuX2Nsb2NrLnNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMuc2VuZFBpbmcoKTtcbiAgICB9LCBDb25maWd1cmF0aW9uTWFwLmdldERlZmF1bHQoKS5UUkFOU01JU1NJT05fUElOR19JTlRFUlZBTCk7XG4gIH1cblxuICBwdWJsaWMgc3RvcCgpOiB2b2lkIHtcbiAgICBzdXBlci5zdG9wKCk7XG4gICAgaWYgKHRoaXMuX3BpbmdJbnRlcnZhbCkge1xuICAgICAgdGhpcy5fY2xvY2suY2xlYXJJbnRlcnZhbCh0aGlzLl9waW5nSW50ZXJ2YWwpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgU2ltcGxlUGVlciBmcm9tICdzaW1wbGUtcGVlcic7XG5pbXBvcnQge0lDbG9ja30gZnJvbSAnLi4vY2xvY2svaW50ZXJmYWNlJztcbmltcG9ydCB7TG9nZ2VyfSBmcm9tICcuLi9sb2dnZXIvbG9nZ2VyJztcbmltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi4vbWVzc2FnZS9hZGRyZXNzJztcbmltcG9ydCB7Q29ubmVjdGlvbk5lZ290aWF0aW9uVHlwZX0gZnJvbSAnLi4vbWVzc2FnZS9jb25uZWN0aW9uLW5lZ290aWF0aW9uJztcbmltcG9ydCB7TWVzc2FnZVN1YmplY3R9IGZyb20gJy4uL21lc3NhZ2UvaW50ZXJmYWNlJztcbmltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi4vbWVzc2FnZS9tZXNzYWdlJztcbmltcG9ydCB7QWJzdHJhY3RDb25uZWN0aW9ufSBmcm9tICcuL2Nvbm5lY3Rpb24nO1xuaW1wb3J0IHtDb25uZWN0aW9uU3RhdGUsIElDb25uZWN0aW9uLCBJQ29ubmVjdGlvbk9wdGlvbnMsIElXZWJSVENDb25uZWN0aW9uT3B0aW9ucywgTmVnb3RpYXRpb25TdGF0ZX0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgV2ViUlRDQ29ubmVjdGlvbiBleHRlbmRzIEFic3RyYWN0Q29ubmVjdGlvbiBpbXBsZW1lbnRzIElDb25uZWN0aW9uIHtcblxuICBwcm90ZWN0ZWQgX2NsaWVudDogU2ltcGxlUGVlci5JbnN0YW5jZTtcbiAgcHJvdGVjdGVkIF9vcHRpb25zOiBJV2ViUlRDQ29ubmVjdGlvbk9wdGlvbnM7XG4gIHByb3RlY3RlZCBfc2ltcGxlUGVlck9wdGlvbnM6IFNpbXBsZVBlZXIuT3B0aW9ucztcblxuICBjb25zdHJ1Y3RvcihhZGRyZXNzOiBBZGRyZXNzLCBjbG9jazogSUNsb2NrLCBvcHRpb25zOiBJQ29ubmVjdGlvbk9wdGlvbnMpIHtcbiAgICBzdXBlcihhZGRyZXNzLCBjbG9jaywgb3B0aW9ucyk7XG4gICAgdGhpcy5fc2ltcGxlUGVlck9wdGlvbnMgPSB7dHJpY2tsZTogZmFsc2V9O1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVPZmZlcihtaXRvc2lzSWQ6IHN0cmluZykge1xuICAgIHRoaXMuX25lZ290aWF0aW9uU3RhdGUgPSBOZWdvdGlhdGlvblN0YXRlLldBSVRJTkdfRk9SX09GRkVSO1xuICAgIHRoaXMuX3NpbXBsZVBlZXJPcHRpb25zLmluaXRpYXRvciA9IHRydWU7XG4gICAgdGhpcy5fY2xpZW50ID0gbmV3IFNpbXBsZVBlZXIodGhpcy5fc2ltcGxlUGVlck9wdGlvbnMpO1xuICAgIHRoaXMuX2NsaWVudC5vbignc2lnbmFsJywgKG9mZmVyOiBTaW1wbGVQZWVyLlNpZ25hbERhdGEpID0+IHtcbiAgICAgIGNvbnN0IGJvZHkgPSBPYmplY3QuYXNzaWduKG9mZmVyLCB0aGlzLmdldEFkZGl0aW9uYWxPZmZlclBheWxvYWQoKSk7XG4gICAgICBMb2dnZXIuZ2V0TG9nZ2VyKG1pdG9zaXNJZClcbiAgICAgICAgLmRlYnVnKGB3ZWJydGMgb2ZmZXIgZm9yICR7dGhpcy5nZXRBZGRyZXNzKCkuZ2V0SWQoKX0gcmVhZHlgLCBKU09OLnN0cmluZ2lmeShvZmZlcikpO1xuICAgICAgdGhpcy5vbk1lc3NhZ2UobmV3IE1lc3NhZ2UoXG4gICAgICAgIHRoaXMuZ2V0TXlBZGRyZXNzKCksXG4gICAgICAgIG5ldyBBZGRyZXNzKHRoaXMuZ2V0QWRkcmVzcygpLmdldElkKCkpLFxuICAgICAgICBNZXNzYWdlU3ViamVjdC5DT05ORUNUSU9OX05FR09USUFUSU9OLFxuICAgICAgICBib2R5XG4gICAgICApKTtcbiAgICAgIHRoaXMuX25lZ290aWF0aW9uU3RhdGUgPSBOZWdvdGlhdGlvblN0YXRlLldBSVRJTkdfRk9SX0FOU1dFUjtcbiAgICB9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBjcmVhdGVBbnN3ZXIobWl0b3Npc0lkOiBzdHJpbmcsIG9wdGlvbnM6IElXZWJSVENDb25uZWN0aW9uT3B0aW9ucykge1xuICAgIGNvbnN0IG9mZmVyOiBTaW1wbGVQZWVyLlNpZ25hbERhdGEgPSBvcHRpb25zLnBheWxvYWQ7XG4gICAgdGhpcy5fbmVnb3RpYXRpb25TdGF0ZSA9IE5lZ290aWF0aW9uU3RhdGUuV0FJVElOR19GT1JfQU5TV0VSO1xuICAgIHRoaXMuX3NpbXBsZVBlZXJPcHRpb25zLmluaXRpYXRvciA9IGZhbHNlO1xuICAgIHRoaXMuX2NsaWVudCA9IG5ldyBTaW1wbGVQZWVyKHRoaXMuX3NpbXBsZVBlZXJPcHRpb25zKTtcbiAgICB0aGlzLl9jbGllbnQuc2lnbmFsKG9mZmVyKTtcbiAgICB0aGlzLl9jbGllbnQub24oJ3NpZ25hbCcsIChhbnN3ZXI6IFNpbXBsZVBlZXIuU2lnbmFsRGF0YSkgPT4ge1xuICAgICAgTG9nZ2VyLmdldExvZ2dlcihtaXRvc2lzSWQpXG4gICAgICAgIC5kZWJ1Zyhgd2VicnRjIGFuc3dlciBmb3IgJHt0aGlzLmdldEFkZHJlc3MoKS5nZXRJZCgpfSByZWFkeWAsIEpTT04uc3RyaW5naWZ5KGFuc3dlcikpO1xuICAgICAgdGhpcy5vbk1lc3NhZ2UobmV3IE1lc3NhZ2UoXG4gICAgICAgIHRoaXMuZ2V0TXlBZGRyZXNzKCksXG4gICAgICAgIG5ldyBBZGRyZXNzKHRoaXMuZ2V0QWRkcmVzcygpLmdldElkKCkpLFxuICAgICAgICBNZXNzYWdlU3ViamVjdC5DT05ORUNUSU9OX05FR09USUFUSU9OLFxuICAgICAgICBhbnN3ZXJcbiAgICAgICkpO1xuICAgICAgdGhpcy5fbmVnb3RpYXRpb25TdGF0ZSA9IE5lZ290aWF0aW9uU3RhdGUuV0FJVElOR19GT1JfRVNUQUJMSVNIO1xuICAgIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGdldEFkZGl0aW9uYWxPZmZlclBheWxvYWQoKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcblxuICBwcm90ZWN0ZWQgZ2V0TXlBZGRyZXNzKCk6IEFkZHJlc3Mge1xuICAgIHJldHVybiBuZXcgQWRkcmVzcyh0aGlzLl9vcHRpb25zLm1pdG9zaXNJZCwgdGhpcy5nZXRBZGRyZXNzKCkuZ2V0UHJvdG9jb2woKSwgdGhpcy5nZXRJZCgpKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRSVENQZWVyQ29ubmVjdGlvbigpOiBSVENQZWVyQ29ubmVjdGlvbiB7XG4gICAgaWYgKHRoaXMuX2NsaWVudCkge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5fcGM7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGdldFN0YXRzKCk6IFByb21pc2U8QXJyYXk8UlRDU3RhdHM+PiB7XG4gICAgY29uc3QgcnRjcGMgPSB0aGlzLmdldFJUQ1BlZXJDb25uZWN0aW9uKCk7XG4gICAgaWYgKCFydGNwYykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBubyBzdGF0cyBmb3IgbWlzc2luZyBjb25uZWN0aW9uIHRvICR7dGhpcy5nZXRNeUFkZHJlc3MoKS5nZXRJZCgpfWApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2U8QXJyYXk8UlRDU3RhdHM+PihyZXNvbHZlID0+IHtcbiAgICAgIHJ0Y3BjLmdldFN0YXRzKClcbiAgICAgICAgLnRoZW4oKHJlcG9ydDogUlRDU3RhdHNSZXBvcnQpID0+IHtcbiAgICAgICAgICBjb25zdCBzdGF0c0FycmF5OiBBcnJheTxSVENTdGF0cz4gPSBbXTtcbiAgICAgICAgICByZXBvcnQuZm9yRWFjaCgoc3RhdHM6IFJUQ1N0YXRzKSA9PiB7XG4gICAgICAgICAgICBzdGF0c0FycmF5LnB1c2goc3RhdHMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlc29sdmUoc3RhdHNBcnJheSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIGNsb3NlQ2xpZW50KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9jbGllbnQpIHtcbiAgICAgIHRoaXMuX2NsaWVudC5kZXN0cm95KCk7XG4gICAgICB0aGlzLl9jbGllbnQgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9uQ2xvc2UoJ3dlYnJ0YyBwZWVyIGNvbm5lY3Rpb24gd2FzIGNsb3NlZCBhbmQgbm8gY2xpZW50IGV4aXN0czsgcHJvYmFibHkgb3RoZXIgY2xpZW50IGhhcyBjbG9zZWQnKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgYmluZENsaWVudExpc3RlbmVycygpOiB2b2lkIHtcbiAgICB0aGlzLl9jbGllbnQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICB0aGlzLm9uT3Blbih0aGlzKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jbGllbnQub24oJ2RhdGEnLCAoZGF0YTogc3RyaW5nKSA9PiB7XG4gICAgICB0aGlzLm9uTWVzc2FnZShNZXNzYWdlLmZyb21TdHJpbmcoZGF0YSkpO1xuICAgIH0pO1xuICAgIHRoaXMuX2NsaWVudC5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgICB0aGlzLm9uQ2xvc2UoJ3dlYnJ0YyBwZWVyIGNvbm5lY3Rpb24gY2xvc2UnKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jbGllbnQub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICB0aGlzLm9uRXJyb3IoZXJyb3IpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIG9wZW5DbGllbnQoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLl9vcHRpb25zKSB7XG4gICAgICB0aHJvdyAgbmV3IEVycm9yKCd3ZWJydGMgY2Fubm90IGJlIG9wZW5lZCB3aXRob3V0IG9wdGlvbnMnKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX29wdGlvbnMucGF5bG9hZCkge1xuICAgICAgc3dpdGNoICh0aGlzLl9vcHRpb25zLnBheWxvYWQudHlwZSkge1xuICAgICAgICBjYXNlIENvbm5lY3Rpb25OZWdvdGlhdGlvblR5cGUuT0ZGRVI6XG4gICAgICAgICAgdGhpcy5jcmVhdGVBbnN3ZXIodGhpcy5fb3B0aW9ucy5taXRvc2lzSWQsIHRoaXMuX29wdGlvbnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENvbm5lY3Rpb25OZWdvdGlhdGlvblR5cGUuQU5TV0VSOlxuICAgICAgICAgIHRoaXMuZXN0YWJsaXNoKHRoaXMuX29wdGlvbnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGB3ZWJydGMgb3B0aW9ucyB1bnN1cHBvcnRlZCAke3RoaXMuX29wdGlvbnMucGF5bG9hZC50eXBlfWBcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNyZWF0ZU9mZmVyKHRoaXMuX29wdGlvbnMubWl0b3Npc0lkKTtcbiAgICB9XG4gICAgdGhpcy5iaW5kQ2xpZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBwdWJsaWMgaXNJbml0aWF0b3IoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX3NpbXBsZVBlZXJPcHRpb25zLmluaXRpYXRvcjtcbiAgfVxuXG4gIHB1YmxpYyBzZW5kKG1lc3NhZ2U6IE1lc3NhZ2UpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuX2NsaWVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGB3ZWJydGMgY2xpZW50IG5vdCBpbml0aWFsaXplZGApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5nZXRTdGF0ZSgpICE9PSBDb25uZWN0aW9uU3RhdGUuT1BFTikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGB3ZWJydGMgY2Fubm90IHNlbmQgdG8gJHt0aGlzLmdldFN0YXRlKCl9IGNvbm5lY3Rpb25gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY2xpZW50LnNlbmQobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZXN0YWJsaXNoKG9wdGlvbnM6IElXZWJSVENDb25uZWN0aW9uT3B0aW9ucykge1xuICAgIGNvbnN0IGFuc3dlcjogU2ltcGxlUGVlci5TaWduYWxEYXRhID0gb3B0aW9ucy5wYXlsb2FkO1xuICAgIExvZ2dlci5nZXRMb2dnZXIodGhpcy5fb3B0aW9ucy5taXRvc2lzSWQpXG4gICAgICAuZGVidWcoYHdlYnJ0YyBhbnN3ZXIgZm9yICR7dGhpcy5nZXRBZGRyZXNzKCkuZ2V0SWQoKX0gbmVnb3RpYXRpbmdgLCBKU09OLnN0cmluZ2lmeShhbnN3ZXIpKTtcbiAgICB0aGlzLl9jbGllbnQuc2lnbmFsKGFuc3dlcik7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFNpbXBsZVBlZXIgZnJvbSAnc2ltcGxlLXBlZXInO1xuaW1wb3J0IHtJQ2xvY2t9IGZyb20gJy4uL2Nsb2NrL2ludGVyZmFjZSc7XG5pbXBvcnQge0FkZHJlc3N9IGZyb20gJy4uL21lc3NhZ2UvYWRkcmVzcyc7XG5pbXBvcnQge01lc3NhZ2V9IGZyb20gJy4uL21lc3NhZ2UvbWVzc2FnZSc7XG5pbXBvcnQge1RyYW5zbWlzc2lvbkNvbm5lY3Rpb25NZXRlcn0gZnJvbSAnLi4vbWV0ZXJpbmcvY29ubmVjdGlvbi1tZXRlci90cmFuc21pc3Npb24tY29ubmVjdGlvbi1tZXRlcic7XG5pbXBvcnQge0lDb25uZWN0aW9uLCBJQ29ubmVjdGlvbk9wdGlvbnMsIElXZWJSVENDb25uZWN0aW9uT3B0aW9uc30gZnJvbSAnLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtXZWJSVENDb25uZWN0aW9ufSBmcm9tICcuL3dlYnJ0Yyc7XG5cbmV4cG9ydCBjbGFzcyBXZWJSVENEYXRhQ29ubmVjdGlvbiBleHRlbmRzIFdlYlJUQ0Nvbm5lY3Rpb24gaW1wbGVtZW50cyBJQ29ubmVjdGlvbiB7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX3N0YXRzRGF0YUNoYW5uZWxMYWJlbCA9ICdzdGF0cyc7XG4gIHByaXZhdGUgX3VucmVsaWFibGVDaGFubmVsOiBSVENEYXRhQ2hhbm5lbDtcbiAgcHJvdGVjdGVkIF9tZXRlcjogVHJhbnNtaXNzaW9uQ29ubmVjdGlvbk1ldGVyO1xuXG4gIGNvbnN0cnVjdG9yKGFkZHJlc3M6IEFkZHJlc3MsIGNsb2NrOiBJQ2xvY2ssIG9wdGlvbnM6IElDb25uZWN0aW9uT3B0aW9ucykge1xuICAgIHN1cGVyKGFkZHJlc3MsIGNsb2NrLCBvcHRpb25zKTtcblxuICAgIHRoaXMuX21ldGVyID0gbmV3IFRyYW5zbWlzc2lvbkNvbm5lY3Rpb25NZXRlcihcbiAgICAgIHRoaXMsXG4gICAgICB0aGlzLmdldE15QWRkcmVzcygpLFxuICAgICAgdGhpcy5nZXRBZGRyZXNzKCksXG4gICAgICB0aGlzLl9jbG9ja1xuICAgICk7XG4gICAgdGhpcy5fbWV0ZXJcbiAgICAgIC5vYnNlcnZlTWVzc2FnZXMoKVxuICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZU92ZXJVbnJlbGlhYmxlQ2hhbm5lbC5iaW5kKHRoaXMpXG4gICAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzZW5kTWVzc2FnZU92ZXJVbnJlbGlhYmxlQ2hhbm5lbChtZXNzYWdlOiBNZXNzYWdlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX3VucmVsaWFibGVDaGFubmVsICYmIHRoaXMuX3VucmVsaWFibGVDaGFubmVsLnJlYWR5U3RhdGUgPT09ICdvcGVuJykge1xuICAgICAgdGhpcy5fdW5yZWxpYWJsZUNoYW5uZWwuc2VuZChtZXNzYWdlLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgbGlzdGVuT25VbnJlbGlhYmxlQ2hhbm5lbCgpOiB2b2lkIHtcbiAgICB0aGlzLl91bnJlbGlhYmxlQ2hhbm5lbC5vbm1lc3NhZ2UgPSAoZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IE1lc3NhZ2UuZnJvbVN0cmluZyhldmVudC5kYXRhKTtcbiAgICAgIHRoaXMuX21ldGVyLm9uTWVzc2FnZShtZXNzYWdlKTtcbiAgICB9O1xuICB9XG5cbiAgcHJvdGVjdGVkIGJpbmRDbGllbnRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgc3VwZXIuYmluZENsaWVudExpc3RlbmVycygpO1xuICAgIGNvbnN0IHN1cGVyT25EYXRhQ2hhbm5lbCA9IHRoaXMuZ2V0UlRDUGVlckNvbm5lY3Rpb24oKS5vbmRhdGFjaGFubmVsO1xuICAgIHRoaXMuZ2V0UlRDUGVlckNvbm5lY3Rpb24oKS5vbmRhdGFjaGFubmVsID0gKGV2ZW50OiBSVENEYXRhQ2hhbm5lbEV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuY2hhbm5lbC5sYWJlbCA9PT0gV2ViUlRDRGF0YUNvbm5lY3Rpb24uX3N0YXRzRGF0YUNoYW5uZWxMYWJlbCkge1xuICAgICAgICB0aGlzLl91bnJlbGlhYmxlQ2hhbm5lbCA9IGV2ZW50LmNoYW5uZWw7XG4gICAgICAgIHRoaXMubGlzdGVuT25VbnJlbGlhYmxlQ2hhbm5lbCgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3VwZXJPbkRhdGFDaGFubmVsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHN1cGVyT25EYXRhQ2hhbm5lbC5jYWxsKHRoaXMuX2NsaWVudCwgZXZlbnQpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0QWRkaXRpb25hbE9mZmVyUGF5bG9hZCgpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9IHtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICBwdWJsaWMgZXN0YWJsaXNoKG9wdGlvbnM6IElXZWJSVENDb25uZWN0aW9uT3B0aW9ucyk6IHZvaWQge1xuICAgIHN1cGVyLmVzdGFibGlzaChvcHRpb25zKTtcbiAgICB0aGlzLl91bnJlbGlhYmxlQ2hhbm5lbCA9IHN1cGVyLmdldFJUQ1BlZXJDb25uZWN0aW9uKClcbiAgICAgIC5jcmVhdGVEYXRhQ2hhbm5lbChcbiAgICAgICAgV2ViUlRDRGF0YUNvbm5lY3Rpb24uX3N0YXRzRGF0YUNoYW5uZWxMYWJlbCxcbiAgICAgICAge1xuICAgICAgICAgIG9yZGVyZWQ6IGZhbHNlLFxuICAgICAgICAgIG1heFJldHJhbnNtaXRzOiAwXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgdGhpcy5saXN0ZW5PblVucmVsaWFibGVDaGFubmVsKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7Q29ubmVjdGlvbk1ldGVyfSBmcm9tICcuL2Nvbm5lY3Rpb24tbWV0ZXInO1xuaW1wb3J0IHtJQ29ubmVjdGlvbk1ldGVyfSBmcm9tICcuL2ludGVyZmFjZSc7XG5cbmV4cG9ydCBjbGFzcyBTdHJlYW1Db25uZWN0aW9uTWV0ZXIgZXh0ZW5kcyBDb25uZWN0aW9uTWV0ZXIgaW1wbGVtZW50cyBJQ29ubmVjdGlvbk1ldGVyIHtcblxuICBwdWJsaWMgZ2V0UXVhbGl0eSgpOiBudW1iZXIge1xuICAgIC8vIFRPRE86IEdldCBxdWFsaXR5IGZyb20gV2ViUlRDUGVlckNvbm5lY3Rpb25cbiAgICByZXR1cm4gMC4xO1xuICB9XG5cbiAgcHVibGljIGlzTGFzdFNlZW5FeHBpcmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBzdGFydCgpOiB2b2lkIHtcbiAgfVxuXG4gIHB1YmxpYyBzdG9wKCk6IHZvaWQge1xuICB9XG59XG4iLCJpbXBvcnQge1N1YmplY3R9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtJQ2xvY2t9IGZyb20gJy4uL2Nsb2NrL2ludGVyZmFjZSc7XG5pbXBvcnQge0NodXJuVHlwZX0gZnJvbSAnLi4vaW50ZXJmYWNlJztcbmltcG9ydCB7TG9nZ2VyfSBmcm9tICcuLi9sb2dnZXIvbG9nZ2VyJztcbmltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi4vbWVzc2FnZS9hZGRyZXNzJztcbmltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi4vbWVzc2FnZS9tZXNzYWdlJztcbmltcG9ydCB7U3RyZWFtQ29ubmVjdGlvbk1ldGVyfSBmcm9tICcuLi9tZXRlcmluZy9jb25uZWN0aW9uLW1ldGVyL3N0cmVhbS1jb25uZWN0aW9uLW1ldGVyJztcbmltcG9ydCB7SVN0cmVhbUNodXJuRXZlbnR9IGZyb20gJy4uL3N0cmVhbS9pbnRlcmZhY2UnO1xuaW1wb3J0IHtJQ29ubmVjdGlvbiwgSVdlYlJUQ1N0cmVhbUNvbm5lY3Rpb25PcHRpb25zfSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQge1dlYlJUQ0Nvbm5lY3Rpb259IGZyb20gJy4vd2VicnRjJztcblxuZXhwb3J0IGNsYXNzIFdlYlJUQ1N0cmVhbUNvbm5lY3Rpb24gZXh0ZW5kcyBXZWJSVENDb25uZWN0aW9uIGltcGxlbWVudHMgSUNvbm5lY3Rpb24ge1xuXG4gIHByaXZhdGUgX3N0cmVhbVN1YmplY3Q6IFN1YmplY3Q8SVN0cmVhbUNodXJuRXZlbnQ+O1xuICBwcml2YXRlIF9jaGFubmVsSWQ6IHN0cmluZztcbiAgcHJpdmF0ZSBfc3RyZWFtOiBNZWRpYVN0cmVhbTtcblxuICBjb25zdHJ1Y3RvcihhZGRyZXNzOiBBZGRyZXNzLCBjbG9jazogSUNsb2NrLCBvcHRpb25zOiBJV2ViUlRDU3RyZWFtQ29ubmVjdGlvbk9wdGlvbnMpIHtcbiAgICBzdXBlcihhZGRyZXNzLCBjbG9jaywgb3B0aW9ucyk7XG4gICAgdGhpcy5fbWV0ZXIgPSBuZXcgU3RyZWFtQ29ubmVjdGlvbk1ldGVyKHRoaXMsIGNsb2NrKTtcbiAgICB0aGlzLl9zdHJlYW1TdWJqZWN0ID0gbmV3IFN1YmplY3QoKTtcbiAgICB0aGlzLnNldFN0cmVhbShvcHRpb25zLnN0cmVhbSk7XG4gIH1cblxuICBwcml2YXRlIGJpbmRTdHJlYW1MaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX3N0cmVhbSkge1xuICAgICAgdGhpcy5fc3RyZWFtLm9uYWN0aXZlID0gKCkgPT4ge1xuICAgICAgICB0aGlzLl9zdHJlYW1TdWJqZWN0Lm5leHQoe1xuICAgICAgICAgIHR5cGU6IENodXJuVHlwZS5BRERFRCxcbiAgICAgICAgICBzdHJlYW06IHRoaXMuX3N0cmVhbSxcbiAgICAgICAgICBjaGFubmVsSWQ6IHRoaXMuX2NoYW5uZWxJZFxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICB0aGlzLl9zdHJlYW0ub25pbmFjdGl2ZSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5fc3RyZWFtU3ViamVjdC5uZXh0KHtcbiAgICAgICAgICB0eXBlOiBDaHVyblR5cGUuUkVNT1ZFRCxcbiAgICAgICAgICBzdHJlYW06IHRoaXMuX3N0cmVhbSxcbiAgICAgICAgICBjaGFubmVsSWQ6IHRoaXMuX2NoYW5uZWxJZFxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGNyZWF0ZUFuc3dlcihtaXRvc2lzSWQ6IHN0cmluZywgb3B0aW9uczogSVdlYlJUQ1N0cmVhbUNvbm5lY3Rpb25PcHRpb25zKSB7XG4gICAgdGhpcy5fY2hhbm5lbElkID0gb3B0aW9ucy5jaGFubmVsSWQ7XG4gICAgc3VwZXIuY3JlYXRlQW5zd2VyKG1pdG9zaXNJZCwgb3B0aW9ucyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0QWRkaXRpb25hbE9mZmVyUGF5bG9hZCgpOiB7IFtwOiBzdHJpbmddOiBhbnkgfSB7XG4gICAgLy8gVE9ETzogV2h5IGRvZXNuJ3QgaXQgbWF0dGVyIGlmIGlkIGlzIGFueT9cbiAgICByZXR1cm4ge2NoYW5uZWxJZDogdGhpcy5nZXRDaGFubmVsSWQoKSB8fCAnYW55J307XG4gIH1cblxuICBwcm90ZWN0ZWQgY2xvc2VDbGllbnQoKTogdm9pZCB7XG4gICAgdGhpcy5yZW1vdmVTdHJlYW0oKTtcbiAgICBzdXBlci5jbG9zZUNsaWVudCgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGJpbmRDbGllbnRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgc3VwZXIuYmluZENsaWVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2NsaWVudC5vbigndHJhY2snLCAodHJhY2s6IE1lZGlhU3RyZWFtVHJhY2ssIHN0cmVhbTogTWVkaWFTdHJlYW0pID0+IHtcbiAgICAgIHRoaXMuc2V0U3RyZWFtKHN0cmVhbSk7XG4gICAgfSk7XG4gICAgdGhpcy5fY2xpZW50Lm9uKCdzdHJlYW0nLCAoc3RyZWFtOiBNZWRpYVN0cmVhbSkgPT4ge1xuICAgICAgdGhpcy5zZXRTdHJlYW0oc3RyZWFtKTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBzZW5kKG1lc3NhZ2U6IE1lc3NhZ2UpOiB2b2lkIHtcbiAgICBMb2dnZXIuZ2V0TG9nZ2VyKHRoaXMuX2FkZHJlc3MuZ2V0SWQoKSkuZXJyb3IoJ3N0cmVhbSBjb25uZWN0aW9uIGNhbiBub3Qgc2VuZCBtZXNzYWdlcycsIG1lc3NhZ2UpO1xuICB9XG5cbiAgcHVibGljIGdldENoYW5uZWxJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiAodGhpcy5fb3B0aW9ucyBhcyBJV2ViUlRDU3RyZWFtQ29ubmVjdGlvbk9wdGlvbnMpLmNoYW5uZWxJZCB8fCB0aGlzLl9jaGFubmVsSWQ7XG4gIH1cblxuICBwdWJsaWMgc2V0U3RyZWFtKHN0cmVhbTogTWVkaWFTdHJlYW0pOiB2b2lkIHtcbiAgICBpZiAoc3RyZWFtKSB7XG4gICAgICB0aGlzLl9zdHJlYW0gPSBzdHJlYW07XG4gICAgICB0aGlzLl9zaW1wbGVQZWVyT3B0aW9ucy5zdHJlYW0gPSBzdHJlYW07XG4gICAgICB0aGlzLmJpbmRTdHJlYW1MaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMuX3N0cmVhbVN1YmplY3QubmV4dCh7XG4gICAgICAgIHN0cmVhbTogdGhpcy5fc3RyZWFtLFxuICAgICAgICBjaGFubmVsSWQ6IHRoaXMuX2NoYW5uZWxJZCxcbiAgICAgICAgdHlwZTogQ2h1cm5UeXBlLkFEREVEXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW1vdmVTdHJlYW0oKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ2V0U3RyZWFtKCk6IE1lZGlhU3RyZWFtIHtcbiAgICByZXR1cm4gdGhpcy5fc3RyZWFtO1xuICB9XG5cbiAgcHVibGljIHJlbW92ZVN0cmVhbSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fc3RyZWFtKSB7XG4gICAgICBjb25zdCBzdHJlYW0gPSB0aGlzLl9zdHJlYW07XG4gICAgICBzdHJlYW1cbiAgICAgICAgLmdldFRyYWNrcygpXG4gICAgICAgIC5mb3JFYWNoKFxuICAgICAgICAgIHRyYWNrID0+IHRyYWNrLnN0b3AoKVxuICAgICAgICApO1xuICAgICAgdGhpcy5fc3RyZWFtID0gbnVsbDtcbiAgICAgIHRoaXMuX3N0cmVhbVN1YmplY3QubmV4dCh7XG4gICAgICAgIHN0cmVhbTogc3RyZWFtLFxuICAgICAgICBjaGFubmVsSWQ6IHRoaXMuX2NoYW5uZWxJZCxcbiAgICAgICAgdHlwZTogQ2h1cm5UeXBlLlJFTU9WRURcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBvYnNlcnZlU3RyZWFtQ2h1cm4oKTogU3ViamVjdDxJU3RyZWFtQ2h1cm5FdmVudD4ge1xuICAgIHJldHVybiB0aGlzLl9zdHJlYW1TdWJqZWN0O1xuICB9XG59XG4iLCJpbXBvcnQge0Nvbm5lY3Rpb25NZXRlcn0gZnJvbSAnLi9jb25uZWN0aW9uLW1ldGVyJztcbmltcG9ydCB7SUNvbm5lY3Rpb25NZXRlcn0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgY2xhc3MgTm9vcENvbm5lY3Rpb25NZXRlciBleHRlbmRzIENvbm5lY3Rpb25NZXRlciBpbXBsZW1lbnRzIElDb25uZWN0aW9uTWV0ZXIge1xuICBwdWJsaWMgZ2V0UXVhbGl0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgcHVibGljIGlzTGFzdFNlZW5FeHBpcmVkKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBzdGFydCgpOiB2b2lkIHtcbiAgfVxuXG4gIHB1YmxpYyBzdG9wKCk6IHZvaWQge1xuICB9XG59XG4iLCJpbXBvcnQge0lDbG9ja30gZnJvbSAnLi4vY2xvY2svaW50ZXJmYWNlJztcbmltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi4vbWVzc2FnZS9hZGRyZXNzJztcbmltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi4vbWVzc2FnZS9tZXNzYWdlJztcbmltcG9ydCB7Tm9vcENvbm5lY3Rpb25NZXRlcn0gZnJvbSAnLi4vbWV0ZXJpbmcvY29ubmVjdGlvbi1tZXRlci9ub29wLWNvbm5lY3Rpb24tbWV0ZXInO1xuaW1wb3J0IHtBYnN0cmFjdENvbm5lY3Rpb259IGZyb20gJy4vY29ubmVjdGlvbic7XG5pbXBvcnQge0Nvbm5lY3Rpb25TdGF0ZSwgSUNvbm5lY3Rpb24sIElDb25uZWN0aW9uT3B0aW9uc30gZnJvbSAnLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgY2xhc3MgV2ViU29ja2V0Q29ubmVjdGlvbiBleHRlbmRzIEFic3RyYWN0Q29ubmVjdGlvbiBpbXBsZW1lbnRzIElDb25uZWN0aW9uIHtcblxuICBwcml2YXRlIF9jbGllbnQ6IFdlYlNvY2tldDtcblxuICBjb25zdHJ1Y3RvcihhZGRyZXNzOiBBZGRyZXNzLCBjbG9jazogSUNsb2NrLCBvcHRpb25zOiBJQ29ubmVjdGlvbk9wdGlvbnMpIHtcbiAgICBzdXBlcihhZGRyZXNzLCBjbG9jaywgb3B0aW9ucyk7XG4gICAgdGhpcy5fbWV0ZXIgPSBuZXcgTm9vcENvbm5lY3Rpb25NZXRlcih0aGlzLCBjbG9jayk7XG4gIH1cblxuICBwcml2YXRlIG9uU29ja2V0T3BlbigpIHtcbiAgICB0aGlzLm9uT3Blbih0aGlzKTtcbiAgfVxuXG4gIHByaXZhdGUgb25Tb2NrZXRDbG9zZShldmVudDogRXZlbnQpIHtcbiAgICB0aGlzLm9uQ2xvc2UoZXZlbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSBvblNvY2tldE1lc3NhZ2UoZXZlbnQ6IE1lc3NhZ2VFdmVudCkge1xuICAgIHRoaXMub25NZXNzYWdlKE1lc3NhZ2UuZnJvbVN0cmluZyhldmVudC5kYXRhKSk7XG4gIH1cblxuICBwcml2YXRlIG9uU29ja2V0RXJyb3IoZXZlbnQ6IEV2ZW50KSB7XG4gICAgdGhpcy5vbkVycm9yKGV2ZW50KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBjbG9zZUNsaWVudCgpOiB2b2lkIHtcbiAgICB0aGlzLl9jbGllbnQuY2xvc2UoKTtcbiAgICB0aGlzLl9jbGllbnQgPSBudWxsO1xuICB9XG5cbiAgcHVibGljIHNlbmQobWVzc2FnZTogTWVzc2FnZSk6IHZvaWQge1xuICAgIGlmICghdGhpcy5fY2xpZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NvY2tldCBjbGllbnQgbm90IGluaXRpYWxpemVkJyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmdldFN0YXRlKCkgIT09IENvbm5lY3Rpb25TdGF0ZS5PUEVOKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHNvY2tldCBjb25uZWN0aW9uIG5vdCBpbiBvcGVuIHN0YXRlICgke3RoaXMuZ2V0U3RhdGUoKX0pYCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9jbGllbnQucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgc29ja2V0IGNsaWVudCBub3QgaW4gb3BlbiBzdGF0ZSAoJHt0aGlzLl9jbGllbnQucmVhZHlTdGF0ZX0pYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2NsaWVudC5zZW5kKG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG9wZW5DbGllbnQoKSB7XG4gICAgdGhpcy5fY2xpZW50ID0gbmV3IFdlYlNvY2tldChgJHt0aGlzLl9hZGRyZXNzLmdldFByb3RvY29sKCl9Oi8vJHt0aGlzLl9hZGRyZXNzLmdldExvY2F0aW9uKCl9YCk7XG4gICAgdGhpcy5fY2xpZW50Lm9ub3BlbiA9IHRoaXMub25Tb2NrZXRPcGVuLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fY2xpZW50Lm9uY2xvc2UgPSB0aGlzLm9uU29ja2V0Q2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9jbGllbnQub25tZXNzYWdlID0gdGhpcy5vblNvY2tldE1lc3NhZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9jbGllbnQub25lcnJvciA9IHRoaXMub25Tb2NrZXRFcnJvci5iaW5kKHRoaXMpO1xuICB9XG59XG4iLCJpbXBvcnQge0lDb25uZWN0aW9uQ29uc3RydWN0b3IsIFByb3RvY29sfSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQge1ZpYUNvbm5lY3Rpb259IGZyb20gJy4vdmlhJztcbmltcG9ydCB7V2ViUlRDRGF0YUNvbm5lY3Rpb259IGZyb20gJy4vd2VicnRjLWRhdGEnO1xuaW1wb3J0IHtXZWJSVENTdHJlYW1Db25uZWN0aW9ufSBmcm9tICcuL3dlYnJ0Yy1zdHJlYW0nO1xuaW1wb3J0IHtXZWJTb2NrZXRDb25uZWN0aW9ufSBmcm9tICcuL3dlYnNvY2tldCc7XG5cbmV4cG9ydCBjb25zdCBQcm90b2NvbENvbm5lY3Rpb25NYXA6IE1hcDxQcm90b2NvbCwgSUNvbm5lY3Rpb25Db25zdHJ1Y3Rvcj4gPSBuZXcgTWFwKCk7XG5Qcm90b2NvbENvbm5lY3Rpb25NYXAuc2V0KFByb3RvY29sLldFQlNPQ0tFVCwgV2ViU29ja2V0Q29ubmVjdGlvbik7XG5Qcm90b2NvbENvbm5lY3Rpb25NYXAuc2V0KFByb3RvY29sLldFQlNPQ0tFVF9VTlNFQ1VSRSwgV2ViU29ja2V0Q29ubmVjdGlvbik7XG5Qcm90b2NvbENvbm5lY3Rpb25NYXAuc2V0KFByb3RvY29sLldFQlJUQ19EQVRBLCBXZWJSVENEYXRhQ29ubmVjdGlvbik7XG5Qcm90b2NvbENvbm5lY3Rpb25NYXAuc2V0KFByb3RvY29sLldFQlJUQ19TVFJFQU0sIFdlYlJUQ1N0cmVhbUNvbm5lY3Rpb24pO1xuUHJvdG9jb2xDb25uZWN0aW9uTWFwLnNldChQcm90b2NvbC5WSUEsIFZpYUNvbm5lY3Rpb24pO1xuUHJvdG9jb2xDb25uZWN0aW9uTWFwLnNldChQcm90b2NvbC5WSUFfTVVMVEksIFZpYUNvbm5lY3Rpb24pO1xuIiwiaW1wb3J0IHtJQ29ubmVjdGlvbn0gZnJvbSAnLi4vY29ubmVjdGlvbi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtJTWVzc2FnZX0gZnJvbSAnLi4vbWVzc2FnZS9pbnRlcmZhY2UnO1xuaW1wb3J0IHtJVGFza1NjaGVkdWxlLCBNaXRvc2lzfSBmcm9tICcuLi9taXRvc2lzJztcbmltcG9ydCB7UmVtb3RlUGVlcn0gZnJvbSAnLi4vcGVlci9yZW1vdGUtcGVlcic7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdFJvbGUge1xuXG4gIHByaXZhdGUgX2luaXRpYWxpemVkOiBib29sZWFuO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9pbml0aWFsaXplZCA9IGZhbHNlO1xuICB9XG5cbiAgcHVibGljIGFic3RyYWN0IGdldFRhc2tTY2hlZHVsZSgpOiBBcnJheTxJVGFza1NjaGVkdWxlPjtcblxuICBwdWJsaWMgaXNJbml0aWFsaXplZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gIH1cblxuICBwdWJsaWMgb25Jbml0KG1pdG9zaXM6IE1pdG9zaXMpOiB2b2lkIHtcbiAgfVxuXG4gIHB1YmxpYyBvbkNvbm5lY3Rpb25DbG9zZShtaXRvc2lzOiBNaXRvc2lzLCBjb25uZWN0aW9uOiBJQ29ubmVjdGlvbik6IHZvaWQge1xuICB9XG5cbiAgcHVibGljIG9uQ29ubmVjdGlvbk9wZW4obWl0b3NpczogTWl0b3NpcywgY29ubmVjdGlvbjogSUNvbm5lY3Rpb24pOiB2b2lkIHtcbiAgfVxuXG4gIHB1YmxpYyBvbk1lc3NhZ2UobWl0b3NpczogTWl0b3NpcywgbWVzc2FnZTogSU1lc3NhZ2UpOiB2b2lkIHtcbiAgfVxuXG4gIHB1YmxpYyByZXF1aXJlc1BlZXIocmVtb3RlUGVlcjogUmVtb3RlUGVlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuIiwiaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuL2FkZHJlc3MnO1xuaW1wb3J0IHtNZXNzYWdlU3ViamVjdH0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtNZXNzYWdlfSBmcm9tICcuL21lc3NhZ2UnO1xuXG5leHBvcnQgY2xhc3MgSW50cm9kdWN0aW9uIGV4dGVuZHMgTWVzc2FnZSB7XG4gIHByb3RlY3RlZCBfYm9keTogbnVsbDtcblxuICBwdWJsaWMgY29uc3RydWN0b3Ioc2VuZGVyOiBBZGRyZXNzLCByZWNlaXZlcjogQWRkcmVzcykge1xuICAgIHN1cGVyKHNlbmRlciwgcmVjZWl2ZXIsIE1lc3NhZ2VTdWJqZWN0LklOVFJPRFVDVElPTiwgbnVsbCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Qm9keSgpOiBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5fYm9keTtcbiAgfVxufVxuIiwiaW1wb3J0IHtMb2dnZXJ9IGZyb20gJy4uLy4uL2xvZ2dlci9sb2dnZXInO1xuaW1wb3J0IHtJbnRyb2R1Y3Rpb259IGZyb20gJy4uLy4uL21lc3NhZ2UvaW50cm9kdWN0aW9uJztcbmltcG9ydCB7TWl0b3Npc30gZnJvbSAnLi4vLi4vbWl0b3Npcyc7XG5pbXBvcnQge1JvbGVUeXBlfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VuZEludHJvZHVjdGlvbihtaXRvc2lzOiBNaXRvc2lzKTogdm9pZCB7XG4gIGNvbnN0IGludHJvZHVjdGlvbiA9IG5ldyBJbnRyb2R1Y3Rpb24oXG4gICAgbWl0b3Npcy5nZXRNeUFkZHJlc3MoKSxcbiAgICBtaXRvc2lzLmdldFNpZ25hbEFkZHJlc3MoKVxuICApO1xuICBMb2dnZXIuZ2V0TG9nZ2VyKG1pdG9zaXMuZ2V0TXlBZGRyZXNzKCkuZ2V0SWQoKSkuZGVidWcoJ2Nvbm5lY3RpbmcgdG8gc2lnbmFsJyk7XG4gIG1pdG9zaXMuZ2V0UGVlck1hbmFnZXIoKVxuICAgIC5jb25uZWN0VG8obWl0b3Npcy5nZXRTaWduYWxBZGRyZXNzKCkpXG4gICAgLnRoZW4oXG4gICAgICBzaWduYWwgPT4ge1xuICAgICAgICBzaWduYWwuc2V0Um9sZXMoW1JvbGVUeXBlLlNJR05BTF0pO1xuICAgICAgICBtaXRvc2lzLmdldFBlZXJNYW5hZ2VyKCkuc2VuZE1lc3NhZ2UoaW50cm9kdWN0aW9uKTtcbiAgICAgIH1cbiAgICApLmNhdGNoKFxuICAgIGVycm9yID0+XG4gICAgICBMb2dnZXIuZ2V0TG9nZ2VyKG1pdG9zaXMuZ2V0TXlBZGRyZXNzKCkuZ2V0SWQoKSkud2FybignY29ubmVjdGluZyB0byBzaWduYWwgZmFpbGVkJywgZXJyb3IpXG4gICk7XG59XG4iLCJpbXBvcnQge0Nvbm5lY3Rpb25TdGF0ZSwgUHJvdG9jb2x9IGZyb20gJy4uLy4uL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcbmltcG9ydCB7TWl0b3Npc30gZnJvbSAnLi4vLi4vbWl0b3Npcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZUR1cGxpY2F0ZUNvbm5lY3Rpb25zKG1pdG9zaXM6IE1pdG9zaXMpOiB2b2lkIHtcbiAgbWl0b3Npc1xuICAgIC5nZXRQZWVyVGFibGUoKVxuICAgIC5mb3JFYWNoKFxuICAgICAgcmVtb3RlUGVlciA9PiB7XG4gICAgICAgIGNvbnN0IGRpcmVjdCA9IHJlbW90ZVBlZXJcbiAgICAgICAgICAuZ2V0Q29ubmVjdGlvblRhYmxlKClcbiAgICAgICAgICAuZmlsdGVyRGlyZWN0KClcbiAgICAgICAgICAuZmlsdGVyQnlTdGF0ZXMoQ29ubmVjdGlvblN0YXRlLk9QRU4pO1xuICAgICAgICBpZiAoZGlyZWN0Lmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC52YWx1ZXMoUHJvdG9jb2wpXG4gICAgICAgICAgLmZvckVhY2goXG4gICAgICAgICAgICBwcm90b2NvbCA9PiB7XG4gICAgICAgICAgICAgIGRpcmVjdFxuICAgICAgICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0+IGNvbm5lY3Rpb24uZ2V0QWRkcmVzcygpLmlzUHJvdG9jb2wocHJvdG9jb2wpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5zb3J0QnkoXG4gICAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0+IGNvbm5lY3Rpb24uZ2V0QWRkcmVzcygpLmdldExvY2F0aW9uKClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLnNsaWNlKDEpXG4gICAgICAgICAgICAgICAgLmZvckVhY2goXG4gICAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0+IGNvbm5lY3Rpb24uY2xvc2UoKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICApO1xufVxuIiwiaW1wb3J0IHtMb2dnZXJ9IGZyb20gJy4uLy4uL2xvZ2dlci9sb2dnZXInO1xuaW1wb3J0IHtNaXRvc2lzfSBmcm9tICcuLi8uLi9taXRvc2lzJztcbmltcG9ydCB7Um9sZVR5cGV9IGZyb20gJy4uL2ludGVyZmFjZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWdyYWRlVG9OZXdiaWUobWl0b3NpczogTWl0b3Npcyk6IHZvaWQge1xuICBjb25zdCByb2xlTWFuYWdlciA9IG1pdG9zaXMuZ2V0Um9sZU1hbmFnZXIoKTtcblxuICBpZiAocm9sZU1hbmFnZXIuaGFzUm9sZShSb2xlVHlwZS5ST1VURVIsIFJvbGVUeXBlLk5FV0JJRSkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCByb3V0ZXJDb25uZWN0aW9uQ291bnQgPSBtaXRvc2lzXG4gICAgLmdldFBlZXJNYW5hZ2VyKClcbiAgICAuZ2V0UGVlclRhYmxlKClcbiAgICAuZmlsdGVyQnlSb2xlKFJvbGVUeXBlLlJPVVRFUilcbiAgICAuY291bnRDb25uZWN0aW9ucygpO1xuXG4gIGlmIChyb3V0ZXJDb25uZWN0aW9uQ291bnQgPT09IDApIHtcbiAgICBMb2dnZXIuZ2V0TG9nZ2VyKG1pdG9zaXMuZ2V0TXlBZGRyZXNzKCkuZ2V0SWQoKSlcbiAgICAgIC5pbmZvKCdsb3N0IGFsbCBjb25uZWN0aW9ucyB0byByb3V0ZXIsIGJlY29taW5nIGEgbmV3YmllIGFnYWluJyk7XG5cbiAgICByb2xlTWFuYWdlclxuICAgICAgLmdldFJvbGVzKClcbiAgICAgIC5mb3JFYWNoKFxuICAgICAgICByb2xlVHlwZSA9PiByb2xlTWFuYWdlci5yZW1vdmVSb2xlKHJvbGVUeXBlKVxuICAgICAgKTtcbiAgICByb2xlTWFuYWdlci5hZGRSb2xlKFJvbGVUeXBlLk5FV0JJRSk7XG5cbiAgICBtaXRvc2lzXG4gICAgICAuZ2V0UGVlck1hbmFnZXIoKVxuICAgICAgLmdldFBlZXJUYWJsZSgpXG4gICAgICAuZm9yRWFjaChcbiAgICAgICAgcmVtb3RlUGVlciA9PiByZW1vdGVQZWVyLmdldE1ldGVyKCkuZ2V0Um91dGVyQWxpdmVIaWdoU2NvcmUoKS5yZXNldCgpXG4gICAgICApO1xuXG5cbiAgfVxufVxuIiwiaW1wb3J0IHtMb2dnZXJ9IGZyb20gJy4uLy4uL2xvZ2dlci9sb2dnZXInO1xuaW1wb3J0IHtNaXRvc2lzfSBmcm9tICcuLi8uLi9taXRvc2lzJztcbmltcG9ydCB7Um9sZVR5cGV9IGZyb20gJy4uL2ludGVyZmFjZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVSb3V0ZXJDb25uZWN0aW9uKG1pdG9zaXM6IE1pdG9zaXMpOiB2b2lkIHtcbiAgaWYgKG1pdG9zaXMuZ2V0Um9sZU1hbmFnZXIoKS5oYXNSb2xlKFJvbGVUeXBlLlJPVVRFUikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCByb3V0ZXJDb25uZWN0aW9uQ291bnQgPSBtaXRvc2lzXG4gICAgLmdldFBlZXJNYW5hZ2VyKClcbiAgICAuZ2V0UGVlclRhYmxlKClcbiAgICAuZmlsdGVyQnlSb2xlKFJvbGVUeXBlLlJPVVRFUilcbiAgICAuY291bnRDb25uZWN0aW9ucygpO1xuXG4gIGlmIChyb3V0ZXJDb25uZWN0aW9uQ291bnQgPT09IDApIHtcbiAgICBMb2dnZXIuZ2V0TG9nZ2VyKG1pdG9zaXMuZ2V0TXlBZGRyZXNzKCkuZ2V0SWQoKSlcbiAgICAgIC5kZWJ1ZygnbG9zdCBhbGwgY29ubmVjdGlvbnMgdG8gcm91dGVyJyk7XG4gICAgbWl0b3Npcy5nZXRSb2xlTWFuYWdlcigpLmFkZFJvbGUoUm9sZVR5cGUuTkVXQklFKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuL2FkZHJlc3MnO1xuaW1wb3J0IHtJQ2hhbm5lbEFubm91bmNlbWVudCwgTWVzc2FnZVN1YmplY3R9IGZyb20gJy4vaW50ZXJmYWNlJztcbmltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi9tZXNzYWdlJztcblxuZXhwb3J0IGNsYXNzIENoYW5uZWxBbm5vdW5jZW1lbnQgZXh0ZW5kcyBNZXNzYWdlIHtcblxuICBwcm90ZWN0ZWQgX2JvZHk6IEFycmF5PElDaGFubmVsQW5ub3VuY2VtZW50PjtcblxuICBwdWJsaWMgY29uc3RydWN0b3Ioc2VuZGVyOiBBZGRyZXNzLCByZWNlaXZlcjogQWRkcmVzcywgYm9keTogQXJyYXk8SUNoYW5uZWxBbm5vdW5jZW1lbnQ+KSB7XG4gICAgc3VwZXIoc2VuZGVyLCByZWNlaXZlciwgTWVzc2FnZVN1YmplY3QuQ0hBTk5FTF9BTk5PVU5DRU1FTlQsIGJvZHkpO1xuICB9XG5cbiAgcHVibGljIGdldEJvZHkoKTogQXJyYXk8SUNoYW5uZWxBbm5vdW5jZW1lbnQ+IHtcbiAgICByZXR1cm4gdGhpcy5fYm9keTtcbiAgfVxufVxuIiwiaW1wb3J0IHtDb25uZWN0aW9uU3RhdGV9IGZyb20gJy4uLy4uL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcbmltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi4vLi4vbWVzc2FnZS9hZGRyZXNzJztcbmltcG9ydCB7Q2hhbm5lbEFubm91bmNlbWVudH0gZnJvbSAnLi4vLi4vbWVzc2FnZS9jaGFubmVsLWFubm91bmNlbWVudCc7XG5pbXBvcnQge0lDaGFubmVsQW5ub3VuY2VtZW50fSBmcm9tICcuLi8uLi9tZXNzYWdlL2ludGVyZmFjZSc7XG5pbXBvcnQge01pdG9zaXN9IGZyb20gJy4uLy4uL21pdG9zaXMnO1xuaW1wb3J0IHtSb2xlVHlwZX0gZnJvbSAnLi4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIHB1Ymxpc2hDaGFubmVsQW5ub3VuY2VtZW50KG1pdG9zaXM6IE1pdG9zaXMpOiB2b2lkIHtcbiAgY29uc3QgYW5ub3VuY2VtZW50czogQXJyYXk8SUNoYW5uZWxBbm5vdW5jZW1lbnQ+ID0gbWl0b3Npc1xuICAgIC5nZXRTdHJlYW1NYW5hZ2VyKClcbiAgICAuZ2V0Q2hhbm5lbFRhYmxlKClcbiAgICAuZmlsdGVyKFxuICAgICAgY2hhbm5lbCA9PiBjaGFubmVsXG4gICAgICAgIC5nZXRQcm92aWRlclRhYmxlKClcbiAgICAgICAgLmhhcyhcbiAgICAgICAgcHJvdmlkZXIgPT4gcHJvdmlkZXIuaXNTb3VyY2UoKSAmJiBwcm92aWRlci5pc0xpdmUoKSAmJiBwcm92aWRlci5pc0FjdGl2ZSgpXG4gICAgICApXG4gICAgKVxuICAgIC5tYXAoXG4gICAgICBjaGFubmVsID0+IHtcbiAgICAgICAgY29uc3QgYW5ub3VuY2VtZW50ID0gY2hhbm5lbC5hc0Fubm91bmNlbWVudCgpO1xuICAgICAgICBjb25zdCBteUlkID0gbWl0b3Npcy5nZXRNeUFkZHJlc3MoKS5nZXRJZCgpO1xuICAgICAgICBjb25zdCBpQW1Qcm92aWRlciA9IGFubm91bmNlbWVudC5wcm92aWRlcnMuZmluZChwcm92aWRlciA9PiBwcm92aWRlci5wZWVySWQgPT09IG15SWQpO1xuICAgICAgICBjb25zdCBjYXBhY2l0eSA9IG1pdG9zaXMuZ2V0U3RyZWFtTWFuYWdlcigpLmdldE15Q2FwYWNpdHkoKTtcbiAgICAgICAgaWYgKGlBbVByb3ZpZGVyKSB7XG4gICAgICAgICAgaUFtUHJvdmlkZXIuY2FwYWNpdHkgPSBjYXBhY2l0eTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhbm5vdW5jZW1lbnQucHJvdmlkZXJzLnB1c2goXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHBlZXJJZDogbXlJZCxcbiAgICAgICAgICAgICAgY2FwYWNpdHk6IGNhcGFjaXR5XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYW5ub3VuY2VtZW50O1xuICAgICAgfVxuICAgICk7XG5cbiAgaWYgKGFubm91bmNlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgZGlyZWN0UGVlcnMgPSBtaXRvc2lzXG4gICAgLmdldFBlZXJNYW5hZ2VyKClcbiAgICAuZ2V0UGVlclRhYmxlKClcbiAgICAuZmlsdGVyQnlSb2xlKFJvbGVUeXBlLlBFRVIpXG4gICAgLmZpbHRlckNvbm5lY3Rpb25zKFxuICAgICAgdGFibGUgPT4gdGFibGVcbiAgICAgICAgLmZpbHRlckRpcmVjdCgpXG4gICAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTilcbiAgICApO1xuXG4gIGRpcmVjdFBlZXJzXG4gICAgLmZvckVhY2gocGVlciA9PiB7XG4gICAgICBjb25zdCBjaGFubmVsQW5ub3VuY2VtZW50ID0gbmV3IENoYW5uZWxBbm5vdW5jZW1lbnQoXG4gICAgICAgIG1pdG9zaXMuZ2V0TXlBZGRyZXNzKCksXG4gICAgICAgIG5ldyBBZGRyZXNzKHBlZXIuZ2V0SWQoKSksXG4gICAgICAgIGFubm91bmNlbWVudHNcbiAgICAgICk7XG4gICAgICBtaXRvc2lzLmdldFBlZXJNYW5hZ2VyKCkuc2VuZE1lc3NhZ2UoY2hhbm5lbEFubm91bmNlbWVudCk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQge0FkZHJlc3N9IGZyb20gJy4vYWRkcmVzcyc7XG5pbXBvcnQge01lc3NhZ2VTdWJqZWN0fSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQge01lc3NhZ2V9IGZyb20gJy4vbWVzc2FnZSc7XG5cbmV4cG9ydCBjbGFzcyBQZWVyQWxpdmUgZXh0ZW5kcyBNZXNzYWdlIHtcbiAgcHJvdGVjdGVkIF9ib2R5OiBudWxsO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihzZW5kZXI6IEFkZHJlc3MsIHJlY2VpdmVyOiBBZGRyZXNzKSB7XG4gICAgc3VwZXIoc2VuZGVyLCByZWNlaXZlciwgTWVzc2FnZVN1YmplY3QuUEVFUl9BTElWRSwgbnVsbCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Qm9keSgpOiBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5fYm9keTtcbiAgfVxufVxuIiwiaW1wb3J0IHtDb25uZWN0aW9uU3RhdGUsIFByb3RvY29sfSBmcm9tICcuLi8uLi9jb25uZWN0aW9uL2ludGVyZmFjZSc7XG5pbXBvcnQge0FkZHJlc3N9IGZyb20gJy4uLy4uL21lc3NhZ2UvYWRkcmVzcyc7XG5pbXBvcnQge1BlZXJBbGl2ZX0gZnJvbSAnLi4vLi4vbWVzc2FnZS9wZWVyLWFsaXZlJztcbmltcG9ydCB7TWl0b3Npc30gZnJvbSAnLi4vLi4vbWl0b3Npcyc7XG5pbXBvcnQge1JvbGVUeXBlfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgZnVuY3Rpb24gcHVibGlzaFBlZXJBbGl2ZShtaXRvc2lzOiBNaXRvc2lzKTogdm9pZCB7XG4gIGlmIChtaXRvc2lzLmdldFJvbGVNYW5hZ2VyKCkuaGFzUm9sZShSb2xlVHlwZS5ST1VURVIpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgcm91dGVycyA9IG1pdG9zaXNcbiAgICAuZ2V0UGVlck1hbmFnZXIoKVxuICAgIC5nZXRQZWVyVGFibGUoKVxuICAgIC5maWx0ZXJCeVJvbGUoUm9sZVR5cGUuUk9VVEVSKVxuICAgIC5maWx0ZXJDb25uZWN0aW9ucyhcbiAgICAgIHBlZXJUYWJsZSA9PiBwZWVyVGFibGVcbiAgICAgICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOKVxuICAgIClcbiAgICAuZXhjbHVkZShcbiAgICAgIHBlZXJUYWJsZSA9PiBwZWVyVGFibGVcbiAgICAgICAgLmZpbHRlckNvbm5lY3Rpb25zKFxuICAgICAgICAgIGNvbm5lY3Rpb25UYWJsZSA9PiBjb25uZWN0aW9uVGFibGVcbiAgICAgICAgICAgIC5maWx0ZXJCeVByb3RvY29sKFxuICAgICAgICAgICAgICBQcm90b2NvbC5WSUEsXG4gICAgICAgICAgICAgIFByb3RvY29sLldFQlJUQ19EQVRBLFxuICAgICAgICAgICAgICBQcm90b2NvbC5XRUJTT0NLRVQsXG4gICAgICAgICAgICAgIFByb3RvY29sLldFQlNPQ0tFVF9VTlNFQ1VSRVxuICAgICAgICAgICAgKVxuICAgICAgICAgIC8vIEV4Y2x1ZGUgZGlyZWN0IGFuZCBzaW5nbGUtaG9wIHZpYSByb3V0ZXJzXG4gICAgICAgICAgLy8gYmVjYXVzZSB0aGV5IGFyZSByZXBvcnRlZCBieSBkaXJlY3QgcGVlcnNcbiAgICAgICAgICAvLyBvZiB0aGUgcm91dGVyIGFueXdheS5cbiAgICAgICAgKVxuICAgICk7XG5cbiAgcm91dGVyc1xuICAgIC5mb3JFYWNoKFxuICAgICAgcm91dGVyID0+IG1pdG9zaXNcbiAgICAgICAgLmdldFBlZXJNYW5hZ2VyKClcbiAgICAgICAgLnNlbmRNZXNzYWdlKFxuICAgICAgICAgIG5ldyBQZWVyQWxpdmUoXG4gICAgICAgICAgICBtaXRvc2lzLmdldE15QWRkcmVzcygpLFxuICAgICAgICAgICAgbmV3IEFkZHJlc3Mocm91dGVyLmdldElkKCkpXG4gICAgICAgICAgKVxuICAgICAgICApKTtcbn1cbiIsImltcG9ydCB7Q29ubmVjdGlvblN0YXRlfSBmcm9tICcuLi8uLi9jb25uZWN0aW9uL2ludGVyZmFjZSc7XG5pbXBvcnQge01pdG9zaXN9IGZyb20gJy4uLy4uL21pdG9zaXMnO1xuaW1wb3J0IHtSb2xlVHlwZX0gZnJvbSAnLi4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIHB1Ymxpc2hQZWVyVXBkYXRlKG1pdG9zaXM6IE1pdG9zaXMpOiB2b2lkIHtcbiAgbWl0b3Npc1xuICAgIC5nZXRQZWVyTWFuYWdlcigpXG4gICAgLmdldFBlZXJUYWJsZSgpXG4gICAgLmZpbHRlckJ5Um9sZShSb2xlVHlwZS5QRUVSKVxuICAgIC5maWx0ZXJDb25uZWN0aW9ucyhcbiAgICAgIHRhYmxlID0+IHRhYmxlXG4gICAgICAgIC5maWx0ZXJEaXJlY3REYXRhKClcbiAgICAgICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOKVxuICAgIClcbiAgICAuZm9yRWFjaChwZWVyID0+IG1pdG9zaXNcbiAgICAgIC5nZXRQZWVyTWFuYWdlcigpXG4gICAgICAuc2VuZFBlZXJVcGRhdGUocGVlci5nZXRJZCgpKVxuICAgICk7XG59XG4iLCJpbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi4vLi4vbG9nZ2VyL2xvZ2dlcic7XG5pbXBvcnQge01pdG9zaXN9IGZyb20gJy4uLy4uL21pdG9zaXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRXhwaXJlZENvbm5lY3Rpb25zKG1pdG9zaXM6IE1pdG9zaXMpOiB2b2lkIHtcbiAgbWl0b3Npcy5nZXRQZWVyTWFuYWdlcigpXG4gICAgLmdldFBlZXJUYWJsZSgpXG4gICAgLmFnZ3JlZ2F0ZUNvbm5lY3Rpb25zKFxuICAgICAgY29ubmVjdGlvblRhYmxlID0+IGNvbm5lY3Rpb25UYWJsZVxuICAgICAgICAuZmlsdGVyQnlNZXRlcihtZXRlciA9PiBtZXRlci5pc0xhc3RTZWVuRXhwaXJlZCgpKVxuICAgIClcbiAgICAuZm9yRWFjaChcbiAgICAgIGNvbm5lY3Rpb24gPT4ge1xuICAgICAgICBMb2dnZXIuZ2V0TG9nZ2VyKG1pdG9zaXMuZ2V0TXlBZGRyZXNzKCkuZ2V0SWQoKSlcbiAgICAgICAgICAuZGVidWcoYHJlbW92aW5nIGV4cGlyZWQgY29ubmVjdGlvbiAke2Nvbm5lY3Rpb24uZ2V0QWRkcmVzcygpLmdldElkKCl9YCwgY29ubmVjdGlvbik7XG4gICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgIH1cbiAgICApO1xufVxuIiwiaW1wb3J0IHtDb25uZWN0aW9uU3RhdGV9IGZyb20gJy4uLy4uL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcbmltcG9ydCB7TG9nZ2VyfSBmcm9tICcuLi8uLi9sb2dnZXIvbG9nZ2VyJztcbmltcG9ydCB7TWl0b3Npc30gZnJvbSAnLi4vLi4vbWl0b3Npcyc7XG5pbXBvcnQge1JvbGVUeXBlfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlU2lnbmFsKG1pdG9zaXM6IE1pdG9zaXMpOiB2b2lkIHtcbiAgaWYgKG1pdG9zaXMuZ2V0Um9sZU1hbmFnZXIoKS5oYXNSb2xlKFJvbGVUeXBlLlJPVVRFUikpIHtcbiAgICAvLyBEbyBub3QgYWJhbmRvbiBzaWduYWwgaWYgd2UgYXJlIHJvdXRlci5cbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBwZWVyVGFibGUgPSBtaXRvc2lzXG4gICAgLmdldFBlZXJNYW5hZ2VyKClcbiAgICAuZ2V0UGVlclRhYmxlKCk7XG5cbiAgY29uc3Qgc2lnbmFscyA9IHBlZXJUYWJsZVxuICAgIC5maWx0ZXJCeVJvbGUoUm9sZVR5cGUuU0lHTkFMKVxuICAgIC5maWx0ZXJDb25uZWN0aW9ucyhcbiAgICAgIHRhYmxlID0+IHRhYmxlXG4gICAgICAgIC5maWx0ZXJEaXJlY3QoKVxuICAgICAgICAuZmlsdGVyQnlTdGF0ZXMoQ29ubmVjdGlvblN0YXRlLk9QRU4pXG4gICAgKTtcblxuICBpZiAoc2lnbmFscy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAobWl0b3Npcy5nZXRSb2xlTWFuYWdlcigpLmhhc1JvbGUoUm9sZVR5cGUuTkVXQklFKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHJvdXRlckNvbm5lY3Rpb25zID0gcGVlclRhYmxlXG4gICAgLmZpbHRlckJ5Um9sZShSb2xlVHlwZS5ST1VURVIpXG4gICAgLmFnZ3JlZ2F0ZUNvbm5lY3Rpb25zKFxuICAgICAgdGFibGUgPT4gdGFibGVcbiAgICAgICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOKVxuICAgICAgICAuZXhjbHVkZShcbiAgICAgICAgICBleGNsdWRlVGFibGUgPT4gZXhjbHVkZVRhYmxlXG4gICAgICAgICAgICAuZmlsdGVyQnlMb2NhdGlvbihcbiAgICAgICAgICAgICAgLi4uc2lnbmFscy5tYXAoc2lnbmFsID0+IHNpZ25hbC5nZXRJZCgpKVxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgKTtcblxuICBjb25zdCBkaXJlY3RDb25uZWN0aW9ucyA9IHBlZXJUYWJsZVxuICAgIC5leGNsdWRlKFxuICAgICAgdGFibGUgPT4gdGFibGUuZmlsdGVyQnlSb2xlKFJvbGVUeXBlLlNJR05BTClcbiAgICApXG4gICAgLmFnZ3JlZ2F0ZUNvbm5lY3Rpb25zKFxuICAgICAgdGFibGUgPT4gdGFibGVcbiAgICAgICAgLmZpbHRlckRpcmVjdERhdGEoKVxuICAgICAgICAuZmlsdGVyQnlTdGF0ZXMoQ29ubmVjdGlvblN0YXRlLk9QRU4pXG4gICAgKTtcblxuICAvLyBXaGVuIGl0IGRvZXMgbm90IGhhdmUgYSByb3V0ZXIgeWV0IG9yIGxlc3MgdGhhbiAyIGNvbm5lY3Rpb25zLCBtZWFuaW5nIGl0IGlzIG9ubHkgY29ubmVjdGVkIHZpYSBzaWduYWwsIGRvIG5vdCByZW1vdmVcbiAgLy8gVE9ETzogTWFrZSB0aGlzIHRocmVzaG9sZCBjb25maWd1cmFibGVcbiAgaWYgKHJvdXRlckNvbm5lY3Rpb25zLmxlbmd0aCA9PT0gMCB8fCBkaXJlY3RDb25uZWN0aW9ucy5sZW5ndGggPCAyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgTG9nZ2VyLmdldExvZ2dlcihtaXRvc2lzLmdldE15QWRkcmVzcygpLmdldElkKCkpXG4gICAgLmluZm8oXG4gICAgICAnY2xvc2UgY29ubmVjdGlvbiB0byBzaWduYWxzJyxcbiAgICAgIGByb3V0ZXJzOiAke3JvdXRlckNvbm5lY3Rpb25zLmxlbmd0aH1gLFxuICAgICAgYGNvbm5lY3Rpb25zOiAke2RpcmVjdENvbm5lY3Rpb25zLmxlbmd0aH1gLFxuICAgICAgLi4uc2lnbmFsc1xuICAgICk7XG5cbiAgc2lnbmFsc1xuICAgIC5mb3JFYWNoKFxuICAgICAgc2lnbmFsID0+IHNpZ25hbFxuICAgICAgICAuZ2V0Q29ubmVjdGlvblRhYmxlKClcbiAgICAgICAgLmZpbHRlckRpcmVjdERhdGEoKVxuICAgICAgICAuZm9yRWFjaChcbiAgICAgICAgICBjb25uZWN0aW9uID0+IGNvbm5lY3Rpb24uY2xvc2UoKVxuICAgICAgICApXG4gICAgKTtcbn1cbiIsImltcG9ydCB7Q29ubmVjdGlvblN0YXRlLCBJQ29ubmVjdGlvbiwgTG9nZ2VyLCBNaXRvc2lzfSBmcm9tICcuLi8uLi9taXRvc2lzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGxvb3NlRGlyZWN0Q29ubmVjdGlvbnMobWl0b3NpczogTWl0b3NpcywgY291bnQ6IG51bWJlcik6IHZvaWQge1xuICBpZiAoY291bnQgPCAxKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgY29uZmlndXJhdGlvbiA9IG1pdG9zaXMuZ2V0Um9sZU1hbmFnZXIoKS5nZXRDb25maWd1cmF0aW9uKCk7XG5cbiAgY29uc3QgbWF4R29hbCA9IGNvbmZpZ3VyYXRpb24uRElSRUNUX0NPTk5FQ1RJT05TX0dPQUxfTUFYO1xuICBjb25zdCBtaW5Hb2FsID0gY29uZmlndXJhdGlvbi5ESVJFQ1RfQ09OTkVDVElPTlNfR09BTF9NSU47XG5cbiAgY29uc3QgZGlyZWN0UGVlcnMgPSBtaXRvc2lzXG4gICAgLmdldFBlZXJNYW5hZ2VyKClcbiAgICAuZ2V0UGVlclRhYmxlKClcbiAgICAuZmlsdGVyQ29ubmVjdGlvbnMoXG4gICAgICB0YWJsZSA9PiB0YWJsZVxuICAgICAgICAuZmlsdGVyRGlyZWN0RGF0YSgpXG4gICAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTilcbiAgICApO1xuXG4gIGNvbnN0IGRpcmVjdENvbm5lY3Rpb25zID0gZGlyZWN0UGVlcnNcbiAgICAuYWdncmVnYXRlQ29ubmVjdGlvbnMoXG4gICAgICB0YWJsZSA9PiB0YWJsZVxuICAgICAgICAuZmlsdGVyRGlyZWN0RGF0YSgpXG4gICAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTilcbiAgICApO1xuXG4gIGxldCBjbG9zYWJsZVBlZXJzID0gZGlyZWN0UGVlcnNcbiAgICAuZmlsdGVyKFxuICAgICAgcmVtb3RlUGVlciA9PiBtaXRvc2lzXG4gICAgICAgIC5nZXRSb2xlTWFuYWdlcigpXG4gICAgICAgIC5nZXRSb2xlc1JlcXVpcmluZ1BlZXIocmVtb3RlUGVlcikubGVuZ3RoID09PSAwXG4gICAgKVxuICAgIC5maWx0ZXJJc1Byb3RlY3RlZChmYWxzZSk7XG5cbiAgY29uc3QgYmVzdFJvdXRlckxpbmsgPSBkaXJlY3RQZWVyc1xuICAgIC5maWx0ZXIoXG4gICAgICByZW1vdGVQZWVyID0+IHJlbW90ZVBlZXIuZ2V0TWV0ZXIoKS5nZXRSb3V0ZXJMaW5rUXVhbGl0eSgpID09PSAxXG4gICAgKVxuICAgIC5wb3AoKTtcblxuICBpZiAoYmVzdFJvdXRlckxpbmspIHtcbiAgICBjbG9zYWJsZVBlZXJzID0gY2xvc2FibGVQZWVyc1xuICAgICAgLmZpbHRlcihcbiAgICAgICAgcmVtb3RlUGVlciA9PiByZW1vdGVQZWVyLmdldElkKCkgIT09IGJlc3RSb3V0ZXJMaW5rLmdldElkKClcbiAgICAgICk7XG4gIH1cblxuICBjb25zdCBjbG9zYWJsZUNvbm5lY3Rpb25zID0gY2xvc2FibGVQZWVyc1xuICAgIC5hZ2dyZWdhdGVDb25uZWN0aW9ucyhcbiAgICAgIHRhYmxlID0+IHRhYmxlXG4gICAgICAgIC5maWx0ZXJEaXJlY3REYXRhKClcbiAgICAgICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOKVxuICAgIClcbiAgICAuc29ydEJ5KFxuICAgICAgY29ubmVjdGlvbiA9PiB7XG4gICAgICAgIGlmIChjb25uZWN0aW9uLmdldE1ldGVyKCkuaXNQcm90ZWN0ZWQoKSkge1xuICAgICAgICAgIHJldHVybiAxLjA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb24uZ2V0TWV0ZXIoKS5nZXRRdWFsaXR5KG1pdG9zaXMuZ2V0UGVlck1hbmFnZXIoKS5nZXRQZWVyVGFibGUoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuXG4gIGNvbnN0IG92ZXJNaW5Hb2FsID0gTWF0aC5tYXgoY2xvc2FibGVDb25uZWN0aW9ucy5sZW5ndGggLSBtaW5Hb2FsLCAwKTtcbiAgY29uc3Qgb3Zlck1heEdvYWwgPSBNYXRoLm1heChkaXJlY3RDb25uZWN0aW9ucy5sZW5ndGggLSBtYXhHb2FsLCAwKTtcbiAgY29uc3Qgc2FmZUNsb3NhYmxlQ29ubmVjdGlvbkNvdW50ID0gTWF0aC5taW4ob3Zlck1pbkdvYWwsIG92ZXJNYXhHb2FsLCBjb3VudCk7XG5cbiAgaWYgKHNhZmVDbG9zYWJsZUNvbm5lY3Rpb25Db3VudCA+IDApIHtcbiAgICBjbG9zYWJsZUNvbm5lY3Rpb25zXG4gICAgICAuc2xpY2UoMCwgc2FmZUNsb3NhYmxlQ29ubmVjdGlvbkNvdW50KVxuICAgICAgLmZvckVhY2goXG4gICAgICAgIChjb25uZWN0aW9uOiBJQ29ubmVjdGlvbikgPT4ge1xuICAgICAgICAgIExvZ2dlci5nZXRMb2dnZXIobWl0b3Npcy5nZXRNeUFkZHJlc3MoKS5nZXRJZCgpKVxuICAgICAgICAgICAgLmRlYnVnKGBsb29zaW5nIHdvcnN0IGNvbm5lY3Rpb24gJHtjb25uZWN0aW9uLmdldEFkZHJlc3MoKS5nZXRJZCgpfWAsIGNvbm5lY3Rpb24pO1xuICAgICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgfSBlbHNlIHtcbiAgICBMb2dnZXIuZ2V0TG9nZ2VyKG1pdG9zaXMuZ2V0TXlBZGRyZXNzKCkuZ2V0SWQoKSlcbiAgICAgIC53YXJuKGBjYW4gbm90IGxvb3NlIHBlZXJzIGJlY2F1c2Ugbm8gY2xvc2FibGUgY29ubmVjdGlvbiBpcyBhdmFpbGFibGVgKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtDb25uZWN0aW9uU3RhdGV9IGZyb20gJy4uLy4uL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcbmltcG9ydCB7TWl0b3Npc30gZnJvbSAnLi4vLi4vbWl0b3Npcyc7XG5pbXBvcnQge2xvb3NlRGlyZWN0Q29ubmVjdGlvbnN9IGZyb20gJy4vbG9vc2UtZGlyZWN0LWNvbm5lY3Rpb25zJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVN1cGVyZmx1b3VzQ29ubmVjdGlvbnMobWl0b3NpczogTWl0b3Npcyk6IHZvaWQge1xuICBjb25zdCBjb25maWd1cmF0aW9uID0gbWl0b3Npcy5nZXRSb2xlTWFuYWdlcigpLmdldENvbmZpZ3VyYXRpb24oKTtcblxuICBjb25zdCBkaXJlY3RDb25uZWN0aW9uQ291bnQgPSBtaXRvc2lzXG4gICAgLmdldFBlZXJNYW5hZ2VyKClcbiAgICAuZ2V0UGVlclRhYmxlKClcbiAgICAuY291bnRDb25uZWN0aW9ucyhcbiAgICAgIHRhYmxlID0+IHRhYmxlXG4gICAgICAgIC5maWx0ZXJEaXJlY3REYXRhKClcbiAgICAgICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOKVxuICAgICk7XG5cbiAgY29uc3Qgc3VwZXJmbHVvdXNDb25uZWN0aW9uQ291bnQgPSBkaXJlY3RDb25uZWN0aW9uQ291bnQgLSBjb25maWd1cmF0aW9uLkRJUkVDVF9DT05ORUNUSU9OU19HT0FMX01BWDtcblxuICBsb29zZURpcmVjdENvbm5lY3Rpb25zKG1pdG9zaXMsIHN1cGVyZmx1b3VzQ29ubmVjdGlvbkNvdW50KTtcbn1cbiIsImltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi4vLi4vbWVzc2FnZS9hZGRyZXNzJztcbmltcG9ydCB7Q29ubmVjdGlvbk5lZ290aWF0aW9uVHlwZX0gZnJvbSAnLi4vLi4vbWVzc2FnZS9jb25uZWN0aW9uLW5lZ290aWF0aW9uJztcbmltcG9ydCB7TWVzc2FnZVN1YmplY3R9IGZyb20gJy4uLy4uL21lc3NhZ2UvaW50ZXJmYWNlJztcbmltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi4vLi4vbWVzc2FnZS9tZXNzYWdlJztcbmltcG9ydCB7TWl0b3NpcywgUHJvdG9jb2x9IGZyb20gJy4uLy4uL21pdG9zaXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVxdWVzdFN0cmVhbUNvbm5lY3Rpb24obWl0b3NpczogTWl0b3Npcyk6IHZvaWQge1xuICBjb25zdCBhY3RpdmVseVN0cmVhbWluZyA9IG1pdG9zaXNcbiAgICAuZ2V0U3RyZWFtTWFuYWdlcigpXG4gICAgLmdldENoYW5uZWxUYWJsZSgpXG4gICAgLmhhcyhcbiAgICAgIGNoYW5uZWwgPT4gY2hhbm5lbC5pc0FjdGl2ZSgpXG4gICAgKTtcblxuICBpZiAoYWN0aXZlbHlTdHJlYW1pbmcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBtaXRvc2lzXG4gICAgLmdldFN0cmVhbU1hbmFnZXIoKVxuICAgIC5nZXRDaGFubmVsVGFibGUoKVxuICAgIC5tYXAoXG4gICAgICBjaGFubmVsID0+IGNoYW5uZWxcbiAgICAgICAgLmdldFByb3ZpZGVyVGFibGUoKVxuICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgIHByb3ZpZGVyID0+XG4gICAgICAgICAgICBwcm92aWRlci5nZXRDYXBhY2l0eSgpID4gMCAmJlxuICAgICAgICAgICAgcHJvdmlkZXIuZ2V0UGVlcklkKCkgIT09IG1pdG9zaXMuZ2V0TXlBZGRyZXNzKCkuZ2V0SWQoKVxuICAgICAgICApXG4gICAgICAgIC5tYXAoXG4gICAgICAgICAgcHJvdmlkZXIgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtwZWVySWQ6IHByb3ZpZGVyLmdldFBlZXJJZCgpLCBjaGFubmVsSWQ6IGNoYW5uZWwuZ2V0SWQoKX07XG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgKVxuICAgIC5yZWR1Y2UoXG4gICAgICAocHJldmlvdXMsIGN1cnJlbnQpID0+IHByZXZpb3VzLmNvbmNhdChjdXJyZW50KSwgW11cbiAgICApXG4gICAgLmZvckVhY2goXG4gICAgICAoaW50ZXJlc3Q6IHsgcGVlcklkOiBzdHJpbmcsIGNoYW5uZWxJZDogc3RyaW5nIH0pID0+IHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBNZXNzYWdlKFxuICAgICAgICAgIG5ldyBBZGRyZXNzKG1pdG9zaXMuZ2V0TXlBZGRyZXNzKCkuZ2V0SWQoKSwgUHJvdG9jb2wuV0VCUlRDX1NUUkVBTSksXG4gICAgICAgICAgbmV3IEFkZHJlc3MoaW50ZXJlc3QucGVlcklkKSxcbiAgICAgICAgICBNZXNzYWdlU3ViamVjdC5DT05ORUNUSU9OX05FR09USUFUSU9OLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IENvbm5lY3Rpb25OZWdvdGlhdGlvblR5cGUuUkVRVUVTVCxcbiAgICAgICAgICAgIGNoYW5uZWxJZDogaW50ZXJlc3QuY2hhbm5lbElkXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBtaXRvc2lzLmdldFBlZXJNYW5hZ2VyKCkuc2VuZE1lc3NhZ2UocmVxdWVzdCk7XG4gICAgICB9XG4gICAgKTtcbn1cbiIsImltcG9ydCB7UHJvdG9jb2x9IGZyb20gJy4uLy4uL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcbmltcG9ydCB7TG9nZ2VyfSBmcm9tICcuLi8uLi9sb2dnZXIvbG9nZ2VyJztcbmltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi4vLi4vbWVzc2FnZS9hZGRyZXNzJztcbmltcG9ydCB7TWl0b3Npc30gZnJvbSAnLi4vLi4vbWl0b3Npcyc7XG5pbXBvcnQge1JlbW90ZVBlZXJ9IGZyb20gJy4uLy4uL3BlZXIvcmVtb3RlLXBlZXInO1xuaW1wb3J0IHtSb2xlVHlwZX0gZnJvbSAnLi4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFjcXVpcmVEaXJlY3RDb25uZWN0aW9ucyhtaXRvc2lzOiBNaXRvc2lzLCBjb3VudDogbnVtYmVyKTogQXJyYXk8UHJvbWlzZTxSZW1vdGVQZWVyPj4ge1xuICBpZiAoY291bnQgPCAxKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29uc3QgcGVlclRhYmxlID0gbWl0b3Npc1xuICAgIC5nZXRQZWVyTWFuYWdlcigpXG4gICAgLmdldFBlZXJUYWJsZSgpO1xuXG4gIGxldCB2aWFQZWVycyA9IHBlZXJUYWJsZVxuICAgIC5maWx0ZXJDb25uZWN0aW9ucyhcbiAgICAgIHRhYmxlID0+IHRhYmxlLmZpbHRlckJ5UHJvdG9jb2woUHJvdG9jb2wuVklBKVxuICAgIClcbiAgICAuZmlsdGVyQnlSb2xlKFJvbGVUeXBlLlBFRVIpXG4gICAgLmV4Y2x1ZGUoXG4gICAgICB0YWJsZSA9PiB0YWJsZVxuICAgICAgICAuZmlsdGVyQ29ubmVjdGlvbnMoXG4gICAgICAgICAgY29ubmVjdGlvblRhYmxlID0+IGNvbm5lY3Rpb25UYWJsZS5maWx0ZXJEaXJlY3REYXRhKClcbiAgICAgICAgKVxuICAgICk7XG5cbiAgaWYgKHZpYVBlZXJzLmxlbmd0aCA8PSAxKSB7XG4gICAgdmlhUGVlcnMgPSBwZWVyVGFibGVcbiAgICAgIC5maWx0ZXJDb25uZWN0aW9ucyhcbiAgICAgICAgdGFibGUgPT4gdGFibGUuZmlsdGVyQnlQcm90b2NvbChQcm90b2NvbC5WSUEsIFByb3RvY29sLlZJQV9NVUxUSSlcbiAgICAgIClcbiAgICAgIC5maWx0ZXJCeVJvbGUoUm9sZVR5cGUuUEVFUilcbiAgICAgIC5leGNsdWRlKFxuICAgICAgICB0YWJsZSA9PiB0YWJsZVxuICAgICAgICAgIC5maWx0ZXJDb25uZWN0aW9ucyhcbiAgICAgICAgICAgIGNvbm5lY3Rpb25UYWJsZSA9PiBjb25uZWN0aW9uVGFibGUuZmlsdGVyRGlyZWN0RGF0YSgpXG4gICAgICAgICAgKVxuICAgICAgKTtcbiAgfVxuXG4gIHZpYVBlZXJzLmV4Y2x1ZGUoXG4gICAgdGFibGUgPT4gdGFibGUuZmlsdGVyKFxuICAgICAgcGVlciA9PiB7XG4gICAgICAgIHJldHVybiBwZWVyLmdldE1ldGVyKCkuZ2V0QXZlcmFnZUNvbm5lY3Rpb25QdW5pc2htZW50KCkgPCAwO1xuICAgICAgfVxuICAgIClcbiAgKTtcblxuICByZXR1cm4gdmlhUGVlcnNcbiAgICAuc29ydEJ5KFxuICAgICAgKHBlZXI6IFJlbW90ZVBlZXIpID0+XG4gICAgICAgIHBlZXIuZ2V0TWV0ZXIoKS5nZXRBY3F1aXNpdGlvblF1YWxpdHkocGVlclRhYmxlKVxuICAgIClcbiAgICAucmV2ZXJzZSgpXG4gICAgLnNsaWNlKDAsIGNvdW50KVxuICAgIC5tYXAoXG4gICAgICAocGVlcjogUmVtb3RlUGVlcikgPT4ge1xuICAgICAgICBjb25zdCBhZGRyZXNzID0gbmV3IEFkZHJlc3MocGVlci5nZXRJZCgpLCBQcm90b2NvbC5XRUJSVENfREFUQSk7XG4gICAgICAgIExvZ2dlci5nZXRMb2dnZXIobWl0b3Npcy5nZXRNeUFkZHJlc3MoKS5nZXRJZCgpKVxuICAgICAgICAgIC5kZWJ1ZyhgY29ubmVjdGluZyB0byAke3BlZXIuZ2V0SWQoKX0gd2l0aCBxdWFsaXR5ICR7cGVlci5nZXRNZXRlcigpLmdldFF1YWxpdHkobWl0b3Npcy5nZXRQZWVyTWFuYWdlcigpLmdldFBlZXJUYWJsZSgpKX1gLCBwZWVyKTtcbiAgICAgICAgcmV0dXJuIG1pdG9zaXNcbiAgICAgICAgICAuZ2V0UGVlck1hbmFnZXIoKVxuICAgICAgICAgIC5jb25uZWN0VG8oYWRkcmVzcylcbiAgICAgICAgICAuY2F0Y2goXG4gICAgICAgICAgICBlcnIgPT5cbiAgICAgICAgICAgICAgTG9nZ2VyLmdldExvZ2dlcihtaXRvc2lzLmdldE15QWRkcmVzcygpLmdldElkKCkpXG4gICAgICAgICAgICAgICAgLmRlYnVnKGBjYW4gbm90IGFjcXVpcmUgJHtwZWVyLmdldElkKCl9YCwgZXJyKVxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgKTtcbn1cbiIsImltcG9ydCB7Q29ubmVjdGlvblN0YXRlfSBmcm9tICcuLi8uLi9jb25uZWN0aW9uL2ludGVyZmFjZSc7XG5pbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi4vLi4vbG9nZ2VyL2xvZ2dlcic7XG5pbXBvcnQge01pdG9zaXN9IGZyb20gJy4uLy4uL21pdG9zaXMnO1xuaW1wb3J0IHthY3F1aXJlRGlyZWN0Q29ubmVjdGlvbnN9IGZyb20gJy4vYWNxdWlyZS1kaXJlY3QtY29ubmVjdGlvbnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2F0aXNmeUNvbm5lY3Rpb25Hb2FsKG1pdG9zaXM6IE1pdG9zaXMpOiB2b2lkIHtcbiAgY29uc3QgY29uZmlndXJhdGlvbiA9IG1pdG9zaXMuZ2V0Um9sZU1hbmFnZXIoKS5nZXRDb25maWd1cmF0aW9uKCk7XG5cbiAgY29uc3QgZGlyZWN0Q29ubmVjdGlvbkNvdW50ID0gbWl0b3Npc1xuICAgIC5nZXRQZWVyTWFuYWdlcigpXG4gICAgLmdldFBlZXJUYWJsZSgpXG4gICAgLmNvdW50Q29ubmVjdGlvbnMoXG4gICAgICB0YWJsZSA9PiB0YWJsZVxuICAgICAgICAuZmlsdGVyRGlyZWN0RGF0YSgpXG4gICAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTiwgQ29ubmVjdGlvblN0YXRlLk9QRU5JTkcpXG4gICAgKTtcblxuICBjb25zdCBib29zdCA9IG1pdG9zaXMuZ2V0UGVlck1hbmFnZXIoKS5nZXRBY3F1aXNpdGlvbkJvb3N0KCk7XG4gIGNvbnN0IGFjcXVpc2l0aW9uR29hbCA9IChcbiAgICBjb25maWd1cmF0aW9uLkRJUkVDVF9DT05ORUNUSU9OU19HT0FMX01JTiAtIGRpcmVjdENvbm5lY3Rpb25Db3VudCArIGJvb3N0XG4gICk7XG5cbiAgaWYgKGFjcXVpc2l0aW9uR29hbCA+IDApIHtcbiAgICBMb2dnZXIuZ2V0TG9nZ2VyKG1pdG9zaXMuZ2V0TXlBZGRyZXNzKCkuZ2V0SWQoKSlcbiAgICAgIC5kZWJ1ZyhcbiAgICAgICAgYG5lZWQgdG8gYWNxdWlyZSAke2FjcXVpc2l0aW9uR29hbH0gcGVlcnNgLFxuICAgICAgICBgbWluIGdvYWwgaXMgJHtjb25maWd1cmF0aW9uLkRJUkVDVF9DT05ORUNUSU9OU19HT0FMX01JTn1gLFxuICAgICAgICBgYm9vc3QgaXMgJHtib29zdH1gLFxuICAgICAgICBgYWxyZWFkeSBoYXZlICR7ZGlyZWN0Q29ubmVjdGlvbkNvdW50fSBjb25uZWN0aW9uc2BcbiAgICAgICk7XG4gICAgY29uc3QgcHJvbWlzZXMgPSBhY3F1aXJlRGlyZWN0Q29ubmVjdGlvbnMobWl0b3NpcywgYWNxdWlzaXRpb25Hb2FsKTtcbiAgICBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgICAgIC5jYXRjaChcbiAgICAgICAgcmVhc29uID0+XG4gICAgICAgICAgTG9nZ2VyLmdldExvZ2dlcihtaXRvc2lzLmdldE15QWRkcmVzcygpLmdldElkKCkpXG4gICAgICAgICAgICAud2FybignY291bGQgbm90IHNhdGlzZnkgY29ubmVjdGlvbiBnb2FsJywgcmVhc29uKVxuICAgICAgKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtDb25uZWN0aW9uU3RhdGUsIExvZ2dlciwgTWl0b3Npc30gZnJvbSAnLi4vLi4vbWl0b3Npcyc7XG5pbXBvcnQge2FjcXVpcmVEaXJlY3RDb25uZWN0aW9uc30gZnJvbSAnLi9hY3F1aXJlLWRpcmVjdC1jb25uZWN0aW9ucyc7XG5pbXBvcnQge2xvb3NlRGlyZWN0Q29ubmVjdGlvbnN9IGZyb20gJy4vbG9vc2UtZGlyZWN0LWNvbm5lY3Rpb25zJztcblxuZXhwb3J0IGZ1bmN0aW9uIHRyeU90aGVyUGVlcnMobWl0b3NpczogTWl0b3Npcyk6IHZvaWQge1xuICBjb25zdCBjb25maWd1cmF0aW9uID0gbWl0b3Npcy5nZXRSb2xlTWFuYWdlcigpLmdldENvbmZpZ3VyYXRpb24oKTtcblxuICBjb25zdCBwZWVyVGFibGUgPSBtaXRvc2lzXG4gICAgLmdldFBlZXJNYW5hZ2VyKClcbiAgICAuZ2V0UGVlclRhYmxlKCk7XG5cbiAgY29uc3QgZGlyZWN0Q29ubmVjdGlvbnMgPSBwZWVyVGFibGVcbiAgICAuYWdncmVnYXRlQ29ubmVjdGlvbnMoXG4gICAgICBjb25uZWN0aW9uVGFibGUgPT4gY29ubmVjdGlvblRhYmxlXG4gICAgICAgIC5maWx0ZXJEaXJlY3REYXRhKClcbiAgICAgICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOLCBDb25uZWN0aW9uU3RhdGUuT1BFTklORylcbiAgICApO1xuXG4gIGNvbnN0IGRpcmVjdENvbm5lY3Rpb25Db3VudCA9IGRpcmVjdENvbm5lY3Rpb25zLmxlbmd0aDtcbiAgY29uc3Qgb3BlbmluZ0Nvbm5lY3Rpb25Db3VudCA9IGRpcmVjdENvbm5lY3Rpb25zXG4gICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOSU5HKVxuICAgIC5sZW5ndGg7XG5cbiAgaWYgKFxuICAgIGRpcmVjdENvbm5lY3Rpb25Db3VudCA8IGNvbmZpZ3VyYXRpb24uRElSRUNUX0NPTk5FQ1RJT05TX0dPQUxfTUlOIHx8XG4gICAgb3BlbmluZ0Nvbm5lY3Rpb25Db3VudCA+IDBcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgYWNxdWlzaXRpb25Hb2FsID0gTWF0aC5taW4oXG4gICAgY29uZmlndXJhdGlvbi5UUllfT1RIRVJfUEVFUlNfQ09VTlQgKyBtaXRvc2lzLmdldFBlZXJNYW5hZ2VyKCkuZ2V0QWNxdWlzaXRpb25Cb29zdCgpLFxuICAgIGNvbmZpZ3VyYXRpb24uRElSRUNUX0NPTk5FQ1RJT05TX01BWCAtIGRpcmVjdENvbm5lY3Rpb25Db3VudFxuICApO1xuXG4gIGNvbnN0IHByb21pc2VzID0gYWNxdWlyZURpcmVjdENvbm5lY3Rpb25zKG1pdG9zaXMsIGFjcXVpc2l0aW9uR29hbCk7XG4gIHByb21pc2VzXG4gICAgLmZvckVhY2goXG4gICAgICBwcm9taXNlID0+IHByb21pc2VcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IG5ld0RpcmVjdENvbm5lY3Rpb25Db3VudCA9IHBlZXJUYWJsZVxuICAgICAgICAgICAgLmNvdW50Q29ubmVjdGlvbnMoXG4gICAgICAgICAgICAgIGNvbm5lY3Rpb25UYWJsZSA9PiBjb25uZWN0aW9uVGFibGVcbiAgICAgICAgICAgICAgICAuZmlsdGVyRGlyZWN0RGF0YSgpXG4gICAgICAgICAgICAgICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOLCBDb25uZWN0aW9uU3RhdGUuT1BFTklORylcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKG5ld0RpcmVjdENvbm5lY3Rpb25Db3VudCA+IGRpcmVjdENvbm5lY3Rpb25Db3VudCkge1xuICAgICAgICAgICAgbG9vc2VEaXJlY3RDb25uZWN0aW9ucyhtaXRvc2lzLCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChcbiAgICAgICAgICByZWFzb24gPT5cbiAgICAgICAgICAgIExvZ2dlci5nZXRMb2dnZXIobWl0b3Npcy5nZXRNeUFkZHJlc3MoKS5nZXRJZCgpKVxuICAgICAgICAgICAgICAud2FybignY291bGQgbm90IHRyeSBuZXcgcGVlcnMnLCByZWFzb24pXG4gICAgICAgIClcbiAgICApO1xufVxuIiwiaW1wb3J0IHtMb2dnZXJ9IGZyb20gJy4uLy4uL2xvZ2dlci9sb2dnZXInO1xuaW1wb3J0IHtNaXRvc2lzfSBmcm9tICcuLi8uLi9taXRvc2lzJztcbmltcG9ydCB7Um9sZVR5cGV9IGZyb20gJy4uL2ludGVyZmFjZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWdyYWRlVG9QZWVyKG1pdG9zaXM6IE1pdG9zaXMpOiB2b2lkIHtcbiAgY29uc3Qgcm9sZU1hbmFnZXIgPSBtaXRvc2lzLmdldFJvbGVNYW5hZ2VyKCk7XG5cbiAgY29uc3Qgbm9TaWduYWwgPSBtaXRvc2lzLmdldFBlZXJUYWJsZSgpLmZpbHRlckJ5Um9sZShSb2xlVHlwZS5TSUdOQUwpLmxlbmd0aCA9PT0gMDtcbiAgaWYgKHJvbGVNYW5hZ2VyLmhhc1JvbGUoUm9sZVR5cGUuUk9VVEVSKSAmJiBub1NpZ25hbCkge1xuICAgIExvZ2dlci5nZXRMb2dnZXIobWl0b3Npcy5nZXRNeUFkZHJlc3MoKS5nZXRJZCgpKS5kZWJ1ZygnbG9zdCBzaWduYWwgY29ubmVjdGlvbicpO1xuICAgIHJvbGVNYW5hZ2VyLnJlbW92ZVJvbGUoUm9sZVR5cGUuUk9VVEVSKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtDb25uZWN0aW9uU3RhdGV9IGZyb20gJy4uLy4uL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcbmltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi4vLi4vbWVzc2FnZS9hZGRyZXNzJztcbmltcG9ydCB7UGVlclVwZGF0ZX0gZnJvbSAnLi4vLi4vbWVzc2FnZS9wZWVyLXVwZGF0ZSc7XG5pbXBvcnQge01pdG9zaXN9IGZyb20gJy4uLy4uL21pdG9zaXMnO1xuaW1wb3J0IHtSb2xlVHlwZX0gZnJvbSAnLi4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIHB1Ymxpc2hTaWduYWxBbmRSb3V0ZXJVcGRhdGUobWl0b3NpczogTWl0b3Npcyk6IHZvaWQge1xuICAvLyBUaGlzIHVwZGF0ZSBpcyBzZW50IGJldHdlZW4gc2lnbmFscyBhbmQgcm91dGVyc1xuXG4gIGNvbnN0IHNpZ25hbHNBbmRSb3V0ZXJzID0gbWl0b3Npc1xuICAgIC5nZXRQZWVyTWFuYWdlcigpXG4gICAgLmdldFBlZXJUYWJsZSgpXG4gICAgLmZpbHRlckJ5Um9sZShSb2xlVHlwZS5TSUdOQUwsIFJvbGVUeXBlLlJPVVRFUilcbiAgICAuZmlsdGVyQ29ubmVjdGlvbnMoXG4gICAgICB0YWJsZSA9PiB0YWJsZVxuICAgICAgICAuZmlsdGVyRGlyZWN0RGF0YSgpXG4gICAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTilcbiAgICApO1xuXG4gIHNpZ25hbHNBbmRSb3V0ZXJzXG4gICAgLmZvckVhY2gocGVlciA9PiBtaXRvc2lzXG4gICAgICAuZ2V0UGVlck1hbmFnZXIoKVxuICAgICAgLnNlbmRNZXNzYWdlKFxuICAgICAgICBuZXcgUGVlclVwZGF0ZShcbiAgICAgICAgICBtaXRvc2lzLmdldE15QWRkcmVzcygpLFxuICAgICAgICAgIG5ldyBBZGRyZXNzKHBlZXIuZ2V0SWQoKSksXG4gICAgICAgICAgc2lnbmFsc0FuZFJvdXRlcnMsXG4gICAgICAgICAgbWl0b3Npcy5nZXRQZWVyTWFuYWdlcigpLmdldFBlZXJUYWJsZSgpXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xufVxuIiwiaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuL2FkZHJlc3MnO1xuaW1wb3J0IHtJRmxvb2RhYmxlTWVzc2FnZSwgTWVzc2FnZVN1YmplY3R9IGZyb20gJy4vaW50ZXJmYWNlJztcbmltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi9tZXNzYWdlJztcblxuZXhwb3J0IGNsYXNzIFJvdXRlckFsaXZlIGV4dGVuZHMgTWVzc2FnZSBpbXBsZW1lbnRzIElGbG9vZGFibGVNZXNzYWdlIHtcbiAgcHJvdGVjdGVkIF9ib2R5OiB7IHNlcXVlbmNlOiBudW1iZXIgfTtcblxuICBwdWJsaWMgY29uc3RydWN0b3Ioc2VuZGVyOiBBZGRyZXNzLCByZWNlaXZlcjogQWRkcmVzcywgYm9keTogeyBzZXF1ZW5jZTogbnVtYmVyIH0pIHtcbiAgICBzdXBlcihzZW5kZXIsIHJlY2VpdmVyLCBNZXNzYWdlU3ViamVjdC5ST1VURVJfQUxJVkUsIG51bGwpO1xuICAgIHRoaXMuX2JvZHkgPSBib2R5O1xuICB9XG5cbiAgcHVibGljIGdldEJvZHkoKTogeyBzZXF1ZW5jZTogbnVtYmVyIH0ge1xuICAgIHJldHVybiB0aGlzLl9ib2R5O1xuICB9XG59XG4iLCJpbXBvcnQge0NvbmZpZ3VyYXRpb25NYXB9IGZyb20gJy4uLy4uL2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuLi8uLi9tZXNzYWdlL2FkZHJlc3MnO1xuaW1wb3J0IHtSb3V0ZXJBbGl2ZX0gZnJvbSAnLi4vLi4vbWVzc2FnZS9yb3V0ZXItYWxpdmUnO1xuaW1wb3J0IHtNaXRvc2lzLCBSb2xlVHlwZX0gZnJvbSAnLi4vLi4vbWl0b3Npcyc7XG5pbXBvcnQge1JvdXRlcn0gZnJvbSAnLi4vcm91dGVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRSb3V0ZXJBbGl2ZShtaXRvc2lzOiBNaXRvc2lzKTogdm9pZCB7XG4gIGNvbnN0IHJvdXRlcjogUm91dGVyID0gbWl0b3Npc1xuICAgIC5nZXRSb2xlTWFuYWdlcigpXG4gICAgLmdldFJvbGUoUm9sZVR5cGUuUk9VVEVSKSBhcyBSb3V0ZXI7XG5cbiAgaWYgKCFyb3V0ZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBzZXF1ZW5jZU51bWJlciA9IHJvdXRlci5uZXh0U2VxdWVuY2VOdW1iZXIoKTtcblxuICBtaXRvc2lzLmdldFBlZXJNYW5hZ2VyKCkuc2VuZE1lc3NhZ2UobmV3IFJvdXRlckFsaXZlKFxuICAgIG1pdG9zaXMuZ2V0TXlBZGRyZXNzKCksXG4gICAgbmV3IEFkZHJlc3MoQ29uZmlndXJhdGlvbk1hcC5nZXREZWZhdWx0KCkuQlJPQURDQVNUX0FERFJFU1MpLFxuICAgIHtzZXF1ZW5jZTogc2VxdWVuY2VOdW1iZXJ9XG4gICkpO1xufVxuIiwiaW1wb3J0IHtSb2xlVHlwZX0gZnJvbSAnLi4vcm9sZS9pbnRlcmZhY2UnO1xuaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuL2FkZHJlc3MnO1xuaW1wb3J0IHtNZXNzYWdlU3ViamVjdH0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtNZXNzYWdlfSBmcm9tICcuL21lc3NhZ2UnO1xuXG5leHBvcnQgY2xhc3MgUm9sZVVwZGF0ZSBleHRlbmRzIE1lc3NhZ2Uge1xuICBwcm90ZWN0ZWQgX2JvZHk6IEFycmF5PFJvbGVUeXBlPjtcblxuICBwdWJsaWMgY29uc3RydWN0b3Ioc2VuZGVyOiBBZGRyZXNzLCByZWNlaXZlcjogQWRkcmVzcywgcm9sZXM6IEFycmF5PFJvbGVUeXBlPikge1xuICAgIHN1cGVyKHNlbmRlciwgcmVjZWl2ZXIsIE1lc3NhZ2VTdWJqZWN0LlJPTEVfVVBEQVRFLCByb2xlcyk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Qm9keSgpOiBBcnJheTxSb2xlVHlwZT4ge1xuICAgIHJldHVybiB0aGlzLl9ib2R5O1xuICB9XG59XG4iLCJpbXBvcnQge0NvbmZpZ3VyYXRpb25NYXB9IGZyb20gJy4uLy4uL2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHtDb25uZWN0aW9uU3RhdGV9IGZyb20gJy4uLy4uL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcbmltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi4vLi4vbWVzc2FnZS9hZGRyZXNzJztcbmltcG9ydCB7TWVzc2FnZVN1YmplY3R9IGZyb20gJy4uLy4uL21lc3NhZ2UvaW50ZXJmYWNlJztcbmltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi4vLi4vbWVzc2FnZS9tZXNzYWdlJztcbmltcG9ydCB7UGVlclVwZGF0ZX0gZnJvbSAnLi4vLi4vbWVzc2FnZS9wZWVyLXVwZGF0ZSc7XG5pbXBvcnQge1JvbGVVcGRhdGV9IGZyb20gJy4uLy4uL21lc3NhZ2Uvcm9sZS11cGRhdGUnO1xuaW1wb3J0IHtNaXRvc2lzfSBmcm9tICcuLi8uLi9taXRvc2lzJztcbmltcG9ydCB7UmVtb3RlUGVlclRhYmxlfSBmcm9tICcuLi8uLi9wZWVyL3JlbW90ZS1wZWVyLXRhYmxlJztcbmltcG9ydCB7Um9sZVR5cGV9IGZyb20gJy4uL2ludGVyZmFjZSc7XG5cbmZ1bmN0aW9uIHByb21vdGVUb1JvbGVzKGFkZHJlc3M6IEFkZHJlc3MsIHJvbGVzOiBBcnJheTxSb2xlVHlwZT4sIG1pdG9zaXM6IE1pdG9zaXMpOiB2b2lkIHtcbiAgY29uc3QgZXhpc3RpbmdQZWVyID0gbWl0b3Npc1xuICAgIC5nZXRQZWVyTWFuYWdlcigpXG4gICAgLmdldFBlZXJCeUlkKGFkZHJlc3MuZ2V0SWQoKSk7XG5cbiAgZXhpc3RpbmdQZWVyLnNldFJvbGVzKHJvbGVzKTtcblxuICBjb25zdCByb2xlVXBkYXRlID0gbmV3IFJvbGVVcGRhdGUoXG4gICAgbWl0b3Npcy5nZXRNeUFkZHJlc3MoKSxcbiAgICBhZGRyZXNzLFxuICAgIHJvbGVzXG4gICk7XG4gIG1pdG9zaXMuZ2V0UGVlck1hbmFnZXIoKS5zZW5kTWVzc2FnZShyb2xlVXBkYXRlKTtcbn1cblxuZnVuY3Rpb24gc2VuZEV4aXN0aW5nUm91dGVycyhhZGRyZXNzOiBBZGRyZXNzLCByb3V0ZXJzOiBSZW1vdGVQZWVyVGFibGUsIG1pdG9zaXM6IE1pdG9zaXMpOiB2b2lkIHtcbiAgY29uc3QgdGFibGVVcGRhdGUgPSBuZXcgUGVlclVwZGF0ZShcbiAgICBtaXRvc2lzLmdldE15QWRkcmVzcygpLFxuICAgIGFkZHJlc3MsXG4gICAgcm91dGVycyxcbiAgICBtaXRvc2lzLmdldFBlZXJNYW5hZ2VyKCkuZ2V0UGVlclRhYmxlKClcbiAgKTtcbiAgbWl0b3Npcy5nZXRQZWVyTWFuYWdlcigpLnNlbmRNZXNzYWdlKHRhYmxlVXBkYXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uYm9hcmROZXdiaWUobWl0b3NpczogTWl0b3NpcywgbWVzc2FnZTogTWVzc2FnZSk6IHZvaWQge1xuICBjb25zdCBzZW5kZXIgPSBtZXNzYWdlLmdldFNlbmRlcigpO1xuICBjb25zdCByb3V0ZXJzID0gbWl0b3Npc1xuICAgIC5nZXRQZWVyTWFuYWdlcigpXG4gICAgLmdldFBlZXJUYWJsZSgpXG4gICAgLmZpbHRlckJ5Um9sZShSb2xlVHlwZS5ST1VURVIpXG4gICAgLmZpbHRlckNvbm5lY3Rpb25zKFxuICAgICAgdGFibGUgPT4gdGFibGVcbiAgICAgICAgLmZpbHRlckRpcmVjdCgpXG4gICAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTiwgQ29ubmVjdGlvblN0YXRlLk9QRU5JTkcpXG4gICAgKTtcbiAgY29uc3Qgc2VuZGVySXNSb3V0ZXIgPSByb3V0ZXJzLmZpbHRlcihwZWVyID0+IHBlZXIuZ2V0SWQoKSA9PT0gc2VuZGVyLmdldElkKCkpLmxlbmd0aDtcblxuICBpZiAobWVzc2FnZS5nZXRTdWJqZWN0KCkgPT09IE1lc3NhZ2VTdWJqZWN0LklOVFJPRFVDVElPTikge1xuICAgIGlmIChzZW5kZXJJc1JvdXRlciB8fCByb3V0ZXJzLmxlbmd0aCA8IENvbmZpZ3VyYXRpb25NYXAuZ2V0RGVmYXVsdCgpLk1BWF9ST1VURVJTX1BFUl9TSUdOQUwpIHtcbiAgICAgIHByb21vdGVUb1JvbGVzKHNlbmRlciwgW1JvbGVUeXBlLlBFRVIsIFJvbGVUeXBlLlJPVVRFUl0sIG1pdG9zaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9tb3RlVG9Sb2xlcyhzZW5kZXIsIFtSb2xlVHlwZS5QRUVSXSwgbWl0b3Npcyk7XG4gICAgfVxuICAgIHNlbmRFeGlzdGluZ1JvdXRlcnMoc2VuZGVyLCByb3V0ZXJzLCBtaXRvc2lzKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtJUm9sZUNvbnN0cnVjdG9yLCBSb2xlVHlwZX0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtOZXdiaWV9IGZyb20gJy4vbmV3YmllJztcbmltcG9ydCB7UGVlcn0gZnJvbSAnLi9wZWVyJztcbmltcG9ydCB7Um91dGVyfSBmcm9tICcuL3JvdXRlcic7XG5pbXBvcnQge1NpZ25hbH0gZnJvbSAnLi9zaWduYWwnO1xuXG5leHBvcnQgY29uc3QgUm9sZVR5cGVNYXA6IE1hcDxSb2xlVHlwZSwgSVJvbGVDb25zdHJ1Y3Rvcj4gPSBuZXcgTWFwKCk7XG5Sb2xlVHlwZU1hcC5zZXQoUm9sZVR5cGUuUEVFUiwgUGVlcik7XG5Sb2xlVHlwZU1hcC5zZXQoUm9sZVR5cGUuTkVXQklFLCBOZXdiaWUpO1xuUm9sZVR5cGVNYXAuc2V0KFJvbGVUeXBlLlJPVVRFUiwgUm91dGVyKTtcblJvbGVUeXBlTWFwLnNldChSb2xlVHlwZS5TSUdOQUwsIFNpZ25hbCk7XG4iLCJpbXBvcnQge01lc3NhZ2V9IGZyb20gJy4uL21lc3NhZ2UvbWVzc2FnZSc7XG5pbXBvcnQge0lUYXNrU2NoZWR1bGUsIE1pdG9zaXMsIFRhc2tQaGFzZX0gZnJvbSAnLi4vbWl0b3Npcyc7XG5pbXBvcnQge0lSb2xlfSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQge0Fic3RyYWN0Um9sZX0gZnJvbSAnLi9yb2xlJztcbmltcG9ydCB7Y2xvc2VEdXBsaWNhdGVDb25uZWN0aW9uc30gZnJvbSAnLi90YXNrL2Nsb3NlLWR1cGxpY2F0ZS1jb25uZWN0aW9ucyc7XG5pbXBvcnQge2RlZ3JhZGVUb05ld2JpZX0gZnJvbSAnLi90YXNrL2RlZ3JhZGUtdG8tbmV3YmllJztcbmltcG9ydCB7ZW5zdXJlUm91dGVyQ29ubmVjdGlvbn0gZnJvbSAnLi90YXNrL2Vuc3VyZS1yb3V0ZXItY29ubmVjdGlvbic7XG5pbXBvcnQge3B1Ymxpc2hDaGFubmVsQW5ub3VuY2VtZW50fSBmcm9tICcuL3Rhc2svcHVibGlzaC1jaGFubmVsLWFubm91bmNlbWVudCc7XG5pbXBvcnQge3B1Ymxpc2hQZWVyQWxpdmV9IGZyb20gJy4vdGFzay9wdWJsaXNoLXBlZXItYWxpdmUnO1xuaW1wb3J0IHtwdWJsaXNoUGVlclVwZGF0ZX0gZnJvbSAnLi90YXNrL3B1Ymxpc2gtcGVlci11cGRhdGUnO1xuaW1wb3J0IHtyZW1vdmVFeHBpcmVkQ29ubmVjdGlvbnN9IGZyb20gJy4vdGFzay9yZW1vdmUtZXhwaXJlZC1jb25uZWN0aW9ucyc7XG5pbXBvcnQge3JlbW92ZVNpZ25hbH0gZnJvbSAnLi90YXNrL3JlbW92ZS1zaWduYWwnO1xuaW1wb3J0IHtyZW1vdmVTdXBlcmZsdW91c0Nvbm5lY3Rpb25zfSBmcm9tICcuL3Rhc2svcmVtb3ZlLXN1cGVyZmx1b3VzLWNvbm5lY3Rpb25zJztcbmltcG9ydCB7cmVxdWVzdFN0cmVhbUNvbm5lY3Rpb259IGZyb20gJy4vdGFzay9yZXF1ZXN0LXN0cmVhbS1jb25uZWN0aW9uJztcbmltcG9ydCB7c2F0aXNmeUNvbm5lY3Rpb25Hb2FsfSBmcm9tICcuL3Rhc2svc2F0aXNmeS1jb25uZWN0aW9uLWdvYWwnO1xuaW1wb3J0IHtzZW5kQWx0ZXJuYXRpdmVzfSBmcm9tICcuL3Rhc2svc2VuZC1hbHRlcm5hdGl2ZXMnO1xuaW1wb3J0IHt0cnlPdGhlclBlZXJzfSBmcm9tICcuL3Rhc2svdHJ5LW90aGVyLXBlZXJzJztcblxuZXhwb3J0IGNsYXNzIFBlZXIgZXh0ZW5kcyBBYnN0cmFjdFJvbGUgaW1wbGVtZW50cyBJUm9sZSB7XG5cbiAgcHVibGljIGdldFRhc2tTY2hlZHVsZSgpOiBBcnJheTxJVGFza1NjaGVkdWxlPiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtwaGFzZTogVGFza1BoYXNlLkNMRUFOLCBpbnRlcnZhbDogMSwgdGFzazogcmVtb3ZlU2lnbmFsfSxcbiAgICAgIHtwaGFzZTogVGFza1BoYXNlLkNMRUFOLCBpbnRlcnZhbDogMSwgdGFzazogY2xvc2VEdXBsaWNhdGVDb25uZWN0aW9uc30sXG4gICAgICB7cGhhc2U6IFRhc2tQaGFzZS5DTEVBTiwgaW50ZXJ2YWw6IDEsIHRhc2s6IHJlbW92ZUV4cGlyZWRDb25uZWN0aW9uc30sXG4gICAgICB7cGhhc2U6IFRhc2tQaGFzZS5DTEVBTiwgaW50ZXJ2YWw6IDEsIHRhc2s6IHJlbW92ZVN1cGVyZmx1b3VzQ29ubmVjdGlvbnN9LFxuICAgICAge3BoYXNlOiBUYXNrUGhhc2UuQ0xFQU4sIGludGVydmFsOiAxLCB0YXNrOiBkZWdyYWRlVG9OZXdiaWV9LFxuICAgICAge3BoYXNlOiBUYXNrUGhhc2UuQ0xFQU4sIGludGVydmFsOiAxLCB0YXNrOiBlbnN1cmVSb3V0ZXJDb25uZWN0aW9ufSxcblxuICAgICAge3BoYXNlOiBUYXNrUGhhc2UuQUNRVUlSRSwgaW50ZXJ2YWw6IDEsIHRhc2s6IHNhdGlzZnlDb25uZWN0aW9uR29hbH0sXG4gICAgICB7cGhhc2U6IFRhc2tQaGFzZS5BQ1FVSVJFLCBpbnRlcnZhbDogMSwgdGFzazogcmVxdWVzdFN0cmVhbUNvbm5lY3Rpb259LFxuICAgICAge3BoYXNlOiBUYXNrUGhhc2UuQUNRVUlSRSwgaW50ZXJ2YWw6IDYwLCB0YXNrOiB0cnlPdGhlclBlZXJzfSxcblxuICAgICAge3BoYXNlOiBUYXNrUGhhc2UuUFVCTElTSCwgaW50ZXJ2YWw6IDQsIHRhc2s6IHB1Ymxpc2hQZWVyVXBkYXRlfSxcbiAgICAgIHtwaGFzZTogVGFza1BoYXNlLlBVQkxJU0gsIGludGVydmFsOiAyLCB0YXNrOiBwdWJsaXNoQ2hhbm5lbEFubm91bmNlbWVudH0sXG4gICAgICB7cGhhc2U6IFRhc2tQaGFzZS5QVUJMSVNILCBpbnRlcnZhbDogNCwgdGFzazogcHVibGlzaFBlZXJBbGl2ZX1cbiAgICBdO1xuICB9XG5cbiAgcHVibGljIG9uSW5pdChtaXRvc2lzOiBNaXRvc2lzKTogdm9pZCB7XG4gICAgbWl0b3Npcy5nZXRQZWVyTWFuYWdlcigpLmFjdGl2YXRlQWNxdWlzaXRpb25Cb29zdCgpO1xuICB9XG5cbiAgcHVibGljIG9uTWVzc2FnZShtaXRvc2lzOiBNaXRvc2lzLCBtZXNzYWdlOiBNZXNzYWdlKTogdm9pZCB7XG4gICAgc2VuZEFsdGVybmF0aXZlcyhtaXRvc2lzLCBtZXNzYWdlKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtDb25uZWN0aW9uU3RhdGV9IGZyb20gJy4uLy4uL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcbmltcG9ydCB7TWVzc2FnZVN1YmplY3R9IGZyb20gJy4uLy4uL21lc3NhZ2UvaW50ZXJmYWNlJztcbmltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi4vLi4vbWVzc2FnZS9tZXNzYWdlJztcbmltcG9ydCB7TWl0b3Npc30gZnJvbSAnLi4vLi4vbWl0b3Npcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZW5kQWx0ZXJuYXRpdmVzKG1pdG9zaXM6IE1pdG9zaXMsIG1lc3NhZ2U6IE1lc3NhZ2UpIHtcbiAgY29uc3QgY29uZmlndXJhdGlvbiA9IG1pdG9zaXMuZ2V0Um9sZU1hbmFnZXIoKS5nZXRDb25maWd1cmF0aW9uKCk7XG5cbiAgY29uc3QgcGVlck1hbmFnZXIgPSBtaXRvc2lzLmdldFBlZXJNYW5hZ2VyKCk7XG4gIGlmIChtZXNzYWdlLmdldFN1YmplY3QoKSAhPT0gTWVzc2FnZVN1YmplY3QuQ09OTkVDVElPTl9ORUdPVElBVElPTiB8fFxuICAgIG1lc3NhZ2UuZ2V0UmVjZWl2ZXIoKS5nZXRJZCgpICE9PSBwZWVyTWFuYWdlci5nZXRNeUlkKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBkaXJlY3RDb25uZWN0aW9ucyA9IHBlZXJNYW5hZ2VyXG4gICAgLmdldFBlZXJUYWJsZSgpXG4gICAgLmNvdW50Q29ubmVjdGlvbnMoXG4gICAgICB0YWJsZSA9PiB0YWJsZVxuICAgICAgICAuZmlsdGVyRGlyZWN0RGF0YSgpXG4gICAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTilcbiAgICApO1xuXG4gIGlmIChkaXJlY3RDb25uZWN0aW9ucyA+PSBjb25maWd1cmF0aW9uLkRJUkVDVF9DT05ORUNUSU9OU19NQVgpIHtcbiAgICBwZWVyTWFuYWdlclxuICAgICAgLmdldFBlZXJUYWJsZSgpXG4gICAgICAuZmlsdGVyQnlJZChtZXNzYWdlLmdldFNlbmRlcigpLmdldElkKCkpXG4gICAgICAuZXhjbHVkZShcbiAgICAgICAgdGFibGUgPT4gdGFibGUuZmlsdGVyQ29ubmVjdGlvbnMoXG4gICAgICAgICAgcGVlciA9PiBwZWVyXG4gICAgICAgICAgICAuZmlsdGVyRGlyZWN0RGF0YSgpXG4gICAgICAgICAgICAuZmlsdGVyQnlTdGF0ZXMoQ29ubmVjdGlvblN0YXRlLk9QRU4pXG4gICAgICAgIClcbiAgICAgIClcbiAgICAgIC5mb3JFYWNoKFxuICAgICAgICBwZWVyID0+IHBlZXJNYW5hZ2VyLnNlbmRQZWVyU3VnZ2VzdGlvbihwZWVyLmdldElkKCkpXG4gICAgICApO1xuICB9XG59XG4iLCJpbXBvcnQge0lUYXNrU2NoZWR1bGUsIFRhc2tQaGFzZX0gZnJvbSAnLi4vbWl0b3Npcyc7XG5pbXBvcnQge1JlbW90ZVBlZXJ9IGZyb20gJy4uL3BlZXIvcmVtb3RlLXBlZXInO1xuaW1wb3J0IHtJUm9sZSwgUm9sZVR5cGV9IGZyb20gJy4vaW50ZXJmYWNlJztcbmltcG9ydCB7QWJzdHJhY3RSb2xlfSBmcm9tICcuL3JvbGUnO1xuaW1wb3J0IHtzZW5kSW50cm9kdWN0aW9ufSBmcm9tICcuL3Rhc2svc2VuZC1pbnRyb2R1Y3Rpb24nO1xuXG5leHBvcnQgY2xhc3MgTmV3YmllIGV4dGVuZHMgQWJzdHJhY3RSb2xlIGltcGxlbWVudHMgSVJvbGUge1xuXG4gIHB1YmxpYyBnZXRUYXNrU2NoZWR1bGUoKTogQXJyYXk8SVRhc2tTY2hlZHVsZT4ge1xuICAgIHJldHVybiBbXG4gICAgICB7cGhhc2U6IFRhc2tQaGFzZS5QVUJMSVNILCBpbnRlcnZhbDogMSwgdGFzazogc2VuZEludHJvZHVjdGlvbn1cbiAgICBdO1xuICB9XG5cbiAgcHVibGljIHJlcXVpcmVzUGVlcihyZW1vdGVQZWVyOiBSZW1vdGVQZWVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHJlbW90ZVBlZXIuaGFzUm9sZShSb2xlVHlwZS5TSUdOQUwpO1xuICB9XG59XG4iLCJpbXBvcnQge1JlbW90ZVBlZXJ9IGZyb20gJy4uL3BlZXIvcmVtb3RlLXBlZXInO1xuaW1wb3J0IHtJUm9sZSwgSVRhc2tTY2hlZHVsZSwgUm9sZVR5cGUsIFRhc2tQaGFzZX0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtBYnN0cmFjdFJvbGV9IGZyb20gJy4vcm9sZSc7XG5pbXBvcnQge2RlZ3JhZGVUb1BlZXJ9IGZyb20gJy4vdGFzay9kZWdyYWRlLXRvLXBlZXInO1xuaW1wb3J0IHtwdWJsaXNoU2lnbmFsQW5kUm91dGVyVXBkYXRlfSBmcm9tICcuL3Rhc2svcHVibGlzaC1zaWduYWwtYW5kLXJvdXRlci11cGRhdGUnO1xuaW1wb3J0IHtzZW5kUm91dGVyQWxpdmV9IGZyb20gJy4vdGFzay9zZW5kLXJvdXRlci1hbGl2ZSc7XG5cbmV4cG9ydCBjbGFzcyBSb3V0ZXIgZXh0ZW5kcyBBYnN0cmFjdFJvbGUgaW1wbGVtZW50cyBJUm9sZSB7XG5cbiAgcHJpdmF0ZSBfc2VxdWVuY2VOdW1iZXIgPSAxO1xuXG4gIHB1YmxpYyBnZXRUYXNrU2NoZWR1bGUoKTogQXJyYXk8SVRhc2tTY2hlZHVsZT4ge1xuICAgIHJldHVybiBbXG4gICAgICB7cGhhc2U6IFRhc2tQaGFzZS5DTEVBTiwgaW50ZXJ2YWw6IDEsIHRhc2s6IGRlZ3JhZGVUb1BlZXJ9LFxuXG4gICAgICB7cGhhc2U6IFRhc2tQaGFzZS5QVUJMSVNILCBpbnRlcnZhbDogNCwgdGFzazogcHVibGlzaFNpZ25hbEFuZFJvdXRlclVwZGF0ZX0sXG4gICAgICB7cGhhc2U6IFRhc2tQaGFzZS5QVUJMSVNILCBpbnRlcnZhbDogNCwgdGFzazogc2VuZFJvdXRlckFsaXZlfVxuICAgIF07XG4gIH1cblxuICBwdWJsaWMgcmVxdWlyZXNQZWVyKHJlbW90ZVBlZXI6IFJlbW90ZVBlZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gcmVtb3RlUGVlci5oYXNSb2xlKFJvbGVUeXBlLlNJR05BTCk7XG4gIH1cblxuICBwdWJsaWMgbmV4dFNlcXVlbmNlTnVtYmVyKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3NlcXVlbmNlTnVtYmVyKys7XG4gIH1cbn1cbiIsImltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi4vbWVzc2FnZS9tZXNzYWdlJztcbmltcG9ydCB7TWl0b3Npc30gZnJvbSAnLi4vbWl0b3Npcyc7XG5pbXBvcnQge1JlbW90ZVBlZXJ9IGZyb20gJy4uL3BlZXIvcmVtb3RlLXBlZXInO1xuaW1wb3J0IHtJUm9sZSwgSVRhc2tTY2hlZHVsZSwgUm9sZVR5cGUsIFRhc2tQaGFzZX0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtBYnN0cmFjdFJvbGV9IGZyb20gJy4vcm9sZSc7XG5pbXBvcnQge29uYm9hcmROZXdiaWV9IGZyb20gJy4vdGFzay9vbmJvYXJkLW5ld2JpZSc7XG5pbXBvcnQge3B1Ymxpc2hTaWduYWxBbmRSb3V0ZXJVcGRhdGV9IGZyb20gJy4vdGFzay9wdWJsaXNoLXNpZ25hbC1hbmQtcm91dGVyLXVwZGF0ZSc7XG5cbmV4cG9ydCBjbGFzcyBTaWduYWwgZXh0ZW5kcyBBYnN0cmFjdFJvbGUgaW1wbGVtZW50cyBJUm9sZSB7XG5cbiAgcHVibGljIGdldFRhc2tTY2hlZHVsZSgpOiBBcnJheTxJVGFza1NjaGVkdWxlPiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtwaGFzZTogVGFza1BoYXNlLlBVQkxJU0gsIGludGVydmFsOiA0LCB0YXNrOiBwdWJsaXNoU2lnbmFsQW5kUm91dGVyVXBkYXRlfVxuICAgIF07XG4gIH1cblxuICBwdWJsaWMgb25NZXNzYWdlKG1pdG9zaXM6IE1pdG9zaXMsIG1lc3NhZ2U6IE1lc3NhZ2UpOiB2b2lkIHtcbiAgICBvbmJvYXJkTmV3YmllKG1pdG9zaXMsIG1lc3NhZ2UpO1xuICB9XG5cbiAgcHVibGljIHJlcXVpcmVzUGVlcihyZW1vdGVQZWVyOiBSZW1vdGVQZWVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHJlbW90ZVBlZXIuaGFzUm9sZShSb2xlVHlwZS5ST1VURVIpO1xuICB9XG59XG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApXHJcbiAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi9PYnNlcnZlcic7XG5pbXBvcnQgeyBPYnNlcnZlciwgUGFydGlhbE9ic2VydmVyLCBUZWFyZG93bkxvZ2ljIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcblxuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSB7QGxpbmsgT2JzZXJ2ZXJ9IGludGVyZmFjZSBhbmQgZXh0ZW5kcyB0aGVcbiAqIHtAbGluayBTdWJzY3JpcHRpb259IGNsYXNzLiBXaGlsZSB0aGUge0BsaW5rIE9ic2VydmVyfSBpcyB0aGUgcHVibGljIEFQSSBmb3JcbiAqIGNvbnN1bWluZyB0aGUgdmFsdWVzIG9mIGFuIHtAbGluayBPYnNlcnZhYmxlfSwgYWxsIE9ic2VydmVycyBnZXQgY29udmVydGVkIHRvXG4gKiBhIFN1YnNjcmliZXIsIGluIG9yZGVyIHRvIHByb3ZpZGUgU3Vic2NyaXB0aW9uLWxpa2UgY2FwYWJpbGl0aWVzIHN1Y2ggYXNcbiAqIGB1bnN1YnNjcmliZWAuIFN1YnNjcmliZXIgaXMgYSBjb21tb24gdHlwZSBpbiBSeEpTLCBhbmQgY3J1Y2lhbCBmb3JcbiAqIGltcGxlbWVudGluZyBvcGVyYXRvcnMsIGJ1dCBpdCBpcyByYXJlbHkgdXNlZCBhcyBhIHB1YmxpYyBBUEkuXG4gKlxuICogQGNsYXNzIFN1YnNjcmliZXI8VD5cbiAqL1xuZXhwb3J0IGNsYXNzIFN1YnNjcmliZXI8VD4gZXh0ZW5kcyBTdWJzY3JpcHRpb24gaW1wbGVtZW50cyBPYnNlcnZlcjxUPiB7XG5cbiAgW3J4U3Vic2NyaWJlclN5bWJvbF0oKSB7IHJldHVybiB0aGlzOyB9XG5cbiAgLyoqXG4gICAqIEEgc3RhdGljIGZhY3RvcnkgZm9yIGEgU3Vic2NyaWJlciwgZ2l2ZW4gYSAocG90ZW50aWFsbHkgcGFydGlhbCkgZGVmaW5pdGlvblxuICAgKiBvZiBhbiBPYnNlcnZlci5cbiAgICogQHBhcmFtIHtmdW5jdGlvbih4OiA/VCk6IHZvaWR9IFtuZXh0XSBUaGUgYG5leHRgIGNhbGxiYWNrIG9mIGFuIE9ic2VydmVyLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGU6ID9hbnkpOiB2b2lkfSBbZXJyb3JdIFRoZSBgZXJyb3JgIGNhbGxiYWNrIG9mIGFuXG4gICAqIE9ic2VydmVyLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6IHZvaWR9IFtjb21wbGV0ZV0gVGhlIGBjb21wbGV0ZWAgY2FsbGJhY2sgb2YgYW5cbiAgICogT2JzZXJ2ZXIuXG4gICAqIEByZXR1cm4ge1N1YnNjcmliZXI8VD59IEEgU3Vic2NyaWJlciB3cmFwcGluZyB0aGUgKHBhcnRpYWxseSBkZWZpbmVkKVxuICAgKiBPYnNlcnZlciByZXByZXNlbnRlZCBieSB0aGUgZ2l2ZW4gYXJndW1lbnRzLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZTxUPihuZXh0PzogKHg/OiBUKSA9PiB2b2lkLFxuICAgICAgICAgICAgICAgICAgIGVycm9yPzogKGU/OiBhbnkpID0+IHZvaWQsXG4gICAgICAgICAgICAgICAgICAgY29tcGxldGU/OiAoKSA9PiB2b2lkKTogU3Vic2NyaWJlcjxUPiB7XG4gICAgY29uc3Qgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKG5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgc3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi8gc3luY0Vycm9yVmFsdWU6IGFueSA9IG51bGw7XG4gIC8qKiBAaW50ZXJuYWwgKi8gc3luY0Vycm9yVGhyb3duOiBib29sZWFuID0gZmFsc2U7XG4gIC8qKiBAaW50ZXJuYWwgKi8gc3luY0Vycm9yVGhyb3dhYmxlOiBib29sZWFuID0gZmFsc2U7XG5cbiAgcHJvdGVjdGVkIGlzU3RvcHBlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcm90ZWN0ZWQgZGVzdGluYXRpb246IFBhcnRpYWxPYnNlcnZlcjxhbnk+IHwgU3Vic2NyaWJlcjxhbnk+OyAvLyB0aGlzIGBhbnlgIGlzIHRoZSBlc2NhcGUgaGF0Y2ggdG8gZXJhc2UgZXh0cmEgdHlwZSBwYXJhbSAoZS5nLiBSKVxuXG4gIHByaXZhdGUgX3BhcmVudFN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JzZXJ2ZXJ8ZnVuY3Rpb24odmFsdWU6IFQpOiB2b2lkfSBbZGVzdGluYXRpb25Pck5leHRdIEEgcGFydGlhbGx5XG4gICAqIGRlZmluZWQgT2JzZXJ2ZXIgb3IgYSBgbmV4dGAgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oZTogP2FueSk6IHZvaWR9IFtlcnJvcl0gVGhlIGBlcnJvcmAgY2FsbGJhY2sgb2YgYW5cbiAgICogT2JzZXJ2ZXIuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKTogdm9pZH0gW2NvbXBsZXRlXSBUaGUgYGNvbXBsZXRlYCBjYWxsYmFjayBvZiBhblxuICAgKiBPYnNlcnZlci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGRlc3RpbmF0aW9uT3JOZXh0PzogUGFydGlhbE9ic2VydmVyPGFueT4gfCAoKHZhbHVlOiBUKSA9PiB2b2lkKSxcbiAgICAgICAgICAgICAgZXJyb3I/OiAoZT86IGFueSkgPT4gdm9pZCxcbiAgICAgICAgICAgICAgY29tcGxldGU/OiAoKSA9PiB2b2lkKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gZW1wdHlPYnNlcnZlcjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIGlmICghZGVzdGluYXRpb25Pck5leHQpIHtcbiAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gZW1wdHlPYnNlcnZlcjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGRlc3RpbmF0aW9uT3JOZXh0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIGlmIChkZXN0aW5hdGlvbk9yTmV4dCBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gZGVzdGluYXRpb25Pck5leHQuc3luY0Vycm9yVGhyb3dhYmxlO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uT3JOZXh0O1xuICAgICAgICAgICAgZGVzdGluYXRpb25Pck5leHQuYWRkKHRoaXMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyPFQ+KHRoaXMsIDxQYXJ0aWFsT2JzZXJ2ZXI8YW55Pj4gZGVzdGluYXRpb25Pck5leHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyPFQ+KHRoaXMsIDwoKHZhbHVlOiBUKSA9PiB2b2lkKT4gZGVzdGluYXRpb25Pck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUge0BsaW5rIE9ic2VydmVyfSBjYWxsYmFjayB0byByZWNlaXZlIG5vdGlmaWNhdGlvbnMgb2YgdHlwZSBgbmV4dGAgZnJvbVxuICAgKiB0aGUgT2JzZXJ2YWJsZSwgd2l0aCBhIHZhbHVlLiBUaGUgT2JzZXJ2YWJsZSBtYXkgY2FsbCB0aGlzIG1ldGhvZCAwIG9yIG1vcmVcbiAgICogdGltZXMuXG4gICAqIEBwYXJhbSB7VH0gW3ZhbHVlXSBUaGUgYG5leHRgIHZhbHVlLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgbmV4dCh2YWx1ZT86IFQpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICB0aGlzLl9uZXh0KHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhlIHtAbGluayBPYnNlcnZlcn0gY2FsbGJhY2sgdG8gcmVjZWl2ZSBub3RpZmljYXRpb25zIG9mIHR5cGUgYGVycm9yYCBmcm9tXG4gICAqIHRoZSBPYnNlcnZhYmxlLCB3aXRoIGFuIGF0dGFjaGVkIGBFcnJvcmAuIE5vdGlmaWVzIHRoZSBPYnNlcnZlciB0aGF0XG4gICAqIHRoZSBPYnNlcnZhYmxlIGhhcyBleHBlcmllbmNlZCBhbiBlcnJvciBjb25kaXRpb24uXG4gICAqIEBwYXJhbSB7YW55fSBbZXJyXSBUaGUgYGVycm9yYCBleGNlcHRpb24uXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBlcnJvcihlcnI/OiBhbnkpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUge0BsaW5rIE9ic2VydmVyfSBjYWxsYmFjayB0byByZWNlaXZlIGEgdmFsdWVsZXNzIG5vdGlmaWNhdGlvbiBvZiB0eXBlXG4gICAqIGBjb21wbGV0ZWAgZnJvbSB0aGUgT2JzZXJ2YWJsZS4gTm90aWZpZXMgdGhlIE9ic2VydmVyIHRoYXQgdGhlIE9ic2VydmFibGVcbiAgICogaGFzIGZpbmlzaGVkIHNlbmRpbmcgcHVzaC1iYXNlZCBub3RpZmljYXRpb25zLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY29tcGxldGUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fY29tcGxldGUoKTtcbiAgICB9XG4gIH1cblxuICB1bnN1YnNjcmliZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgIHN1cGVyLnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgX25leHQodmFsdWU6IFQpOiB2b2lkIHtcbiAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9lcnJvcihlcnI6IGFueSk6IHZvaWQge1xuICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgX2NvbXBsZXRlKCk6IHZvaWQge1xuICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICAvKiogQGRlcHJlY2F0ZWQgVGhpcyBpcyBhbiBpbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UuICovXG4gIF91bnN1YnNjcmliZUFuZFJlY3ljbGUoKTogU3Vic2NyaWJlcjxUPiB7XG4gICAgY29uc3QgeyBfcGFyZW50LCBfcGFyZW50cyB9ID0gdGhpcztcbiAgICB0aGlzLl9wYXJlbnQgPSBudWxsO1xuICAgIHRoaXMuX3BhcmVudHMgPSBudWxsO1xuICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgIHRoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcGFyZW50ID0gX3BhcmVudDtcbiAgICB0aGlzLl9wYXJlbnRzID0gX3BhcmVudHM7XG4gICAgdGhpcy5fcGFyZW50U3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG4vKipcbiAqIFdlIG5lZWQgdGhpcyBKU0RvYyBjb21tZW50IGZvciBhZmZlY3RpbmcgRVNEb2MuXG4gKiBAaWdub3JlXG4gKiBAZXh0ZW5kcyB7SWdub3JlZH1cbiAqL1xuZXhwb3J0IGNsYXNzIFNhZmVTdWJzY3JpYmVyPFQ+IGV4dGVuZHMgU3Vic2NyaWJlcjxUPiB7XG5cbiAgcHJpdmF0ZSBfY29udGV4dDogYW55O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX3BhcmVudFN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4sXG4gICAgICAgICAgICAgIG9ic2VydmVyT3JOZXh0PzogUGFydGlhbE9ic2VydmVyPFQ+IHwgKCh2YWx1ZTogVCkgPT4gdm9pZCksXG4gICAgICAgICAgICAgIGVycm9yPzogKGU/OiBhbnkpID0+IHZvaWQsXG4gICAgICAgICAgICAgIGNvbXBsZXRlPzogKCkgPT4gdm9pZCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICBsZXQgbmV4dDogKCh2YWx1ZTogVCkgPT4gdm9pZCk7XG4gICAgbGV0IGNvbnRleHQ6IGFueSA9IHRoaXM7XG5cbiAgICBpZiAoaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkpIHtcbiAgICAgIG5leHQgPSAoPCgodmFsdWU6IFQpID0+IHZvaWQpPiBvYnNlcnZlck9yTmV4dCk7XG4gICAgfSBlbHNlIGlmIChvYnNlcnZlck9yTmV4dCkge1xuICAgICAgbmV4dCA9ICg8UGFydGlhbE9ic2VydmVyPFQ+PiBvYnNlcnZlck9yTmV4dCkubmV4dDtcbiAgICAgIGVycm9yID0gKDxQYXJ0aWFsT2JzZXJ2ZXI8VD4+IG9ic2VydmVyT3JOZXh0KS5lcnJvcjtcbiAgICAgIGNvbXBsZXRlID0gKDxQYXJ0aWFsT2JzZXJ2ZXI8VD4+IG9ic2VydmVyT3JOZXh0KS5jb21wbGV0ZTtcbiAgICAgIGlmIChvYnNlcnZlck9yTmV4dCAhPT0gZW1wdHlPYnNlcnZlcikge1xuICAgICAgICBjb250ZXh0ID0gT2JqZWN0LmNyZWF0ZShvYnNlcnZlck9yTmV4dCk7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRleHQudW5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgdGhpcy5hZGQoPCgpID0+IHZvaWQ+IGNvbnRleHQudW5zdWJzY3JpYmUuYmluZChjb250ZXh0KSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC51bnN1YnNjcmliZSA9IHRoaXMudW5zdWJzY3JpYmUuYmluZCh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbiAgICB0aGlzLl9uZXh0ID0gbmV4dDtcbiAgICB0aGlzLl9lcnJvciA9IGVycm9yO1xuICAgIHRoaXMuX2NvbXBsZXRlID0gY29tcGxldGU7XG4gIH1cblxuICBuZXh0KHZhbHVlPzogVCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc1N0b3BwZWQgJiYgdGhpcy5fbmV4dCkge1xuICAgICAgY29uc3QgeyBfcGFyZW50U3Vic2NyaWJlciB9ID0gdGhpcztcbiAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9uZXh0LCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB0aGlzLl9uZXh0LCB2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGVycm9yKGVycj86IGFueSk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgIGNvbnN0IHsgX3BhcmVudFN1YnNjcmliZXIgfSA9IHRoaXM7XG4gICAgICBjb25zdCB7IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfSA9IGNvbmZpZztcbiAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICBpZiAoIXVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgdGhpcy5fZXJyb3IsIGVycik7XG4gICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICBpZiAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tcGxldGUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgY29uc3QgeyBfcGFyZW50U3Vic2NyaWJlciB9ID0gdGhpcztcbiAgICAgIGlmICh0aGlzLl9jb21wbGV0ZSkge1xuICAgICAgICBjb25zdCB3cmFwcGVkQ29tcGxldGUgPSAoKSA9PiB0aGlzLl9jb21wbGV0ZS5jYWxsKHRoaXMuX2NvbnRleHQpO1xuXG4gICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHdyYXBwZWRDb21wbGV0ZSk7XG4gICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX190cnlPclVuc3ViKGZuOiBGdW5jdGlvbiwgdmFsdWU/OiBhbnkpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfX3RyeU9yU2V0RXJyb3IocGFyZW50OiBTdWJzY3JpYmVyPFQ+LCBmbjogRnVuY3Rpb24sIHZhbHVlPzogYW55KTogYm9vbGVhbiB7XG4gICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgY2FsbCcpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgcGFyZW50LnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICBwYXJlbnQuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgVGhpcyBpcyBhbiBpbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UuICovXG4gIF91bnN1YnNjcmliZSgpOiB2b2lkIHtcbiAgICBjb25zdCB7IF9wYXJlbnRTdWJzY3JpYmVyIH0gPSB0aGlzO1xuICAgIHRoaXMuX2NvbnRleHQgPSBudWxsO1xuICAgIHRoaXMuX3BhcmVudFN1YnNjcmliZXIgPSBudWxsO1xuICAgIF9wYXJlbnRTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGVycm9yT2JqZWN0IH0gZnJvbSAnLi9lcnJvck9iamVjdCc7XG5cbmxldCB0cnlDYXRjaFRhcmdldDogRnVuY3Rpb247XG5cbmZ1bmN0aW9uIHRyeUNhdGNoZXIodGhpczogYW55KTogYW55IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdHJ5Q2F0Y2hUYXJnZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGVycm9yT2JqZWN0LmUgPSBlO1xuICAgIHJldHVybiBlcnJvck9iamVjdDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJ5Q2F0Y2g8VCBleHRlbmRzIEZ1bmN0aW9uPihmbjogVCk6IFQge1xuICB0cnlDYXRjaFRhcmdldCA9IGZuO1xuICByZXR1cm4gPGFueT50cnlDYXRjaGVyO1xufVxuIiwiZXhwb3J0IGludGVyZmFjZSBVbnN1YnNjcmlwdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICByZWFkb25seSBlcnJvcnM6IGFueVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVuc3Vic2NyaXB0aW9uRXJyb3JDdG9yIHtcbiAgbmV3KGVycm9yczogYW55W10pOiBVbnN1YnNjcmlwdGlvbkVycm9yO1xufVxuXG5mdW5jdGlvbiBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbCh0aGlzOiBhbnksIGVycm9yczogYW55W10pIHtcbiAgRXJyb3IuY2FsbCh0aGlzKTtcbiAgdGhpcy5tZXNzYWdlID0gZXJyb3JzID9cbiAgYCR7ZXJyb3JzLmxlbmd0aH0gZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcbiR7ZXJyb3JzLm1hcCgoZXJyLCBpKSA9PiBgJHtpICsgMX0pICR7ZXJyLnRvU3RyaW5nKCl9YCkuam9pbignXFxuICAnKX1gIDogJyc7XG4gIHRoaXMubmFtZSA9ICdVbnN1YnNjcmlwdGlvbkVycm9yJztcbiAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gIHJldHVybiB0aGlzO1xufVxuXG5VbnN1YnNjcmlwdGlvbkVycm9ySW1wbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5cbi8qKlxuICogQW4gZXJyb3IgdGhyb3duIHdoZW4gb25lIG9yIG1vcmUgZXJyb3JzIGhhdmUgb2NjdXJyZWQgZHVyaW5nIHRoZVxuICogYHVuc3Vic2NyaWJlYCBvZiBhIHtAbGluayBTdWJzY3JpcHRpb259LlxuICovXG5leHBvcnQgY29uc3QgVW5zdWJzY3JpcHRpb25FcnJvcjogVW5zdWJzY3JpcHRpb25FcnJvckN0b3IgPSBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbCBhcyBhbnk7IiwiaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi91dGlsL2lzT2JqZWN0JztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyB0cnlDYXRjaCB9IGZyb20gJy4vdXRpbC90cnlDYXRjaCc7XG5pbXBvcnQgeyBlcnJvck9iamVjdCB9IGZyb20gJy4vdXRpbC9lcnJvck9iamVjdCc7XG5pbXBvcnQgeyBVbnN1YnNjcmlwdGlvbkVycm9yIH0gZnJvbSAnLi91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uTGlrZSwgVGVhcmRvd25Mb2dpYyB9IGZyb20gJy4vdHlwZXMnO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBkaXNwb3NhYmxlIHJlc291cmNlLCBzdWNoIGFzIHRoZSBleGVjdXRpb24gb2YgYW4gT2JzZXJ2YWJsZS4gQVxuICogU3Vic2NyaXB0aW9uIGhhcyBvbmUgaW1wb3J0YW50IG1ldGhvZCwgYHVuc3Vic2NyaWJlYCwgdGhhdCB0YWtlcyBubyBhcmd1bWVudFxuICogYW5kIGp1c3QgZGlzcG9zZXMgdGhlIHJlc291cmNlIGhlbGQgYnkgdGhlIHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBBZGRpdGlvbmFsbHksIHN1YnNjcmlwdGlvbnMgbWF5IGJlIGdyb3VwZWQgdG9nZXRoZXIgdGhyb3VnaCB0aGUgYGFkZCgpYFxuICogbWV0aG9kLCB3aGljaCB3aWxsIGF0dGFjaCBhIGNoaWxkIFN1YnNjcmlwdGlvbiB0byB0aGUgY3VycmVudCBTdWJzY3JpcHRpb24uXG4gKiBXaGVuIGEgU3Vic2NyaXB0aW9uIGlzIHVuc3Vic2NyaWJlZCwgYWxsIGl0cyBjaGlsZHJlbiAoYW5kIGl0cyBncmFuZGNoaWxkcmVuKVxuICogd2lsbCBiZSB1bnN1YnNjcmliZWQgYXMgd2VsbC5cbiAqXG4gKiBAY2xhc3MgU3Vic2NyaXB0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBTdWJzY3JpcHRpb24gaW1wbGVtZW50cyBTdWJzY3JpcHRpb25MaWtlIHtcbiAgLyoqIEBub2NvbGxhcHNlICovXG4gIHB1YmxpYyBzdGF0aWMgRU1QVFk6IFN1YnNjcmlwdGlvbiA9IChmdW5jdGlvbihlbXB0eTogYW55KSB7XG4gICAgZW1wdHkuY2xvc2VkID0gdHJ1ZTtcbiAgICByZXR1cm4gZW1wdHk7XG4gIH0obmV3IFN1YnNjcmlwdGlvbigpKSk7XG5cbiAgLyoqXG4gICAqIEEgZmxhZyB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoaXMgU3Vic2NyaXB0aW9uIGhhcyBhbHJlYWR5IGJlZW4gdW5zdWJzY3JpYmVkLlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIHB1YmxpYyBjbG9zZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKiogQGludGVybmFsICovXG4gIHByb3RlY3RlZCBfcGFyZW50OiBTdWJzY3JpcHRpb24gPSBudWxsO1xuICAvKiogQGludGVybmFsICovXG4gIHByb3RlY3RlZCBfcGFyZW50czogU3Vic2NyaXB0aW9uW10gPSBudWxsO1xuICAvKiogQGludGVybmFsICovXG4gIHByaXZhdGUgX3N1YnNjcmlwdGlvbnM6IFN1YnNjcmlwdGlvbkxpa2VbXSA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKTogdm9pZH0gW3Vuc3Vic2NyaWJlXSBBIGZ1bmN0aW9uIGRlc2NyaWJpbmcgaG93IHRvXG4gICAqIHBlcmZvcm0gdGhlIGRpc3Bvc2FsIG9mIHJlc291cmNlcyB3aGVuIHRoZSBgdW5zdWJzY3JpYmVgIG1ldGhvZCBpcyBjYWxsZWQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih1bnN1YnNjcmliZT86ICgpID0+IHZvaWQpIHtcbiAgICBpZiAodW5zdWJzY3JpYmUpIHtcbiAgICAgICg8YW55PiB0aGlzKS5fdW5zdWJzY3JpYmUgPSB1bnN1YnNjcmliZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzcG9zZXMgdGhlIHJlc291cmNlcyBoZWxkIGJ5IHRoZSBzdWJzY3JpcHRpb24uIE1heSwgZm9yIGluc3RhbmNlLCBjYW5jZWxcbiAgICogYW4gb25nb2luZyBPYnNlcnZhYmxlIGV4ZWN1dGlvbiBvciBjYW5jZWwgYW55IG90aGVyIHR5cGUgb2Ygd29yayB0aGF0XG4gICAqIHN0YXJ0ZWQgd2hlbiB0aGUgU3Vic2NyaXB0aW9uIHdhcyBjcmVhdGVkLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgdW5zdWJzY3JpYmUoKTogdm9pZCB7XG4gICAgbGV0IGhhc0Vycm9ycyA9IGZhbHNlO1xuICAgIGxldCBlcnJvcnM6IGFueVtdO1xuXG4gICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHsgX3BhcmVudCwgX3BhcmVudHMsIF91bnN1YnNjcmliZSwgX3N1YnNjcmlwdGlvbnMgfSA9ICg8YW55PiB0aGlzKTtcblxuICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICB0aGlzLl9wYXJlbnQgPSBudWxsO1xuICAgIHRoaXMuX3BhcmVudHMgPSBudWxsO1xuICAgIC8vIG51bGwgb3V0IF9zdWJzY3JpcHRpb25zIGZpcnN0IHNvIGFueSBjaGlsZCBzdWJzY3JpcHRpb25zIHRoYXQgYXR0ZW1wdFxuICAgIC8vIHRvIHJlbW92ZSB0aGVtc2VsdmVzIGZyb20gdGhpcyBzdWJzY3JpcHRpb24gd2lsbCBub29wXG4gICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IG51bGw7XG5cbiAgICBsZXQgaW5kZXggPSAtMTtcbiAgICBsZXQgbGVuID0gX3BhcmVudHMgPyBfcGFyZW50cy5sZW5ndGggOiAwO1xuXG4gICAgLy8gaWYgdGhpcy5fcGFyZW50IGlzIG51bGwsIHRoZW4gc28gaXMgdGhpcy5fcGFyZW50cywgYW5kIHdlXG4gICAgLy8gZG9uJ3QgaGF2ZSB0byByZW1vdmUgb3Vyc2VsdmVzIGZyb20gYW55IHBhcmVudCBzdWJzY3JpcHRpb25zLlxuICAgIHdoaWxlIChfcGFyZW50KSB7XG4gICAgICBfcGFyZW50LnJlbW92ZSh0aGlzKTtcbiAgICAgIC8vIGlmIHRoaXMuX3BhcmVudHMgaXMgbnVsbCBvciBpbmRleCA+PSBsZW4sXG4gICAgICAvLyB0aGVuIF9wYXJlbnQgaXMgc2V0IHRvIG51bGwsIGFuZCB0aGUgbG9vcCBleGl0c1xuICAgICAgX3BhcmVudCA9ICsraW5kZXggPCBsZW4gJiYgX3BhcmVudHNbaW5kZXhdIHx8IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGlzRnVuY3Rpb24oX3Vuc3Vic2NyaWJlKSkge1xuICAgICAgbGV0IHRyaWFsID0gdHJ5Q2F0Y2goX3Vuc3Vic2NyaWJlKS5jYWxsKHRoaXMpO1xuICAgICAgaWYgKHRyaWFsID09PSBlcnJvck9iamVjdCkge1xuICAgICAgICBoYXNFcnJvcnMgPSB0cnVlO1xuICAgICAgICBlcnJvcnMgPSBlcnJvcnMgfHwgKFxuICAgICAgICAgIGVycm9yT2JqZWN0LmUgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yID9cbiAgICAgICAgICAgIGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlcnJvck9iamVjdC5lLmVycm9ycykgOiBbZXJyb3JPYmplY3QuZV1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheShfc3Vic2NyaXB0aW9ucykpIHtcblxuICAgICAgaW5kZXggPSAtMTtcbiAgICAgIGxlbiA9IF9zdWJzY3JpcHRpb25zLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW4pIHtcbiAgICAgICAgY29uc3Qgc3ViID0gX3N1YnNjcmlwdGlvbnNbaW5kZXhdO1xuICAgICAgICBpZiAoaXNPYmplY3Qoc3ViKSkge1xuICAgICAgICAgIGxldCB0cmlhbCA9IHRyeUNhdGNoKHN1Yi51bnN1YnNjcmliZSkuY2FsbChzdWIpO1xuICAgICAgICAgIGlmICh0cmlhbCA9PT0gZXJyb3JPYmplY3QpIHtcbiAgICAgICAgICAgIGhhc0Vycm9ycyA9IHRydWU7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gICAgICAgICAgICBsZXQgZXJyID0gZXJyb3JPYmplY3QuZTtcbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGVyci5lcnJvcnMpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGVycm9ycy5wdXNoKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGhhc0Vycm9ycykge1xuICAgICAgdGhyb3cgbmV3IFVuc3Vic2NyaXB0aW9uRXJyb3IoZXJyb3JzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIHRlYXIgZG93biB0byBiZSBjYWxsZWQgZHVyaW5nIHRoZSB1bnN1YnNjcmliZSgpIG9mIHRoaXNcbiAgICogU3Vic2NyaXB0aW9uLlxuICAgKlxuICAgKiBJZiB0aGUgdGVhciBkb3duIGJlaW5nIGFkZGVkIGlzIGEgc3Vic2NyaXB0aW9uIHRoYXQgaXMgYWxyZWFkeVxuICAgKiB1bnN1YnNjcmliZWQsIGlzIHRoZSBzYW1lIHJlZmVyZW5jZSBgYWRkYCBpcyBiZWluZyBjYWxsZWQgb24sIG9yIGlzXG4gICAqIGBTdWJzY3JpcHRpb24uRU1QVFlgLCBpdCB3aWxsIG5vdCBiZSBhZGRlZC5cbiAgICpcbiAgICogSWYgdGhpcyBzdWJzY3JpcHRpb24gaXMgYWxyZWFkeSBpbiBhbiBgY2xvc2VkYCBzdGF0ZSwgdGhlIHBhc3NlZFxuICAgKiB0ZWFyIGRvd24gbG9naWMgd2lsbCBiZSBleGVjdXRlZCBpbW1lZGlhdGVseS5cbiAgICpcbiAgICogQHBhcmFtIHtUZWFyZG93bkxvZ2ljfSB0ZWFyZG93biBUaGUgYWRkaXRpb25hbCBsb2dpYyB0byBleGVjdXRlIG9uXG4gICAqIHRlYXJkb3duLlxuICAgKiBAcmV0dXJuIHtTdWJzY3JpcHRpb259IFJldHVybnMgdGhlIFN1YnNjcmlwdGlvbiB1c2VkIG9yIGNyZWF0ZWQgdG8gYmVcbiAgICogYWRkZWQgdG8gdGhlIGlubmVyIHN1YnNjcmlwdGlvbnMgbGlzdC4gVGhpcyBTdWJzY3JpcHRpb24gY2FuIGJlIHVzZWQgd2l0aFxuICAgKiBgcmVtb3ZlKClgIHRvIHJlbW92ZSB0aGUgcGFzc2VkIHRlYXJkb3duIGxvZ2ljIGZyb20gdGhlIGlubmVyIHN1YnNjcmlwdGlvbnNcbiAgICogbGlzdC5cbiAgICovXG4gIGFkZCh0ZWFyZG93bjogVGVhcmRvd25Mb2dpYyk6IFN1YnNjcmlwdGlvbiB7XG4gICAgaWYgKCF0ZWFyZG93biB8fCAodGVhcmRvd24gPT09IFN1YnNjcmlwdGlvbi5FTVBUWSkpIHtcbiAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgfVxuXG4gICAgaWYgKHRlYXJkb3duID09PSB0aGlzKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBsZXQgc3Vic2NyaXB0aW9uID0gKDxTdWJzY3JpcHRpb24+IHRlYXJkb3duKTtcblxuICAgIHN3aXRjaCAodHlwZW9mIHRlYXJkb3duKSB7XG4gICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oPCgoKSA9PiB2b2lkKSA+IHRlYXJkb3duKTtcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24uY2xvc2VkIHx8IHR5cGVvZiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3Vic2NyaXB0aW9uLl9hZGRQYXJlbnQgIT09ICdmdW5jdGlvbicgLyogcXVhY2sgcXVhY2sgKi8pIHtcbiAgICAgICAgICBjb25zdCB0bXAgPSBzdWJzY3JpcHRpb247XG4gICAgICAgICAgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgIHN1YnNjcmlwdGlvbi5fc3Vic2NyaXB0aW9ucyA9IFt0bXBdO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnJlY29nbml6ZWQgdGVhcmRvd24gJyArIHRlYXJkb3duICsgJyBhZGRlZCB0byBTdWJzY3JpcHRpb24uJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX3N1YnNjcmlwdGlvbnMgfHwgKHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBbXSk7XG5cbiAgICBzdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaXB0aW9uKTtcbiAgICBzdWJzY3JpcHRpb24uX2FkZFBhcmVudCh0aGlzKTtcblxuICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIFN1YnNjcmlwdGlvbiBmcm9tIHRoZSBpbnRlcm5hbCBsaXN0IG9mIHN1YnNjcmlwdGlvbnMgdGhhdCB3aWxsXG4gICAqIHVuc3Vic2NyaWJlIGR1cmluZyB0aGUgdW5zdWJzY3JpYmUgcHJvY2VzcyBvZiB0aGlzIFN1YnNjcmlwdGlvbi5cbiAgICogQHBhcmFtIHtTdWJzY3JpcHRpb259IHN1YnNjcmlwdGlvbiBUaGUgc3Vic2NyaXB0aW9uIHRvIHJlbW92ZS5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHJlbW92ZShzdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbik6IHZvaWQge1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpcHRpb25zO1xuICAgIGlmIChzdWJzY3JpcHRpb25zKSB7XG4gICAgICBjb25zdCBzdWJzY3JpcHRpb25JbmRleCA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihzdWJzY3JpcHRpb24pO1xuICAgICAgaWYgKHN1YnNjcmlwdGlvbkluZGV4ICE9PSAtMSkge1xuICAgICAgICBzdWJzY3JpcHRpb25zLnNwbGljZShzdWJzY3JpcHRpb25JbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcml2YXRlIF9hZGRQYXJlbnQocGFyZW50OiBTdWJzY3JpcHRpb24pIHtcbiAgICBsZXQgeyBfcGFyZW50LCBfcGFyZW50cyB9ID0gdGhpcztcbiAgICBpZiAoIV9wYXJlbnQgfHwgX3BhcmVudCA9PT0gcGFyZW50KSB7XG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgcGFyZW50LCBvciB0aGUgbmV3IHBhcmVudCBpcyB0aGUgc2FtZSBhcyB0aGVcbiAgICAgIC8vIGN1cnJlbnQgcGFyZW50LCB0aGVuIHNldCB0aGlzLl9wYXJlbnQgdG8gdGhlIG5ldyBwYXJlbnQuXG4gICAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XG4gICAgfSBlbHNlIGlmICghX3BhcmVudHMpIHtcbiAgICAgIC8vIElmIHRoZXJlJ3MgYWxyZWFkeSBvbmUgcGFyZW50LCBidXQgbm90IG11bHRpcGxlLCBhbGxvY2F0ZSBhbiBBcnJheSB0b1xuICAgICAgLy8gc3RvcmUgdGhlIHJlc3Qgb2YgdGhlIHBhcmVudCBTdWJzY3JpcHRpb25zLlxuICAgICAgdGhpcy5fcGFyZW50cyA9IFtwYXJlbnRdO1xuICAgIH0gZWxzZSBpZiAoX3BhcmVudHMuaW5kZXhPZihwYXJlbnQpID09PSAtMSkge1xuICAgICAgLy8gT25seSBhZGQgdGhlIG5ldyBwYXJlbnQgdG8gdGhlIF9wYXJlbnRzIGxpc3QgaWYgaXQncyBub3QgYWxyZWFkeSB0aGVyZS5cbiAgICAgIF9wYXJlbnRzLnB1c2gocGFyZW50KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGVycm9yczogYW55W10pIHtcbiByZXR1cm4gZXJyb3JzLnJlZHVjZSgoZXJycywgZXJyKSA9PiBlcnJzLmNvbmNhdCgoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikgPyBlcnIuZXJyb3JzIDogZXJyKSwgW10pO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHg6IGFueSk6IHggaXMgT2JqZWN0IHtcbiAgcmV0dXJuIHggIT0gbnVsbCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCc7XG59XG4iLCJpbXBvcnQgeyBPcGVyYXRvciB9IGZyb20gJy4uL09wZXJhdG9yJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24sIE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgVGVhcmRvd25Mb2dpYyB9IGZyb20gJy4uL3R5cGVzJztcblxuLyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyPFQsIFMgZXh0ZW5kcyBUPihwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gdmFsdWUgaXMgUyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNBcmc/OiBhbnkpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFM+O1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcjxUPihwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0FyZz86IGFueSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcbi8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5cbi8qKlxuICogRmlsdGVyIGl0ZW1zIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGJ5IG9ubHkgZW1pdHRpbmcgdGhvc2UgdGhhdFxuICogc2F0aXNmeSBhIHNwZWNpZmllZCBwcmVkaWNhdGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkxpa2VcbiAqIFtBcnJheS5wcm90b3R5cGUuZmlsdGVyKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZpbHRlciksXG4gKiBpdCBvbmx5IGVtaXRzIGEgdmFsdWUgZnJvbSB0aGUgc291cmNlIGlmIGl0IHBhc3NlcyBhIGNyaXRlcmlvbiBmdW5jdGlvbi48L3NwYW4+XG4gKlxuICogIVtdKGZpbHRlci5wbmcpXG4gKlxuICogU2ltaWxhciB0byB0aGUgd2VsbC1rbm93biBgQXJyYXkucHJvdG90eXBlLmZpbHRlcmAgbWV0aG9kLCB0aGlzIG9wZXJhdG9yXG4gKiB0YWtlcyB2YWx1ZXMgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUsIHBhc3NlcyB0aGVtIHRocm91Z2ggYSBgcHJlZGljYXRlYFxuICogZnVuY3Rpb24gYW5kIG9ubHkgZW1pdHMgdGhvc2UgdmFsdWVzIHRoYXQgeWllbGRlZCBgdHJ1ZWAuXG4gKlxuICogIyMgRXhhbXBsZVxuICogRW1pdCBvbmx5IGNsaWNrIGV2ZW50cyB3aG9zZSB0YXJnZXQgd2FzIGEgRElWIGVsZW1lbnRcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBjbGlja3NPbkRpdnMgPSBjbGlja3MucGlwZShmaWx0ZXIoZXYgPT4gZXYudGFyZ2V0LnRhZ05hbWUgPT09ICdESVYnKSk7XG4gKiBjbGlja3NPbkRpdnMuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZGlzdGluY3R9XG4gKiBAc2VlIHtAbGluayBkaXN0aW5jdFVudGlsQ2hhbmdlZH1cbiAqIEBzZWUge0BsaW5rIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkfVxuICogQHNlZSB7QGxpbmsgaWdub3JlRWxlbWVudHN9XG4gKiBAc2VlIHtAbGluayBwYXJ0aXRpb259XG4gKiBAc2VlIHtAbGluayBza2lwfVxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24odmFsdWU6IFQsIGluZGV4OiBudW1iZXIpOiBib29sZWFufSBwcmVkaWNhdGUgQSBmdW5jdGlvbiB0aGF0XG4gKiBldmFsdWF0ZXMgZWFjaCB2YWx1ZSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS4gSWYgaXQgcmV0dXJucyBgdHJ1ZWAsXG4gKiB0aGUgdmFsdWUgaXMgZW1pdHRlZCwgaWYgYGZhbHNlYCB0aGUgdmFsdWUgaXMgbm90IHBhc3NlZCB0byB0aGUgb3V0cHV0XG4gKiBPYnNlcnZhYmxlLiBUaGUgYGluZGV4YCBwYXJhbWV0ZXIgaXMgdGhlIG51bWJlciBgaWAgZm9yIHRoZSBpLXRoIHNvdXJjZVxuICogZW1pc3Npb24gdGhhdCBoYXMgaGFwcGVuZWQgc2luY2UgdGhlIHN1YnNjcmlwdGlvbiwgc3RhcnRpbmcgZnJvbSB0aGUgbnVtYmVyXG4gKiBgMGAuXG4gKiBAcGFyYW0ge2FueX0gW3RoaXNBcmddIEFuIG9wdGlvbmFsIGFyZ3VtZW50IHRvIGRldGVybWluZSB0aGUgdmFsdWUgb2YgYHRoaXNgXG4gKiBpbiB0aGUgYHByZWRpY2F0ZWAgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIG9mIHZhbHVlcyBmcm9tIHRoZSBzb3VyY2UgdGhhdCB3ZXJlXG4gKiBhbGxvd2VkIGJ5IHRoZSBgcHJlZGljYXRlYCBmdW5jdGlvbi5cbiAqIEBtZXRob2QgZmlsdGVyXG4gKiBAb3duZXIgT2JzZXJ2YWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyPFQ+KHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzQXJnPzogYW55KTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGZpbHRlck9wZXJhdG9yRnVuY3Rpb24oc291cmNlOiBPYnNlcnZhYmxlPFQ+KTogT2JzZXJ2YWJsZTxUPiB7XG4gICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBGaWx0ZXJPcGVyYXRvcihwcmVkaWNhdGUsIHRoaXNBcmcpKTtcbiAgfTtcbn1cblxuY2xhc3MgRmlsdGVyT3BlcmF0b3I8VD4gaW1wbGVtZW50cyBPcGVyYXRvcjxULCBUPiB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IGJvb2xlYW4sXG4gICAgICAgICAgICAgIHByaXZhdGUgdGhpc0FyZz86IGFueSkge1xuICB9XG5cbiAgY2FsbChzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+LCBzb3VyY2U6IGFueSk6IFRlYXJkb3duTG9naWMge1xuICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBGaWx0ZXJTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucHJlZGljYXRlLCB0aGlzLnRoaXNBcmcpKTtcbiAgfVxufVxuXG4vKipcbiAqIFdlIG5lZWQgdGhpcyBKU0RvYyBjb21tZW50IGZvciBhZmZlY3RpbmcgRVNEb2MuXG4gKiBAaWdub3JlXG4gKiBAZXh0ZW5kcyB7SWdub3JlZH1cbiAqL1xuY2xhc3MgRmlsdGVyU3Vic2NyaWJlcjxUPiBleHRlbmRzIFN1YnNjcmliZXI8VD4ge1xuXG4gIGNvdW50OiBudW1iZXIgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKGRlc3RpbmF0aW9uOiBTdWJzY3JpYmVyPFQ+LFxuICAgICAgICAgICAgICBwcml2YXRlIHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuLFxuICAgICAgICAgICAgICBwcml2YXRlIHRoaXNBcmc6IGFueSkge1xuICAgIHN1cGVyKGRlc3RpbmF0aW9uKTtcbiAgfVxuXG4gIC8vIHRoZSB0cnkgY2F0Y2ggYmxvY2sgYmVsb3cgaXMgbGVmdCBzcGVjaWZpY2FsbHkgZm9yXG4gIC8vIG9wdGltaXphdGlvbiBhbmQgcGVyZiByZWFzb25zLiBhIHRyeUNhdGNoZXIgaXMgbm90IG5lY2Vzc2FyeSBoZXJlLlxuICBwcm90ZWN0ZWQgX25leHQodmFsdWU6IFQpIHtcbiAgICBsZXQgcmVzdWx0OiBhbnk7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9IHRoaXMucHJlZGljYXRlLmNhbGwodGhpcy50aGlzQXJnLCB2YWx1ZSwgdGhpcy5jb3VudCsrKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICB9XG4gIH1cbn1cbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIvKiogQGRlcHJlY2F0ZWQgZG8gbm90IHVzZSwgdGhpcyBpcyBubyBsb25nZXIgY2hlY2tlZCBieSBSeEpTIGludGVybmFscyAqL1xuZXhwb3J0IGNvbnN0IHJ4U3Vic2NyaWJlciA9XG4gIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbidcbiAgICA/IFN5bWJvbCgncnhTdWJzY3JpYmVyJylcbiAgICA6ICdAQHJ4U3Vic2NyaWJlcl8nICsgTWF0aC5yYW5kb20oKTtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCB1c2UgcnhTdWJzY3JpYmVyIGluc3RlYWRcbiAqL1xuZXhwb3J0IGNvbnN0ICQkcnhTdWJzY3JpYmVyID0gcnhTdWJzY3JpYmVyO1xuIiwiLyoqXG4gKiBUaHJvd3MgYW4gZXJyb3Igb24gYW5vdGhlciBqb2Igc28gdGhhdCBpdCdzIHBpY2tlZCB1cCBieSB0aGUgcnVudGltZSdzXG4gKiB1bmNhdWdodCBlcnJvciBoYW5kbGluZyBtZWNoYW5pc20uXG4gKiBAcGFyYW0gZXJyIHRoZSBlcnJvciB0byB0aHJvd1xuICovXG5leHBvcnQgZnVuY3Rpb24gaG9zdFJlcG9ydEVycm9yKGVycjogYW55KSB7XG4gIHNldFRpbWVvdXQoKCkgPT4geyB0aHJvdyBlcnI7IH0pO1xufSIsImlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIGEgZHVwbGV4IHN0cmVhbSBpcyBqdXN0IGEgc3RyZWFtIHRoYXQgaXMgYm90aCByZWFkYWJsZSBhbmQgd3JpdGFibGUuXG4vLyBTaW5jZSBKUyBkb2Vzbid0IGhhdmUgbXVsdGlwbGUgcHJvdG90eXBhbCBpbmhlcml0YW5jZSwgdGhpcyBjbGFzc1xuLy8gcHJvdG90eXBhbGx5IGluaGVyaXRzIGZyb20gUmVhZGFibGUsIGFuZCB0aGVuIHBhcmFzaXRpY2FsbHkgZnJvbVxuLy8gV3JpdGFibGUuXG5cbid1c2Ugc3RyaWN0JztcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIHBuYSA9IHJlcXVpcmUoJ3Byb2Nlc3MtbmV4dGljay1hcmdzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKG9iaikge1xuICB2YXIga2V5cyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAga2V5cy5wdXNoKGtleSk7XG4gIH1yZXR1cm4ga2V5cztcbn07XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxubW9kdWxlLmV4cG9ydHMgPSBEdXBsZXg7XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgdXRpbCA9IHJlcXVpcmUoJ2NvcmUtdXRpbC1pcycpO1xudXRpbC5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudmFyIFJlYWRhYmxlID0gcmVxdWlyZSgnLi9fc3RyZWFtX3JlYWRhYmxlJyk7XG52YXIgV3JpdGFibGUgPSByZXF1aXJlKCcuL19zdHJlYW1fd3JpdGFibGUnKTtcblxudXRpbC5pbmhlcml0cyhEdXBsZXgsIFJlYWRhYmxlKTtcblxue1xuICAvLyBhdm9pZCBzY29wZSBjcmVlcCwgdGhlIGtleXMgYXJyYXkgY2FuIHRoZW4gYmUgY29sbGVjdGVkXG4gIHZhciBrZXlzID0gb2JqZWN0S2V5cyhXcml0YWJsZS5wcm90b3R5cGUpO1xuICBmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHtcbiAgICB2YXIgbWV0aG9kID0ga2V5c1t2XTtcbiAgICBpZiAoIUR1cGxleC5wcm90b3R5cGVbbWV0aG9kXSkgRHVwbGV4LnByb3RvdHlwZVttZXRob2RdID0gV3JpdGFibGUucHJvdG90eXBlW21ldGhvZF07XG4gIH1cbn1cblxuZnVuY3Rpb24gRHVwbGV4KG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpIHJldHVybiBuZXcgRHVwbGV4KG9wdGlvbnMpO1xuXG4gIFJlYWRhYmxlLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gIFdyaXRhYmxlLmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5yZWFkYWJsZSA9PT0gZmFsc2UpIHRoaXMucmVhZGFibGUgPSBmYWxzZTtcblxuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLndyaXRhYmxlID09PSBmYWxzZSkgdGhpcy53cml0YWJsZSA9IGZhbHNlO1xuXG4gIHRoaXMuYWxsb3dIYWxmT3BlbiA9IHRydWU7XG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMuYWxsb3dIYWxmT3BlbiA9PT0gZmFsc2UpIHRoaXMuYWxsb3dIYWxmT3BlbiA9IGZhbHNlO1xuXG4gIHRoaXMub25jZSgnZW5kJywgb25lbmQpO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRHVwbGV4LnByb3RvdHlwZSwgJ3dyaXRhYmxlSGlnaFdhdGVyTWFyaycsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgfVxufSk7XG5cbi8vIHRoZSBuby1oYWxmLW9wZW4gZW5mb3JjZXJcbmZ1bmN0aW9uIG9uZW5kKCkge1xuICAvLyBpZiB3ZSBhbGxvdyBoYWxmLW9wZW4gc3RhdGUsIG9yIGlmIHRoZSB3cml0YWJsZSBzaWRlIGVuZGVkLFxuICAvLyB0aGVuIHdlJ3JlIG9rLlxuICBpZiAodGhpcy5hbGxvd0hhbGZPcGVuIHx8IHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQpIHJldHVybjtcblxuICAvLyBubyBtb3JlIGRhdGEgY2FuIGJlIHdyaXR0ZW4uXG4gIC8vIEJ1dCBhbGxvdyBtb3JlIHdyaXRlcyB0byBoYXBwZW4gaW4gdGhpcyB0aWNrLlxuICBwbmEubmV4dFRpY2sob25FbmROVCwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIG9uRW5kTlQoc2VsZikge1xuICBzZWxmLmVuZCgpO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRHVwbGV4LnByb3RvdHlwZSwgJ2Rlc3Ryb3llZCcsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCB8fCB0aGlzLl93cml0YWJsZVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkICYmIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIHdlIGlnbm9yZSB0aGUgdmFsdWUgaWYgdGhlIHN0cmVhbVxuICAgIC8vIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCB5ZXRcbiAgICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuX3dyaXRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIHRoZSB1c2VyIGlzIGV4cGxpY2l0bHlcbiAgICAvLyBtYW5hZ2luZyBkZXN0cm95ZWRcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCA9IHZhbHVlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkID0gdmFsdWU7XG4gIH1cbn0pO1xuXG5EdXBsZXgucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgdGhpcy5wdXNoKG51bGwpO1xuICB0aGlzLmVuZCgpO1xuXG4gIHBuYS5uZXh0VGljayhjYiwgZXJyKTtcbn07IiwiaW1wb3J0IHsgT2JzZXJ2ZXIgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGhvc3RSZXBvcnRFcnJvciB9IGZyb20gJy4vdXRpbC9ob3N0UmVwb3J0RXJyb3InO1xuXG5leHBvcnQgY29uc3QgZW1wdHk6IE9ic2VydmVyPGFueT4gPSB7XG4gIGNsb3NlZDogdHJ1ZSxcbiAgbmV4dCh2YWx1ZTogYW55KTogdm9pZCB7IC8qIG5vb3AgKi99LFxuICBlcnJvcihlcnI6IGFueSk6IHZvaWQge1xuICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0gZWxzZSB7XG4gICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICB9XG4gIH0sXG4gIGNvbXBsZXRlKCk6IHZvaWQgeyAvKm5vb3AqLyB9XG59O1xuIiwiLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgVXNlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogRHVlIHRvIHZhcmlvdXMgYnJvd3NlciBidWdzLCBzb21ldGltZXMgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiB3aWxsIGJlIHVzZWQgZXZlblxuICogd2hlbiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0eXBlZCBhcnJheXMuXG4gKlxuICogTm90ZTpcbiAqXG4gKiAgIC0gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAgaW5zdGFuY2VzLFxuICogICAgIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4LlxuICpcbiAqICAgLSBDaHJvbWUgOS0xMCBpcyBtaXNzaW5nIHRoZSBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uLlxuICpcbiAqICAgLSBJRTEwIGhhcyBhIGJyb2tlbiBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYXJyYXlzIG9mXG4gKiAgICAgaW5jb3JyZWN0IGxlbmd0aCBpbiBzb21lIHNpdHVhdGlvbnMuXG5cbiAqIFdlIGRldGVjdCB0aGVzZSBidWdneSBicm93c2VycyBhbmQgc2V0IGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGAgdG8gYGZhbHNlYCBzbyB0aGV5XG4gKiBnZXQgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaXMgc2xvd2VyIGJ1dCBiZWhhdmVzIGNvcnJlY3RseS5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVCAhPT0gdW5kZWZpbmVkXG4gID8gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgOiB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbi8qXG4gKiBFeHBvcnQga01heExlbmd0aCBhZnRlciB0eXBlZCBhcnJheSBzdXBwb3J0IGlzIGRldGVybWluZWQuXG4gKi9cbmV4cG9ydHMua01heExlbmd0aCA9IGtNYXhMZW5ndGgoKVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgYXJyLl9fcHJvdG9fXyA9IHtfX3Byb3RvX186IFVpbnQ4QXJyYXkucHJvdG90eXBlLCBmb286IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH19XG4gICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIgJiYgLy8gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWRcbiAgICAgICAgdHlwZW9mIGFyci5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJyAmJiAvLyBjaHJvbWUgOS0xMCBsYWNrIGBzdWJhcnJheWBcbiAgICAgICAgYXJyLnN1YmFycmF5KDEsIDEpLmJ5dGVMZW5ndGggPT09IDAgLy8gaWUxMCBoYXMgYnJva2VuIGBzdWJhcnJheWBcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIGtNYXhMZW5ndGggKCkge1xuICByZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgICA/IDB4N2ZmZmZmZmZcbiAgICA6IDB4M2ZmZmZmZmZcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyICh0aGF0LCBsZW5ndGgpIHtcbiAgaWYgKGtNYXhMZW5ndGgoKSA8IGxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aCcpXG4gIH1cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgaWYgKHRoYXQgPT09IG51bGwpIHtcbiAgICAgIHRoYXQgPSBuZXcgQnVmZmVyKGxlbmd0aClcbiAgICB9XG4gICAgdGhhdC5sZW5ndGggPSBsZW5ndGhcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogVGhlIEJ1ZmZlciBjb25zdHJ1Y3RvciByZXR1cm5zIGluc3RhbmNlcyBvZiBgVWludDhBcnJheWAgdGhhdCBoYXZlIHRoZWlyXG4gKiBwcm90b3R5cGUgY2hhbmdlZCB0byBgQnVmZmVyLnByb3RvdHlwZWAuIEZ1cnRoZXJtb3JlLCBgQnVmZmVyYCBpcyBhIHN1YmNsYXNzIG9mXG4gKiBgVWludDhBcnJheWAsIHNvIHRoZSByZXR1cm5lZCBpbnN0YW5jZXMgd2lsbCBoYXZlIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBtZXRob2RzXG4gKiBhbmQgdGhlIGBVaW50OEFycmF5YCBtZXRob2RzLiBTcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdFxuICogcmV0dXJucyBhIHNpbmdsZSBvY3RldC5cbiAqXG4gKiBUaGUgYFVpbnQ4QXJyYXlgIHByb3RvdHlwZSByZW1haW5zIHVubW9kaWZpZWQuXG4gKi9cblxuZnVuY3Rpb24gQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmICEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIC8vIENvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZydcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKHRoaXMsIGFyZylcbiAgfVxuICByZXR1cm4gZnJvbSh0aGlzLCBhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbi8vIFRPRE86IExlZ2FjeSwgbm90IG5lZWRlZCBhbnltb3JlLiBSZW1vdmUgaW4gbmV4dCBtYWpvciB2ZXJzaW9uLlxuQnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gKGFycikge1xuICBhcnIuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIGZyb20gKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG4gIH1cblxuICByZXR1cm4gZnJvbU9iamVjdCh0aGF0LCB2YWx1ZSlcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbShudWxsLCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5pZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgQnVmZmVyLnByb3RvdHlwZS5fX3Byb3RvX18gPSBVaW50OEFycmF5LnByb3RvdHlwZVxuICBCdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnNwZWNpZXMgJiZcbiAgICAgIEJ1ZmZlcltTeW1ib2wuc3BlY2llc10gPT09IEJ1ZmZlcikge1xuICAgIC8vIEZpeCBzdWJhcnJheSgpIGluIEVTMjAxNi4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzk3XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlciwgU3ltYm9sLnNwZWNpZXMsIHtcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpXG4gIH1cbn1cblxuZnVuY3Rpb24gYWxsb2MgKHRoYXQsIHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgaWYgKHNpemUgPD0gMCkge1xuICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbiAgfVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT25seSBwYXkgYXR0ZW50aW9uIHRvIGVuY29kaW5nIGlmIGl0J3MgYSBzdHJpbmcuIFRoaXNcbiAgICAvLyBwcmV2ZW50cyBhY2NpZGVudGFsbHkgc2VuZGluZyBpbiBhIG51bWJlciB0aGF0IHdvdWxkXG4gICAgLy8gYmUgaW50ZXJwcmV0dGVkIGFzIGEgc3RhcnQgb2Zmc2V0LlxuICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnXG4gICAgICA/IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgICAgOiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsKVxuICB9XG4gIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pXG4gKiovXG5CdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGFsbG9jKG51bGwsIHNpemUsIGZpbGwsIGVuY29kaW5nKVxufVxuXG5mdW5jdGlvbiBhbGxvY1Vuc2FmZSAodGhhdCwgc2l6ZSkge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSA8IDAgPyAwIDogY2hlY2tlZChzaXplKSB8IDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7ICsraSkge1xuICAgICAgdGhhdFtpXSA9IDBcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIFNsb3dCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuXG5mdW5jdGlvbiBmcm9tU3RyaW5nICh0aGF0LCBzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gIH1cblxuICBpZiAoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJylcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcblxuICB2YXIgYWN0dWFsID0gdGhhdC53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXG4gIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xuICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuICAgIC8vIGNhdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGZpcnN0IGludmFsaWQgY2hhcmFjdGVyIHRvIGJlIGlnbm9yZWQuIChlLmcuXG4gICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXG4gICAgdGhhdCA9IHRoYXQuc2xpY2UoMCwgYWN0dWFsKVxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAodGhhdCwgYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA8IDAgPyAwIDogY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAodGhhdCwgYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBhcnJheS5ieXRlTGVuZ3RoIC8vIHRoaXMgdGhyb3dzIGlmIGBhcnJheWAgaXMgbm90IGEgdmFsaWQgQXJyYXlCdWZmZXJcblxuICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnb2Zmc2V0XFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdsZW5ndGhcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSlcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG4gIH0gZWxzZSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IGFycmF5XG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIHRoYXQgPSBmcm9tQXJyYXlMaWtlKHRoYXQsIGFycmF5KVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21PYmplY3QgKHRoYXQsIG9iaikge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iaikpIHtcbiAgICB2YXIgbGVuID0gY2hlY2tlZChvYmoubGVuZ3RoKSB8IDBcbiAgICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbilcblxuICAgIGlmICh0aGF0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoYXRcbiAgICB9XG5cbiAgICBvYmouY29weSh0aGF0LCAwLCAwLCBsZW4pXG4gICAgcmV0dXJuIHRoYXRcbiAgfVxuXG4gIGlmIChvYmopIHtcbiAgICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fCAnbGVuZ3RoJyBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ251bWJlcicgfHwgaXNuYW4ob2JqLmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCAwKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqKVxuICAgIH1cblxuICAgIGlmIChvYmoudHlwZSA9PT0gJ0J1ZmZlcicgJiYgaXNBcnJheShvYmouZGF0YSkpIHtcbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iai5kYXRhKVxuICAgIH1cbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4nKVxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwga01heExlbmd0aCgpYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IGtNYXhMZW5ndGgoKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBrTWF4TGVuZ3RoKCkudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7XG4gIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgIGxlbmd0aCA9IDBcbiAgfVxuICByZXR1cm4gQnVmZmVyLmFsbG9jKCtsZW5ndGgpXG59XG5cbkJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7XG4gIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpXG59XG5cbkJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihhKSB8fCAhQnVmZmVyLmlzQnVmZmVyKGIpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIG11c3QgYmUgQnVmZmVycycpXG4gIH1cblxuICBpZiAoYSA9PT0gYikgcmV0dXJuIDBcblxuICB2YXIgeCA9IGEubGVuZ3RoXG4gIHZhciB5ID0gYi5sZW5ndGhcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXVxuICAgICAgeSA9IGJbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG5CdWZmZXIuaXNFbmNvZGluZyA9IGZ1bmN0aW9uIGlzRW5jb2RpbmcgKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcbiAgaWYgKCFpc0FycmF5KGxpc3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBCdWZmZXIuYWxsb2MoMClcbiAgfVxuXG4gIHZhciBpXG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGxlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgICAgbGVuZ3RoICs9IGxpc3RbaV0ubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgdmFyIGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpXG4gIHZhciBwb3MgPSAwXG4gIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGJ1ZiA9IGxpc3RbaV1cbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBzdHJpbmcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpIHtcbiAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICBzdHJpbmcgPSAnJyArIHN0cmluZ1xuICB9XG5cbiAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiBsZW4gKiAyXG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gbGVuID4+PiAxXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGggLy8gYXNzdW1lIHV0ZjhcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2Vyc2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGUgcHJvcGVydHkgaXMgdXNlZCBieSBgQnVmZmVyLmlzQnVmZmVyYCBhbmQgYGlzLWJ1ZmZlcmAgKGluIFNhZmFyaSA1LTcpIHRvIGRldGVjdFxuLy8gQnVmZmVyIGluc3RhbmNlcy5cbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIHZhciBpID0gYltuXVxuICBiW25dID0gYlttXVxuICBiW21dID0gaVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbiBzd2FwMzIgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcbiAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfCAwXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJ1xuICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KS5tYXRjaCgvLnsyfS9nKS5qb2luKCcgJylcbiAgICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnXG4gIH1cbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIHZhciB5ID0gZW5kIC0gc3RhcnRcbiAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIHZhciB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAgLy8gQ29lcmNlIHRvIE51bWJlci5cbiAgaWYgKGlzTmFOKGJ5dGVPZmZzZXQpKSB7XG4gICAgLy8gYnl0ZU9mZnNldDogaXQgaXQncyB1bmRlZmluZWQsIG51bGwsIE5hTiwgXCJmb29cIiwgZXRjLCBzZWFyY2ggd2hvbGUgYnVmZmVyXG4gICAgYnl0ZU9mZnNldCA9IGRpciA/IDAgOiAoYnVmZmVyLmxlbmd0aCAtIDEpXG4gIH1cblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldDogbmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoICsgYnl0ZU9mZnNldFxuICBpZiAoYnl0ZU9mZnNldCA+PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgaWYgKGRpcikgcmV0dXJuIC0xXG4gICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDFcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgMCkge1xuICAgIGlmIChkaXIpIGJ5dGVPZmZzZXQgPSAwXG4gICAgZWxzZSByZXR1cm4gLTFcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSB2YWxcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsID0gQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZylcbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNlYXJjaCBlaXRoZXIgaW5kZXhPZiAoaWYgZGlyIGlzIHRydWUpIG9yIGxhc3RJbmRleE9mXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsKSkge1xuICAgIC8vIFNwZWNpYWwgY2FzZTogbG9va2luZyBmb3IgZW1wdHkgc3RyaW5nL2J1ZmZlciBhbHdheXMgZmFpbHNcbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAweEZGIC8vIFNlYXJjaCBmb3IgYSBieXRlIHZhbHVlIFswLTI1NV1cbiAgICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiZcbiAgICAgICAgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgWyB2YWwgXSwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpXG59XG5cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZiAoYXJyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgdmFyIGluZGV4U2l6ZSA9IDFcbiAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGhcbiAgdmFyIHZhbExlbmd0aCA9IHZhbC5sZW5ndGhcblxuICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHwgZW5jb2RpbmcgPT09ICd1Y3MtMicgfHxcbiAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuICAgICAgaWYgKGFyci5sZW5ndGggPCAyIHx8IHZhbC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgICAgaW5kZXhTaXplID0gMlxuICAgICAgYXJyTGVuZ3RoIC89IDJcbiAgICAgIHZhbExlbmd0aCAvPSAyXG4gICAgICBieXRlT2Zmc2V0IC89IDJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFkIChidWYsIGkpIHtcbiAgICBpZiAoaW5kZXhTaXplID09PSAxKSB7XG4gICAgICByZXR1cm4gYnVmW2ldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpXG4gICAgfVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGRpcikge1xuICAgIHZhciBmb3VuZEluZGV4ID0gLTFcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpIDwgYXJyTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWxMZW5ndGgpIHJldHVybiBmb3VuZEluZGV4ICogaW5kZXhTaXplXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXhcbiAgICAgICAgZm91bmRJbmRleCA9IC0xXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBmb3VuZCA9IHRydWVcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHJlYWQoYXJyLCBpICsgaikgIT09IHJlYWQodmFsLCBqKSkge1xuICAgICAgICAgIGZvdW5kID0gZmFsc2VcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpICE9PSAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCB0cnVlKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKVxufVxuXG5mdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDBcbiAgdmFyIHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuXG4gIC8vIG11c3QgYmUgYW4gZXZlbiBudW1iZXIgb2YgZGlnaXRzXG4gIHZhciBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChzdHJMZW4gJSAyICE9PSAwKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKVxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KVxuICAgIGlmIChpc05hTihwYXJzZWQpKSByZXR1cm4gaVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZFxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gbGF0aW4xV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggfCAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgLy8gbGVnYWN5IHdyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldCwgbGVuZ3RoKSAtIHJlbW92ZSBpbiB2MC4xM1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIHZhciByZXMgPSBbXVxuXG4gIHZhciBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgdmFyIGNvZGVQb2ludCA9IG51bGxcbiAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKSA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gM1xuICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRikgPyAyXG4gICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIHZhciBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbnZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgdmFyIHJlcyA9ICcnXG4gIHZhciBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyBieXRlc1tpICsgMV0gKiAyNTYpXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlblxuICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICB9IGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XG4gICAgc3RhcnQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlblxuICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgdmFyIG5ld0J1ZlxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBuZXdCdWYgPSB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpXG4gICAgbmV3QnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICB2YXIgc2xpY2VMZW4gPSBlbmQgLSBzdGFydFxuICAgIG5ld0J1ZiA9IG5ldyBCdWZmZXIoc2xpY2VMZW4sIHVuZGVmaW5lZClcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyArK2kpIHtcbiAgICAgIG5ld0J1ZltpXSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdCdWZcbn1cblxuLypcbiAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuICovXG5mdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkge1xuICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uIHJlYWRVSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRSA9IGZ1bmN0aW9uIHJlYWRVSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIHZhciBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdICogMHgxMDAwMDAwKSArXG4gICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgIHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24gcmVhZEludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoXG4gIHZhciBtdWwgPSAxXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICBpZiAoISh0aGlzW29mZnNldF0gJiAweDgwKSkgcmV0dXJuICh0aGlzW29mZnNldF0pXG4gIHJldHVybiAoKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFID0gZnVuY3Rpb24gcmVhZEludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdKSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10gPDwgMjQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkUgPSBmdW5jdGlvbiByZWFkSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCAyKTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG4gICAgICAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSAqIDhcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQzMiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgNCk7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgPj4+IChsaXR0bGVFbmRpYW4gPyBpIDogMyAtIGkpICogOCkgJiAweGZmXG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gMFxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcbiAgcmV0dXJuIG9mZnNldCArIDhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG4vLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XG4gIGlmICghc3RhcnQpIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCAmJiBlbmQgIT09IDApIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGhcbiAgaWYgKCF0YXJnZXRTdGFydCkgdGFyZ2V0U3RhcnQgPSAwXG4gIGlmIChlbmQgPiAwICYmIGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDBcbiAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cbiAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xuICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICB9XG4gIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG4gIHZhciBpXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG4gICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXG4gICAgZm9yIChpID0gbGVuIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2UgaWYgKGxlbiA8IDEwMDAgfHwgIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gYXNjZW5kaW5nIGNvcHkgZnJvbSBzdGFydFxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICB0YXJnZXQsXG4gICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbiksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoY29kZSA8IDI1Nikge1xuICAgICAgICB2YWwgPSBjb2RlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMjU1XG4gIH1cblxuICAvLyBJbnZhbGlkIHJhbmdlcyBhcmUgbm90IHNldCB0byBhIGRlZmF1bHQsIHNvIGNhbiByYW5nZSBjaGVjayBlYXJseS5cbiAgaWYgKHN0YXJ0IDwgMCB8fCB0aGlzLmxlbmd0aCA8IHN0YXJ0IHx8IHRoaXMubGVuZ3RoIDwgZW5kKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ091dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHN0YXJ0ID0gc3RhcnQgPj4+IDBcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyB0aGlzLmxlbmd0aCA6IGVuZCA+Pj4gMFxuXG4gIGlmICghdmFsKSB2YWwgPSAwXG5cbiAgdmFyIGlcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgdGhpc1tpXSA9IHZhbFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIodmFsKVxuICAgICAgPyB2YWxcbiAgICAgIDogdXRmOFRvQnl0ZXMobmV3IEJ1ZmZlcih2YWwsIGVuY29kaW5nKS50b1N0cmluZygpKVxuICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGhcbiAgICBmb3IgKGkgPSAwOyBpIDwgZW5kIC0gc3RhcnQ7ICsraSkge1xuICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09XG5cbnZhciBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXitcXC8wLTlBLVphLXotX10vZ1xuXG5mdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG4gIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuICBzdHIgPSBzdHJpbmd0cmltKHN0cikucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpXG4gIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJydcbiAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcbiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuICAgIHN0ciA9IHN0ciArICc9J1xuICB9XG4gIHJldHVybiBzdHJcbn1cblxuZnVuY3Rpb24gc3RyaW5ndHJpbSAoc3RyKSB7XG4gIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbn1cblxuZnVuY3Rpb24gdG9IZXggKG4pIHtcbiAgaWYgKG4gPCAxNikgcmV0dXJuICcwJyArIG4udG9TdHJpbmcoMTYpXG4gIHJldHVybiBuLnRvU3RyaW5nKDE2KVxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIHZhciBjb2RlUG9pbnRcbiAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcbiAgdmFyIGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gIHZhciBieXRlcyA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cbiAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHtcbiAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgLy8gbm8gbGVhZCB5ZXRcbiAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWxcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhbGlkIGxlYWRcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3dcbiAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHtcbiAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcbiAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcbiAgICB9IGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgIH1cblxuICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cbiAgICAvLyBlbmNvZGUgdXRmOFxuICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHgxMiB8IDB4RjAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIHZhciBjLCBoaSwgbG9cbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiBpc25hbiAodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IHZhbCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxufVxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5cbmZ1bmN0aW9uIGlzQXJyYXkoYXJnKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJnKTtcbiAgfVxuICByZXR1cm4gb2JqZWN0VG9TdHJpbmcoYXJnKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIG9iamVjdFRvU3RyaW5nKHJlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5leHBvcnRzLmlzUmVnRXhwID0gaXNSZWdFeHA7XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXG5mdW5jdGlvbiBpc0RhdGUoZCkge1xuICByZXR1cm4gb2JqZWN0VG9TdHJpbmcoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuXG5mdW5jdGlvbiBpc0Vycm9yKGUpIHtcbiAgcmV0dXJuIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpO1xufVxuZXhwb3J0cy5pc0Vycm9yID0gaXNFcnJvcjtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbCB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnIHx8ICAvLyBFUzYgc3ltYm9sXG4gICAgICAgICB0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJztcbn1cbmV4cG9ydHMuaXNQcmltaXRpdmUgPSBpc1ByaW1pdGl2ZTtcblxuZXhwb3J0cy5pc0J1ZmZlciA9IEJ1ZmZlci5pc0J1ZmZlcjtcblxuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oeDogYW55KTogeCBpcyBGdW5jdGlvbiB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vZGUvbm8tZGVwcmVjYXRlZC1hcGkgKi9cbnZhciBidWZmZXIgPSByZXF1aXJlKCdidWZmZXInKVxudmFyIEJ1ZmZlciA9IGJ1ZmZlci5CdWZmZXJcblxuLy8gYWx0ZXJuYXRpdmUgdG8gdXNpbmcgT2JqZWN0LmtleXMgZm9yIG9sZCBicm93c2Vyc1xuZnVuY3Rpb24gY29weVByb3BzIChzcmMsIGRzdCkge1xuICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgZHN0W2tleV0gPSBzcmNba2V5XVxuICB9XG59XG5pZiAoQnVmZmVyLmZyb20gJiYgQnVmZmVyLmFsbG9jICYmIEJ1ZmZlci5hbGxvY1Vuc2FmZSAmJiBCdWZmZXIuYWxsb2NVbnNhZmVTbG93KSB7XG4gIG1vZHVsZS5leHBvcnRzID0gYnVmZmVyXG59IGVsc2Uge1xuICAvLyBDb3B5IHByb3BlcnRpZXMgZnJvbSByZXF1aXJlKCdidWZmZXInKVxuICBjb3B5UHJvcHMoYnVmZmVyLCBleHBvcnRzKVxuICBleHBvcnRzLkJ1ZmZlciA9IFNhZmVCdWZmZXJcbn1cblxuZnVuY3Rpb24gU2FmZUJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuLy8gQ29weSBzdGF0aWMgbWV0aG9kcyBmcm9tIEJ1ZmZlclxuY29weVByb3BzKEJ1ZmZlciwgU2FmZUJ1ZmZlcilcblxuU2FmZUJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcbiAgfVxuICByZXR1cm4gQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5TYWZlQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfVxuICB2YXIgYnVmID0gQnVmZmVyKHNpemUpXG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJykge1xuICAgICAgYnVmLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1Zi5maWxsKGZpbGwpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGJ1Zi5maWxsKDApXG4gIH1cbiAgcmV0dXJuIGJ1ZlxufVxuXG5TYWZlQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9XG4gIHJldHVybiBCdWZmZXIoc2l6ZSlcbn1cblxuU2FmZUJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH1cbiAgcmV0dXJuIGJ1ZmZlci5TbG93QnVmZmVyKHNpemUpXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmICghcHJvY2Vzcy52ZXJzaW9uIHx8XG4gICAgcHJvY2Vzcy52ZXJzaW9uLmluZGV4T2YoJ3YwLicpID09PSAwIHx8XG4gICAgcHJvY2Vzcy52ZXJzaW9uLmluZGV4T2YoJ3YxLicpID09PSAwICYmIHByb2Nlc3MudmVyc2lvbi5pbmRleE9mKCd2MS44LicpICE9PSAwKSB7XG4gIG1vZHVsZS5leHBvcnRzID0geyBuZXh0VGljazogbmV4dFRpY2sgfTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcHJvY2Vzc1xufVxuXG5mdW5jdGlvbiBuZXh0VGljayhmbiwgYXJnMSwgYXJnMiwgYXJnMykge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJjYWxsYmFja1wiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG4gIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICB2YXIgYXJncywgaTtcbiAgc3dpdGNoIChsZW4pIHtcbiAgY2FzZSAwOlxuICBjYXNlIDE6XG4gICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZm4pO1xuICBjYXNlIDI6XG4gICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gYWZ0ZXJUaWNrT25lKCkge1xuICAgICAgZm4uY2FsbChudWxsLCBhcmcxKTtcbiAgICB9KTtcbiAgY2FzZSAzOlxuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uIGFmdGVyVGlja1R3bygpIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgYXJnMSwgYXJnMik7XG4gICAgfSk7XG4gIGNhc2UgNDpcbiAgICByZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiBhZnRlclRpY2tUaHJlZSgpIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgYXJnMSwgYXJnMiwgYXJnMyk7XG4gICAgfSk7XG4gIGRlZmF1bHQ6XG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gLSAxKTtcbiAgICBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGFyZ3MubGVuZ3RoKSB7XG4gICAgICBhcmdzW2krK10gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uIGFmdGVyVGljaygpIHtcbiAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgIH0pO1xuICB9XG59XG5cbiIsIm1vZHVsZS5leHBvcnRzID0gUGVlclxuXG52YXIgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzaW1wbGUtcGVlcicpXG52YXIgZ2V0QnJvd3NlclJUQyA9IHJlcXVpcmUoJ2dldC1icm93c2VyLXJ0YycpXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgcmFuZG9tYnl0ZXMgPSByZXF1aXJlKCdyYW5kb21ieXRlcycpXG52YXIgc3RyZWFtID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtJylcblxudmFyIE1BWF9CVUZGRVJFRF9BTU9VTlQgPSA2NCAqIDEwMjRcbnZhciBJQ0VDT01QTEVURV9USU1FT1VUID0gNSAqIDEwMDBcbnZhciBDSEFOTkVMX0NMT1NJTkdfVElNRU9VVCA9IDUgKiAxMDAwXG5cbmluaGVyaXRzKFBlZXIsIHN0cmVhbS5EdXBsZXgpXG5cbi8qKlxuICogV2ViUlRDIHBlZXIgY29ubmVjdGlvbi4gU2FtZSBBUEkgYXMgbm9kZSBjb3JlIGBuZXQuU29ja2V0YCwgcGx1cyBhIGZldyBleHRyYSBtZXRob2RzLlxuICogRHVwbGV4IHN0cmVhbS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gKi9cbmZ1bmN0aW9uIFBlZXIgKG9wdHMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGlmICghKHNlbGYgaW5zdGFuY2VvZiBQZWVyKSkgcmV0dXJuIG5ldyBQZWVyKG9wdHMpXG5cbiAgc2VsZi5faWQgPSByYW5kb21ieXRlcyg0KS50b1N0cmluZygnaGV4Jykuc2xpY2UoMCwgNylcbiAgc2VsZi5fZGVidWcoJ25ldyBwZWVyICVvJywgb3B0cylcblxuICBvcHRzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgYWxsb3dIYWxmT3BlbjogZmFsc2VcbiAgfSwgb3B0cylcblxuICBzdHJlYW0uRHVwbGV4LmNhbGwoc2VsZiwgb3B0cylcblxuICBzZWxmLmNoYW5uZWxOYW1lID0gb3B0cy5pbml0aWF0b3JcbiAgICA/IG9wdHMuY2hhbm5lbE5hbWUgfHwgcmFuZG9tYnl0ZXMoMjApLnRvU3RyaW5nKCdoZXgnKVxuICAgIDogbnVsbFxuXG4gIC8vIE5lZWRlZCBieSBfdHJhbnNmb3JtQ29uc3RyYWludHMsIHNvIHNldCB0aGlzIGVhcmx5XG4gIHNlbGYuX2lzQ2hyb21pdW0gPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAhIXdpbmRvdy53ZWJraXRSVENQZWVyQ29ubmVjdGlvblxuXG4gIHNlbGYuaW5pdGlhdG9yID0gb3B0cy5pbml0aWF0b3IgfHwgZmFsc2VcbiAgc2VsZi5jaGFubmVsQ29uZmlnID0gb3B0cy5jaGFubmVsQ29uZmlnIHx8IFBlZXIuY2hhbm5lbENvbmZpZ1xuICBzZWxmLmNvbmZpZyA9IG9wdHMuY29uZmlnIHx8IFBlZXIuY29uZmlnXG4gIHNlbGYuY29uc3RyYWludHMgPSBzZWxmLl90cmFuc2Zvcm1Db25zdHJhaW50cyhvcHRzLmNvbnN0cmFpbnRzIHx8IFBlZXIuY29uc3RyYWludHMpXG4gIHNlbGYub2ZmZXJDb25zdHJhaW50cyA9IHNlbGYuX3RyYW5zZm9ybUNvbnN0cmFpbnRzKG9wdHMub2ZmZXJDb25zdHJhaW50cyB8fCB7fSlcbiAgc2VsZi5hbnN3ZXJDb25zdHJhaW50cyA9IHNlbGYuX3RyYW5zZm9ybUNvbnN0cmFpbnRzKG9wdHMuYW5zd2VyQ29uc3RyYWludHMgfHwge30pXG4gIHNlbGYuc2RwVHJhbnNmb3JtID0gb3B0cy5zZHBUcmFuc2Zvcm0gfHwgZnVuY3Rpb24gKHNkcCkgeyByZXR1cm4gc2RwIH1cbiAgc2VsZi5zdHJlYW1zID0gb3B0cy5zdHJlYW1zIHx8IChvcHRzLnN0cmVhbSA/IFtvcHRzLnN0cmVhbV0gOiBbXSkgLy8gc3VwcG9ydCBvbGQgXCJzdHJlYW1cIiBvcHRpb25cbiAgc2VsZi50cmlja2xlID0gb3B0cy50cmlja2xlICE9PSB1bmRlZmluZWQgPyBvcHRzLnRyaWNrbGUgOiB0cnVlXG4gIHNlbGYuYWxsb3dIYWxmVHJpY2tsZSA9IG9wdHMuYWxsb3dIYWxmVHJpY2tsZSAhPT0gdW5kZWZpbmVkID8gb3B0cy5hbGxvd0hhbGZUcmlja2xlIDogZmFsc2VcbiAgc2VsZi5pY2VDb21wbGV0ZVRpbWVvdXQgPSBvcHRzLmljZUNvbXBsZXRlVGltZW91dCB8fCBJQ0VDT01QTEVURV9USU1FT1VUXG5cbiAgc2VsZi5kZXN0cm95ZWQgPSBmYWxzZVxuICBzZWxmLmNvbm5lY3RlZCA9IGZhbHNlXG5cbiAgc2VsZi5yZW1vdGVBZGRyZXNzID0gdW5kZWZpbmVkXG4gIHNlbGYucmVtb3RlRmFtaWx5ID0gdW5kZWZpbmVkXG4gIHNlbGYucmVtb3RlUG9ydCA9IHVuZGVmaW5lZFxuICBzZWxmLmxvY2FsQWRkcmVzcyA9IHVuZGVmaW5lZFxuICBzZWxmLmxvY2FsUG9ydCA9IHVuZGVmaW5lZFxuXG4gIHNlbGYuX3dydGMgPSAob3B0cy53cnRjICYmIHR5cGVvZiBvcHRzLndydGMgPT09ICdvYmplY3QnKVxuICAgID8gb3B0cy53cnRjXG4gICAgOiBnZXRCcm93c2VyUlRDKClcblxuICBpZiAoIXNlbGYuX3dydGMpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG1ha2VFcnJvcignTm8gV2ViUlRDIHN1cHBvcnQ6IFNwZWNpZnkgYG9wdHMud3J0Y2Agb3B0aW9uIGluIHRoaXMgZW52aXJvbm1lbnQnLCAnRVJSX1dFQlJUQ19TVVBQT1JUJylcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbWFrZUVycm9yKCdObyBXZWJSVEMgc3VwcG9ydDogTm90IGEgc3VwcG9ydGVkIGJyb3dzZXInLCAnRVJSX1dFQlJUQ19TVVBQT1JUJylcbiAgICB9XG4gIH1cblxuICBzZWxmLl9wY1JlYWR5ID0gZmFsc2VcbiAgc2VsZi5fY2hhbm5lbFJlYWR5ID0gZmFsc2VcbiAgc2VsZi5faWNlQ29tcGxldGUgPSBmYWxzZSAvLyBpY2UgY2FuZGlkYXRlIHRyaWNrbGUgZG9uZSAoZ290IG51bGwgY2FuZGlkYXRlKVxuICBzZWxmLl9pY2VDb21wbGV0ZVRpbWVyID0gbnVsbCAvLyBzZW5kIGFuIG9mZmVyL2Fuc3dlciBhbnl3YXkgYWZ0ZXIgc29tZSB0aW1lb3V0XG4gIHNlbGYuX2NoYW5uZWwgPSBudWxsXG4gIHNlbGYuX3BlbmRpbmdDYW5kaWRhdGVzID0gW11cblxuICBzZWxmLl9pc05lZ290aWF0aW5nID0gIXNlbGYuaW5pdGlhdG9yIC8vIGlzIHRoaXMgcGVlciB3YWl0aW5nIGZvciBuZWdvdGlhdGlvbiB0byBjb21wbGV0ZT9cbiAgc2VsZi5fYmF0Y2hlZE5lZ290aWF0aW9uID0gZmFsc2UgLy8gYmF0Y2ggc3luY2hyb25vdXMgbmVnb3RpYXRpb25zXG4gIHNlbGYuX3F1ZXVlZE5lZ290aWF0aW9uID0gZmFsc2UgLy8gaXMgdGhlcmUgYSBxdWV1ZWQgbmVnb3RpYXRpb24gcmVxdWVzdD9cbiAgc2VsZi5fc2VuZGVyc0F3YWl0aW5nU3RhYmxlID0gW11cbiAgc2VsZi5fc2VuZGVyTWFwID0gbmV3IFdlYWtNYXAoKVxuICBzZWxmLl9maXJzdFN0YWJsZSA9IHRydWVcbiAgc2VsZi5fY2xvc2luZ0ludGVydmFsID0gbnVsbFxuXG4gIHNlbGYuX3JlbW90ZVRyYWNrcyA9IFtdXG4gIHNlbGYuX3JlbW90ZVN0cmVhbXMgPSBbXVxuXG4gIHNlbGYuX2NodW5rID0gbnVsbFxuICBzZWxmLl9jYiA9IG51bGxcbiAgc2VsZi5faW50ZXJ2YWwgPSBudWxsXG5cbiAgc2VsZi5fcGMgPSBuZXcgKHNlbGYuX3dydGMuUlRDUGVlckNvbm5lY3Rpb24pKHNlbGYuY29uZmlnLCBzZWxmLmNvbnN0cmFpbnRzKVxuICBpZiAoc2VsZi5faXNDaHJvbWl1bSB8fCAoc2VsZi5fd3J0YyAmJiBzZWxmLl93cnRjLmVsZWN0cm9uRGFlbW9uKSkgeyAvLyBIQUNLOiBFbGVjdHJvbiBhbmQgQ2hyb21pdW0gbmVlZCBhIHByb21pc2Ugc2hpbVxuICAgIHNoaW1Qcm9taXNlQVBJKHNlbGYuX3dydGMuUlRDUGVlckNvbm5lY3Rpb24sIHNlbGYuX3BjKVxuICB9XG5cbiAgLy8gV2UgcHJlZmVyIGZlYXR1cmUgZGV0ZWN0aW9uIHdoZW5ldmVyIHBvc3NpYmxlLCBidXQgc29tZXRpbWVzIHRoYXQncyBub3RcbiAgLy8gcG9zc2libGUgZm9yIGNlcnRhaW4gaW1wbGVtZW50YXRpb25zLlxuICBzZWxmLl9pc1JlYWN0TmF0aXZlV2VicnRjID0gdHlwZW9mIHNlbGYuX3BjLl9wZWVyQ29ubmVjdGlvbklkID09PSAnbnVtYmVyJ1xuXG4gIHNlbGYuX3BjLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgIHNlbGYuX29uSWNlU3RhdGVDaGFuZ2UoKVxuICB9XG4gIHNlbGYuX3BjLm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5fb25JY2VTdGF0ZUNoYW5nZSgpXG4gIH1cbiAgc2VsZi5fcGMub25zaWduYWxpbmdzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLl9vblNpZ25hbGluZ1N0YXRlQ2hhbmdlKClcbiAgfVxuICBzZWxmLl9wYy5vbmljZWNhbmRpZGF0ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHNlbGYuX29uSWNlQ2FuZGlkYXRlKGV2ZW50KVxuICB9XG5cbiAgLy8gT3RoZXIgc3BlYyBldmVudHMsIHVudXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uOlxuICAvLyAtIG9uY29ubmVjdGlvbnN0YXRlY2hhbmdlXG4gIC8vIC0gb25pY2VjYW5kaWRhdGVlcnJvclxuICAvLyAtIG9uZmluZ2VycHJpbnRmYWlsdXJlXG4gIC8vIC0gb25uZWdvdGlhdGlvbm5lZWRlZFxuXG4gIGlmIChzZWxmLmluaXRpYXRvcikge1xuICAgIHNlbGYuX3NldHVwRGF0YSh7XG4gICAgICBjaGFubmVsOiBzZWxmLl9wYy5jcmVhdGVEYXRhQ2hhbm5lbChzZWxmLmNoYW5uZWxOYW1lLCBzZWxmLmNoYW5uZWxDb25maWcpXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICBzZWxmLl9wYy5vbmRhdGFjaGFubmVsID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBzZWxmLl9zZXR1cERhdGEoZXZlbnQpXG4gICAgfVxuICB9XG5cbiAgaWYgKCdhZGRUcmFjaycgaW4gc2VsZi5fcGMpIHtcbiAgICBpZiAoc2VsZi5zdHJlYW1zKSB7XG4gICAgICBzZWxmLnN0cmVhbXMuZm9yRWFjaChmdW5jdGlvbiAoc3RyZWFtKSB7XG4gICAgICAgIHNlbGYuYWRkU3RyZWFtKHN0cmVhbSlcbiAgICAgIH0pXG4gICAgfVxuICAgIHNlbGYuX3BjLm9udHJhY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHNlbGYuX29uVHJhY2soZXZlbnQpXG4gICAgfVxuICB9XG5cbiAgaWYgKHNlbGYuaW5pdGlhdG9yKSB7XG4gICAgc2VsZi5fbmVlZHNOZWdvdGlhdGlvbigpXG4gIH1cblxuICBzZWxmLl9vbkZpbmlzaEJvdW5kID0gZnVuY3Rpb24gKCkge1xuICAgIHNlbGYuX29uRmluaXNoKClcbiAgfVxuICBzZWxmLm9uY2UoJ2ZpbmlzaCcsIHNlbGYuX29uRmluaXNoQm91bmQpXG59XG5cblBlZXIuV0VCUlRDX1NVUFBPUlQgPSAhIWdldEJyb3dzZXJSVEMoKVxuXG4vKipcbiAqIEV4cG9zZSBjb25maWcsIGNvbnN0cmFpbnRzLCBhbmQgZGF0YSBjaGFubmVsIGNvbmZpZyBmb3Igb3ZlcnJpZGluZyBhbGwgUGVlclxuICogaW5zdGFuY2VzLiBPdGhlcndpc2UsIGp1c3Qgc2V0IG9wdHMuY29uZmlnLCBvcHRzLmNvbnN0cmFpbnRzLCBvciBvcHRzLmNoYW5uZWxDb25maWdcbiAqIHdoZW4gY29uc3RydWN0aW5nIGEgUGVlci5cbiAqL1xuUGVlci5jb25maWcgPSB7XG4gIGljZVNlcnZlcnM6IFtcbiAgICB7XG4gICAgICB1cmxzOiAnc3R1bjpzdHVuLmwuZ29vZ2xlLmNvbToxOTMwMidcbiAgICB9LFxuICAgIHtcbiAgICAgIHVybHM6ICdzdHVuOmdsb2JhbC5zdHVuLnR3aWxpby5jb206MzQ3OD90cmFuc3BvcnQ9dWRwJ1xuICAgIH1cbiAgXVxufVxuUGVlci5jb25zdHJhaW50cyA9IHt9XG5QZWVyLmNoYW5uZWxDb25maWcgPSB7fVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUGVlci5wcm90b3R5cGUsICdidWZmZXJTaXplJywge1xuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICByZXR1cm4gKHNlbGYuX2NoYW5uZWwgJiYgc2VsZi5fY2hhbm5lbC5idWZmZXJlZEFtb3VudCkgfHwgMFxuICB9XG59KVxuXG5QZWVyLnByb3RvdHlwZS5hZGRyZXNzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgcmV0dXJuIHsgcG9ydDogc2VsZi5sb2NhbFBvcnQsIGZhbWlseTogJ0lQdjQnLCBhZGRyZXNzOiBzZWxmLmxvY2FsQWRkcmVzcyB9XG59XG5cblBlZXIucHJvdG90eXBlLnNpZ25hbCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICBpZiAoc2VsZi5kZXN0cm95ZWQpIHRocm93IG1ha2VFcnJvcignY2Fubm90IHNpZ25hbCBhZnRlciBwZWVyIGlzIGRlc3Ryb3llZCcsICdFUlJfU0lHTkFMSU5HJylcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgIHRyeSB7XG4gICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZGF0YSA9IHt9XG4gICAgfVxuICB9XG4gIHNlbGYuX2RlYnVnKCdzaWduYWwoKScpXG5cbiAgaWYgKGRhdGEucmVuZWdvdGlhdGUgJiYgc2VsZi5pbml0aWF0b3IpIHtcbiAgICBzZWxmLl9kZWJ1ZygnZ290IHJlcXVlc3QgdG8gcmVuZWdvdGlhdGUnKVxuICAgIHNlbGYuX25lZWRzTmVnb3RpYXRpb24oKVxuICB9XG4gIGlmIChkYXRhLmNhbmRpZGF0ZSkge1xuICAgIGlmIChzZWxmLl9wYy5yZW1vdGVEZXNjcmlwdGlvbiAmJiBzZWxmLl9wYy5yZW1vdGVEZXNjcmlwdGlvbi50eXBlKSBzZWxmLl9hZGRJY2VDYW5kaWRhdGUoZGF0YS5jYW5kaWRhdGUpXG4gICAgZWxzZSBzZWxmLl9wZW5kaW5nQ2FuZGlkYXRlcy5wdXNoKGRhdGEuY2FuZGlkYXRlKVxuICB9XG4gIGlmIChkYXRhLnNkcCkge1xuICAgIHNlbGYuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyAoc2VsZi5fd3J0Yy5SVENTZXNzaW9uRGVzY3JpcHRpb24pKGRhdGEpKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZWxmLmRlc3Ryb3llZCkgcmV0dXJuXG5cbiAgICAgIHNlbGYuX3BlbmRpbmdDYW5kaWRhdGVzLmZvckVhY2goZnVuY3Rpb24gKGNhbmRpZGF0ZSkge1xuICAgICAgICBzZWxmLl9hZGRJY2VDYW5kaWRhdGUoY2FuZGlkYXRlKVxuICAgICAgfSlcbiAgICAgIHNlbGYuX3BlbmRpbmdDYW5kaWRhdGVzID0gW11cblxuICAgICAgaWYgKHNlbGYuX3BjLnJlbW90ZURlc2NyaXB0aW9uLnR5cGUgPT09ICdvZmZlcicpIHNlbGYuX2NyZWF0ZUFuc3dlcigpXG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgeyBzZWxmLmRlc3Ryb3kobWFrZUVycm9yKGVyciwgJ0VSUl9TRVRfUkVNT1RFX0RFU0NSSVBUSU9OJykpIH0pXG4gIH1cbiAgaWYgKCFkYXRhLnNkcCAmJiAhZGF0YS5jYW5kaWRhdGUgJiYgIWRhdGEucmVuZWdvdGlhdGUpIHtcbiAgICBzZWxmLmRlc3Ryb3kobWFrZUVycm9yKCdzaWduYWwoKSBjYWxsZWQgd2l0aCBpbnZhbGlkIHNpZ25hbCBkYXRhJywgJ0VSUl9TSUdOQUxJTkcnKSlcbiAgfVxufVxuXG5QZWVyLnByb3RvdHlwZS5fYWRkSWNlQ2FuZGlkYXRlID0gZnVuY3Rpb24gKGNhbmRpZGF0ZSkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgdHJ5IHtcbiAgICBzZWxmLl9wYy5hZGRJY2VDYW5kaWRhdGUoXG4gICAgICBuZXcgc2VsZi5fd3J0Yy5SVENJY2VDYW5kaWRhdGUoY2FuZGlkYXRlKSxcbiAgICAgIG5vb3AsXG4gICAgICBmdW5jdGlvbiAoZXJyKSB7IHNlbGYuZGVzdHJveShtYWtlRXJyb3IoZXJyLCAnRVJSX0FERF9JQ0VfQ0FORElEQVRFJykpIH1cbiAgICApXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHNlbGYuZGVzdHJveShtYWtlRXJyb3IoJ2Vycm9yIGFkZGluZyBjYW5kaWRhdGU6ICcgKyBlcnIubWVzc2FnZSwgJ0VSUl9BRERfSUNFX0NBTkRJREFURScpKVxuICB9XG59XG5cbi8qKlxuICogU2VuZCB0ZXh0L2JpbmFyeSBkYXRhIHRvIHRoZSByZW1vdGUgcGVlci5cbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJWaWV3fEFycmF5QnVmZmVyfEJ1ZmZlcnxzdHJpbmd8QmxvYn0gY2h1bmtcbiAqL1xuUGVlci5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChjaHVuaykge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgc2VsZi5fY2hhbm5lbC5zZW5kKGNodW5rKVxufVxuXG4vKipcbiAqIEFkZCBhIE1lZGlhU3RyZWFtIHRvIHRoZSBjb25uZWN0aW9uLlxuICogQHBhcmFtIHtNZWRpYVN0cmVhbX0gc3RyZWFtXG4gKi9cblBlZXIucHJvdG90eXBlLmFkZFN0cmVhbSA9IGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG5cbiAgc2VsZi5fZGVidWcoJ2FkZFN0cmVhbSgpJylcblxuICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICBzZWxmLmFkZFRyYWNrKHRyYWNrLCBzdHJlYW0pXG4gIH0pXG59XG5cbi8qKlxuICogQWRkIGEgTWVkaWFTdHJlYW1UcmFjayB0byB0aGUgY29ubmVjdGlvbi5cbiAqIEBwYXJhbSB7TWVkaWFTdHJlYW1UcmFja30gdHJhY2tcbiAqIEBwYXJhbSB7TWVkaWFTdHJlYW19IHN0cmVhbVxuICovXG5QZWVyLnByb3RvdHlwZS5hZGRUcmFjayA9IGZ1bmN0aW9uICh0cmFjaywgc3RyZWFtKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuXG4gIHNlbGYuX2RlYnVnKCdhZGRUcmFjaygpJylcblxuICB2YXIgc2VuZGVyID0gc2VsZi5fcGMuYWRkVHJhY2sodHJhY2ssIHN0cmVhbSlcbiAgdmFyIHN1Ym1hcCA9IHNlbGYuX3NlbmRlck1hcC5nZXQodHJhY2spIHx8IG5ldyBXZWFrTWFwKCkgLy8gbmVzdGVkIFdlYWtNYXBzIG1hcCBbdHJhY2ssIHN0cmVhbV0gdG8gc2VuZGVyXG4gIHN1Ym1hcC5zZXQoc3RyZWFtLCBzZW5kZXIpXG4gIHNlbGYuX3NlbmRlck1hcC5zZXQodHJhY2ssIHN1Ym1hcClcbiAgc2VsZi5fbmVlZHNOZWdvdGlhdGlvbigpXG59XG5cbi8qKlxuICogUmVwbGFjZSBhIE1lZGlhU3RyZWFtVHJhY2sgYnkgYW5vdGhlciBpbiB0aGUgY29ubmVjdGlvbi5cbiAqIEBwYXJhbSB7TWVkaWFTdHJlYW1UcmFja30gb2xkVHJhY2tcbiAqIEBwYXJhbSB7TWVkaWFTdHJlYW1UcmFja30gbmV3VHJhY2tcbiAqIEBwYXJhbSB7TWVkaWFTdHJlYW19IHN0cmVhbVxuICovXG5QZWVyLnByb3RvdHlwZS5yZXBsYWNlVHJhY2sgPSBhc3luYyBmdW5jdGlvbiAob2xkVHJhY2ssIG5ld1RyYWNrLCBzdHJlYW0pIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG5cbiAgc2VsZi5fZGVidWcoJ3JlcGxhY2VUcmFjaygpJylcblxuICB2YXIgc3VibWFwID0gc2VsZi5fc2VuZGVyTWFwLmdldChvbGRUcmFjaylcbiAgdmFyIHNlbmRlciA9IHN1Ym1hcCA/IHN1Ym1hcC5nZXQoc3RyZWFtKSA6IG51bGxcbiAgaWYgKCFzZW5kZXIpIHtcbiAgICBzZWxmLmRlc3Ryb3kobmV3IEVycm9yKCdDYW5ub3QgcmVwbGFjZSB0cmFjayB0aGF0IHdhcyBuZXZlciBhZGRlZC4nKSlcbiAgfVxuICBpZiAobmV3VHJhY2spIHNlbGYuX3NlbmRlck1hcC5zZXQobmV3VHJhY2ssIHN1Ym1hcClcblxuICBpZiAoc2VuZGVyLnJlcGxhY2VUcmFjayAhPSBudWxsKSB7XG4gICAgYXdhaXQgc2VuZGVyLnJlcGxhY2VUcmFjayhuZXdUcmFjaylcbiAgfSBlbHNlIHtcbiAgICBzZWxmLmRlc3Ryb3kobWFrZUVycm9yKCdyZXBsYWNlVHJhY2sgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXInLCAnRVJSX1VOU1VQUE9SVEVEX1JFUExBQ0VUUkFDSycpKVxuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlIGEgTWVkaWFTdHJlYW1UcmFjayBmcm9tIHRoZSBjb25uZWN0aW9uLlxuICogQHBhcmFtIHtNZWRpYVN0cmVhbVRyYWNrfSB0cmFja1xuICogQHBhcmFtIHtNZWRpYVN0cmVhbX0gc3RyZWFtXG4gKi9cblBlZXIucHJvdG90eXBlLnJlbW92ZVRyYWNrID0gZnVuY3Rpb24gKHRyYWNrLCBzdHJlYW0pIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG5cbiAgc2VsZi5fZGVidWcoJ3JlbW92ZVNlbmRlcigpJylcblxuICB2YXIgc3VibWFwID0gc2VsZi5fc2VuZGVyTWFwLmdldCh0cmFjaylcbiAgdmFyIHNlbmRlciA9IHN1Ym1hcCA/IHN1Ym1hcC5nZXQoc3RyZWFtKSA6IG51bGxcbiAgaWYgKCFzZW5kZXIpIHtcbiAgICBzZWxmLmRlc3Ryb3kobmV3IEVycm9yKCdDYW5ub3QgcmVtb3ZlIHRyYWNrIHRoYXQgd2FzIG5ldmVyIGFkZGVkLicpKVxuICB9XG4gIHRyeSB7XG4gICAgc2VsZi5fcGMucmVtb3ZlVHJhY2soc2VuZGVyKVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBpZiAoZXJyLm5hbWUgPT09ICdOU19FUlJPUl9VTkVYUEVDVEVEJykge1xuICAgICAgc2VsZi5fc2VuZGVyc0F3YWl0aW5nU3RhYmxlLnB1c2goc2VuZGVyKSAvLyBIQUNLOiBGaXJlZm94IG11c3Qgd2FpdCB1bnRpbCAoc2lnbmFsaW5nU3RhdGUgPT09IHN0YWJsZSkgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTEzMzg3NFxuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmRlc3Ryb3koZXJyKVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZSBhIE1lZGlhU3RyZWFtIGZyb20gdGhlIGNvbm5lY3Rpb24uXG4gKiBAcGFyYW0ge01lZGlhU3RyZWFtfSBzdHJlYW1cbiAqL1xuUGVlci5wcm90b3R5cGUucmVtb3ZlU3RyZWFtID0gZnVuY3Rpb24gKHN0cmVhbSkge1xuICB2YXIgc2VsZiA9IHRoaXNcblxuICBzZWxmLl9kZWJ1ZygncmVtb3ZlU2VuZGVycygpJylcblxuICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICBzZWxmLnJlbW92ZVRyYWNrKHRyYWNrLCBzdHJlYW0pXG4gIH0pXG59XG5cblBlZXIucHJvdG90eXBlLl9uZWVkc05lZ290aWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXNcblxuICBzZWxmLl9kZWJ1ZygnX25lZWRzTmVnb3RpYXRpb24nKVxuICBpZiAoc2VsZi5fYmF0Y2hlZE5lZ290aWF0aW9uKSByZXR1cm4gLy8gYmF0Y2ggc3luY2hyb25vdXMgcmVuZWdvdGlhdGlvbnNcbiAgc2VsZi5fYmF0Y2hlZE5lZ290aWF0aW9uID0gdHJ1ZVxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLl9iYXRjaGVkTmVnb3RpYXRpb24gPSBmYWxzZVxuICAgIHNlbGYuX2RlYnVnKCdzdGFydGluZyBiYXRjaGVkIG5lZ290aWF0aW9uJylcbiAgICBzZWxmLm5lZ290aWF0ZSgpXG4gIH0sIDApXG59XG5cblBlZXIucHJvdG90eXBlLm5lZ290aWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG5cbiAgaWYgKHNlbGYuaW5pdGlhdG9yKSB7XG4gICAgaWYgKHNlbGYuX2lzTmVnb3RpYXRpbmcpIHtcbiAgICAgIHNlbGYuX3F1ZXVlZE5lZ290aWF0aW9uID0gdHJ1ZVxuICAgICAgc2VsZi5fZGVidWcoJ2FscmVhZHkgbmVnb3RpYXRpbmcsIHF1ZXVlaW5nJylcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5fZGVidWcoJ3N0YXJ0IG5lZ290aWF0aW9uJylcbiAgICAgIHNlbGYuX2NyZWF0ZU9mZmVyKClcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFzZWxmLl9pc05lZ290aWF0aW5nKSB7XG4gICAgICBzZWxmLl9kZWJ1ZygncmVxdWVzdGluZyBuZWdvdGlhdGlvbiBmcm9tIGluaXRpYXRvcicpXG4gICAgICBzZWxmLmVtaXQoJ3NpZ25hbCcsIHsgLy8gcmVxdWVzdCBpbml0aWF0b3IgdG8gcmVuZWdvdGlhdGVcbiAgICAgICAgcmVuZWdvdGlhdGU6IHRydWVcbiAgICAgIH0pXG4gICAgfVxuICB9XG4gIHNlbGYuX2lzTmVnb3RpYXRpbmcgPSB0cnVlXG59XG5cbi8vIFRPRE86IERlbGV0ZSB0aGlzIG1ldGhvZCBvbmNlIHJlYWRhYmxlLXN0cmVhbSBpcyB1cGRhdGVkIHRvIGNvbnRhaW4gYSBkZWZhdWx0XG4vLyBpbXBsZW1lbnRhdGlvbiBvZiBkZXN0cm95KCkgdGhhdCBhdXRvbWF0aWNhbGx5IGNhbGxzIF9kZXN0cm95KClcbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9yZWFkYWJsZS1zdHJlYW0vaXNzdWVzLzI4M1xuUGVlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIHNlbGYuX2Rlc3Ryb3koZXJyLCBmdW5jdGlvbiAoKSB7fSlcbn1cblxuUGVlci5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoZXJyLCBjYikge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgaWYgKHNlbGYuZGVzdHJveWVkKSByZXR1cm5cblxuICBzZWxmLl9kZWJ1ZygnZGVzdHJveSAoZXJyb3I6ICVzKScsIGVyciAmJiAoZXJyLm1lc3NhZ2UgfHwgZXJyKSlcblxuICBzZWxmLnJlYWRhYmxlID0gc2VsZi53cml0YWJsZSA9IGZhbHNlXG5cbiAgaWYgKCFzZWxmLl9yZWFkYWJsZVN0YXRlLmVuZGVkKSBzZWxmLnB1c2gobnVsbClcbiAgaWYgKCFzZWxmLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkKSBzZWxmLmVuZCgpXG5cbiAgc2VsZi5kZXN0cm95ZWQgPSB0cnVlXG4gIHNlbGYuY29ubmVjdGVkID0gZmFsc2VcbiAgc2VsZi5fcGNSZWFkeSA9IGZhbHNlXG4gIHNlbGYuX2NoYW5uZWxSZWFkeSA9IGZhbHNlXG4gIHNlbGYuX3JlbW90ZVRyYWNrcyA9IG51bGxcbiAgc2VsZi5fcmVtb3RlU3RyZWFtcyA9IG51bGxcbiAgc2VsZi5fc2VuZGVyTWFwID0gbnVsbFxuXG4gIGNsZWFySW50ZXJ2YWwoc2VsZi5fY2xvc2luZ0ludGVydmFsKVxuICBzZWxmLl9jbG9zaW5nSW50ZXJ2YWwgPSBudWxsXG5cbiAgY2xlYXJJbnRlcnZhbChzZWxmLl9pbnRlcnZhbClcbiAgc2VsZi5faW50ZXJ2YWwgPSBudWxsXG4gIHNlbGYuX2NodW5rID0gbnVsbFxuICBzZWxmLl9jYiA9IG51bGxcblxuICBpZiAoc2VsZi5fb25GaW5pc2hCb3VuZCkgc2VsZi5yZW1vdmVMaXN0ZW5lcignZmluaXNoJywgc2VsZi5fb25GaW5pc2hCb3VuZClcbiAgc2VsZi5fb25GaW5pc2hCb3VuZCA9IG51bGxcblxuICBpZiAoc2VsZi5fY2hhbm5lbCkge1xuICAgIHRyeSB7XG4gICAgICBzZWxmLl9jaGFubmVsLmNsb3NlKClcbiAgICB9IGNhdGNoIChlcnIpIHt9XG5cbiAgICBzZWxmLl9jaGFubmVsLm9ubWVzc2FnZSA9IG51bGxcbiAgICBzZWxmLl9jaGFubmVsLm9ub3BlbiA9IG51bGxcbiAgICBzZWxmLl9jaGFubmVsLm9uY2xvc2UgPSBudWxsXG4gICAgc2VsZi5fY2hhbm5lbC5vbmVycm9yID0gbnVsbFxuICB9XG4gIGlmIChzZWxmLl9wYykge1xuICAgIHRyeSB7XG4gICAgICBzZWxmLl9wYy5jbG9zZSgpXG4gICAgfSBjYXRjaCAoZXJyKSB7fVxuXG4gICAgc2VsZi5fcGMub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UgPSBudWxsXG4gICAgc2VsZi5fcGMub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZSA9IG51bGxcbiAgICBzZWxmLl9wYy5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlID0gbnVsbFxuICAgIHNlbGYuX3BjLm9uaWNlY2FuZGlkYXRlID0gbnVsbFxuICAgIGlmICgnYWRkVHJhY2snIGluIHNlbGYuX3BjKSB7XG4gICAgICBzZWxmLl9wYy5vbnRyYWNrID0gbnVsbFxuICAgIH1cbiAgICBzZWxmLl9wYy5vbmRhdGFjaGFubmVsID0gbnVsbFxuICB9XG4gIHNlbGYuX3BjID0gbnVsbFxuICBzZWxmLl9jaGFubmVsID0gbnVsbFxuXG4gIGlmIChlcnIpIHNlbGYuZW1pdCgnZXJyb3InLCBlcnIpXG4gIHNlbGYuZW1pdCgnY2xvc2UnKVxuICBjYigpXG59XG5cblBlZXIucHJvdG90eXBlLl9zZXR1cERhdGEgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGlmICghZXZlbnQuY2hhbm5lbCkge1xuICAgIC8vIEluIHNvbWUgc2l0dWF0aW9ucyBgcGMuY3JlYXRlRGF0YUNoYW5uZWwoKWAgcmV0dXJucyBgdW5kZWZpbmVkYCAoaW4gd3J0YyksXG4gICAgLy8gd2hpY2ggaXMgaW52YWxpZCBiZWhhdmlvci4gSGFuZGxlIGl0IGdyYWNlZnVsbHkuXG4gICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL3NpbXBsZS1wZWVyL2lzc3Vlcy8xNjNcbiAgICByZXR1cm4gc2VsZi5kZXN0cm95KG1ha2VFcnJvcignRGF0YSBjaGFubmVsIGV2ZW50IGlzIG1pc3NpbmcgYGNoYW5uZWxgIHByb3BlcnR5JywgJ0VSUl9EQVRBX0NIQU5ORUwnKSlcbiAgfVxuXG4gIHNlbGYuX2NoYW5uZWwgPSBldmVudC5jaGFubmVsXG4gIHNlbGYuX2NoYW5uZWwuYmluYXJ5VHlwZSA9ICdhcnJheWJ1ZmZlcidcblxuICBpZiAodHlwZW9mIHNlbGYuX2NoYW5uZWwuYnVmZmVyZWRBbW91bnRMb3dUaHJlc2hvbGQgPT09ICdudW1iZXInKSB7XG4gICAgc2VsZi5fY2hhbm5lbC5idWZmZXJlZEFtb3VudExvd1RocmVzaG9sZCA9IE1BWF9CVUZGRVJFRF9BTU9VTlRcbiAgfVxuXG4gIHNlbGYuY2hhbm5lbE5hbWUgPSBzZWxmLl9jaGFubmVsLmxhYmVsXG5cbiAgc2VsZi5fY2hhbm5lbC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBzZWxmLl9vbkNoYW5uZWxNZXNzYWdlKGV2ZW50KVxuICB9XG4gIHNlbGYuX2NoYW5uZWwub25idWZmZXJlZGFtb3VudGxvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLl9vbkNoYW5uZWxCdWZmZXJlZEFtb3VudExvdygpXG4gIH1cbiAgc2VsZi5fY2hhbm5lbC5vbm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5fb25DaGFubmVsT3BlbigpXG4gIH1cbiAgc2VsZi5fY2hhbm5lbC5vbmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgIHNlbGYuX29uQ2hhbm5lbENsb3NlKClcbiAgfVxuICBzZWxmLl9jaGFubmVsLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgc2VsZi5kZXN0cm95KG1ha2VFcnJvcihlcnIsICdFUlJfREFUQV9DSEFOTkVMJykpXG4gIH1cblxuICAvLyBIQUNLOiBDaHJvbWUgd2lsbCBzb21ldGltZXMgZ2V0IHN0dWNrIGluIHJlYWR5U3RhdGUgXCJjbG9zaW5nXCIsIGxldCdzIGNoZWNrIGZvciB0aGlzIGNvbmRpdGlvblxuICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD04ODI3NDNcbiAgdmFyIGlzQ2xvc2luZyA9IGZhbHNlXG4gIHNlbGYuX2Nsb3NpbmdJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsgLy8gTm8gXCJvbmNsb3NpbmdcIiBldmVudFxuICAgIGlmIChzZWxmLl9jaGFubmVsICYmIHNlbGYuX2NoYW5uZWwucmVhZHlTdGF0ZSA9PT0gJ2Nsb3NpbmcnKSB7XG4gICAgICBpZiAoaXNDbG9zaW5nKSBzZWxmLl9vbkNoYW5uZWxDbG9zZSgpIC8vIGNsb3NpbmcgdGltZWQgb3V0OiBlcXVpdmFsZW50IHRvIG9uY2xvc2UgZmlyaW5nXG4gICAgICBpc0Nsb3NpbmcgPSB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIGlzQ2xvc2luZyA9IGZhbHNlXG4gICAgfVxuICB9LCBDSEFOTkVMX0NMT1NJTkdfVElNRU9VVClcbn1cblxuUGVlci5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiAoKSB7fVxuXG5QZWVyLnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgaWYgKHNlbGYuZGVzdHJveWVkKSByZXR1cm4gY2IobWFrZUVycm9yKCdjYW5ub3Qgd3JpdGUgYWZ0ZXIgcGVlciBpcyBkZXN0cm95ZWQnLCAnRVJSX0RBVEFfQ0hBTk5FTCcpKVxuXG4gIGlmIChzZWxmLmNvbm5lY3RlZCkge1xuICAgIHRyeSB7XG4gICAgICBzZWxmLnNlbmQoY2h1bmspXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4gc2VsZi5kZXN0cm95KG1ha2VFcnJvcihlcnIsICdFUlJfREFUQV9DSEFOTkVMJykpXG4gICAgfVxuICAgIGlmIChzZWxmLl9jaGFubmVsLmJ1ZmZlcmVkQW1vdW50ID4gTUFYX0JVRkZFUkVEX0FNT1VOVCkge1xuICAgICAgc2VsZi5fZGVidWcoJ3N0YXJ0IGJhY2twcmVzc3VyZTogYnVmZmVyZWRBbW91bnQgJWQnLCBzZWxmLl9jaGFubmVsLmJ1ZmZlcmVkQW1vdW50KVxuICAgICAgc2VsZi5fY2IgPSBjYlxuICAgIH0gZWxzZSB7XG4gICAgICBjYihudWxsKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzZWxmLl9kZWJ1Zygnd3JpdGUgYmVmb3JlIGNvbm5lY3QnKVxuICAgIHNlbGYuX2NodW5rID0gY2h1bmtcbiAgICBzZWxmLl9jYiA9IGNiXG4gIH1cbn1cblxuLy8gV2hlbiBzdHJlYW0gZmluaXNoZXMgd3JpdGluZywgY2xvc2Ugc29ja2V0LiBIYWxmIG9wZW4gY29ubmVjdGlvbnMgYXJlIG5vdFxuLy8gc3VwcG9ydGVkLlxuUGVlci5wcm90b3R5cGUuX29uRmluaXNoID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgaWYgKHNlbGYuZGVzdHJveWVkKSByZXR1cm5cblxuICBpZiAoc2VsZi5jb25uZWN0ZWQpIHtcbiAgICBkZXN0cm95U29vbigpXG4gIH0gZWxzZSB7XG4gICAgc2VsZi5vbmNlKCdjb25uZWN0JywgZGVzdHJveVNvb24pXG4gIH1cblxuICAvLyBXYWl0IGEgYml0IGJlZm9yZSBkZXN0cm95aW5nIHNvIHRoZSBzb2NrZXQgZmx1c2hlcy5cbiAgLy8gVE9ETzogaXMgdGhlcmUgYSBtb3JlIHJlbGlhYmxlIHdheSB0byBhY2NvbXBsaXNoIHRoaXM/XG4gIGZ1bmN0aW9uIGRlc3Ryb3lTb29uICgpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGYuZGVzdHJveSgpXG4gICAgfSwgMTAwMClcbiAgfVxufVxuXG5QZWVyLnByb3RvdHlwZS5fc3RhcnRJY2VDb21wbGV0ZVRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gIGRlYnVnKCdzdGFydGVkIGljZUNvbXBsZXRlIHRpbWVvdXQnKVxuICB2YXIgc2VsZiA9IHRoaXNcbiAgaWYgKHNlbGYuZGVzdHJveWVkKSByZXR1cm5cbiAgaWYgKHNlbGYuX2ljZUNvbXBsZXRlVGltZXIpIHJldHVyblxuICBzZWxmLl9pY2VDb21wbGV0ZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFzZWxmLl9pY2VDb21wbGV0ZSkge1xuICAgICAgc2VsZi5faWNlQ29tcGxldGUgPSB0cnVlXG4gICAgICBzZWxmLmVtaXQoJ2ljZVRpbWVvdXQnKVxuICAgICAgc2VsZi5lbWl0KCdfaWNlQ29tcGxldGUnKVxuICAgIH1cbiAgfSwgdGhpcy5pY2VDb21wbGV0ZVRpbWVvdXQpXG59XG5cblBlZXIucHJvdG90eXBlLl9jcmVhdGVPZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGlmIChzZWxmLmRlc3Ryb3llZCkgcmV0dXJuXG5cbiAgc2VsZi5fcGMuY3JlYXRlT2ZmZXIoc2VsZi5vZmZlckNvbnN0cmFpbnRzKS50aGVuKGZ1bmN0aW9uIChvZmZlcikge1xuICAgIGlmIChzZWxmLmRlc3Ryb3llZCkgcmV0dXJuXG4gICAgaWYgKCFzZWxmLnRyaWNrbGUgJiYgIXNlbGYuYWxsb3dIYWxmVHJpY2tsZSkgb2ZmZXIuc2RwID0gZmlsdGVyVHJpY2tsZShvZmZlci5zZHApXG4gICAgb2ZmZXIuc2RwID0gc2VsZi5zZHBUcmFuc2Zvcm0ob2ZmZXIuc2RwKVxuICAgIHNlbGYuX3BjLnNldExvY2FsRGVzY3JpcHRpb24ob2ZmZXIpLnRoZW4ob25TdWNjZXNzKS5jYXRjaChvbkVycm9yKVxuXG4gICAgZnVuY3Rpb24gb25TdWNjZXNzICgpIHtcbiAgICAgIHNlbGYuX2RlYnVnKCdjcmVhdGVPZmZlciBzdWNjZXNzJylcbiAgICAgIGlmIChzZWxmLmRlc3Ryb3llZCkgcmV0dXJuXG4gICAgICBpZiAoc2VsZi50cmlja2xlIHx8IHNlbGYuX2ljZUNvbXBsZXRlKSBzZW5kT2ZmZXIoKVxuICAgICAgZWxzZSBzZWxmLm9uY2UoJ19pY2VDb21wbGV0ZScsIHNlbmRPZmZlcikgLy8gd2FpdCBmb3IgY2FuZGlkYXRlc1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uRXJyb3IgKGVycikge1xuICAgICAgc2VsZi5kZXN0cm95KG1ha2VFcnJvcihlcnIsICdFUlJfU0VUX0xPQ0FMX0RFU0NSSVBUSU9OJykpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VuZE9mZmVyICgpIHtcbiAgICAgIGlmIChzZWxmLmRlc3Ryb3llZCkgcmV0dXJuXG4gICAgICB2YXIgc2lnbmFsID0gc2VsZi5fcGMubG9jYWxEZXNjcmlwdGlvbiB8fCBvZmZlclxuICAgICAgc2VsZi5fZGVidWcoJ3NpZ25hbCcpXG4gICAgICBzZWxmLmVtaXQoJ3NpZ25hbCcsIHtcbiAgICAgICAgdHlwZTogc2lnbmFsLnR5cGUsXG4gICAgICAgIHNkcDogc2lnbmFsLnNkcFxuICAgICAgfSlcbiAgICB9XG4gIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsgc2VsZi5kZXN0cm95KG1ha2VFcnJvcihlcnIsICdFUlJfQ1JFQVRFX09GRkVSJykpIH0pXG59XG5cblBlZXIucHJvdG90eXBlLl9jcmVhdGVBbnN3ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICBpZiAoc2VsZi5kZXN0cm95ZWQpIHJldHVyblxuXG4gIHNlbGYuX3BjLmNyZWF0ZUFuc3dlcihzZWxmLmFuc3dlckNvbnN0cmFpbnRzKS50aGVuKGZ1bmN0aW9uIChhbnN3ZXIpIHtcbiAgICBpZiAoc2VsZi5kZXN0cm95ZWQpIHJldHVyblxuICAgIGlmICghc2VsZi50cmlja2xlICYmICFzZWxmLmFsbG93SGFsZlRyaWNrbGUpIGFuc3dlci5zZHAgPSBmaWx0ZXJUcmlja2xlKGFuc3dlci5zZHApXG4gICAgYW5zd2VyLnNkcCA9IHNlbGYuc2RwVHJhbnNmb3JtKGFuc3dlci5zZHApXG4gICAgc2VsZi5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihhbnN3ZXIpLnRoZW4ob25TdWNjZXNzKS5jYXRjaChvbkVycm9yKVxuXG4gICAgZnVuY3Rpb24gb25TdWNjZXNzICgpIHtcbiAgICAgIGlmIChzZWxmLmRlc3Ryb3llZCkgcmV0dXJuXG4gICAgICBpZiAoc2VsZi50cmlja2xlIHx8IHNlbGYuX2ljZUNvbXBsZXRlKSBzZW5kQW5zd2VyKClcbiAgICAgIGVsc2Ugc2VsZi5vbmNlKCdfaWNlQ29tcGxldGUnLCBzZW5kQW5zd2VyKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uRXJyb3IgKGVycikge1xuICAgICAgc2VsZi5kZXN0cm95KG1ha2VFcnJvcihlcnIsICdFUlJfU0VUX0xPQ0FMX0RFU0NSSVBUSU9OJykpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VuZEFuc3dlciAoKSB7XG4gICAgICBpZiAoc2VsZi5kZXN0cm95ZWQpIHJldHVyblxuICAgICAgdmFyIHNpZ25hbCA9IHNlbGYuX3BjLmxvY2FsRGVzY3JpcHRpb24gfHwgYW5zd2VyXG4gICAgICBzZWxmLl9kZWJ1Zygnc2lnbmFsJylcbiAgICAgIHNlbGYuZW1pdCgnc2lnbmFsJywge1xuICAgICAgICB0eXBlOiBzaWduYWwudHlwZSxcbiAgICAgICAgc2RwOiBzaWduYWwuc2RwXG4gICAgICB9KVxuICAgIH1cbiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgeyBzZWxmLmRlc3Ryb3kobWFrZUVycm9yKGVyciwgJ0VSUl9DUkVBVEVfQU5TV0VSJykpIH0pXG59XG5cblBlZXIucHJvdG90eXBlLl9vbkljZVN0YXRlQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgaWYgKHNlbGYuZGVzdHJveWVkKSByZXR1cm5cbiAgdmFyIGljZUNvbm5lY3Rpb25TdGF0ZSA9IHNlbGYuX3BjLmljZUNvbm5lY3Rpb25TdGF0ZVxuICB2YXIgaWNlR2F0aGVyaW5nU3RhdGUgPSBzZWxmLl9wYy5pY2VHYXRoZXJpbmdTdGF0ZVxuXG4gIHNlbGYuX2RlYnVnKFxuICAgICdpY2VTdGF0ZUNoYW5nZSAoY29ubmVjdGlvbjogJXMpIChnYXRoZXJpbmc6ICVzKScsXG4gICAgaWNlQ29ubmVjdGlvblN0YXRlLFxuICAgIGljZUdhdGhlcmluZ1N0YXRlXG4gIClcbiAgc2VsZi5lbWl0KCdpY2VTdGF0ZUNoYW5nZScsIGljZUNvbm5lY3Rpb25TdGF0ZSwgaWNlR2F0aGVyaW5nU3RhdGUpXG5cbiAgaWYgKGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gJ2Nvbm5lY3RlZCcgfHwgaWNlQ29ubmVjdGlvblN0YXRlID09PSAnY29tcGxldGVkJykge1xuICAgIHNlbGYuX3BjUmVhZHkgPSB0cnVlXG4gICAgc2VsZi5fbWF5YmVSZWFkeSgpXG4gIH1cbiAgaWYgKGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gJ2ZhaWxlZCcpIHtcbiAgICBzZWxmLmRlc3Ryb3kobWFrZUVycm9yKCdJY2UgY29ubmVjdGlvbiBmYWlsZWQuJywgJ0VSUl9JQ0VfQ09OTkVDVElPTl9GQUlMVVJFJykpXG4gIH1cbiAgaWYgKGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICBzZWxmLmRlc3Ryb3kobmV3IEVycm9yKCdJY2UgY29ubmVjdGlvbiBjbG9zZWQuJykpXG4gIH1cbn1cblxuUGVlci5wcm90b3R5cGUuZ2V0U3RhdHMgPSBmdW5jdGlvbiAoY2IpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG5cbiAgLy8gUHJvbWlzZS1iYXNlZCBnZXRTdGF0cygpIChzdGFuZGFyZClcbiAgaWYgKHNlbGYuX3BjLmdldFN0YXRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHNlbGYuX3BjLmdldFN0YXRzKCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICB2YXIgcmVwb3J0cyA9IFtdXG4gICAgICByZXMuZm9yRWFjaChmdW5jdGlvbiAocmVwb3J0KSB7XG4gICAgICAgIHJlcG9ydHMucHVzaChyZXBvcnQpXG4gICAgICB9KVxuICAgICAgY2IobnVsbCwgcmVwb3J0cylcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7IGNiKGVycikgfSlcblxuICAvLyBUd28tcGFyYW1ldGVyIGNhbGxiYWNrLWJhc2VkIGdldFN0YXRzKCkgKGRlcHJlY2F0ZWQsIGZvcm1lciBzdGFuZGFyZClcbiAgfSBlbHNlIGlmIChzZWxmLl9pc1JlYWN0TmF0aXZlV2VicnRjKSB7XG4gICAgc2VsZi5fcGMuZ2V0U3RhdHMobnVsbCwgZnVuY3Rpb24gKHJlcykge1xuICAgICAgdmFyIHJlcG9ydHMgPSBbXVxuICAgICAgcmVzLmZvckVhY2goZnVuY3Rpb24gKHJlcG9ydCkge1xuICAgICAgICByZXBvcnRzLnB1c2gocmVwb3J0KVxuICAgICAgfSlcbiAgICAgIGNiKG51bGwsIHJlcG9ydHMpXG4gICAgfSwgZnVuY3Rpb24gKGVycikgeyBjYihlcnIpIH0pXG5cbiAgLy8gU2luZ2xlLXBhcmFtZXRlciBjYWxsYmFjay1iYXNlZCBnZXRTdGF0cygpIChub24tc3RhbmRhcmQpXG4gIH0gZWxzZSBpZiAoc2VsZi5fcGMuZ2V0U3RhdHMubGVuZ3RoID4gMCkge1xuICAgIHNlbGYuX3BjLmdldFN0YXRzKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIC8vIElmIHdlIGRlc3Ryb3kgY29ubmVjdGlvbiBpbiBgY29ubmVjdGAgY2FsbGJhY2sgdGhpcyBjb2RlIG1pZ2h0IGhhcHBlbiB0byBydW4gd2hlbiBhY3R1YWwgY29ubmVjdGlvbiBpcyBhbHJlYWR5IGNsb3NlZFxuICAgICAgaWYgKHNlbGYuZGVzdHJveWVkKSByZXR1cm5cblxuICAgICAgdmFyIHJlcG9ydHMgPSBbXVxuICAgICAgcmVzLnJlc3VsdCgpLmZvckVhY2goZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICB2YXIgcmVwb3J0ID0ge31cbiAgICAgICAgcmVzdWx0Lm5hbWVzKCkuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgIHJlcG9ydFtuYW1lXSA9IHJlc3VsdC5zdGF0KG5hbWUpXG4gICAgICAgIH0pXG4gICAgICAgIHJlcG9ydC5pZCA9IHJlc3VsdC5pZFxuICAgICAgICByZXBvcnQudHlwZSA9IHJlc3VsdC50eXBlXG4gICAgICAgIHJlcG9ydC50aW1lc3RhbXAgPSByZXN1bHQudGltZXN0YW1wXG4gICAgICAgIHJlcG9ydHMucHVzaChyZXBvcnQpXG4gICAgICB9KVxuICAgICAgY2IobnVsbCwgcmVwb3J0cylcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7IGNiKGVycikgfSlcblxuICAvLyBVbmtub3duIGJyb3dzZXIsIHNraXAgZ2V0U3RhdHMoKSBzaW5jZSBpdCdzIGFueW9uZSdzIGd1ZXNzIHdoaWNoIHN0eWxlIG9mXG4gIC8vIGdldFN0YXRzKCkgdGhleSBpbXBsZW1lbnQuXG4gIH0gZWxzZSB7XG4gICAgY2IobnVsbCwgW10pXG4gIH1cbn1cblxuUGVlci5wcm90b3R5cGUuX21heWJlUmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICBzZWxmLl9kZWJ1ZygnbWF5YmVSZWFkeSBwYyAlcyBjaGFubmVsICVzJywgc2VsZi5fcGNSZWFkeSwgc2VsZi5fY2hhbm5lbFJlYWR5KVxuICBpZiAoc2VsZi5jb25uZWN0ZWQgfHwgc2VsZi5fY29ubmVjdGluZyB8fCAhc2VsZi5fcGNSZWFkeSB8fCAhc2VsZi5fY2hhbm5lbFJlYWR5KSByZXR1cm5cblxuICBzZWxmLl9jb25uZWN0aW5nID0gdHJ1ZVxuXG4gIC8vIEhBQ0s6IFdlIGNhbid0IHJlbHkgb24gb3JkZXIgaGVyZSwgZm9yIGRldGFpbHMgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qcy1wbGF0Zm9ybS9ub2RlLXdlYnJ0Yy9pc3N1ZXMvMzM5XG4gIGZ1bmN0aW9uIGZpbmRDYW5kaWRhdGVQYWlyICgpIHtcbiAgICBpZiAoc2VsZi5kZXN0cm95ZWQpIHJldHVyblxuXG4gICAgc2VsZi5nZXRTdGF0cyhmdW5jdGlvbiAoZXJyLCBpdGVtcykge1xuICAgICAgaWYgKHNlbGYuZGVzdHJveWVkKSByZXR1cm5cblxuICAgICAgLy8gVHJlYXQgZ2V0U3RhdHMgZXJyb3IgYXMgbm9uLWZhdGFsLiBJdCdzIG5vdCBlc3NlbnRpYWwuXG4gICAgICBpZiAoZXJyKSBpdGVtcyA9IFtdXG5cbiAgICAgIHZhciByZW1vdGVDYW5kaWRhdGVzID0ge31cbiAgICAgIHZhciBsb2NhbENhbmRpZGF0ZXMgPSB7fVxuICAgICAgdmFyIGNhbmRpZGF0ZVBhaXJzID0ge31cbiAgICAgIHZhciBmb3VuZFNlbGVjdGVkQ2FuZGlkYXRlUGFpciA9IGZhbHNlXG5cbiAgICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgLy8gVE9ETzogT25jZSBhbGwgYnJvd3NlcnMgc3VwcG9ydCB0aGUgaHlwaGVuYXRlZCBzdGF0cyByZXBvcnQgdHlwZXMsIHJlbW92ZVxuICAgICAgICAvLyB0aGUgbm9uLWh5cGVuYXRlZCBvbmVzXG4gICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdyZW1vdGVjYW5kaWRhdGUnIHx8IGl0ZW0udHlwZSA9PT0gJ3JlbW90ZS1jYW5kaWRhdGUnKSB7XG4gICAgICAgICAgcmVtb3RlQ2FuZGlkYXRlc1tpdGVtLmlkXSA9IGl0ZW1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbG9jYWxjYW5kaWRhdGUnIHx8IGl0ZW0udHlwZSA9PT0gJ2xvY2FsLWNhbmRpZGF0ZScpIHtcbiAgICAgICAgICBsb2NhbENhbmRpZGF0ZXNbaXRlbS5pZF0gPSBpdGVtXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2NhbmRpZGF0ZXBhaXInIHx8IGl0ZW0udHlwZSA9PT0gJ2NhbmRpZGF0ZS1wYWlyJykge1xuICAgICAgICAgIGNhbmRpZGF0ZVBhaXJzW2l0ZW0uaWRdID0gaXRlbVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIC8vIFNwZWMtY29tcGxpYW50XG4gICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICd0cmFuc3BvcnQnICYmIGl0ZW0uc2VsZWN0ZWRDYW5kaWRhdGVQYWlySWQpIHtcbiAgICAgICAgICBzZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoY2FuZGlkYXRlUGFpcnNbaXRlbS5zZWxlY3RlZENhbmRpZGF0ZVBhaXJJZF0pXG4gICAgICAgIH1cblxuICAgICAgICAvLyBPbGQgaW1wbGVtZW50YXRpb25zXG4gICAgICAgIGlmIChcbiAgICAgICAgICAoaXRlbS50eXBlID09PSAnZ29vZ0NhbmRpZGF0ZVBhaXInICYmIGl0ZW0uZ29vZ0FjdGl2ZUNvbm5lY3Rpb24gPT09ICd0cnVlJykgfHxcbiAgICAgICAgICAoKGl0ZW0udHlwZSA9PT0gJ2NhbmRpZGF0ZXBhaXInIHx8IGl0ZW0udHlwZSA9PT0gJ2NhbmRpZGF0ZS1wYWlyJykgJiYgaXRlbS5zZWxlY3RlZClcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKGl0ZW0pXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIGZ1bmN0aW9uIHNldFNlbGVjdGVkQ2FuZGlkYXRlUGFpciAoc2VsZWN0ZWRDYW5kaWRhdGVQYWlyKSB7XG4gICAgICAgIGZvdW5kU2VsZWN0ZWRDYW5kaWRhdGVQYWlyID0gdHJ1ZVxuXG4gICAgICAgIHZhciBsb2NhbCA9IGxvY2FsQ2FuZGlkYXRlc1tzZWxlY3RlZENhbmRpZGF0ZVBhaXIubG9jYWxDYW5kaWRhdGVJZF1cblxuICAgICAgICBpZiAobG9jYWwgJiYgbG9jYWwuaXApIHtcbiAgICAgICAgICAvLyBTcGVjXG4gICAgICAgICAgc2VsZi5sb2NhbEFkZHJlc3MgPSBsb2NhbC5pcFxuICAgICAgICAgIHNlbGYubG9jYWxQb3J0ID0gTnVtYmVyKGxvY2FsLnBvcnQpXG4gICAgICAgIH0gZWxzZSBpZiAobG9jYWwgJiYgbG9jYWwuaXBBZGRyZXNzKSB7XG4gICAgICAgICAgLy8gRmlyZWZveFxuICAgICAgICAgIHNlbGYubG9jYWxBZGRyZXNzID0gbG9jYWwuaXBBZGRyZXNzXG4gICAgICAgICAgc2VsZi5sb2NhbFBvcnQgPSBOdW1iZXIobG9jYWwucG9ydE51bWJlcilcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLmdvb2dMb2NhbEFkZHJlc3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgb25jZSBDaHJvbWUgNTggaXMgcmVsZWFzZWRcbiAgICAgICAgICBsb2NhbCA9IHNlbGVjdGVkQ2FuZGlkYXRlUGFpci5nb29nTG9jYWxBZGRyZXNzLnNwbGl0KCc6JylcbiAgICAgICAgICBzZWxmLmxvY2FsQWRkcmVzcyA9IGxvY2FsWzBdXG4gICAgICAgICAgc2VsZi5sb2NhbFBvcnQgPSBOdW1iZXIobG9jYWxbMV0pXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVtb3RlID0gcmVtb3RlQ2FuZGlkYXRlc1tzZWxlY3RlZENhbmRpZGF0ZVBhaXIucmVtb3RlQ2FuZGlkYXRlSWRdXG5cbiAgICAgICAgaWYgKHJlbW90ZSAmJiByZW1vdGUuaXApIHtcbiAgICAgICAgICAvLyBTcGVjXG4gICAgICAgICAgc2VsZi5yZW1vdGVBZGRyZXNzID0gcmVtb3RlLmlwXG4gICAgICAgICAgc2VsZi5yZW1vdGVQb3J0ID0gTnVtYmVyKHJlbW90ZS5wb3J0KVxuICAgICAgICB9IGVsc2UgaWYgKHJlbW90ZSAmJiByZW1vdGUuaXBBZGRyZXNzKSB7XG4gICAgICAgICAgLy8gRmlyZWZveFxuICAgICAgICAgIHNlbGYucmVtb3RlQWRkcmVzcyA9IHJlbW90ZS5pcEFkZHJlc3NcbiAgICAgICAgICBzZWxmLnJlbW90ZVBvcnQgPSBOdW1iZXIocmVtb3RlLnBvcnROdW1iZXIpXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlbGVjdGVkQ2FuZGlkYXRlUGFpci5nb29nUmVtb3RlQWRkcmVzcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAvLyBUT0RPOiByZW1vdmUgdGhpcyBvbmNlIENocm9tZSA1OCBpcyByZWxlYXNlZFxuICAgICAgICAgIHJlbW90ZSA9IHNlbGVjdGVkQ2FuZGlkYXRlUGFpci5nb29nUmVtb3RlQWRkcmVzcy5zcGxpdCgnOicpXG4gICAgICAgICAgc2VsZi5yZW1vdGVBZGRyZXNzID0gcmVtb3RlWzBdXG4gICAgICAgICAgc2VsZi5yZW1vdGVQb3J0ID0gTnVtYmVyKHJlbW90ZVsxXSlcbiAgICAgICAgfVxuICAgICAgICBzZWxmLnJlbW90ZUZhbWlseSA9ICdJUHY0J1xuXG4gICAgICAgIHNlbGYuX2RlYnVnKFxuICAgICAgICAgICdjb25uZWN0IGxvY2FsOiAlczolcyByZW1vdGU6ICVzOiVzJyxcbiAgICAgICAgICBzZWxmLmxvY2FsQWRkcmVzcywgc2VsZi5sb2NhbFBvcnQsIHNlbGYucmVtb3RlQWRkcmVzcywgc2VsZi5yZW1vdGVQb3J0XG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgLy8gSWdub3JlIGNhbmRpZGF0ZSBwYWlyIHNlbGVjdGlvbiBpbiBicm93c2VycyBsaWtlIFNhZmFyaSAxMSB0aGF0IGRvIG5vdCBoYXZlIGFueSBsb2NhbCBvciByZW1vdGUgY2FuZGlkYXRlc1xuICAgICAgLy8gQnV0IHdhaXQgdW50aWwgYXQgbGVhc3QgMSBjYW5kaWRhdGUgcGFpciBpcyBhdmFpbGFibGVcbiAgICAgIGlmICghZm91bmRTZWxlY3RlZENhbmRpZGF0ZVBhaXIgJiYgKCFPYmplY3Qua2V5cyhjYW5kaWRhdGVQYWlycykubGVuZ3RoIHx8IE9iamVjdC5rZXlzKGxvY2FsQ2FuZGlkYXRlcykubGVuZ3RoKSkge1xuICAgICAgICBzZXRUaW1lb3V0KGZpbmRDYW5kaWRhdGVQYWlyLCAxMDApXG4gICAgICAgIHJldHVyblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5fY29ubmVjdGluZyA9IGZhbHNlXG4gICAgICAgIHNlbGYuY29ubmVjdGVkID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZi5fY2h1bmspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzZWxmLnNlbmQoc2VsZi5fY2h1bmspXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHJldHVybiBzZWxmLmRlc3Ryb3kobWFrZUVycm9yKGVyciwgJ0VSUl9EQVRBX0NIQU5ORUwnKSlcbiAgICAgICAgfVxuICAgICAgICBzZWxmLl9jaHVuayA9IG51bGxcbiAgICAgICAgc2VsZi5fZGVidWcoJ3NlbnQgY2h1bmsgZnJvbSBcIndyaXRlIGJlZm9yZSBjb25uZWN0XCInKVxuXG4gICAgICAgIHZhciBjYiA9IHNlbGYuX2NiXG4gICAgICAgIHNlbGYuX2NiID0gbnVsbFxuICAgICAgICBjYihudWxsKVxuICAgICAgfVxuXG4gICAgICAvLyBJZiBgYnVmZmVyZWRBbW91bnRMb3dUaHJlc2hvbGRgIGFuZCAnb25idWZmZXJlZGFtb3VudGxvdycgYXJlIHVuc3VwcG9ydGVkLFxuICAgICAgLy8gZmFsbGJhY2sgdG8gdXNpbmcgc2V0SW50ZXJ2YWwgdG8gaW1wbGVtZW50IGJhY2twcmVzc3VyZS5cbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5fY2hhbm5lbC5idWZmZXJlZEFtb3VudExvd1RocmVzaG9sZCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgc2VsZi5faW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IHNlbGYuX29uSW50ZXJ2YWwoKSB9LCAxNTApXG4gICAgICAgIGlmIChzZWxmLl9pbnRlcnZhbC51bnJlZikgc2VsZi5faW50ZXJ2YWwudW5yZWYoKVxuICAgICAgfVxuXG4gICAgICBzZWxmLl9kZWJ1ZygnY29ubmVjdCcpXG4gICAgICBzZWxmLmVtaXQoJ2Nvbm5lY3QnKVxuICAgIH0pXG4gIH1cbiAgZmluZENhbmRpZGF0ZVBhaXIoKVxufVxuXG5QZWVyLnByb3RvdHlwZS5fb25JbnRlcnZhbCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGlmICghc2VsZi5fY2IgfHwgIXNlbGYuX2NoYW5uZWwgfHwgc2VsZi5fY2hhbm5lbC5idWZmZXJlZEFtb3VudCA+IE1BWF9CVUZGRVJFRF9BTU9VTlQpIHtcbiAgICByZXR1cm5cbiAgfVxuICBzZWxmLl9vbkNoYW5uZWxCdWZmZXJlZEFtb3VudExvdygpXG59XG5cblBlZXIucHJvdG90eXBlLl9vblNpZ25hbGluZ1N0YXRlQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgaWYgKHNlbGYuZGVzdHJveWVkKSByZXR1cm5cblxuICBpZiAoc2VsZi5fcGMuc2lnbmFsaW5nU3RhdGUgPT09ICdzdGFibGUnICYmICFzZWxmLl9maXJzdFN0YWJsZSkge1xuICAgIHNlbGYuX2lzTmVnb3RpYXRpbmcgPSBmYWxzZVxuXG4gICAgLy8gSEFDSzogRmlyZWZveCBkb2Vzbid0IHlldCBzdXBwb3J0IHJlbW92aW5nIHRyYWNrcyB3aGVuIHNpZ25hbGluZ1N0YXRlICE9PSAnc3RhYmxlJ1xuICAgIHNlbGYuX2RlYnVnKCdmbHVzaGluZyBzZW5kZXIgcXVldWUnLCBzZWxmLl9zZW5kZXJzQXdhaXRpbmdTdGFibGUpXG4gICAgc2VsZi5fc2VuZGVyc0F3YWl0aW5nU3RhYmxlLmZvckVhY2goZnVuY3Rpb24gKHNlbmRlcikge1xuICAgICAgc2VsZi5fcGMucmVtb3ZlVHJhY2soc2VuZGVyKVxuICAgICAgc2VsZi5fcXVldWVkTmVnb3RpYXRpb24gPSB0cnVlXG4gICAgfSlcbiAgICBzZWxmLl9zZW5kZXJzQXdhaXRpbmdTdGFibGUgPSBbXVxuXG4gICAgaWYgKHNlbGYuX3F1ZXVlZE5lZ290aWF0aW9uKSB7XG4gICAgICBzZWxmLl9kZWJ1ZygnZmx1c2hpbmcgbmVnb3RpYXRpb24gcXVldWUnKVxuICAgICAgc2VsZi5fcXVldWVkTmVnb3RpYXRpb24gPSBmYWxzZVxuICAgICAgc2VsZi5fbmVlZHNOZWdvdGlhdGlvbigpIC8vIG5lZ290aWF0ZSBhZ2FpblxuICAgIH1cblxuICAgIHNlbGYuX2RlYnVnKCduZWdvdGlhdGUnKVxuICAgIHNlbGYuZW1pdCgnbmVnb3RpYXRlJylcbiAgfVxuICBzZWxmLl9maXJzdFN0YWJsZSA9IGZhbHNlXG5cbiAgc2VsZi5fZGVidWcoJ3NpZ25hbGluZ1N0YXRlQ2hhbmdlICVzJywgc2VsZi5fcGMuc2lnbmFsaW5nU3RhdGUpXG4gIHNlbGYuZW1pdCgnc2lnbmFsaW5nU3RhdGVDaGFuZ2UnLCBzZWxmLl9wYy5zaWduYWxpbmdTdGF0ZSlcbn1cblxuUGVlci5wcm90b3R5cGUuX29uSWNlQ2FuZGlkYXRlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICBpZiAoc2VsZi5kZXN0cm95ZWQpIHJldHVyblxuICBpZiAoZXZlbnQuY2FuZGlkYXRlICYmIHNlbGYudHJpY2tsZSkge1xuICAgIHNlbGYuZW1pdCgnc2lnbmFsJywge1xuICAgICAgY2FuZGlkYXRlOiB7XG4gICAgICAgIGNhbmRpZGF0ZTogZXZlbnQuY2FuZGlkYXRlLmNhbmRpZGF0ZSxcbiAgICAgICAgc2RwTUxpbmVJbmRleDogZXZlbnQuY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXgsXG4gICAgICAgIHNkcE1pZDogZXZlbnQuY2FuZGlkYXRlLnNkcE1pZFxuICAgICAgfVxuICAgIH0pXG4gIH0gZWxzZSBpZiAoIWV2ZW50LmNhbmRpZGF0ZSAmJiAhc2VsZi5faWNlQ29tcGxldGUpIHtcbiAgICBzZWxmLl9pY2VDb21wbGV0ZSA9IHRydWVcbiAgICBzZWxmLmVtaXQoJ19pY2VDb21wbGV0ZScpXG4gIH1cbiAgLy8gYXMgc29vbiBhcyB3ZSd2ZSByZWNlaXZlZCBvbmUgdmFsaWQgY2FuZGlkYXRlIHN0YXJ0IHRpbWVvdXRcbiAgaWYgKGV2ZW50LmNhbmRpZGF0ZSkge1xuICAgIHNlbGYuX3N0YXJ0SWNlQ29tcGxldGVUaW1lb3V0KClcbiAgfVxufVxuXG5QZWVyLnByb3RvdHlwZS5fb25DaGFubmVsTWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgaWYgKHNlbGYuZGVzdHJveWVkKSByZXR1cm5cbiAgdmFyIGRhdGEgPSBldmVudC5kYXRhXG4gIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIGRhdGEgPSBCdWZmZXIuZnJvbShkYXRhKVxuICBzZWxmLnB1c2goZGF0YSlcbn1cblxuUGVlci5wcm90b3R5cGUuX29uQ2hhbm5lbEJ1ZmZlcmVkQW1vdW50TG93ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgaWYgKHNlbGYuZGVzdHJveWVkIHx8ICFzZWxmLl9jYikgcmV0dXJuXG4gIHNlbGYuX2RlYnVnKCdlbmRpbmcgYmFja3ByZXNzdXJlOiBidWZmZXJlZEFtb3VudCAlZCcsIHNlbGYuX2NoYW5uZWwuYnVmZmVyZWRBbW91bnQpXG4gIHZhciBjYiA9IHNlbGYuX2NiXG4gIHNlbGYuX2NiID0gbnVsbFxuICBjYihudWxsKVxufVxuXG5QZWVyLnByb3RvdHlwZS5fb25DaGFubmVsT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGlmIChzZWxmLmNvbm5lY3RlZCB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuXG4gIHNlbGYuX2RlYnVnKCdvbiBjaGFubmVsIG9wZW4nKVxuICBzZWxmLl9jaGFubmVsUmVhZHkgPSB0cnVlXG4gIHNlbGYuX21heWJlUmVhZHkoKVxufVxuXG5QZWVyLnByb3RvdHlwZS5fb25DaGFubmVsQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICBpZiAoc2VsZi5kZXN0cm95ZWQpIHJldHVyblxuICBzZWxmLl9kZWJ1Zygnb24gY2hhbm5lbCBjbG9zZScpXG4gIHNlbGYuZGVzdHJveSgpXG59XG5cblBlZXIucHJvdG90eXBlLl9vblRyYWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICBpZiAoc2VsZi5kZXN0cm95ZWQpIHJldHVyblxuXG4gIGV2ZW50LnN0cmVhbXMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnRTdHJlYW0pIHtcbiAgICBzZWxmLl9kZWJ1Zygnb24gdHJhY2snKVxuICAgIHNlbGYuZW1pdCgndHJhY2snLCBldmVudC50cmFjaywgZXZlbnRTdHJlYW0pXG5cbiAgICBzZWxmLl9yZW1vdGVUcmFja3MucHVzaCh7XG4gICAgICB0cmFjazogZXZlbnQudHJhY2ssXG4gICAgICBzdHJlYW06IGV2ZW50U3RyZWFtXG4gICAgfSlcblxuICAgIGlmIChzZWxmLl9yZW1vdGVTdHJlYW1zLnNvbWUoZnVuY3Rpb24gKHJlbW90ZVN0cmVhbSkge1xuICAgICAgcmV0dXJuIHJlbW90ZVN0cmVhbS5pZCA9PT0gZXZlbnRTdHJlYW0uaWRcbiAgICB9KSkgcmV0dXJuIC8vIE9ubHkgZmlyZSBvbmUgJ3N0cmVhbScgZXZlbnQsIGV2ZW4gdGhvdWdoIHRoZXJlIG1heSBiZSBtdWx0aXBsZSB0cmFja3MgcGVyIHN0cmVhbVxuXG4gICAgc2VsZi5fcmVtb3RlU3RyZWFtcy5wdXNoKGV2ZW50U3RyZWFtKVxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgc2VsZi5lbWl0KCdzdHJlYW0nLCBldmVudFN0cmVhbSkgLy8gZW5zdXJlIGFsbCB0cmFja3MgaGF2ZSBiZWVuIGFkZGVkXG4gICAgfSwgMClcbiAgfSlcbn1cblxuUGVlci5wcm90b3R5cGUuc2V0Q29uc3RyYWludHMgPSBmdW5jdGlvbiAoY29uc3RyYWludHMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGlmIChzZWxmLmluaXRpYXRvcikge1xuICAgIHNlbGYub2ZmZXJDb25zdHJhaW50cyA9IHNlbGYuX3RyYW5zZm9ybUNvbnN0cmFpbnRzKGNvbnN0cmFpbnRzKVxuICB9IGVsc2Uge1xuICAgIHNlbGYuYW5zd2VyQ29uc3RyYWludHMgPSBzZWxmLl90cmFuc2Zvcm1Db25zdHJhaW50cyhjb25zdHJhaW50cylcbiAgfVxufVxuXG5QZWVyLnByb3RvdHlwZS5fZGVidWcgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxuICBhcmdzWzBdID0gJ1snICsgc2VsZi5faWQgKyAnXSAnICsgYXJnc1swXVxuICBkZWJ1Zy5hcHBseShudWxsLCBhcmdzKVxufVxuXG4vLyBUcmFuc2Zvcm0gY29uc3RyYWludHMgb2JqZWN0cyBpbnRvIHRoZSBuZXcgZm9ybWF0ICh1bmxlc3MgQ2hyb21pdW0pXG4vLyBUT0RPOiBUaGlzIGNhbiBiZSByZW1vdmVkIHdoZW4gQ2hyb21pdW0gc3VwcG9ydHMgdGhlIG5ldyBmb3JtYXRcblBlZXIucHJvdG90eXBlLl90cmFuc2Zvcm1Db25zdHJhaW50cyA9IGZ1bmN0aW9uIChjb25zdHJhaW50cykge1xuICB2YXIgc2VsZiA9IHRoaXNcblxuICBpZiAoT2JqZWN0LmtleXMoY29uc3RyYWludHMpLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBjb25zdHJhaW50c1xuICB9XG5cbiAgaWYgKChjb25zdHJhaW50cy5tYW5kYXRvcnkgfHwgY29uc3RyYWludHMub3B0aW9uYWwpICYmICFzZWxmLl9pc0Nocm9taXVtKSB7XG4gICAgLy8gY29udmVydCB0byBuZXcgZm9ybWF0XG5cbiAgICAvLyBNZXJnZSBtYW5kYXRvcnkgYW5kIG9wdGlvbmFsIG9iamVjdHMsIHByaW9yaXRpemluZyBtYW5kYXRvcnlcbiAgICB2YXIgbmV3Q29uc3RyYWludHMgPSBPYmplY3QuYXNzaWduKHt9LCBjb25zdHJhaW50cy5vcHRpb25hbCwgY29uc3RyYWludHMubWFuZGF0b3J5KVxuXG4gICAgLy8gZml4IGNhc2luZ1xuICAgIGlmIChuZXdDb25zdHJhaW50cy5PZmZlclRvUmVjZWl2ZVZpZGVvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG5ld0NvbnN0cmFpbnRzLm9mZmVyVG9SZWNlaXZlVmlkZW8gPSBuZXdDb25zdHJhaW50cy5PZmZlclRvUmVjZWl2ZVZpZGVvXG4gICAgICBkZWxldGUgbmV3Q29uc3RyYWludHNbJ09mZmVyVG9SZWNlaXZlVmlkZW8nXVxuICAgIH1cblxuICAgIGlmIChuZXdDb25zdHJhaW50cy5PZmZlclRvUmVjZWl2ZUF1ZGlvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG5ld0NvbnN0cmFpbnRzLm9mZmVyVG9SZWNlaXZlQXVkaW8gPSBuZXdDb25zdHJhaW50cy5PZmZlclRvUmVjZWl2ZUF1ZGlvXG4gICAgICBkZWxldGUgbmV3Q29uc3RyYWludHNbJ09mZmVyVG9SZWNlaXZlQXVkaW8nXVxuICAgIH1cblxuICAgIHJldHVybiBuZXdDb25zdHJhaW50c1xuICB9IGVsc2UgaWYgKCFjb25zdHJhaW50cy5tYW5kYXRvcnkgJiYgIWNvbnN0cmFpbnRzLm9wdGlvbmFsICYmIHNlbGYuX2lzQ2hyb21pdW0pIHtcbiAgICAvLyBjb252ZXJ0IHRvIG9sZCBmb3JtYXRcblxuICAgIC8vIGZpeCBjYXNpbmdcbiAgICBpZiAoY29uc3RyYWludHMub2ZmZXJUb1JlY2VpdmVWaWRlbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdHJhaW50cy5PZmZlclRvUmVjZWl2ZVZpZGVvID0gY29uc3RyYWludHMub2ZmZXJUb1JlY2VpdmVWaWRlb1xuICAgICAgZGVsZXRlIGNvbnN0cmFpbnRzWydvZmZlclRvUmVjZWl2ZVZpZGVvJ11cbiAgICB9XG5cbiAgICBpZiAoY29uc3RyYWludHMub2ZmZXJUb1JlY2VpdmVBdWRpbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdHJhaW50cy5PZmZlclRvUmVjZWl2ZUF1ZGlvID0gY29uc3RyYWludHMub2ZmZXJUb1JlY2VpdmVBdWRpb1xuICAgICAgZGVsZXRlIGNvbnN0cmFpbnRzWydvZmZlclRvUmVjZWl2ZUF1ZGlvJ11cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbWFuZGF0b3J5OiBjb25zdHJhaW50cyAvLyBOT1RFOiBBbGwgY29uc3RyYWludHMgYXJlIHVwZ3JhZGVkIHRvIG1hbmRhdG9yeVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb25zdHJhaW50c1xufVxuXG4vLyBIQUNLOiBNaW5pbWFsIHNoaW0gdG8gZm9yY2UgQ2hyb21lIGFuZCBXUlRDIHRvIHVzZSB0aGVpciBtb3JlIHJlbGlhYmxlIGNhbGxiYWNrIEFQSVxuZnVuY3Rpb24gc2hpbVByb21pc2VBUEkgKFJUQ1BlZXJDb25uZWN0aW9uLCBwYykge1xuICBwYy5jcmVhdGVPZmZlciA9IGZ1bmN0aW9uIChjb25zdHJhaW50cykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlT2ZmZXIuY2FsbCh0aGlzLCByZXNvbHZlLCByZWplY3QsIGNvbnN0cmFpbnRzKVxuICAgIH0pXG4gIH1cbiAgcGMuY3JlYXRlQW5zd2VyID0gZnVuY3Rpb24gKGNvbnN0cmFpbnRzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVBbnN3ZXIuY2FsbCh0aGlzLCByZXNvbHZlLCByZWplY3QsIGNvbnN0cmFpbnRzKVxuICAgIH0pXG4gIH1cbiAgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbi5jYWxsKHRoaXMsIGRlc2NyaXB0aW9uLCByZXNvbHZlLCByZWplY3QpXG4gICAgfSlcbiAgfVxuICBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb24uY2FsbCh0aGlzLCBkZXNjcmlwdGlvbiwgcmVzb2x2ZSwgcmVqZWN0KVxuICAgIH0pXG4gIH1cbn1cblxuLy8gSEFDSzogRmlsdGVyIHRyaWNrbGUgbGluZXMgd2hlbiB0cmlja2xlIGlzIGRpc2FibGVkICMzNTRcbmZ1bmN0aW9uIGZpbHRlclRyaWNrbGUgKHNkcCkge1xuICByZXR1cm4gc2RwLnJlcGxhY2UoL2E9aWNlLW9wdGlvbnM6dHJpY2tsZVxcc1xcbi9nLCAnJylcbn1cblxuZnVuY3Rpb24gbWFrZUVycm9yIChtZXNzYWdlLCBjb2RlKSB7XG4gIHZhciBlcnIgPSBuZXcgRXJyb3IobWVzc2FnZSlcbiAgZXJyLmNvZGUgPSBjb2RlXG4gIHJldHVybiBlcnJcbn1cblxuZnVuY3Rpb24gbm9vcCAoKSB7fVxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIHBuYSA9IHJlcXVpcmUoJ3Byb2Nlc3MtbmV4dGljay1hcmdzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFkYWJsZTtcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgRHVwbGV4O1xuLyo8L3JlcGxhY2VtZW50PiovXG5cblJlYWRhYmxlLlJlYWRhYmxlU3RhdGUgPSBSZWFkYWJsZVN0YXRlO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIEVFID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xuXG52YXIgRUVsaXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gKGVtaXR0ZXIsIHR5cGUpIHtcbiAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJzKHR5cGUpLmxlbmd0aDtcbn07XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBTdHJlYW0gPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvc3RyZWFtJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJykuQnVmZmVyO1xudmFyIE91clVpbnQ4QXJyYXkgPSBnbG9iYWwuVWludDhBcnJheSB8fCBmdW5jdGlvbiAoKSB7fTtcbmZ1bmN0aW9uIF91aW50OEFycmF5VG9CdWZmZXIoY2h1bmspIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGNodW5rKTtcbn1cbmZ1bmN0aW9uIF9pc1VpbnQ4QXJyYXkob2JqKSB7XG4gIHJldHVybiBCdWZmZXIuaXNCdWZmZXIob2JqKSB8fCBvYmogaW5zdGFuY2VvZiBPdXJVaW50OEFycmF5O1xufVxuXG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciB1dGlsID0gcmVxdWlyZSgnY29yZS11dGlsLWlzJyk7XG51dGlsLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIGRlYnVnVXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcbnZhciBkZWJ1ZyA9IHZvaWQgMDtcbmlmIChkZWJ1Z1V0aWwgJiYgZGVidWdVdGlsLmRlYnVnbG9nKSB7XG4gIGRlYnVnID0gZGVidWdVdGlsLmRlYnVnbG9nKCdzdHJlYW0nKTtcbn0gZWxzZSB7XG4gIGRlYnVnID0gZnVuY3Rpb24gKCkge307XG59XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudmFyIEJ1ZmZlckxpc3QgPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvQnVmZmVyTGlzdCcpO1xudmFyIGRlc3Ryb3lJbXBsID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL2Rlc3Ryb3knKTtcbnZhciBTdHJpbmdEZWNvZGVyO1xuXG51dGlsLmluaGVyaXRzKFJlYWRhYmxlLCBTdHJlYW0pO1xuXG52YXIga1Byb3h5RXZlbnRzID0gWydlcnJvcicsICdjbG9zZScsICdkZXN0cm95JywgJ3BhdXNlJywgJ3Jlc3VtZSddO1xuXG5mdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGZuKSB7XG4gIC8vIFNhZGx5IHRoaXMgaXMgbm90IGNhY2hlYWJsZSBhcyBzb21lIGxpYnJhcmllcyBidW5kbGUgdGhlaXIgb3duXG4gIC8vIGV2ZW50IGVtaXR0ZXIgaW1wbGVtZW50YXRpb24gd2l0aCB0aGVtLlxuICBpZiAodHlwZW9mIGVtaXR0ZXIucHJlcGVuZExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSByZXR1cm4gZW1pdHRlci5wcmVwZW5kTGlzdGVuZXIoZXZlbnQsIGZuKTtcblxuICAvLyBUaGlzIGlzIGEgaGFjayB0byBtYWtlIHN1cmUgdGhhdCBvdXIgZXJyb3IgaGFuZGxlciBpcyBhdHRhY2hlZCBiZWZvcmUgYW55XG4gIC8vIHVzZXJsYW5kIG9uZXMuICBORVZFUiBETyBUSElTLiBUaGlzIGlzIGhlcmUgb25seSBiZWNhdXNlIHRoaXMgY29kZSBuZWVkc1xuICAvLyB0byBjb250aW51ZSB0byB3b3JrIHdpdGggb2xkZXIgdmVyc2lvbnMgb2YgTm9kZS5qcyB0aGF0IGRvIG5vdCBpbmNsdWRlXG4gIC8vIHRoZSBwcmVwZW5kTGlzdGVuZXIoKSBtZXRob2QuIFRoZSBnb2FsIGlzIHRvIGV2ZW50dWFsbHkgcmVtb3ZlIHRoaXMgaGFjay5cbiAgaWYgKCFlbWl0dGVyLl9ldmVudHMgfHwgIWVtaXR0ZXIuX2V2ZW50c1tldmVudF0pIGVtaXR0ZXIub24oZXZlbnQsIGZuKTtlbHNlIGlmIChpc0FycmF5KGVtaXR0ZXIuX2V2ZW50c1tldmVudF0pKSBlbWl0dGVyLl9ldmVudHNbZXZlbnRdLnVuc2hpZnQoZm4pO2Vsc2UgZW1pdHRlci5fZXZlbnRzW2V2ZW50XSA9IFtmbiwgZW1pdHRlci5fZXZlbnRzW2V2ZW50XV07XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlU3RhdGUob3B0aW9ucywgc3RyZWFtKSB7XG4gIER1cGxleCA9IER1cGxleCB8fCByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgLy8gRHVwbGV4IHN0cmVhbXMgYXJlIGJvdGggcmVhZGFibGUgYW5kIHdyaXRhYmxlLCBidXQgc2hhcmVcbiAgLy8gdGhlIHNhbWUgb3B0aW9ucyBvYmplY3QuXG4gIC8vIEhvd2V2ZXIsIHNvbWUgY2FzZXMgcmVxdWlyZSBzZXR0aW5nIG9wdGlvbnMgdG8gZGlmZmVyZW50XG4gIC8vIHZhbHVlcyBmb3IgdGhlIHJlYWRhYmxlIGFuZCB0aGUgd3JpdGFibGUgc2lkZXMgb2YgdGhlIGR1cGxleCBzdHJlYW0uXG4gIC8vIFRoZXNlIG9wdGlvbnMgY2FuIGJlIHByb3ZpZGVkIHNlcGFyYXRlbHkgYXMgcmVhZGFibGVYWFggYW5kIHdyaXRhYmxlWFhYLlxuICB2YXIgaXNEdXBsZXggPSBzdHJlYW0gaW5zdGFuY2VvZiBEdXBsZXg7XG5cbiAgLy8gb2JqZWN0IHN0cmVhbSBmbGFnLiBVc2VkIHRvIG1ha2UgcmVhZChuKSBpZ25vcmUgbiBhbmQgdG9cbiAgLy8gbWFrZSBhbGwgdGhlIGJ1ZmZlciBtZXJnaW5nIGFuZCBsZW5ndGggY2hlY2tzIGdvIGF3YXlcbiAgdGhpcy5vYmplY3RNb2RlID0gISFvcHRpb25zLm9iamVjdE1vZGU7XG5cbiAgaWYgKGlzRHVwbGV4KSB0aGlzLm9iamVjdE1vZGUgPSB0aGlzLm9iamVjdE1vZGUgfHwgISFvcHRpb25zLnJlYWRhYmxlT2JqZWN0TW9kZTtcblxuICAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggaXQgc3RvcHMgY2FsbGluZyBfcmVhZCgpIHRvIGZpbGwgdGhlIGJ1ZmZlclxuICAvLyBOb3RlOiAwIGlzIGEgdmFsaWQgdmFsdWUsIG1lYW5zIFwiZG9uJ3QgY2FsbCBfcmVhZCBwcmVlbXB0aXZlbHkgZXZlclwiXG4gIHZhciBod20gPSBvcHRpb25zLmhpZ2hXYXRlck1hcms7XG4gIHZhciByZWFkYWJsZUh3bSA9IG9wdGlvbnMucmVhZGFibGVIaWdoV2F0ZXJNYXJrO1xuICB2YXIgZGVmYXVsdEh3bSA9IHRoaXMub2JqZWN0TW9kZSA/IDE2IDogMTYgKiAxMDI0O1xuXG4gIGlmIChod20gfHwgaHdtID09PSAwKSB0aGlzLmhpZ2hXYXRlck1hcmsgPSBod207ZWxzZSBpZiAoaXNEdXBsZXggJiYgKHJlYWRhYmxlSHdtIHx8IHJlYWRhYmxlSHdtID09PSAwKSkgdGhpcy5oaWdoV2F0ZXJNYXJrID0gcmVhZGFibGVId207ZWxzZSB0aGlzLmhpZ2hXYXRlck1hcmsgPSBkZWZhdWx0SHdtO1xuXG4gIC8vIGNhc3QgdG8gaW50cy5cbiAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gTWF0aC5mbG9vcih0aGlzLmhpZ2hXYXRlck1hcmspO1xuXG4gIC8vIEEgbGlua2VkIGxpc3QgaXMgdXNlZCB0byBzdG9yZSBkYXRhIGNodW5rcyBpbnN0ZWFkIG9mIGFuIGFycmF5IGJlY2F1c2UgdGhlXG4gIC8vIGxpbmtlZCBsaXN0IGNhbiByZW1vdmUgZWxlbWVudHMgZnJvbSB0aGUgYmVnaW5uaW5nIGZhc3RlciB0aGFuXG4gIC8vIGFycmF5LnNoaWZ0KClcbiAgdGhpcy5idWZmZXIgPSBuZXcgQnVmZmVyTGlzdCgpO1xuICB0aGlzLmxlbmd0aCA9IDA7XG4gIHRoaXMucGlwZXMgPSBudWxsO1xuICB0aGlzLnBpcGVzQ291bnQgPSAwO1xuICB0aGlzLmZsb3dpbmcgPSBudWxsO1xuICB0aGlzLmVuZGVkID0gZmFsc2U7XG4gIHRoaXMuZW5kRW1pdHRlZCA9IGZhbHNlO1xuICB0aGlzLnJlYWRpbmcgPSBmYWxzZTtcblxuICAvLyBhIGZsYWcgdG8gYmUgYWJsZSB0byB0ZWxsIGlmIHRoZSBldmVudCAncmVhZGFibGUnLydkYXRhJyBpcyBlbWl0dGVkXG4gIC8vIGltbWVkaWF0ZWx5LCBvciBvbiBhIGxhdGVyIHRpY2suICBXZSBzZXQgdGhpcyB0byB0cnVlIGF0IGZpcnN0LCBiZWNhdXNlXG4gIC8vIGFueSBhY3Rpb25zIHRoYXQgc2hvdWxkbid0IGhhcHBlbiB1bnRpbCBcImxhdGVyXCIgc2hvdWxkIGdlbmVyYWxseSBhbHNvXG4gIC8vIG5vdCBoYXBwZW4gYmVmb3JlIHRoZSBmaXJzdCByZWFkIGNhbGwuXG4gIHRoaXMuc3luYyA9IHRydWU7XG5cbiAgLy8gd2hlbmV2ZXIgd2UgcmV0dXJuIG51bGwsIHRoZW4gd2Ugc2V0IGEgZmxhZyB0byBzYXlcbiAgLy8gdGhhdCB3ZSdyZSBhd2FpdGluZyBhICdyZWFkYWJsZScgZXZlbnQgZW1pc3Npb24uXG4gIHRoaXMubmVlZFJlYWRhYmxlID0gZmFsc2U7XG4gIHRoaXMuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7XG4gIHRoaXMucmVhZGFibGVMaXN0ZW5pbmcgPSBmYWxzZTtcbiAgdGhpcy5yZXN1bWVTY2hlZHVsZWQgPSBmYWxzZTtcblxuICAvLyBoYXMgaXQgYmVlbiBkZXN0cm95ZWRcbiAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAvLyBDcnlwdG8gaXMga2luZCBvZiBvbGQgYW5kIGNydXN0eS4gIEhpc3RvcmljYWxseSwgaXRzIGRlZmF1bHQgc3RyaW5nXG4gIC8vIGVuY29kaW5nIGlzICdiaW5hcnknIHNvIHdlIGhhdmUgdG8gbWFrZSB0aGlzIGNvbmZpZ3VyYWJsZS5cbiAgLy8gRXZlcnl0aGluZyBlbHNlIGluIHRoZSB1bml2ZXJzZSB1c2VzICd1dGY4JywgdGhvdWdoLlxuICB0aGlzLmRlZmF1bHRFbmNvZGluZyA9IG9wdGlvbnMuZGVmYXVsdEVuY29kaW5nIHx8ICd1dGY4JztcblxuICAvLyB0aGUgbnVtYmVyIG9mIHdyaXRlcnMgdGhhdCBhcmUgYXdhaXRpbmcgYSBkcmFpbiBldmVudCBpbiAucGlwZSgpc1xuICB0aGlzLmF3YWl0RHJhaW4gPSAwO1xuXG4gIC8vIGlmIHRydWUsIGEgbWF5YmVSZWFkTW9yZSBoYXMgYmVlbiBzY2hlZHVsZWRcbiAgdGhpcy5yZWFkaW5nTW9yZSA9IGZhbHNlO1xuXG4gIHRoaXMuZGVjb2RlciA9IG51bGw7XG4gIHRoaXMuZW5jb2RpbmcgPSBudWxsO1xuICBpZiAob3B0aW9ucy5lbmNvZGluZykge1xuICAgIGlmICghU3RyaW5nRGVjb2RlcikgU3RyaW5nRGVjb2RlciA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyLycpLlN0cmluZ0RlY29kZXI7XG4gICAgdGhpcy5kZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIob3B0aW9ucy5lbmNvZGluZyk7XG4gICAgdGhpcy5lbmNvZGluZyA9IG9wdGlvbnMuZW5jb2Rpbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gUmVhZGFibGUob3B0aW9ucykge1xuICBEdXBsZXggPSBEdXBsZXggfHwgcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZWFkYWJsZSkpIHJldHVybiBuZXcgUmVhZGFibGUob3B0aW9ucyk7XG5cbiAgdGhpcy5fcmVhZGFibGVTdGF0ZSA9IG5ldyBSZWFkYWJsZVN0YXRlKG9wdGlvbnMsIHRoaXMpO1xuXG4gIC8vIGxlZ2FjeVxuICB0aGlzLnJlYWRhYmxlID0gdHJ1ZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5yZWFkID09PSAnZnVuY3Rpb24nKSB0aGlzLl9yZWFkID0gb3B0aW9ucy5yZWFkO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIHRoaXMuX2Rlc3Ryb3kgPSBvcHRpb25zLmRlc3Ryb3k7XG4gIH1cblxuICBTdHJlYW0uY2FsbCh0aGlzKTtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlLnByb3RvdHlwZSwgJ2Rlc3Ryb3llZCcsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gd2UgaWdub3JlIHRoZSB2YWx1ZSBpZiB0aGUgc3RyZWFtXG4gICAgLy8gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldFxuICAgIGlmICghdGhpcy5fcmVhZGFibGVTdGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIHRoZSB1c2VyIGlzIGV4cGxpY2l0bHlcbiAgICAvLyBtYW5hZ2luZyBkZXN0cm95ZWRcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCA9IHZhbHVlO1xuICB9XG59KTtcblxuUmVhZGFibGUucHJvdG90eXBlLmRlc3Ryb3kgPSBkZXN0cm95SW1wbC5kZXN0cm95O1xuUmVhZGFibGUucHJvdG90eXBlLl91bmRlc3Ryb3kgPSBkZXN0cm95SW1wbC51bmRlc3Ryb3k7XG5SZWFkYWJsZS5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoZXJyLCBjYikge1xuICB0aGlzLnB1c2gobnVsbCk7XG4gIGNiKGVycik7XG59O1xuXG4vLyBNYW51YWxseSBzaG92ZSBzb21ldGhpbmcgaW50byB0aGUgcmVhZCgpIGJ1ZmZlci5cbi8vIFRoaXMgcmV0dXJucyB0cnVlIGlmIHRoZSBoaWdoV2F0ZXJNYXJrIGhhcyBub3QgYmVlbiBoaXQgeWV0LFxuLy8gc2ltaWxhciB0byBob3cgV3JpdGFibGUud3JpdGUoKSByZXR1cm5zIHRydWUgaWYgeW91IHNob3VsZFxuLy8gd3JpdGUoKSBzb21lIG1vcmUuXG5SZWFkYWJsZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgdmFyIHNraXBDaHVua0NoZWNrO1xuXG4gIGlmICghc3RhdGUub2JqZWN0TW9kZSkge1xuICAgIGlmICh0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IGVuY29kaW5nIHx8IHN0YXRlLmRlZmF1bHRFbmNvZGluZztcbiAgICAgIGlmIChlbmNvZGluZyAhPT0gc3RhdGUuZW5jb2RpbmcpIHtcbiAgICAgICAgY2h1bmsgPSBCdWZmZXIuZnJvbShjaHVuaywgZW5jb2RpbmcpO1xuICAgICAgICBlbmNvZGluZyA9ICcnO1xuICAgICAgfVxuICAgICAgc2tpcENodW5rQ2hlY2sgPSB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBza2lwQ2h1bmtDaGVjayA9IHRydWU7XG4gIH1cblxuICByZXR1cm4gcmVhZGFibGVBZGRDaHVuayh0aGlzLCBjaHVuaywgZW5jb2RpbmcsIGZhbHNlLCBza2lwQ2h1bmtDaGVjayk7XG59O1xuXG4vLyBVbnNoaWZ0IHNob3VsZCAqYWx3YXlzKiBiZSBzb21ldGhpbmcgZGlyZWN0bHkgb3V0IG9mIHJlYWQoKVxuUmVhZGFibGUucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbiAoY2h1bmspIHtcbiAgcmV0dXJuIHJlYWRhYmxlQWRkQ2h1bmsodGhpcywgY2h1bmssIG51bGwsIHRydWUsIGZhbHNlKTtcbn07XG5cbmZ1bmN0aW9uIHJlYWRhYmxlQWRkQ2h1bmsoc3RyZWFtLCBjaHVuaywgZW5jb2RpbmcsIGFkZFRvRnJvbnQsIHNraXBDaHVua0NoZWNrKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgaWYgKGNodW5rID09PSBudWxsKSB7XG4gICAgc3RhdGUucmVhZGluZyA9IGZhbHNlO1xuICAgIG9uRW9mQ2h1bmsoc3RyZWFtLCBzdGF0ZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGVyO1xuICAgIGlmICghc2tpcENodW5rQ2hlY2spIGVyID0gY2h1bmtJbnZhbGlkKHN0YXRlLCBjaHVuayk7XG4gICAgaWYgKGVyKSB7XG4gICAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG4gICAgfSBlbHNlIGlmIChzdGF0ZS5vYmplY3RNb2RlIHx8IGNodW5rICYmIGNodW5rLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmICh0eXBlb2YgY2h1bmsgIT09ICdzdHJpbmcnICYmICFzdGF0ZS5vYmplY3RNb2RlICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihjaHVuaykgIT09IEJ1ZmZlci5wcm90b3R5cGUpIHtcbiAgICAgICAgY2h1bmsgPSBfdWludDhBcnJheVRvQnVmZmVyKGNodW5rKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFkZFRvRnJvbnQpIHtcbiAgICAgICAgaWYgKHN0YXRlLmVuZEVtaXR0ZWQpIHN0cmVhbS5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignc3RyZWFtLnVuc2hpZnQoKSBhZnRlciBlbmQgZXZlbnQnKSk7ZWxzZSBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmVuZGVkKSB7XG4gICAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignc3RyZWFtLnB1c2goKSBhZnRlciBFT0YnKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG4gICAgICAgIGlmIChzdGF0ZS5kZWNvZGVyICYmICFlbmNvZGluZykge1xuICAgICAgICAgIGNodW5rID0gc3RhdGUuZGVjb2Rlci53cml0ZShjaHVuayk7XG4gICAgICAgICAgaWYgKHN0YXRlLm9iamVjdE1vZGUgfHwgY2h1bmsubGVuZ3RoICE9PSAwKSBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgZmFsc2UpO2Vsc2UgbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghYWRkVG9Gcm9udCkge1xuICAgICAgc3RhdGUucmVhZGluZyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZWVkTW9yZURhdGEoc3RhdGUpO1xufVxuXG5mdW5jdGlvbiBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgYWRkVG9Gcm9udCkge1xuICBpZiAoc3RhdGUuZmxvd2luZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgIXN0YXRlLnN5bmMpIHtcbiAgICBzdHJlYW0uZW1pdCgnZGF0YScsIGNodW5rKTtcbiAgICBzdHJlYW0ucmVhZCgwKTtcbiAgfSBlbHNlIHtcbiAgICAvLyB1cGRhdGUgdGhlIGJ1ZmZlciBpbmZvLlxuICAgIHN0YXRlLmxlbmd0aCArPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcbiAgICBpZiAoYWRkVG9Gcm9udCkgc3RhdGUuYnVmZmVyLnVuc2hpZnQoY2h1bmspO2Vsc2Ugc3RhdGUuYnVmZmVyLnB1c2goY2h1bmspO1xuXG4gICAgaWYgKHN0YXRlLm5lZWRSZWFkYWJsZSkgZW1pdFJlYWRhYmxlKHN0cmVhbSk7XG4gIH1cbiAgbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKTtcbn1cblxuZnVuY3Rpb24gY2h1bmtJbnZhbGlkKHN0YXRlLCBjaHVuaykge1xuICB2YXIgZXI7XG4gIGlmICghX2lzVWludDhBcnJheShjaHVuaykgJiYgdHlwZW9mIGNodW5rICE9PSAnc3RyaW5nJyAmJiBjaHVuayAhPT0gdW5kZWZpbmVkICYmICFzdGF0ZS5vYmplY3RNb2RlKSB7XG4gICAgZXIgPSBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG5vbi1zdHJpbmcvYnVmZmVyIGNodW5rJyk7XG4gIH1cbiAgcmV0dXJuIGVyO1xufVxuXG4vLyBpZiBpdCdzIHBhc3QgdGhlIGhpZ2ggd2F0ZXIgbWFyaywgd2UgY2FuIHB1c2ggaW4gc29tZSBtb3JlLlxuLy8gQWxzbywgaWYgd2UgaGF2ZSBubyBkYXRhIHlldCwgd2UgY2FuIHN0YW5kIHNvbWVcbi8vIG1vcmUgYnl0ZXMuICBUaGlzIGlzIHRvIHdvcmsgYXJvdW5kIGNhc2VzIHdoZXJlIGh3bT0wLFxuLy8gc3VjaCBhcyB0aGUgcmVwbC4gIEFsc28sIGlmIHRoZSBwdXNoKCkgdHJpZ2dlcmVkIGFcbi8vIHJlYWRhYmxlIGV2ZW50LCBhbmQgdGhlIHVzZXIgY2FsbGVkIHJlYWQobGFyZ2VOdW1iZXIpIHN1Y2ggdGhhdFxuLy8gbmVlZFJlYWRhYmxlIHdhcyBzZXQsIHRoZW4gd2Ugb3VnaHQgdG8gcHVzaCBtb3JlLCBzbyB0aGF0IGFub3RoZXJcbi8vICdyZWFkYWJsZScgZXZlbnQgd2lsbCBiZSB0cmlnZ2VyZWQuXG5mdW5jdGlvbiBuZWVkTW9yZURhdGEoc3RhdGUpIHtcbiAgcmV0dXJuICFzdGF0ZS5lbmRlZCAmJiAoc3RhdGUubmVlZFJlYWRhYmxlIHx8IHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcmsgfHwgc3RhdGUubGVuZ3RoID09PSAwKTtcbn1cblxuUmVhZGFibGUucHJvdG90eXBlLmlzUGF1c2VkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nID09PSBmYWxzZTtcbn07XG5cbi8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuUmVhZGFibGUucHJvdG90eXBlLnNldEVuY29kaW5nID0gZnVuY3Rpb24gKGVuYykge1xuICBpZiAoIVN0cmluZ0RlY29kZXIpIFN0cmluZ0RlY29kZXIgPSByZXF1aXJlKCdzdHJpbmdfZGVjb2Rlci8nKS5TdHJpbmdEZWNvZGVyO1xuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2RlcihlbmMpO1xuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuY29kaW5nID0gZW5jO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIERvbid0IHJhaXNlIHRoZSBod20gPiA4TUJcbnZhciBNQVhfSFdNID0gMHg4MDAwMDA7XG5mdW5jdGlvbiBjb21wdXRlTmV3SGlnaFdhdGVyTWFyayhuKSB7XG4gIGlmIChuID49IE1BWF9IV00pIHtcbiAgICBuID0gTUFYX0hXTTtcbiAgfSBlbHNlIHtcbiAgICAvLyBHZXQgdGhlIG5leHQgaGlnaGVzdCBwb3dlciBvZiAyIHRvIHByZXZlbnQgaW5jcmVhc2luZyBod20gZXhjZXNzaXZlbHkgaW5cbiAgICAvLyB0aW55IGFtb3VudHNcbiAgICBuLS07XG4gICAgbiB8PSBuID4+PiAxO1xuICAgIG4gfD0gbiA+Pj4gMjtcbiAgICBuIHw9IG4gPj4+IDQ7XG4gICAgbiB8PSBuID4+PiA4O1xuICAgIG4gfD0gbiA+Pj4gMTY7XG4gICAgbisrO1xuICB9XG4gIHJldHVybiBuO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGlzIGRlc2lnbmVkIHRvIGJlIGlubGluYWJsZSwgc28gcGxlYXNlIHRha2UgY2FyZSB3aGVuIG1ha2luZ1xuLy8gY2hhbmdlcyB0byB0aGUgZnVuY3Rpb24gYm9keS5cbmZ1bmN0aW9uIGhvd011Y2hUb1JlYWQobiwgc3RhdGUpIHtcbiAgaWYgKG4gPD0gMCB8fCBzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuZW5kZWQpIHJldHVybiAwO1xuICBpZiAoc3RhdGUub2JqZWN0TW9kZSkgcmV0dXJuIDE7XG4gIGlmIChuICE9PSBuKSB7XG4gICAgLy8gT25seSBmbG93IG9uZSBidWZmZXIgYXQgYSB0aW1lXG4gICAgaWYgKHN0YXRlLmZsb3dpbmcgJiYgc3RhdGUubGVuZ3RoKSByZXR1cm4gc3RhdGUuYnVmZmVyLmhlYWQuZGF0YS5sZW5ndGg7ZWxzZSByZXR1cm4gc3RhdGUubGVuZ3RoO1xuICB9XG4gIC8vIElmIHdlJ3JlIGFza2luZyBmb3IgbW9yZSB0aGFuIHRoZSBjdXJyZW50IGh3bSwgdGhlbiByYWlzZSB0aGUgaHdtLlxuICBpZiAobiA+IHN0YXRlLmhpZ2hXYXRlck1hcmspIHN0YXRlLmhpZ2hXYXRlck1hcmsgPSBjb21wdXRlTmV3SGlnaFdhdGVyTWFyayhuKTtcbiAgaWYgKG4gPD0gc3RhdGUubGVuZ3RoKSByZXR1cm4gbjtcbiAgLy8gRG9uJ3QgaGF2ZSBlbm91Z2hcbiAgaWYgKCFzdGF0ZS5lbmRlZCkge1xuICAgIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgcmV0dXJuIHN0YXRlLmxlbmd0aDtcbn1cblxuLy8geW91IGNhbiBvdmVycmlkZSBlaXRoZXIgdGhpcyBtZXRob2QsIG9yIHRoZSBhc3luYyBfcmVhZChuKSBiZWxvdy5cblJlYWRhYmxlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKG4pIHtcbiAgZGVidWcoJ3JlYWQnLCBuKTtcbiAgbiA9IHBhcnNlSW50KG4sIDEwKTtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgdmFyIG5PcmlnID0gbjtcblxuICBpZiAobiAhPT0gMCkgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7XG5cbiAgLy8gaWYgd2UncmUgZG9pbmcgcmVhZCgwKSB0byB0cmlnZ2VyIGEgcmVhZGFibGUgZXZlbnQsIGJ1dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYSBidW5jaCBvZiBkYXRhIGluIHRoZSBidWZmZXIsIHRoZW4ganVzdCB0cmlnZ2VyXG4gIC8vIHRoZSAncmVhZGFibGUnIGV2ZW50IGFuZCBtb3ZlIG9uLlxuICBpZiAobiA9PT0gMCAmJiBzdGF0ZS5uZWVkUmVhZGFibGUgJiYgKHN0YXRlLmxlbmd0aCA+PSBzdGF0ZS5oaWdoV2F0ZXJNYXJrIHx8IHN0YXRlLmVuZGVkKSkge1xuICAgIGRlYnVnKCdyZWFkOiBlbWl0UmVhZGFibGUnLCBzdGF0ZS5sZW5ndGgsIHN0YXRlLmVuZGVkKTtcbiAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLmVuZGVkKSBlbmRSZWFkYWJsZSh0aGlzKTtlbHNlIGVtaXRSZWFkYWJsZSh0aGlzKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIG4gPSBob3dNdWNoVG9SZWFkKG4sIHN0YXRlKTtcblxuICAvLyBpZiB3ZSd2ZSBlbmRlZCwgYW5kIHdlJ3JlIG5vdyBjbGVhciwgdGhlbiBmaW5pc2ggaXQgdXAuXG4gIGlmIChuID09PSAwICYmIHN0YXRlLmVuZGVkKSB7XG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgZW5kUmVhZGFibGUodGhpcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBBbGwgdGhlIGFjdHVhbCBjaHVuayBnZW5lcmF0aW9uIGxvZ2ljIG5lZWRzIHRvIGJlXG4gIC8vICpiZWxvdyogdGhlIGNhbGwgdG8gX3JlYWQuICBUaGUgcmVhc29uIGlzIHRoYXQgaW4gY2VydGFpblxuICAvLyBzeW50aGV0aWMgc3RyZWFtIGNhc2VzLCBzdWNoIGFzIHBhc3N0aHJvdWdoIHN0cmVhbXMsIF9yZWFkXG4gIC8vIG1heSBiZSBhIGNvbXBsZXRlbHkgc3luY2hyb25vdXMgb3BlcmF0aW9uIHdoaWNoIG1heSBjaGFuZ2VcbiAgLy8gdGhlIHN0YXRlIG9mIHRoZSByZWFkIGJ1ZmZlciwgcHJvdmlkaW5nIGVub3VnaCBkYXRhIHdoZW5cbiAgLy8gYmVmb3JlIHRoZXJlIHdhcyAqbm90KiBlbm91Z2guXG4gIC8vXG4gIC8vIFNvLCB0aGUgc3RlcHMgYXJlOlxuICAvLyAxLiBGaWd1cmUgb3V0IHdoYXQgdGhlIHN0YXRlIG9mIHRoaW5ncyB3aWxsIGJlIGFmdGVyIHdlIGRvXG4gIC8vIGEgcmVhZCBmcm9tIHRoZSBidWZmZXIuXG4gIC8vXG4gIC8vIDIuIElmIHRoYXQgcmVzdWx0aW5nIHN0YXRlIHdpbGwgdHJpZ2dlciBhIF9yZWFkLCB0aGVuIGNhbGwgX3JlYWQuXG4gIC8vIE5vdGUgdGhhdCB0aGlzIG1heSBiZSBhc3luY2hyb25vdXMsIG9yIHN5bmNocm9ub3VzLiAgWWVzLCBpdCBpc1xuICAvLyBkZWVwbHkgdWdseSB0byB3cml0ZSBBUElzIHRoaXMgd2F5LCBidXQgdGhhdCBzdGlsbCBkb2Vzbid0IG1lYW5cbiAgLy8gdGhhdCB0aGUgUmVhZGFibGUgY2xhc3Mgc2hvdWxkIGJlaGF2ZSBpbXByb3Blcmx5LCBhcyBzdHJlYW1zIGFyZVxuICAvLyBkZXNpZ25lZCB0byBiZSBzeW5jL2FzeW5jIGFnbm9zdGljLlxuICAvLyBUYWtlIG5vdGUgaWYgdGhlIF9yZWFkIGNhbGwgaXMgc3luYyBvciBhc3luYyAoaWUsIGlmIHRoZSByZWFkIGNhbGxcbiAgLy8gaGFzIHJldHVybmVkIHlldCksIHNvIHRoYXQgd2Uga25vdyB3aGV0aGVyIG9yIG5vdCBpdCdzIHNhZmUgdG8gZW1pdFxuICAvLyAncmVhZGFibGUnIGV0Yy5cbiAgLy9cbiAgLy8gMy4gQWN0dWFsbHkgcHVsbCB0aGUgcmVxdWVzdGVkIGNodW5rcyBvdXQgb2YgdGhlIGJ1ZmZlciBhbmQgcmV0dXJuLlxuXG4gIC8vIGlmIHdlIG5lZWQgYSByZWFkYWJsZSBldmVudCwgdGhlbiB3ZSBuZWVkIHRvIGRvIHNvbWUgcmVhZGluZy5cbiAgdmFyIGRvUmVhZCA9IHN0YXRlLm5lZWRSZWFkYWJsZTtcbiAgZGVidWcoJ25lZWQgcmVhZGFibGUnLCBkb1JlYWQpO1xuXG4gIC8vIGlmIHdlIGN1cnJlbnRseSBoYXZlIGxlc3MgdGhhbiB0aGUgaGlnaFdhdGVyTWFyaywgdGhlbiBhbHNvIHJlYWQgc29tZVxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwIHx8IHN0YXRlLmxlbmd0aCAtIG4gPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrKSB7XG4gICAgZG9SZWFkID0gdHJ1ZTtcbiAgICBkZWJ1ZygnbGVuZ3RoIGxlc3MgdGhhbiB3YXRlcm1hcmsnLCBkb1JlYWQpO1xuICB9XG5cbiAgLy8gaG93ZXZlciwgaWYgd2UndmUgZW5kZWQsIHRoZW4gdGhlcmUncyBubyBwb2ludCwgYW5kIGlmIHdlJ3JlIGFscmVhZHlcbiAgLy8gcmVhZGluZywgdGhlbiBpdCdzIHVubmVjZXNzYXJ5LlxuICBpZiAoc3RhdGUuZW5kZWQgfHwgc3RhdGUucmVhZGluZykge1xuICAgIGRvUmVhZCA9IGZhbHNlO1xuICAgIGRlYnVnKCdyZWFkaW5nIG9yIGVuZGVkJywgZG9SZWFkKTtcbiAgfSBlbHNlIGlmIChkb1JlYWQpIHtcbiAgICBkZWJ1ZygnZG8gcmVhZCcpO1xuICAgIHN0YXRlLnJlYWRpbmcgPSB0cnVlO1xuICAgIHN0YXRlLnN5bmMgPSB0cnVlO1xuICAgIC8vIGlmIHRoZSBsZW5ndGggaXMgY3VycmVudGx5IHplcm8sIHRoZW4gd2UgKm5lZWQqIGEgcmVhZGFibGUgZXZlbnQuXG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICAvLyBjYWxsIGludGVybmFsIHJlYWQgbWV0aG9kXG4gICAgdGhpcy5fcmVhZChzdGF0ZS5oaWdoV2F0ZXJNYXJrKTtcbiAgICBzdGF0ZS5zeW5jID0gZmFsc2U7XG4gICAgLy8gSWYgX3JlYWQgcHVzaGVkIGRhdGEgc3luY2hyb25vdXNseSwgdGhlbiBgcmVhZGluZ2Agd2lsbCBiZSBmYWxzZSxcbiAgICAvLyBhbmQgd2UgbmVlZCB0byByZS1ldmFsdWF0ZSBob3cgbXVjaCBkYXRhIHdlIGNhbiByZXR1cm4gdG8gdGhlIHVzZXIuXG4gICAgaWYgKCFzdGF0ZS5yZWFkaW5nKSBuID0gaG93TXVjaFRvUmVhZChuT3JpZywgc3RhdGUpO1xuICB9XG5cbiAgdmFyIHJldDtcbiAgaWYgKG4gPiAwKSByZXQgPSBmcm9tTGlzdChuLCBzdGF0ZSk7ZWxzZSByZXQgPSBudWxsO1xuXG4gIGlmIChyZXQgPT09IG51bGwpIHtcbiAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuICAgIG4gPSAwO1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLmxlbmd0aCAtPSBuO1xuICB9XG5cbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIElmIHdlIGhhdmUgbm90aGluZyBpbiB0aGUgYnVmZmVyLCB0aGVuIHdlIHdhbnQgdG8ga25vd1xuICAgIC8vIGFzIHNvb24gYXMgd2UgKmRvKiBnZXQgc29tZXRoaW5nIGludG8gdGhlIGJ1ZmZlci5cbiAgICBpZiAoIXN0YXRlLmVuZGVkKSBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuXG4gICAgLy8gSWYgd2UgdHJpZWQgdG8gcmVhZCgpIHBhc3QgdGhlIEVPRiwgdGhlbiBlbWl0IGVuZCBvbiB0aGUgbmV4dCB0aWNrLlxuICAgIGlmIChuT3JpZyAhPT0gbiAmJiBzdGF0ZS5lbmRlZCkgZW5kUmVhZGFibGUodGhpcyk7XG4gIH1cblxuICBpZiAocmV0ICE9PSBudWxsKSB0aGlzLmVtaXQoJ2RhdGEnLCByZXQpO1xuXG4gIHJldHVybiByZXQ7XG59O1xuXG5mdW5jdGlvbiBvbkVvZkNodW5rKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKHN0YXRlLmVuZGVkKSByZXR1cm47XG4gIGlmIChzdGF0ZS5kZWNvZGVyKSB7XG4gICAgdmFyIGNodW5rID0gc3RhdGUuZGVjb2Rlci5lbmQoKTtcbiAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSB7XG4gICAgICBzdGF0ZS5idWZmZXIucHVzaChjaHVuayk7XG4gICAgICBzdGF0ZS5sZW5ndGggKz0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG4gICAgfVxuICB9XG4gIHN0YXRlLmVuZGVkID0gdHJ1ZTtcblxuICAvLyBlbWl0ICdyZWFkYWJsZScgbm93IHRvIG1ha2Ugc3VyZSBpdCBnZXRzIHBpY2tlZCB1cC5cbiAgZW1pdFJlYWRhYmxlKHN0cmVhbSk7XG59XG5cbi8vIERvbid0IGVtaXQgcmVhZGFibGUgcmlnaHQgYXdheSBpbiBzeW5jIG1vZGUsIGJlY2F1c2UgdGhpcyBjYW4gdHJpZ2dlclxuLy8gYW5vdGhlciByZWFkKCkgY2FsbCA9PiBzdGFjayBvdmVyZmxvdy4gIFRoaXMgd2F5LCBpdCBtaWdodCB0cmlnZ2VyXG4vLyBhIG5leHRUaWNrIHJlY3Vyc2lvbiB3YXJuaW5nLCBidXQgdGhhdCdzIG5vdCBzbyBiYWQuXG5mdW5jdGlvbiBlbWl0UmVhZGFibGUoc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgc3RhdGUubmVlZFJlYWRhYmxlID0gZmFsc2U7XG4gIGlmICghc3RhdGUuZW1pdHRlZFJlYWRhYmxlKSB7XG4gICAgZGVidWcoJ2VtaXRSZWFkYWJsZScsIHN0YXRlLmZsb3dpbmcpO1xuICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgaWYgKHN0YXRlLnN5bmMpIHBuYS5uZXh0VGljayhlbWl0UmVhZGFibGVfLCBzdHJlYW0pO2Vsc2UgZW1pdFJlYWRhYmxlXyhzdHJlYW0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVtaXRSZWFkYWJsZV8oc3RyZWFtKSB7XG4gIGRlYnVnKCdlbWl0IHJlYWRhYmxlJyk7XG4gIHN0cmVhbS5lbWl0KCdyZWFkYWJsZScpO1xuICBmbG93KHN0cmVhbSk7XG59XG5cbi8vIGF0IHRoaXMgcG9pbnQsIHRoZSB1c2VyIGhhcyBwcmVzdW1hYmx5IHNlZW4gdGhlICdyZWFkYWJsZScgZXZlbnQsXG4vLyBhbmQgY2FsbGVkIHJlYWQoKSB0byBjb25zdW1lIHNvbWUgZGF0YS4gIHRoYXQgbWF5IGhhdmUgdHJpZ2dlcmVkXG4vLyBpbiB0dXJuIGFub3RoZXIgX3JlYWQobikgY2FsbCwgaW4gd2hpY2ggY2FzZSByZWFkaW5nID0gdHJ1ZSBpZlxuLy8gaXQncyBpbiBwcm9ncmVzcy5cbi8vIEhvd2V2ZXIsIGlmIHdlJ3JlIG5vdCBlbmRlZCwgb3IgcmVhZGluZywgYW5kIHRoZSBsZW5ndGggPCBod20sXG4vLyB0aGVuIGdvIGFoZWFkIGFuZCB0cnkgdG8gcmVhZCBzb21lIG1vcmUgcHJlZW1wdGl2ZWx5LlxuZnVuY3Rpb24gbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKSB7XG4gIGlmICghc3RhdGUucmVhZGluZ01vcmUpIHtcbiAgICBzdGF0ZS5yZWFkaW5nTW9yZSA9IHRydWU7XG4gICAgcG5hLm5leHRUaWNrKG1heWJlUmVhZE1vcmVfLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXliZVJlYWRNb3JlXyhzdHJlYW0sIHN0YXRlKSB7XG4gIHZhciBsZW4gPSBzdGF0ZS5sZW5ndGg7XG4gIHdoaWxlICghc3RhdGUucmVhZGluZyAmJiAhc3RhdGUuZmxvd2luZyAmJiAhc3RhdGUuZW5kZWQgJiYgc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyaykge1xuICAgIGRlYnVnKCdtYXliZVJlYWRNb3JlIHJlYWQgMCcpO1xuICAgIHN0cmVhbS5yZWFkKDApO1xuICAgIGlmIChsZW4gPT09IHN0YXRlLmxlbmd0aClcbiAgICAgIC8vIGRpZG4ndCBnZXQgYW55IGRhdGEsIHN0b3Agc3Bpbm5pbmcuXG4gICAgICBicmVhaztlbHNlIGxlbiA9IHN0YXRlLmxlbmd0aDtcbiAgfVxuICBzdGF0ZS5yZWFkaW5nTW9yZSA9IGZhbHNlO1xufVxuXG4vLyBhYnN0cmFjdCBtZXRob2QuICB0byBiZSBvdmVycmlkZGVuIGluIHNwZWNpZmljIGltcGxlbWVudGF0aW9uIGNsYXNzZXMuXG4vLyBjYWxsIGNiKGVyLCBkYXRhKSB3aGVyZSBkYXRhIGlzIDw9IG4gaW4gbGVuZ3RoLlxuLy8gZm9yIHZpcnR1YWwgKG5vbi1zdHJpbmcsIG5vbi1idWZmZXIpIHN0cmVhbXMsIFwibGVuZ3RoXCIgaXMgc29tZXdoYXRcbi8vIGFyYml0cmFyeSwgYW5kIHBlcmhhcHMgbm90IHZlcnkgbWVhbmluZ2Z1bC5cblJlYWRhYmxlLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ19yZWFkKCkgaXMgbm90IGltcGxlbWVudGVkJykpO1xufTtcblxuUmVhZGFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoZGVzdCwgcGlwZU9wdHMpIHtcbiAgdmFyIHNyYyA9IHRoaXM7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG5cbiAgc3dpdGNoIChzdGF0ZS5waXBlc0NvdW50KSB7XG4gICAgY2FzZSAwOlxuICAgICAgc3RhdGUucGlwZXMgPSBkZXN0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAxOlxuICAgICAgc3RhdGUucGlwZXMgPSBbc3RhdGUucGlwZXMsIGRlc3RdO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHN0YXRlLnBpcGVzLnB1c2goZGVzdCk7XG4gICAgICBicmVhaztcbiAgfVxuICBzdGF0ZS5waXBlc0NvdW50ICs9IDE7XG4gIGRlYnVnKCdwaXBlIGNvdW50PSVkIG9wdHM9JWonLCBzdGF0ZS5waXBlc0NvdW50LCBwaXBlT3B0cyk7XG5cbiAgdmFyIGRvRW5kID0gKCFwaXBlT3B0cyB8fCBwaXBlT3B0cy5lbmQgIT09IGZhbHNlKSAmJiBkZXN0ICE9PSBwcm9jZXNzLnN0ZG91dCAmJiBkZXN0ICE9PSBwcm9jZXNzLnN0ZGVycjtcblxuICB2YXIgZW5kRm4gPSBkb0VuZCA/IG9uZW5kIDogdW5waXBlO1xuICBpZiAoc3RhdGUuZW5kRW1pdHRlZCkgcG5hLm5leHRUaWNrKGVuZEZuKTtlbHNlIHNyYy5vbmNlKCdlbmQnLCBlbmRGbik7XG5cbiAgZGVzdC5vbigndW5waXBlJywgb251bnBpcGUpO1xuICBmdW5jdGlvbiBvbnVucGlwZShyZWFkYWJsZSwgdW5waXBlSW5mbykge1xuICAgIGRlYnVnKCdvbnVucGlwZScpO1xuICAgIGlmIChyZWFkYWJsZSA9PT0gc3JjKSB7XG4gICAgICBpZiAodW5waXBlSW5mbyAmJiB1bnBpcGVJbmZvLmhhc1VucGlwZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIHVucGlwZUluZm8uaGFzVW5waXBlZCA9IHRydWU7XG4gICAgICAgIGNsZWFudXAoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbmVuZCgpIHtcbiAgICBkZWJ1Zygnb25lbmQnKTtcbiAgICBkZXN0LmVuZCgpO1xuICB9XG5cbiAgLy8gd2hlbiB0aGUgZGVzdCBkcmFpbnMsIGl0IHJlZHVjZXMgdGhlIGF3YWl0RHJhaW4gY291bnRlclxuICAvLyBvbiB0aGUgc291cmNlLiAgVGhpcyB3b3VsZCBiZSBtb3JlIGVsZWdhbnQgd2l0aCBhIC5vbmNlKClcbiAgLy8gaGFuZGxlciBpbiBmbG93KCksIGJ1dCBhZGRpbmcgYW5kIHJlbW92aW5nIHJlcGVhdGVkbHkgaXNcbiAgLy8gdG9vIHNsb3cuXG4gIHZhciBvbmRyYWluID0gcGlwZU9uRHJhaW4oc3JjKTtcbiAgZGVzdC5vbignZHJhaW4nLCBvbmRyYWluKTtcblxuICB2YXIgY2xlYW5lZFVwID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgZGVidWcoJ2NsZWFudXAnKTtcbiAgICAvLyBjbGVhbnVwIGV2ZW50IGhhbmRsZXJzIG9uY2UgdGhlIHBpcGUgaXMgYnJva2VuXG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZHJhaW4nLCBvbmRyYWluKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ3VucGlwZScsIG9udW5waXBlKTtcbiAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIG9uZW5kKTtcbiAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIHVucGlwZSk7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgb25kYXRhKTtcblxuICAgIGNsZWFuZWRVcCA9IHRydWU7XG5cbiAgICAvLyBpZiB0aGUgcmVhZGVyIGlzIHdhaXRpbmcgZm9yIGEgZHJhaW4gZXZlbnQgZnJvbSB0aGlzXG4gICAgLy8gc3BlY2lmaWMgd3JpdGVyLCB0aGVuIGl0IHdvdWxkIGNhdXNlIGl0IHRvIG5ldmVyIHN0YXJ0XG4gICAgLy8gZmxvd2luZyBhZ2Fpbi5cbiAgICAvLyBTbywgaWYgdGhpcyBpcyBhd2FpdGluZyBhIGRyYWluLCB0aGVuIHdlIGp1c3QgY2FsbCBpdCBub3cuXG4gICAgLy8gSWYgd2UgZG9uJ3Qga25vdywgdGhlbiBhc3N1bWUgdGhhdCB3ZSBhcmUgd2FpdGluZyBmb3Igb25lLlxuICAgIGlmIChzdGF0ZS5hd2FpdERyYWluICYmICghZGVzdC5fd3JpdGFibGVTdGF0ZSB8fCBkZXN0Ll93cml0YWJsZVN0YXRlLm5lZWREcmFpbikpIG9uZHJhaW4oKTtcbiAgfVxuXG4gIC8vIElmIHRoZSB1c2VyIHB1c2hlcyBtb3JlIGRhdGEgd2hpbGUgd2UncmUgd3JpdGluZyB0byBkZXN0IHRoZW4gd2UnbGwgZW5kIHVwXG4gIC8vIGluIG9uZGF0YSBhZ2Fpbi4gSG93ZXZlciwgd2Ugb25seSB3YW50IHRvIGluY3JlYXNlIGF3YWl0RHJhaW4gb25jZSBiZWNhdXNlXG4gIC8vIGRlc3Qgd2lsbCBvbmx5IGVtaXQgb25lICdkcmFpbicgZXZlbnQgZm9yIHRoZSBtdWx0aXBsZSB3cml0ZXMuXG4gIC8vID0+IEludHJvZHVjZSBhIGd1YXJkIG9uIGluY3JlYXNpbmcgYXdhaXREcmFpbi5cbiAgdmFyIGluY3JlYXNlZEF3YWl0RHJhaW4gPSBmYWxzZTtcbiAgc3JjLm9uKCdkYXRhJywgb25kYXRhKTtcbiAgZnVuY3Rpb24gb25kYXRhKGNodW5rKSB7XG4gICAgZGVidWcoJ29uZGF0YScpO1xuICAgIGluY3JlYXNlZEF3YWl0RHJhaW4gPSBmYWxzZTtcbiAgICB2YXIgcmV0ID0gZGVzdC53cml0ZShjaHVuayk7XG4gICAgaWYgKGZhbHNlID09PSByZXQgJiYgIWluY3JlYXNlZEF3YWl0RHJhaW4pIHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIHVucGlwZWQgZHVyaW5nIGBkZXN0LndyaXRlKClgLCBpdCBpcyBwb3NzaWJsZVxuICAgICAgLy8gdG8gZ2V0IHN0dWNrIGluIGEgcGVybWFuZW50bHkgcGF1c2VkIHN0YXRlIGlmIHRoYXQgd3JpdGVcbiAgICAgIC8vIGFsc28gcmV0dXJuZWQgZmFsc2UuXG4gICAgICAvLyA9PiBDaGVjayB3aGV0aGVyIGBkZXN0YCBpcyBzdGlsbCBhIHBpcGluZyBkZXN0aW5hdGlvbi5cbiAgICAgIGlmICgoc3RhdGUucGlwZXNDb3VudCA9PT0gMSAmJiBzdGF0ZS5waXBlcyA9PT0gZGVzdCB8fCBzdGF0ZS5waXBlc0NvdW50ID4gMSAmJiBpbmRleE9mKHN0YXRlLnBpcGVzLCBkZXN0KSAhPT0gLTEpICYmICFjbGVhbmVkVXApIHtcbiAgICAgICAgZGVidWcoJ2ZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZScsIHNyYy5fcmVhZGFibGVTdGF0ZS5hd2FpdERyYWluKTtcbiAgICAgICAgc3JjLl9yZWFkYWJsZVN0YXRlLmF3YWl0RHJhaW4rKztcbiAgICAgICAgaW5jcmVhc2VkQXdhaXREcmFpbiA9IHRydWU7XG4gICAgICB9XG4gICAgICBzcmMucGF1c2UoKTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgZGVzdCBoYXMgYW4gZXJyb3IsIHRoZW4gc3RvcCBwaXBpbmcgaW50byBpdC5cbiAgLy8gaG93ZXZlciwgZG9uJ3Qgc3VwcHJlc3MgdGhlIHRocm93aW5nIGJlaGF2aW9yIGZvciB0aGlzLlxuICBmdW5jdGlvbiBvbmVycm9yKGVyKSB7XG4gICAgZGVidWcoJ29uZXJyb3InLCBlcik7XG4gICAgdW5waXBlKCk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICBpZiAoRUVsaXN0ZW5lckNvdW50KGRlc3QsICdlcnJvcicpID09PSAwKSBkZXN0LmVtaXQoJ2Vycm9yJywgZXIpO1xuICB9XG5cbiAgLy8gTWFrZSBzdXJlIG91ciBlcnJvciBoYW5kbGVyIGlzIGF0dGFjaGVkIGJlZm9yZSB1c2VybGFuZCBvbmVzLlxuICBwcmVwZW5kTGlzdGVuZXIoZGVzdCwgJ2Vycm9yJywgb25lcnJvcik7XG5cbiAgLy8gQm90aCBjbG9zZSBhbmQgZmluaXNoIHNob3VsZCB0cmlnZ2VyIHVucGlwZSwgYnV0IG9ubHkgb25jZS5cbiAgZnVuY3Rpb24gb25jbG9zZSgpIHtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG4gICAgdW5waXBlKCk7XG4gIH1cbiAgZGVzdC5vbmNlKCdjbG9zZScsIG9uY2xvc2UpO1xuICBmdW5jdGlvbiBvbmZpbmlzaCgpIHtcbiAgICBkZWJ1Zygnb25maW5pc2gnKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuICAgIHVucGlwZSgpO1xuICB9XG4gIGRlc3Qub25jZSgnZmluaXNoJywgb25maW5pc2gpO1xuXG4gIGZ1bmN0aW9uIHVucGlwZSgpIHtcbiAgICBkZWJ1ZygndW5waXBlJyk7XG4gICAgc3JjLnVucGlwZShkZXN0KTtcbiAgfVxuXG4gIC8vIHRlbGwgdGhlIGRlc3QgdGhhdCBpdCdzIGJlaW5nIHBpcGVkIHRvXG4gIGRlc3QuZW1pdCgncGlwZScsIHNyYyk7XG5cbiAgLy8gc3RhcnQgdGhlIGZsb3cgaWYgaXQgaGFzbid0IGJlZW4gc3RhcnRlZCBhbHJlYWR5LlxuICBpZiAoIXN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncGlwZSByZXN1bWUnKTtcbiAgICBzcmMucmVzdW1lKCk7XG4gIH1cblxuICByZXR1cm4gZGVzdDtcbn07XG5cbmZ1bmN0aW9uIHBpcGVPbkRyYWluKHNyYykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzdGF0ZSA9IHNyYy5fcmVhZGFibGVTdGF0ZTtcbiAgICBkZWJ1ZygncGlwZU9uRHJhaW4nLCBzdGF0ZS5hd2FpdERyYWluKTtcbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbikgc3RhdGUuYXdhaXREcmFpbi0tO1xuICAgIGlmIChzdGF0ZS5hd2FpdERyYWluID09PSAwICYmIEVFbGlzdGVuZXJDb3VudChzcmMsICdkYXRhJykpIHtcbiAgICAgIHN0YXRlLmZsb3dpbmcgPSB0cnVlO1xuICAgICAgZmxvdyhzcmMpO1xuICAgIH1cbiAgfTtcbn1cblxuUmVhZGFibGUucHJvdG90eXBlLnVucGlwZSA9IGZ1bmN0aW9uIChkZXN0KSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHZhciB1bnBpcGVJbmZvID0geyBoYXNVbnBpcGVkOiBmYWxzZSB9O1xuXG4gIC8vIGlmIHdlJ3JlIG5vdCBwaXBpbmcgYW55d2hlcmUsIHRoZW4gZG8gbm90aGluZy5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDApIHJldHVybiB0aGlzO1xuXG4gIC8vIGp1c3Qgb25lIGRlc3RpbmF0aW9uLiAgbW9zdCBjb21tb24gY2FzZS5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDEpIHtcbiAgICAvLyBwYXNzZWQgaW4gb25lLCBidXQgaXQncyBub3QgdGhlIHJpZ2h0IG9uZS5cbiAgICBpZiAoZGVzdCAmJiBkZXN0ICE9PSBzdGF0ZS5waXBlcykgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAoIWRlc3QpIGRlc3QgPSBzdGF0ZS5waXBlcztcblxuICAgIC8vIGdvdCBhIG1hdGNoLlxuICAgIHN0YXRlLnBpcGVzID0gbnVsbDtcbiAgICBzdGF0ZS5waXBlc0NvdW50ID0gMDtcbiAgICBzdGF0ZS5mbG93aW5nID0gZmFsc2U7XG4gICAgaWYgKGRlc3QpIGRlc3QuZW1pdCgndW5waXBlJywgdGhpcywgdW5waXBlSW5mbyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBzbG93IGNhc2UuIG11bHRpcGxlIHBpcGUgZGVzdGluYXRpb25zLlxuXG4gIGlmICghZGVzdCkge1xuICAgIC8vIHJlbW92ZSBhbGwuXG4gICAgdmFyIGRlc3RzID0gc3RhdGUucGlwZXM7XG4gICAgdmFyIGxlbiA9IHN0YXRlLnBpcGVzQ291bnQ7XG4gICAgc3RhdGUucGlwZXMgPSBudWxsO1xuICAgIHN0YXRlLnBpcGVzQ291bnQgPSAwO1xuICAgIHN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGRlc3RzW2ldLmVtaXQoJ3VucGlwZScsIHRoaXMsIHVucGlwZUluZm8pO1xuICAgIH1yZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHRyeSB0byBmaW5kIHRoZSByaWdodCBvbmUuXG4gIHZhciBpbmRleCA9IGluZGV4T2Yoc3RhdGUucGlwZXMsIGRlc3QpO1xuICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gdGhpcztcblxuICBzdGF0ZS5waXBlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICBzdGF0ZS5waXBlc0NvdW50IC09IDE7XG4gIGlmIChzdGF0ZS5waXBlc0NvdW50ID09PSAxKSBzdGF0ZS5waXBlcyA9IHN0YXRlLnBpcGVzWzBdO1xuXG4gIGRlc3QuZW1pdCgndW5waXBlJywgdGhpcywgdW5waXBlSW5mbyk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBzZXQgdXAgZGF0YSBldmVudHMgaWYgdGhleSBhcmUgYXNrZWQgZm9yXG4vLyBFbnN1cmUgcmVhZGFibGUgbGlzdGVuZXJzIGV2ZW50dWFsbHkgZ2V0IHNvbWV0aGluZ1xuUmVhZGFibGUucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2LCBmbikge1xuICB2YXIgcmVzID0gU3RyZWFtLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsIGV2LCBmbik7XG5cbiAgaWYgKGV2ID09PSAnZGF0YScpIHtcbiAgICAvLyBTdGFydCBmbG93aW5nIG9uIG5leHQgdGljayBpZiBzdHJlYW0gaXNuJ3QgZXhwbGljaXRseSBwYXVzZWRcbiAgICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nICE9PSBmYWxzZSkgdGhpcy5yZXN1bWUoKTtcbiAgfSBlbHNlIGlmIChldiA9PT0gJ3JlYWRhYmxlJykge1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gICAgaWYgKCFzdGF0ZS5lbmRFbWl0dGVkICYmICFzdGF0ZS5yZWFkYWJsZUxpc3RlbmluZykge1xuICAgICAgc3RhdGUucmVhZGFibGVMaXN0ZW5pbmcgPSBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuICAgICAgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7XG4gICAgICBpZiAoIXN0YXRlLnJlYWRpbmcpIHtcbiAgICAgICAgcG5hLm5leHRUaWNrKG5SZWFkaW5nTmV4dFRpY2ssIHRoaXMpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5sZW5ndGgpIHtcbiAgICAgICAgZW1pdFJlYWRhYmxlKHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXM7XG59O1xuUmVhZGFibGUucHJvdG90eXBlLmFkZExpc3RlbmVyID0gUmVhZGFibGUucHJvdG90eXBlLm9uO1xuXG5mdW5jdGlvbiBuUmVhZGluZ05leHRUaWNrKHNlbGYpIHtcbiAgZGVidWcoJ3JlYWRhYmxlIG5leHR0aWNrIHJlYWQgMCcpO1xuICBzZWxmLnJlYWQoMCk7XG59XG5cbi8vIHBhdXNlKCkgYW5kIHJlc3VtZSgpIGFyZSByZW1uYW50cyBvZiB0aGUgbGVnYWN5IHJlYWRhYmxlIHN0cmVhbSBBUElcbi8vIElmIHRoZSB1c2VyIHVzZXMgdGhlbSwgdGhlbiBzd2l0Y2ggaW50byBvbGQgbW9kZS5cblJlYWRhYmxlLnByb3RvdHlwZS5yZXN1bWUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIGlmICghc3RhdGUuZmxvd2luZykge1xuICAgIGRlYnVnKCdyZXN1bWUnKTtcbiAgICBzdGF0ZS5mbG93aW5nID0gdHJ1ZTtcbiAgICByZXN1bWUodGhpcywgc3RhdGUpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gcmVzdW1lKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5yZXN1bWVTY2hlZHVsZWQpIHtcbiAgICBzdGF0ZS5yZXN1bWVTY2hlZHVsZWQgPSB0cnVlO1xuICAgIHBuYS5uZXh0VGljayhyZXN1bWVfLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXN1bWVfKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5yZWFkaW5nKSB7XG4gICAgZGVidWcoJ3Jlc3VtZSByZWFkIDAnKTtcbiAgICBzdHJlYW0ucmVhZCgwKTtcbiAgfVxuXG4gIHN0YXRlLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlO1xuICBzdGF0ZS5hd2FpdERyYWluID0gMDtcbiAgc3RyZWFtLmVtaXQoJ3Jlc3VtZScpO1xuICBmbG93KHN0cmVhbSk7XG4gIGlmIChzdGF0ZS5mbG93aW5nICYmICFzdGF0ZS5yZWFkaW5nKSBzdHJlYW0ucmVhZCgwKTtcbn1cblxuUmVhZGFibGUucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1ZygnY2FsbCBwYXVzZSBmbG93aW5nPSVqJywgdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKTtcbiAgaWYgKGZhbHNlICE9PSB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncGF1c2UnKTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmVtaXQoJ3BhdXNlJyk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBmbG93KHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIGRlYnVnKCdmbG93Jywgc3RhdGUuZmxvd2luZyk7XG4gIHdoaWxlIChzdGF0ZS5mbG93aW5nICYmIHN0cmVhbS5yZWFkKCkgIT09IG51bGwpIHt9XG59XG5cbi8vIHdyYXAgYW4gb2xkLXN0eWxlIHN0cmVhbSBhcyB0aGUgYXN5bmMgZGF0YSBzb3VyY2UuXG4vLyBUaGlzIGlzICpub3QqIHBhcnQgb2YgdGhlIHJlYWRhYmxlIHN0cmVhbSBpbnRlcmZhY2UuXG4vLyBJdCBpcyBhbiB1Z2x5IHVuZm9ydHVuYXRlIG1lc3Mgb2YgaGlzdG9yeS5cblJlYWRhYmxlLnByb3RvdHlwZS53cmFwID0gZnVuY3Rpb24gKHN0cmVhbSkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHZhciBwYXVzZWQgPSBmYWxzZTtcblxuICBzdHJlYW0ub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICBkZWJ1Zygnd3JhcHBlZCBlbmQnKTtcbiAgICBpZiAoc3RhdGUuZGVjb2RlciAmJiAhc3RhdGUuZW5kZWQpIHtcbiAgICAgIHZhciBjaHVuayA9IHN0YXRlLmRlY29kZXIuZW5kKCk7XG4gICAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSBfdGhpcy5wdXNoKGNodW5rKTtcbiAgICB9XG5cbiAgICBfdGhpcy5wdXNoKG51bGwpO1xuICB9KTtcblxuICBzdHJlYW0ub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHtcbiAgICBkZWJ1Zygnd3JhcHBlZCBkYXRhJyk7XG4gICAgaWYgKHN0YXRlLmRlY29kZXIpIGNodW5rID0gc3RhdGUuZGVjb2Rlci53cml0ZShjaHVuayk7XG5cbiAgICAvLyBkb24ndCBza2lwIG92ZXIgZmFsc3kgdmFsdWVzIGluIG9iamVjdE1vZGVcbiAgICBpZiAoc3RhdGUub2JqZWN0TW9kZSAmJiAoY2h1bmsgPT09IG51bGwgfHwgY2h1bmsgPT09IHVuZGVmaW5lZCkpIHJldHVybjtlbHNlIGlmICghc3RhdGUub2JqZWN0TW9kZSAmJiAoIWNodW5rIHx8ICFjaHVuay5sZW5ndGgpKSByZXR1cm47XG5cbiAgICB2YXIgcmV0ID0gX3RoaXMucHVzaChjaHVuayk7XG4gICAgaWYgKCFyZXQpIHtcbiAgICAgIHBhdXNlZCA9IHRydWU7XG4gICAgICBzdHJlYW0ucGF1c2UoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHByb3h5IGFsbCB0aGUgb3RoZXIgbWV0aG9kcy5cbiAgLy8gaW1wb3J0YW50IHdoZW4gd3JhcHBpbmcgZmlsdGVycyBhbmQgZHVwbGV4ZXMuXG4gIGZvciAodmFyIGkgaW4gc3RyZWFtKSB7XG4gICAgaWYgKHRoaXNbaV0gPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc3RyZWFtW2ldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzW2ldID0gZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBzdHJlYW1bbWV0aG9kXS5hcHBseShzdHJlYW0sIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgICB9KGkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHByb3h5IGNlcnRhaW4gaW1wb3J0YW50IGV2ZW50cy5cbiAgZm9yICh2YXIgbiA9IDA7IG4gPCBrUHJveHlFdmVudHMubGVuZ3RoOyBuKyspIHtcbiAgICBzdHJlYW0ub24oa1Byb3h5RXZlbnRzW25dLCB0aGlzLmVtaXQuYmluZCh0aGlzLCBrUHJveHlFdmVudHNbbl0pKTtcbiAgfVxuXG4gIC8vIHdoZW4gd2UgdHJ5IHRvIGNvbnN1bWUgc29tZSBtb3JlIGJ5dGVzLCBzaW1wbHkgdW5wYXVzZSB0aGVcbiAgLy8gdW5kZXJseWluZyBzdHJlYW0uXG4gIHRoaXMuX3JlYWQgPSBmdW5jdGlvbiAobikge1xuICAgIGRlYnVnKCd3cmFwcGVkIF9yZWFkJywgbik7XG4gICAgaWYgKHBhdXNlZCkge1xuICAgICAgcGF1c2VkID0gZmFsc2U7XG4gICAgICBzdHJlYW0ucmVzdW1lKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlLnByb3RvdHlwZSwgJ3JlYWRhYmxlSGlnaFdhdGVyTWFyaycsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgfVxufSk7XG5cbi8vIGV4cG9zZWQgZm9yIHRlc3RpbmcgcHVycG9zZXMgb25seS5cblJlYWRhYmxlLl9mcm9tTGlzdCA9IGZyb21MaXN0O1xuXG4vLyBQbHVjayBvZmYgbiBieXRlcyBmcm9tIGFuIGFycmF5IG9mIGJ1ZmZlcnMuXG4vLyBMZW5ndGggaXMgdGhlIGNvbWJpbmVkIGxlbmd0aHMgb2YgYWxsIHRoZSBidWZmZXJzIGluIHRoZSBsaXN0LlxuLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5mdW5jdGlvbiBmcm9tTGlzdChuLCBzdGF0ZSkge1xuICAvLyBub3RoaW5nIGJ1ZmZlcmVkXG4gIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuXG4gIHZhciByZXQ7XG4gIGlmIChzdGF0ZS5vYmplY3RNb2RlKSByZXQgPSBzdGF0ZS5idWZmZXIuc2hpZnQoKTtlbHNlIGlmICghbiB8fCBuID49IHN0YXRlLmxlbmd0aCkge1xuICAgIC8vIHJlYWQgaXQgYWxsLCB0cnVuY2F0ZSB0aGUgbGlzdFxuICAgIGlmIChzdGF0ZS5kZWNvZGVyKSByZXQgPSBzdGF0ZS5idWZmZXIuam9pbignJyk7ZWxzZSBpZiAoc3RhdGUuYnVmZmVyLmxlbmd0aCA9PT0gMSkgcmV0ID0gc3RhdGUuYnVmZmVyLmhlYWQuZGF0YTtlbHNlIHJldCA9IHN0YXRlLmJ1ZmZlci5jb25jYXQoc3RhdGUubGVuZ3RoKTtcbiAgICBzdGF0ZS5idWZmZXIuY2xlYXIoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyByZWFkIHBhcnQgb2YgbGlzdFxuICAgIHJldCA9IGZyb21MaXN0UGFydGlhbChuLCBzdGF0ZS5idWZmZXIsIHN0YXRlLmRlY29kZXIpO1xuICB9XG5cbiAgcmV0dXJuIHJldDtcbn1cblxuLy8gRXh0cmFjdHMgb25seSBlbm91Z2ggYnVmZmVyZWQgZGF0YSB0byBzYXRpc2Z5IHRoZSBhbW91bnQgcmVxdWVzdGVkLlxuLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5mdW5jdGlvbiBmcm9tTGlzdFBhcnRpYWwobiwgbGlzdCwgaGFzU3RyaW5ncykge1xuICB2YXIgcmV0O1xuICBpZiAobiA8IGxpc3QuaGVhZC5kYXRhLmxlbmd0aCkge1xuICAgIC8vIHNsaWNlIGlzIHRoZSBzYW1lIGZvciBidWZmZXJzIGFuZCBzdHJpbmdzXG4gICAgcmV0ID0gbGlzdC5oZWFkLmRhdGEuc2xpY2UoMCwgbik7XG4gICAgbGlzdC5oZWFkLmRhdGEgPSBsaXN0LmhlYWQuZGF0YS5zbGljZShuKTtcbiAgfSBlbHNlIGlmIChuID09PSBsaXN0LmhlYWQuZGF0YS5sZW5ndGgpIHtcbiAgICAvLyBmaXJzdCBjaHVuayBpcyBhIHBlcmZlY3QgbWF0Y2hcbiAgICByZXQgPSBsaXN0LnNoaWZ0KCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcmVzdWx0IHNwYW5zIG1vcmUgdGhhbiBvbmUgYnVmZmVyXG4gICAgcmV0ID0gaGFzU3RyaW5ncyA/IGNvcHlGcm9tQnVmZmVyU3RyaW5nKG4sIGxpc3QpIDogY29weUZyb21CdWZmZXIobiwgbGlzdCk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuLy8gQ29waWVzIGEgc3BlY2lmaWVkIGFtb3VudCBvZiBjaGFyYWN0ZXJzIGZyb20gdGhlIGxpc3Qgb2YgYnVmZmVyZWQgZGF0YVxuLy8gY2h1bmtzLlxuLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5mdW5jdGlvbiBjb3B5RnJvbUJ1ZmZlclN0cmluZyhuLCBsaXN0KSB7XG4gIHZhciBwID0gbGlzdC5oZWFkO1xuICB2YXIgYyA9IDE7XG4gIHZhciByZXQgPSBwLmRhdGE7XG4gIG4gLT0gcmV0Lmxlbmd0aDtcbiAgd2hpbGUgKHAgPSBwLm5leHQpIHtcbiAgICB2YXIgc3RyID0gcC5kYXRhO1xuICAgIHZhciBuYiA9IG4gPiBzdHIubGVuZ3RoID8gc3RyLmxlbmd0aCA6IG47XG4gICAgaWYgKG5iID09PSBzdHIubGVuZ3RoKSByZXQgKz0gc3RyO2Vsc2UgcmV0ICs9IHN0ci5zbGljZSgwLCBuKTtcbiAgICBuIC09IG5iO1xuICAgIGlmIChuID09PSAwKSB7XG4gICAgICBpZiAobmIgPT09IHN0ci5sZW5ndGgpIHtcbiAgICAgICAgKytjO1xuICAgICAgICBpZiAocC5uZXh0KSBsaXN0LmhlYWQgPSBwLm5leHQ7ZWxzZSBsaXN0LmhlYWQgPSBsaXN0LnRhaWwgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdC5oZWFkID0gcDtcbiAgICAgICAgcC5kYXRhID0gc3RyLnNsaWNlKG5iKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICArK2M7XG4gIH1cbiAgbGlzdC5sZW5ndGggLT0gYztcbiAgcmV0dXJuIHJldDtcbn1cblxuLy8gQ29waWVzIGEgc3BlY2lmaWVkIGFtb3VudCBvZiBieXRlcyBmcm9tIHRoZSBsaXN0IG9mIGJ1ZmZlcmVkIGRhdGEgY2h1bmtzLlxuLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5mdW5jdGlvbiBjb3B5RnJvbUJ1ZmZlcihuLCBsaXN0KSB7XG4gIHZhciByZXQgPSBCdWZmZXIuYWxsb2NVbnNhZmUobik7XG4gIHZhciBwID0gbGlzdC5oZWFkO1xuICB2YXIgYyA9IDE7XG4gIHAuZGF0YS5jb3B5KHJldCk7XG4gIG4gLT0gcC5kYXRhLmxlbmd0aDtcbiAgd2hpbGUgKHAgPSBwLm5leHQpIHtcbiAgICB2YXIgYnVmID0gcC5kYXRhO1xuICAgIHZhciBuYiA9IG4gPiBidWYubGVuZ3RoID8gYnVmLmxlbmd0aCA6IG47XG4gICAgYnVmLmNvcHkocmV0LCByZXQubGVuZ3RoIC0gbiwgMCwgbmIpO1xuICAgIG4gLT0gbmI7XG4gICAgaWYgKG4gPT09IDApIHtcbiAgICAgIGlmIChuYiA9PT0gYnVmLmxlbmd0aCkge1xuICAgICAgICArK2M7XG4gICAgICAgIGlmIChwLm5leHQpIGxpc3QuaGVhZCA9IHAubmV4dDtlbHNlIGxpc3QuaGVhZCA9IGxpc3QudGFpbCA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaXN0LmhlYWQgPSBwO1xuICAgICAgICBwLmRhdGEgPSBidWYuc2xpY2UobmIpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgICsrYztcbiAgfVxuICBsaXN0Lmxlbmd0aCAtPSBjO1xuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBlbmRSZWFkYWJsZShzdHJlYW0pIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuXG4gIC8vIElmIHdlIGdldCBoZXJlIGJlZm9yZSBjb25zdW1pbmcgYWxsIHRoZSBieXRlcywgdGhlbiB0aGF0IGlzIGFcbiAgLy8gYnVnIGluIG5vZGUuICBTaG91bGQgbmV2ZXIgaGFwcGVuLlxuICBpZiAoc3RhdGUubGVuZ3RoID4gMCkgdGhyb3cgbmV3IEVycm9yKCdcImVuZFJlYWRhYmxlKClcIiBjYWxsZWQgb24gbm9uLWVtcHR5IHN0cmVhbScpO1xuXG4gIGlmICghc3RhdGUuZW5kRW1pdHRlZCkge1xuICAgIHN0YXRlLmVuZGVkID0gdHJ1ZTtcbiAgICBwbmEubmV4dFRpY2soZW5kUmVhZGFibGVOVCwgc3RhdGUsIHN0cmVhbSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW5kUmVhZGFibGVOVChzdGF0ZSwgc3RyZWFtKSB7XG4gIC8vIENoZWNrIHRoYXQgd2UgZGlkbid0IGdldCBvbmUgbGFzdCB1bnNoaWZ0LlxuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQgJiYgc3RhdGUubGVuZ3RoID09PSAwKSB7XG4gICAgc3RhdGUuZW5kRW1pdHRlZCA9IHRydWU7XG4gICAgc3RyZWFtLnJlYWRhYmxlID0gZmFsc2U7XG4gICAgc3RyZWFtLmVtaXQoJ2VuZCcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluZGV4T2YoeHMsIHgpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB4cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoeHNbaV0gPT09IHgpIHJldHVybiBpO1xuICB9XG4gIHJldHVybiAtMTtcbn0iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbiAgfVxuXG52YXIgUmVmbGVjdE93bktleXNcbmlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXNcbn0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpXG4gICAgICAuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSk7XG4gIH07XG59IGVsc2Uge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbn1cblxudmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gJGdldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gJGdldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9ICRnZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgdmFyIGFyZ3MgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBSZWZsZWN0QXBwbHkodGhpcy5saXN0ZW5lciwgdGhpcy50YXJnZXQsIGFyZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucHJlcGVuZExpc3RlbmVyKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuLy8gRW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmIGFuZCBvbmx5IGlmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICB2YXIgbGlzdCwgZXZlbnRzLCBwb3NpdGlvbiwgaSwgb3JpZ2luYWxMaXN0ZW5lcjtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xuXG52YXIgcG5hID0gcmVxdWlyZSgncHJvY2Vzcy1uZXh0aWNrLWFyZ3MnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG4vLyB1bmRvY3VtZW50ZWQgY2IoKSBBUEksIG5lZWRlZCBmb3IgY29yZSwgbm90IGZvciBwdWJsaWMgQVBJXG5mdW5jdGlvbiBkZXN0cm95KGVyciwgY2IpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB2YXIgcmVhZGFibGVEZXN0cm95ZWQgPSB0aGlzLl9yZWFkYWJsZVN0YXRlICYmIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkO1xuICB2YXIgd3JpdGFibGVEZXN0cm95ZWQgPSB0aGlzLl93cml0YWJsZVN0YXRlICYmIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkO1xuXG4gIGlmIChyZWFkYWJsZURlc3Ryb3llZCB8fCB3cml0YWJsZURlc3Ryb3llZCkge1xuICAgIGlmIChjYikge1xuICAgICAgY2IoZXJyKTtcbiAgICB9IGVsc2UgaWYgKGVyciAmJiAoIXRoaXMuX3dyaXRhYmxlU3RhdGUgfHwgIXRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkKSkge1xuICAgICAgcG5hLm5leHRUaWNrKGVtaXRFcnJvck5ULCB0aGlzLCBlcnIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHdlIHNldCBkZXN0cm95ZWQgdG8gdHJ1ZSBiZWZvcmUgZmlyaW5nIGVycm9yIGNhbGxiYWNrcyBpbiBvcmRlclxuICAvLyB0byBtYWtlIGl0IHJlLWVudHJhbmNlIHNhZmUgaW4gY2FzZSBkZXN0cm95KCkgaXMgY2FsbGVkIHdpdGhpbiBjYWxsYmFja3NcblxuICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZSkge1xuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIGlmIHRoaXMgaXMgYSBkdXBsZXggc3RyZWFtIG1hcmsgdGhlIHdyaXRhYmxlIHBhcnQgYXMgZGVzdHJveWVkIGFzIHdlbGxcbiAgaWYgKHRoaXMuX3dyaXRhYmxlU3RhdGUpIHtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCA9IHRydWU7XG4gIH1cblxuICB0aGlzLl9kZXN0cm95KGVyciB8fCBudWxsLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKCFjYiAmJiBlcnIpIHtcbiAgICAgIHBuYS5uZXh0VGljayhlbWl0RXJyb3JOVCwgX3RoaXMsIGVycik7XG4gICAgICBpZiAoX3RoaXMuX3dyaXRhYmxlU3RhdGUpIHtcbiAgICAgICAgX3RoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNiKSB7XG4gICAgICBjYihlcnIpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHVuZGVzdHJveSgpIHtcbiAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUpIHtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUucmVhZGluZyA9IGZhbHNlO1xuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGlmICh0aGlzLl93cml0YWJsZVN0YXRlKSB7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbWl0RXJyb3JOVChzZWxmLCBlcnIpIHtcbiAgc2VsZi5lbWl0KCdlcnJvcicsIGVycik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBkZXN0cm95OiBkZXN0cm95LFxuICB1bmRlc3Ryb3k6IHVuZGVzdHJveVxufTsiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gQSBiaXQgc2ltcGxlciB0aGFuIHJlYWRhYmxlIHN0cmVhbXMuXG4vLyBJbXBsZW1lbnQgYW4gYXN5bmMgLl93cml0ZShjaHVuaywgZW5jb2RpbmcsIGNiKSwgYW5kIGl0J2xsIGhhbmRsZSBhbGxcbi8vIHRoZSBkcmFpbiBldmVudCBlbWlzc2lvbiBhbmQgYnVmZmVyaW5nLlxuXG4ndXNlIHN0cmljdCc7XG5cbi8qPHJlcGxhY2VtZW50PiovXG5cbnZhciBwbmEgPSByZXF1aXJlKCdwcm9jZXNzLW5leHRpY2stYXJncycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbm1vZHVsZS5leHBvcnRzID0gV3JpdGFibGU7XG5cbi8qIDxyZXBsYWNlbWVudD4gKi9cbmZ1bmN0aW9uIFdyaXRlUmVxKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdGhpcy5jaHVuayA9IGNodW5rO1xuICB0aGlzLmVuY29kaW5nID0gZW5jb2Rpbmc7XG4gIHRoaXMuY2FsbGJhY2sgPSBjYjtcbiAgdGhpcy5uZXh0ID0gbnVsbDtcbn1cblxuLy8gSXQgc2VlbXMgYSBsaW5rZWQgbGlzdCBidXQgaXQgaXMgbm90XG4vLyB0aGVyZSB3aWxsIGJlIG9ubHkgMiBvZiB0aGVzZSBmb3IgZWFjaCBzdHJlYW1cbmZ1bmN0aW9uIENvcmtlZFJlcXVlc3Qoc3RhdGUpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB0aGlzLm5leHQgPSBudWxsO1xuICB0aGlzLmVudHJ5ID0gbnVsbDtcbiAgdGhpcy5maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgb25Db3JrZWRGaW5pc2goX3RoaXMsIHN0YXRlKTtcbiAgfTtcbn1cbi8qIDwvcmVwbGFjZW1lbnQ+ICovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgYXN5bmNXcml0ZSA9ICFwcm9jZXNzLmJyb3dzZXIgJiYgWyd2MC4xMCcsICd2MC45LiddLmluZGV4T2YocHJvY2Vzcy52ZXJzaW9uLnNsaWNlKDAsIDUpKSA+IC0xID8gc2V0SW1tZWRpYXRlIDogcG5hLm5leHRUaWNrO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgRHVwbGV4O1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbldyaXRhYmxlLldyaXRhYmxlU3RhdGUgPSBXcml0YWJsZVN0YXRlO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIHV0aWwgPSByZXF1aXJlKCdjb3JlLXV0aWwtaXMnKTtcbnV0aWwuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgaW50ZXJuYWxVdGlsID0ge1xuICBkZXByZWNhdGU6IHJlcXVpcmUoJ3V0aWwtZGVwcmVjYXRlJylcbn07XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBTdHJlYW0gPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvc3RyZWFtJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJykuQnVmZmVyO1xudmFyIE91clVpbnQ4QXJyYXkgPSBnbG9iYWwuVWludDhBcnJheSB8fCBmdW5jdGlvbiAoKSB7fTtcbmZ1bmN0aW9uIF91aW50OEFycmF5VG9CdWZmZXIoY2h1bmspIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGNodW5rKTtcbn1cbmZ1bmN0aW9uIF9pc1VpbnQ4QXJyYXkob2JqKSB7XG4gIHJldHVybiBCdWZmZXIuaXNCdWZmZXIob2JqKSB8fCBvYmogaW5zdGFuY2VvZiBPdXJVaW50OEFycmF5O1xufVxuXG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudmFyIGRlc3Ryb3lJbXBsID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL2Rlc3Ryb3knKTtcblxudXRpbC5pbmhlcml0cyhXcml0YWJsZSwgU3RyZWFtKTtcblxuZnVuY3Rpb24gbm9wKCkge31cblxuZnVuY3Rpb24gV3JpdGFibGVTdGF0ZShvcHRpb25zLCBzdHJlYW0pIHtcbiAgRHVwbGV4ID0gRHVwbGV4IHx8IHJlcXVpcmUoJy4vX3N0cmVhbV9kdXBsZXgnKTtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAvLyBEdXBsZXggc3RyZWFtcyBhcmUgYm90aCByZWFkYWJsZSBhbmQgd3JpdGFibGUsIGJ1dCBzaGFyZVxuICAvLyB0aGUgc2FtZSBvcHRpb25zIG9iamVjdC5cbiAgLy8gSG93ZXZlciwgc29tZSBjYXNlcyByZXF1aXJlIHNldHRpbmcgb3B0aW9ucyB0byBkaWZmZXJlbnRcbiAgLy8gdmFsdWVzIGZvciB0aGUgcmVhZGFibGUgYW5kIHRoZSB3cml0YWJsZSBzaWRlcyBvZiB0aGUgZHVwbGV4IHN0cmVhbS5cbiAgLy8gVGhlc2Ugb3B0aW9ucyBjYW4gYmUgcHJvdmlkZWQgc2VwYXJhdGVseSBhcyByZWFkYWJsZVhYWCBhbmQgd3JpdGFibGVYWFguXG4gIHZhciBpc0R1cGxleCA9IHN0cmVhbSBpbnN0YW5jZW9mIER1cGxleDtcblxuICAvLyBvYmplY3Qgc3RyZWFtIGZsYWcgdG8gaW5kaWNhdGUgd2hldGhlciBvciBub3QgdGhpcyBzdHJlYW1cbiAgLy8gY29udGFpbnMgYnVmZmVycyBvciBvYmplY3RzLlxuICB0aGlzLm9iamVjdE1vZGUgPSAhIW9wdGlvbnMub2JqZWN0TW9kZTtcblxuICBpZiAoaXNEdXBsZXgpIHRoaXMub2JqZWN0TW9kZSA9IHRoaXMub2JqZWN0TW9kZSB8fCAhIW9wdGlvbnMud3JpdGFibGVPYmplY3RNb2RlO1xuXG4gIC8vIHRoZSBwb2ludCBhdCB3aGljaCB3cml0ZSgpIHN0YXJ0cyByZXR1cm5pbmcgZmFsc2VcbiAgLy8gTm90ZTogMCBpcyBhIHZhbGlkIHZhbHVlLCBtZWFucyB0aGF0IHdlIGFsd2F5cyByZXR1cm4gZmFsc2UgaWZcbiAgLy8gdGhlIGVudGlyZSBidWZmZXIgaXMgbm90IGZsdXNoZWQgaW1tZWRpYXRlbHkgb24gd3JpdGUoKVxuICB2YXIgaHdtID0gb3B0aW9ucy5oaWdoV2F0ZXJNYXJrO1xuICB2YXIgd3JpdGFibGVId20gPSBvcHRpb25zLndyaXRhYmxlSGlnaFdhdGVyTWFyaztcbiAgdmFyIGRlZmF1bHRId20gPSB0aGlzLm9iamVjdE1vZGUgPyAxNiA6IDE2ICogMTAyNDtcblxuICBpZiAoaHdtIHx8IGh3bSA9PT0gMCkgdGhpcy5oaWdoV2F0ZXJNYXJrID0gaHdtO2Vsc2UgaWYgKGlzRHVwbGV4ICYmICh3cml0YWJsZUh3bSB8fCB3cml0YWJsZUh3bSA9PT0gMCkpIHRoaXMuaGlnaFdhdGVyTWFyayA9IHdyaXRhYmxlSHdtO2Vsc2UgdGhpcy5oaWdoV2F0ZXJNYXJrID0gZGVmYXVsdEh3bTtcblxuICAvLyBjYXN0IHRvIGludHMuXG4gIHRoaXMuaGlnaFdhdGVyTWFyayA9IE1hdGguZmxvb3IodGhpcy5oaWdoV2F0ZXJNYXJrKTtcblxuICAvLyBpZiBfZmluYWwgaGFzIGJlZW4gY2FsbGVkXG4gIHRoaXMuZmluYWxDYWxsZWQgPSBmYWxzZTtcblxuICAvLyBkcmFpbiBldmVudCBmbGFnLlxuICB0aGlzLm5lZWREcmFpbiA9IGZhbHNlO1xuICAvLyBhdCB0aGUgc3RhcnQgb2YgY2FsbGluZyBlbmQoKVxuICB0aGlzLmVuZGluZyA9IGZhbHNlO1xuICAvLyB3aGVuIGVuZCgpIGhhcyBiZWVuIGNhbGxlZCwgYW5kIHJldHVybmVkXG4gIHRoaXMuZW5kZWQgPSBmYWxzZTtcbiAgLy8gd2hlbiAnZmluaXNoJyBpcyBlbWl0dGVkXG4gIHRoaXMuZmluaXNoZWQgPSBmYWxzZTtcblxuICAvLyBoYXMgaXQgYmVlbiBkZXN0cm95ZWRcbiAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAvLyBzaG91bGQgd2UgZGVjb2RlIHN0cmluZ3MgaW50byBidWZmZXJzIGJlZm9yZSBwYXNzaW5nIHRvIF93cml0ZT9cbiAgLy8gdGhpcyBpcyBoZXJlIHNvIHRoYXQgc29tZSBub2RlLWNvcmUgc3RyZWFtcyBjYW4gb3B0aW1pemUgc3RyaW5nXG4gIC8vIGhhbmRsaW5nIGF0IGEgbG93ZXIgbGV2ZWwuXG4gIHZhciBub0RlY29kZSA9IG9wdGlvbnMuZGVjb2RlU3RyaW5ncyA9PT0gZmFsc2U7XG4gIHRoaXMuZGVjb2RlU3RyaW5ncyA9ICFub0RlY29kZTtcblxuICAvLyBDcnlwdG8gaXMga2luZCBvZiBvbGQgYW5kIGNydXN0eS4gIEhpc3RvcmljYWxseSwgaXRzIGRlZmF1bHQgc3RyaW5nXG4gIC8vIGVuY29kaW5nIGlzICdiaW5hcnknIHNvIHdlIGhhdmUgdG8gbWFrZSB0aGlzIGNvbmZpZ3VyYWJsZS5cbiAgLy8gRXZlcnl0aGluZyBlbHNlIGluIHRoZSB1bml2ZXJzZSB1c2VzICd1dGY4JywgdGhvdWdoLlxuICB0aGlzLmRlZmF1bHRFbmNvZGluZyA9IG9wdGlvbnMuZGVmYXVsdEVuY29kaW5nIHx8ICd1dGY4JztcblxuICAvLyBub3QgYW4gYWN0dWFsIGJ1ZmZlciB3ZSBrZWVwIHRyYWNrIG9mLCBidXQgYSBtZWFzdXJlbWVudFxuICAvLyBvZiBob3cgbXVjaCB3ZSdyZSB3YWl0aW5nIHRvIGdldCBwdXNoZWQgdG8gc29tZSB1bmRlcmx5aW5nXG4gIC8vIHNvY2tldCBvciBmaWxlLlxuICB0aGlzLmxlbmd0aCA9IDA7XG5cbiAgLy8gYSBmbGFnIHRvIHNlZSB3aGVuIHdlJ3JlIGluIHRoZSBtaWRkbGUgb2YgYSB3cml0ZS5cbiAgdGhpcy53cml0aW5nID0gZmFsc2U7XG5cbiAgLy8gd2hlbiB0cnVlIGFsbCB3cml0ZXMgd2lsbCBiZSBidWZmZXJlZCB1bnRpbCAudW5jb3JrKCkgY2FsbFxuICB0aGlzLmNvcmtlZCA9IDA7XG5cbiAgLy8gYSBmbGFnIHRvIGJlIGFibGUgdG8gdGVsbCBpZiB0aGUgb253cml0ZSBjYiBpcyBjYWxsZWQgaW1tZWRpYXRlbHksXG4gIC8vIG9yIG9uIGEgbGF0ZXIgdGljay4gIFdlIHNldCB0aGlzIHRvIHRydWUgYXQgZmlyc3QsIGJlY2F1c2UgYW55XG4gIC8vIGFjdGlvbnMgdGhhdCBzaG91bGRuJ3QgaGFwcGVuIHVudGlsIFwibGF0ZXJcIiBzaG91bGQgZ2VuZXJhbGx5IGFsc29cbiAgLy8gbm90IGhhcHBlbiBiZWZvcmUgdGhlIGZpcnN0IHdyaXRlIGNhbGwuXG4gIHRoaXMuc3luYyA9IHRydWU7XG5cbiAgLy8gYSBmbGFnIHRvIGtub3cgaWYgd2UncmUgcHJvY2Vzc2luZyBwcmV2aW91c2x5IGJ1ZmZlcmVkIGl0ZW1zLCB3aGljaFxuICAvLyBtYXkgY2FsbCB0aGUgX3dyaXRlKCkgY2FsbGJhY2sgaW4gdGhlIHNhbWUgdGljaywgc28gdGhhdCB3ZSBkb24ndFxuICAvLyBlbmQgdXAgaW4gYW4gb3ZlcmxhcHBlZCBvbndyaXRlIHNpdHVhdGlvbi5cbiAgdGhpcy5idWZmZXJQcm9jZXNzaW5nID0gZmFsc2U7XG5cbiAgLy8gdGhlIGNhbGxiYWNrIHRoYXQncyBwYXNzZWQgdG8gX3dyaXRlKGNodW5rLGNiKVxuICB0aGlzLm9ud3JpdGUgPSBmdW5jdGlvbiAoZXIpIHtcbiAgICBvbndyaXRlKHN0cmVhbSwgZXIpO1xuICB9O1xuXG4gIC8vIHRoZSBjYWxsYmFjayB0aGF0IHRoZSB1c2VyIHN1cHBsaWVzIHRvIHdyaXRlKGNodW5rLGVuY29kaW5nLGNiKVxuICB0aGlzLndyaXRlY2IgPSBudWxsO1xuXG4gIC8vIHRoZSBhbW91bnQgdGhhdCBpcyBiZWluZyB3cml0dGVuIHdoZW4gX3dyaXRlIGlzIGNhbGxlZC5cbiAgdGhpcy53cml0ZWxlbiA9IDA7XG5cbiAgdGhpcy5idWZmZXJlZFJlcXVlc3QgPSBudWxsO1xuICB0aGlzLmxhc3RCdWZmZXJlZFJlcXVlc3QgPSBudWxsO1xuXG4gIC8vIG51bWJlciBvZiBwZW5kaW5nIHVzZXItc3VwcGxpZWQgd3JpdGUgY2FsbGJhY2tzXG4gIC8vIHRoaXMgbXVzdCBiZSAwIGJlZm9yZSAnZmluaXNoJyBjYW4gYmUgZW1pdHRlZFxuICB0aGlzLnBlbmRpbmdjYiA9IDA7XG5cbiAgLy8gZW1pdCBwcmVmaW5pc2ggaWYgdGhlIG9ubHkgdGhpbmcgd2UncmUgd2FpdGluZyBmb3IgaXMgX3dyaXRlIGNic1xuICAvLyBUaGlzIGlzIHJlbGV2YW50IGZvciBzeW5jaHJvbm91cyBUcmFuc2Zvcm0gc3RyZWFtc1xuICB0aGlzLnByZWZpbmlzaGVkID0gZmFsc2U7XG5cbiAgLy8gVHJ1ZSBpZiB0aGUgZXJyb3Igd2FzIGFscmVhZHkgZW1pdHRlZCBhbmQgc2hvdWxkIG5vdCBiZSB0aHJvd24gYWdhaW5cbiAgdGhpcy5lcnJvckVtaXR0ZWQgPSBmYWxzZTtcblxuICAvLyBjb3VudCBidWZmZXJlZCByZXF1ZXN0c1xuICB0aGlzLmJ1ZmZlcmVkUmVxdWVzdENvdW50ID0gMDtcblxuICAvLyBhbGxvY2F0ZSB0aGUgZmlyc3QgQ29ya2VkUmVxdWVzdCwgdGhlcmUgaXMgYWx3YXlzXG4gIC8vIG9uZSBhbGxvY2F0ZWQgYW5kIGZyZWUgdG8gdXNlLCBhbmQgd2UgbWFpbnRhaW4gYXQgbW9zdCB0d29cbiAgdGhpcy5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBuZXcgQ29ya2VkUmVxdWVzdCh0aGlzKTtcbn1cblxuV3JpdGFibGVTdGF0ZS5wcm90b3R5cGUuZ2V0QnVmZmVyID0gZnVuY3Rpb24gZ2V0QnVmZmVyKCkge1xuICB2YXIgY3VycmVudCA9IHRoaXMuYnVmZmVyZWRSZXF1ZXN0O1xuICB2YXIgb3V0ID0gW107XG4gIHdoaWxlIChjdXJyZW50KSB7XG4gICAgb3V0LnB1c2goY3VycmVudCk7XG4gICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcbiAgfVxuICByZXR1cm4gb3V0O1xufTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGVTdGF0ZS5wcm90b3R5cGUsICdidWZmZXInLCB7XG4gICAgICBnZXQ6IGludGVybmFsVXRpbC5kZXByZWNhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRCdWZmZXIoKTtcbiAgICAgIH0sICdfd3JpdGFibGVTdGF0ZS5idWZmZXIgaXMgZGVwcmVjYXRlZC4gVXNlIF93cml0YWJsZVN0YXRlLmdldEJ1ZmZlciAnICsgJ2luc3RlYWQuJywgJ0RFUDAwMDMnKVxuICAgIH0pO1xuICB9IGNhdGNoIChfKSB7fVxufSkoKTtcblxuLy8gVGVzdCBfd3JpdGFibGVTdGF0ZSBmb3IgaW5oZXJpdGFuY2UgdG8gYWNjb3VudCBmb3IgRHVwbGV4IHN0cmVhbXMsXG4vLyB3aG9zZSBwcm90b3R5cGUgY2hhaW4gb25seSBwb2ludHMgdG8gUmVhZGFibGUuXG52YXIgcmVhbEhhc0luc3RhbmNlO1xuaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmhhc0luc3RhbmNlICYmIHR5cGVvZiBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICByZWFsSGFzSW5zdGFuY2UgPSBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLCBTeW1ib2wuaGFzSW5zdGFuY2UsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgaWYgKHJlYWxIYXNJbnN0YW5jZS5jYWxsKHRoaXMsIG9iamVjdCkpIHJldHVybiB0cnVlO1xuICAgICAgaWYgKHRoaXMgIT09IFdyaXRhYmxlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHJldHVybiBvYmplY3QgJiYgb2JqZWN0Ll93cml0YWJsZVN0YXRlIGluc3RhbmNlb2YgV3JpdGFibGVTdGF0ZTtcbiAgICB9XG4gIH0pO1xufSBlbHNlIHtcbiAgcmVhbEhhc0luc3RhbmNlID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiB0aGlzO1xuICB9O1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZShvcHRpb25zKSB7XG4gIER1cGxleCA9IER1cGxleCB8fCByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG5cbiAgLy8gV3JpdGFibGUgY3RvciBpcyBhcHBsaWVkIHRvIER1cGxleGVzLCB0b28uXG4gIC8vIGByZWFsSGFzSW5zdGFuY2VgIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHVzaW5nIHBsYWluIGBpbnN0YW5jZW9mYFxuICAvLyB3b3VsZCByZXR1cm4gZmFsc2UsIGFzIG5vIGBfd3JpdGFibGVTdGF0ZWAgcHJvcGVydHkgaXMgYXR0YWNoZWQuXG5cbiAgLy8gVHJ5aW5nIHRvIHVzZSB0aGUgY3VzdG9tIGBpbnN0YW5jZW9mYCBmb3IgV3JpdGFibGUgaGVyZSB3aWxsIGFsc28gYnJlYWsgdGhlXG4gIC8vIE5vZGUuanMgTGF6eVRyYW5zZm9ybSBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaGFzIGEgbm9uLXRyaXZpYWwgZ2V0dGVyIGZvclxuICAvLyBgX3dyaXRhYmxlU3RhdGVgIHRoYXQgd291bGQgbGVhZCB0byBpbmZpbml0ZSByZWN1cnNpb24uXG4gIGlmICghcmVhbEhhc0luc3RhbmNlLmNhbGwoV3JpdGFibGUsIHRoaXMpICYmICEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpIHtcbiAgICByZXR1cm4gbmV3IFdyaXRhYmxlKG9wdGlvbnMpO1xuICB9XG5cbiAgdGhpcy5fd3JpdGFibGVTdGF0ZSA9IG5ldyBXcml0YWJsZVN0YXRlKG9wdGlvbnMsIHRoaXMpO1xuXG4gIC8vIGxlZ2FjeS5cbiAgdGhpcy53cml0YWJsZSA9IHRydWU7XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMud3JpdGUgPT09ICdmdW5jdGlvbicpIHRoaXMuX3dyaXRlID0gb3B0aW9ucy53cml0ZTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZXYgPT09ICdmdW5jdGlvbicpIHRoaXMuX3dyaXRldiA9IG9wdGlvbnMud3JpdGV2O1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIHRoaXMuX2Rlc3Ryb3kgPSBvcHRpb25zLmRlc3Ryb3k7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmluYWwgPT09ICdmdW5jdGlvbicpIHRoaXMuX2ZpbmFsID0gb3B0aW9ucy5maW5hbDtcbiAgfVxuXG4gIFN0cmVhbS5jYWxsKHRoaXMpO1xufVxuXG4vLyBPdGhlcndpc2UgcGVvcGxlIGNhbiBwaXBlIFdyaXRhYmxlIHN0cmVhbXMsIHdoaWNoIGlzIGp1c3Qgd3JvbmcuXG5Xcml0YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignQ2Fubm90IHBpcGUsIG5vdCByZWFkYWJsZScpKTtcbn07XG5cbmZ1bmN0aW9uIHdyaXRlQWZ0ZXJFbmQoc3RyZWFtLCBjYikge1xuICB2YXIgZXIgPSBuZXcgRXJyb3IoJ3dyaXRlIGFmdGVyIGVuZCcpO1xuICAvLyBUT0RPOiBkZWZlciBlcnJvciBldmVudHMgY29uc2lzdGVudGx5IGV2ZXJ5d2hlcmUsIG5vdCBqdXN0IHRoZSBjYlxuICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG4gIHBuYS5uZXh0VGljayhjYiwgZXIpO1xufVxuXG4vLyBDaGVja3MgdGhhdCBhIHVzZXItc3VwcGxpZWQgY2h1bmsgaXMgdmFsaWQsIGVzcGVjaWFsbHkgZm9yIHRoZSBwYXJ0aWN1bGFyXG4vLyBtb2RlIHRoZSBzdHJlYW0gaXMgaW4uIEN1cnJlbnRseSB0aGlzIG1lYW5zIHRoYXQgYG51bGxgIGlzIG5ldmVyIGFjY2VwdGVkXG4vLyBhbmQgdW5kZWZpbmVkL25vbi1zdHJpbmcgdmFsdWVzIGFyZSBvbmx5IGFsbG93ZWQgaW4gb2JqZWN0IG1vZGUuXG5mdW5jdGlvbiB2YWxpZENodW5rKHN0cmVhbSwgc3RhdGUsIGNodW5rLCBjYikge1xuICB2YXIgdmFsaWQgPSB0cnVlO1xuICB2YXIgZXIgPSBmYWxzZTtcblxuICBpZiAoY2h1bmsgPT09IG51bGwpIHtcbiAgICBlciA9IG5ldyBUeXBlRXJyb3IoJ01heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGNodW5rICE9PSAnc3RyaW5nJyAmJiBjaHVuayAhPT0gdW5kZWZpbmVkICYmICFzdGF0ZS5vYmplY3RNb2RlKSB7XG4gICAgZXIgPSBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG5vbi1zdHJpbmcvYnVmZmVyIGNodW5rJyk7XG4gIH1cbiAgaWYgKGVyKSB7XG4gICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuICAgIHBuYS5uZXh0VGljayhjYiwgZXIpO1xuICAgIHZhbGlkID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHZhbGlkO1xufVxuXG5Xcml0YWJsZS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlO1xuICB2YXIgcmV0ID0gZmFsc2U7XG4gIHZhciBpc0J1ZiA9ICFzdGF0ZS5vYmplY3RNb2RlICYmIF9pc1VpbnQ4QXJyYXkoY2h1bmspO1xuXG4gIGlmIChpc0J1ZiAmJiAhQnVmZmVyLmlzQnVmZmVyKGNodW5rKSkge1xuICAgIGNodW5rID0gX3VpbnQ4QXJyYXlUb0J1ZmZlcihjaHVuayk7XG4gIH1cblxuICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBlbmNvZGluZztcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH1cblxuICBpZiAoaXNCdWYpIGVuY29kaW5nID0gJ2J1ZmZlcic7ZWxzZSBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9IHN0YXRlLmRlZmF1bHRFbmNvZGluZztcblxuICBpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSBjYiA9IG5vcDtcblxuICBpZiAoc3RhdGUuZW5kZWQpIHdyaXRlQWZ0ZXJFbmQodGhpcywgY2IpO2Vsc2UgaWYgKGlzQnVmIHx8IHZhbGlkQ2h1bmsodGhpcywgc3RhdGUsIGNodW5rLCBjYikpIHtcbiAgICBzdGF0ZS5wZW5kaW5nY2IrKztcbiAgICByZXQgPSB3cml0ZU9yQnVmZmVyKHRoaXMsIHN0YXRlLCBpc0J1ZiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufTtcblxuV3JpdGFibGUucHJvdG90eXBlLmNvcmsgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG5cbiAgc3RhdGUuY29ya2VkKys7XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUudW5jb3JrID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlO1xuXG4gIGlmIChzdGF0ZS5jb3JrZWQpIHtcbiAgICBzdGF0ZS5jb3JrZWQtLTtcblxuICAgIGlmICghc3RhdGUud3JpdGluZyAmJiAhc3RhdGUuY29ya2VkICYmICFzdGF0ZS5maW5pc2hlZCAmJiAhc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyAmJiBzdGF0ZS5idWZmZXJlZFJlcXVlc3QpIGNsZWFyQnVmZmVyKHRoaXMsIHN0YXRlKTtcbiAgfVxufTtcblxuV3JpdGFibGUucHJvdG90eXBlLnNldERlZmF1bHRFbmNvZGluZyA9IGZ1bmN0aW9uIHNldERlZmF1bHRFbmNvZGluZyhlbmNvZGluZykge1xuICAvLyBub2RlOjpQYXJzZUVuY29kaW5nKCkgcmVxdWlyZXMgbG93ZXIgY2FzZS5cbiAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycpIGVuY29kaW5nID0gZW5jb2RpbmcudG9Mb3dlckNhc2UoKTtcbiAgaWYgKCEoWydoZXgnLCAndXRmOCcsICd1dGYtOCcsICdhc2NpaScsICdiaW5hcnknLCAnYmFzZTY0JywgJ3VjczInLCAndWNzLTInLCAndXRmMTZsZScsICd1dGYtMTZsZScsICdyYXcnXS5pbmRleE9mKChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpKSA+IC0xKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKTtcbiAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZWZhdWx0RW5jb2RpbmcgPSBlbmNvZGluZztcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBkZWNvZGVDaHVuayhzdGF0ZSwgY2h1bmssIGVuY29kaW5nKSB7XG4gIGlmICghc3RhdGUub2JqZWN0TW9kZSAmJiBzdGF0ZS5kZWNvZGVTdHJpbmdzICE9PSBmYWxzZSAmJiB0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgY2h1bmsgPSBCdWZmZXIuZnJvbShjaHVuaywgZW5jb2RpbmcpO1xuICB9XG4gIHJldHVybiBjaHVuaztcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLnByb3RvdHlwZSwgJ3dyaXRhYmxlSGlnaFdhdGVyTWFyaycsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgfVxufSk7XG5cbi8vIGlmIHdlJ3JlIGFscmVhZHkgd3JpdGluZyBzb21ldGhpbmcsIHRoZW4ganVzdCBwdXQgdGhpc1xuLy8gaW4gdGhlIHF1ZXVlLCBhbmQgd2FpdCBvdXIgdHVybi4gIE90aGVyd2lzZSwgY2FsbCBfd3JpdGVcbi8vIElmIHdlIHJldHVybiBmYWxzZSwgdGhlbiB3ZSBuZWVkIGEgZHJhaW4gZXZlbnQsIHNvIHNldCB0aGF0IGZsYWcuXG5mdW5jdGlvbiB3cml0ZU9yQnVmZmVyKHN0cmVhbSwgc3RhdGUsIGlzQnVmLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGlmICghaXNCdWYpIHtcbiAgICB2YXIgbmV3Q2h1bmsgPSBkZWNvZGVDaHVuayhzdGF0ZSwgY2h1bmssIGVuY29kaW5nKTtcbiAgICBpZiAoY2h1bmsgIT09IG5ld0NodW5rKSB7XG4gICAgICBpc0J1ZiA9IHRydWU7XG4gICAgICBlbmNvZGluZyA9ICdidWZmZXInO1xuICAgICAgY2h1bmsgPSBuZXdDaHVuaztcbiAgICB9XG4gIH1cbiAgdmFyIGxlbiA9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoO1xuXG4gIHN0YXRlLmxlbmd0aCArPSBsZW47XG5cbiAgdmFyIHJldCA9IHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcms7XG4gIC8vIHdlIG11c3QgZW5zdXJlIHRoYXQgcHJldmlvdXMgbmVlZERyYWluIHdpbGwgbm90IGJlIHJlc2V0IHRvIGZhbHNlLlxuICBpZiAoIXJldCkgc3RhdGUubmVlZERyYWluID0gdHJ1ZTtcblxuICBpZiAoc3RhdGUud3JpdGluZyB8fCBzdGF0ZS5jb3JrZWQpIHtcbiAgICB2YXIgbGFzdCA9IHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Q7XG4gICAgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IHtcbiAgICAgIGNodW5rOiBjaHVuayxcbiAgICAgIGVuY29kaW5nOiBlbmNvZGluZyxcbiAgICAgIGlzQnVmOiBpc0J1ZixcbiAgICAgIGNhbGxiYWNrOiBjYixcbiAgICAgIG5leHQ6IG51bGxcbiAgICB9O1xuICAgIGlmIChsYXN0KSB7XG4gICAgICBsYXN0Lm5leHQgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIH1cbiAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudCArPSAxO1xuICB9IGVsc2Uge1xuICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmFsc2UsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIHdyaXRldiwgbGVuLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHN0YXRlLndyaXRlbGVuID0gbGVuO1xuICBzdGF0ZS53cml0ZWNiID0gY2I7XG4gIHN0YXRlLndyaXRpbmcgPSB0cnVlO1xuICBzdGF0ZS5zeW5jID0gdHJ1ZTtcbiAgaWYgKHdyaXRldikgc3RyZWFtLl93cml0ZXYoY2h1bmssIHN0YXRlLm9ud3JpdGUpO2Vsc2Ugc3RyZWFtLl93cml0ZShjaHVuaywgZW5jb2RpbmcsIHN0YXRlLm9ud3JpdGUpO1xuICBzdGF0ZS5zeW5jID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG9ud3JpdGVFcnJvcihzdHJlYW0sIHN0YXRlLCBzeW5jLCBlciwgY2IpIHtcbiAgLS1zdGF0ZS5wZW5kaW5nY2I7XG5cbiAgaWYgKHN5bmMpIHtcbiAgICAvLyBkZWZlciB0aGUgY2FsbGJhY2sgaWYgd2UgYXJlIGJlaW5nIGNhbGxlZCBzeW5jaHJvbm91c2x5XG4gICAgLy8gdG8gYXZvaWQgcGlsaW5nIHVwIHRoaW5ncyBvbiB0aGUgc3RhY2tcbiAgICBwbmEubmV4dFRpY2soY2IsIGVyKTtcbiAgICAvLyB0aGlzIGNhbiBlbWl0IGZpbmlzaCwgYW5kIGl0IHdpbGwgYWx3YXlzIGhhcHBlblxuICAgIC8vIGFmdGVyIGVycm9yXG4gICAgcG5hLm5leHRUaWNrKGZpbmlzaE1heWJlLCBzdHJlYW0sIHN0YXRlKTtcbiAgICBzdHJlYW0uX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZTtcbiAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG4gIH0gZWxzZSB7XG4gICAgLy8gdGhlIGNhbGxlciBleHBlY3QgdGhpcyB0byBoYXBwZW4gYmVmb3JlIGlmXG4gICAgLy8gaXQgaXMgYXN5bmNcbiAgICBjYihlcik7XG4gICAgc3RyZWFtLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZCA9IHRydWU7XG4gICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuICAgIC8vIHRoaXMgY2FuIGVtaXQgZmluaXNoLCBidXQgZmluaXNoIG11c3RcbiAgICAvLyBhbHdheXMgZm9sbG93IGVycm9yXG4gICAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb253cml0ZVN0YXRlVXBkYXRlKHN0YXRlKSB7XG4gIHN0YXRlLndyaXRpbmcgPSBmYWxzZTtcbiAgc3RhdGUud3JpdGVjYiA9IG51bGw7XG4gIHN0YXRlLmxlbmd0aCAtPSBzdGF0ZS53cml0ZWxlbjtcbiAgc3RhdGUud3JpdGVsZW4gPSAwO1xufVxuXG5mdW5jdGlvbiBvbndyaXRlKHN0cmVhbSwgZXIpIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl93cml0YWJsZVN0YXRlO1xuICB2YXIgc3luYyA9IHN0YXRlLnN5bmM7XG4gIHZhciBjYiA9IHN0YXRlLndyaXRlY2I7XG5cbiAgb253cml0ZVN0YXRlVXBkYXRlKHN0YXRlKTtcblxuICBpZiAoZXIpIG9ud3JpdGVFcnJvcihzdHJlYW0sIHN0YXRlLCBzeW5jLCBlciwgY2IpO2Vsc2Uge1xuICAgIC8vIENoZWNrIGlmIHdlJ3JlIGFjdHVhbGx5IHJlYWR5IHRvIGZpbmlzaCwgYnV0IGRvbid0IGVtaXQgeWV0XG4gICAgdmFyIGZpbmlzaGVkID0gbmVlZEZpbmlzaChzdGF0ZSk7XG5cbiAgICBpZiAoIWZpbmlzaGVkICYmICFzdGF0ZS5jb3JrZWQgJiYgIXN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0KSB7XG4gICAgICBjbGVhckJ1ZmZlcihzdHJlYW0sIHN0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoc3luYykge1xuICAgICAgLyo8cmVwbGFjZW1lbnQ+Ki9cbiAgICAgIGFzeW5jV3JpdGUoYWZ0ZXJXcml0ZSwgc3RyZWFtLCBzdGF0ZSwgZmluaXNoZWQsIGNiKTtcbiAgICAgIC8qPC9yZXBsYWNlbWVudD4qL1xuICAgIH0gZWxzZSB7XG4gICAgICBhZnRlcldyaXRlKHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFmdGVyV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmluaXNoZWQsIGNiKSB7XG4gIGlmICghZmluaXNoZWQpIG9ud3JpdGVEcmFpbihzdHJlYW0sIHN0YXRlKTtcbiAgc3RhdGUucGVuZGluZ2NiLS07XG4gIGNiKCk7XG4gIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xufVxuXG4vLyBNdXN0IGZvcmNlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBvbiBuZXh0VGljaywgc28gdGhhdCB3ZSBkb24ndFxuLy8gZW1pdCAnZHJhaW4nIGJlZm9yZSB0aGUgd3JpdGUoKSBjb25zdW1lciBnZXRzIHRoZSAnZmFsc2UnIHJldHVyblxuLy8gdmFsdWUsIGFuZCBoYXMgYSBjaGFuY2UgdG8gYXR0YWNoIGEgJ2RyYWluJyBsaXN0ZW5lci5cbmZ1bmN0aW9uIG9ud3JpdGVEcmFpbihzdHJlYW0sIHN0YXRlKSB7XG4gIGlmIChzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUubmVlZERyYWluKSB7XG4gICAgc3RhdGUubmVlZERyYWluID0gZmFsc2U7XG4gICAgc3RyZWFtLmVtaXQoJ2RyYWluJyk7XG4gIH1cbn1cblxuLy8gaWYgdGhlcmUncyBzb21ldGhpbmcgaW4gdGhlIGJ1ZmZlciB3YWl0aW5nLCB0aGVuIHByb2Nlc3MgaXRcbmZ1bmN0aW9uIGNsZWFyQnVmZmVyKHN0cmVhbSwgc3RhdGUpIHtcbiAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IHRydWU7XG4gIHZhciBlbnRyeSA9IHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdDtcblxuICBpZiAoc3RyZWFtLl93cml0ZXYgJiYgZW50cnkgJiYgZW50cnkubmV4dCkge1xuICAgIC8vIEZhc3QgY2FzZSwgd3JpdGUgZXZlcnl0aGluZyB1c2luZyBfd3JpdGV2KClcbiAgICB2YXIgbCA9IHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50O1xuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXkobCk7XG4gICAgdmFyIGhvbGRlciA9IHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZTtcbiAgICBob2xkZXIuZW50cnkgPSBlbnRyeTtcblxuICAgIHZhciBjb3VudCA9IDA7XG4gICAgdmFyIGFsbEJ1ZmZlcnMgPSB0cnVlO1xuICAgIHdoaWxlIChlbnRyeSkge1xuICAgICAgYnVmZmVyW2NvdW50XSA9IGVudHJ5O1xuICAgICAgaWYgKCFlbnRyeS5pc0J1ZikgYWxsQnVmZmVycyA9IGZhbHNlO1xuICAgICAgZW50cnkgPSBlbnRyeS5uZXh0O1xuICAgICAgY291bnQgKz0gMTtcbiAgICB9XG4gICAgYnVmZmVyLmFsbEJ1ZmZlcnMgPSBhbGxCdWZmZXJzO1xuXG4gICAgZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCB0cnVlLCBzdGF0ZS5sZW5ndGgsIGJ1ZmZlciwgJycsIGhvbGRlci5maW5pc2gpO1xuXG4gICAgLy8gZG9Xcml0ZSBpcyBhbG1vc3QgYWx3YXlzIGFzeW5jLCBkZWZlciB0aGVzZSB0byBzYXZlIGEgYml0IG9mIHRpbWVcbiAgICAvLyBhcyB0aGUgaG90IHBhdGggZW5kcyB3aXRoIGRvV3JpdGVcbiAgICBzdGF0ZS5wZW5kaW5nY2IrKztcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgICBpZiAoaG9sZGVyLm5leHQpIHtcbiAgICAgIHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSA9IGhvbGRlci5uZXh0O1xuICAgICAgaG9sZGVyLm5leHQgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBuZXcgQ29ya2VkUmVxdWVzdChzdGF0ZSk7XG4gICAgfVxuICAgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50ID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBTbG93IGNhc2UsIHdyaXRlIGNodW5rcyBvbmUtYnktb25lXG4gICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICB2YXIgY2h1bmsgPSBlbnRyeS5jaHVuaztcbiAgICAgIHZhciBlbmNvZGluZyA9IGVudHJ5LmVuY29kaW5nO1xuICAgICAgdmFyIGNiID0gZW50cnkuY2FsbGJhY2s7XG4gICAgICB2YXIgbGVuID0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG5cbiAgICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmFsc2UsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gICAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7XG4gICAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudC0tO1xuICAgICAgLy8gaWYgd2UgZGlkbid0IGNhbGwgdGhlIG9ud3JpdGUgaW1tZWRpYXRlbHksIHRoZW5cbiAgICAgIC8vIGl0IG1lYW5zIHRoYXQgd2UgbmVlZCB0byB3YWl0IHVudGlsIGl0IGRvZXMuXG4gICAgICAvLyBhbHNvLCB0aGF0IG1lYW5zIHRoYXQgdGhlIGNodW5rIGFuZCBjYiBhcmUgY3VycmVudGx5XG4gICAgICAvLyBiZWluZyBwcm9jZXNzZWQsIHNvIG1vdmUgdGhlIGJ1ZmZlciBjb3VudGVyIHBhc3QgdGhlbS5cbiAgICAgIGlmIChzdGF0ZS53cml0aW5nKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlbnRyeSA9PT0gbnVsbCkgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IG51bGw7XG4gIH1cblxuICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBlbnRyeTtcbiAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlO1xufVxuXG5Xcml0YWJsZS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgY2IobmV3IEVycm9yKCdfd3JpdGUoKSBpcyBub3QgaW1wbGVtZW50ZWQnKSk7XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuX3dyaXRldiA9IG51bGw7XG5cbldyaXRhYmxlLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlO1xuXG4gIGlmICh0eXBlb2YgY2h1bmsgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IGNodW5rO1xuICAgIGNodW5rID0gbnVsbDtcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBlbmNvZGluZztcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH1cblxuICBpZiAoY2h1bmsgIT09IG51bGwgJiYgY2h1bmsgIT09IHVuZGVmaW5lZCkgdGhpcy53cml0ZShjaHVuaywgZW5jb2RpbmcpO1xuXG4gIC8vIC5lbmQoKSBmdWxseSB1bmNvcmtzXG4gIGlmIChzdGF0ZS5jb3JrZWQpIHtcbiAgICBzdGF0ZS5jb3JrZWQgPSAxO1xuICAgIHRoaXMudW5jb3JrKCk7XG4gIH1cblxuICAvLyBpZ25vcmUgdW5uZWNlc3NhcnkgZW5kKCkgY2FsbHMuXG4gIGlmICghc3RhdGUuZW5kaW5nICYmICFzdGF0ZS5maW5pc2hlZCkgZW5kV3JpdGFibGUodGhpcywgc3RhdGUsIGNiKTtcbn07XG5cbmZ1bmN0aW9uIG5lZWRGaW5pc2goc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLmVuZGluZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID09PSBudWxsICYmICFzdGF0ZS5maW5pc2hlZCAmJiAhc3RhdGUud3JpdGluZztcbn1cbmZ1bmN0aW9uIGNhbGxGaW5hbChzdHJlYW0sIHN0YXRlKSB7XG4gIHN0cmVhbS5fZmluYWwoZnVuY3Rpb24gKGVycikge1xuICAgIHN0YXRlLnBlbmRpbmdjYi0tO1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgfVxuICAgIHN0YXRlLnByZWZpbmlzaGVkID0gdHJ1ZTtcbiAgICBzdHJlYW0uZW1pdCgncHJlZmluaXNoJyk7XG4gICAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gcHJlZmluaXNoKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5wcmVmaW5pc2hlZCAmJiAhc3RhdGUuZmluYWxDYWxsZWQpIHtcbiAgICBpZiAodHlwZW9mIHN0cmVhbS5fZmluYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHN0YXRlLnBlbmRpbmdjYisrO1xuICAgICAgc3RhdGUuZmluYWxDYWxsZWQgPSB0cnVlO1xuICAgICAgcG5hLm5leHRUaWNrKGNhbGxGaW5hbCwgc3RyZWFtLCBzdGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnByZWZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIHN0cmVhbS5lbWl0KCdwcmVmaW5pc2gnKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSkge1xuICB2YXIgbmVlZCA9IG5lZWRGaW5pc2goc3RhdGUpO1xuICBpZiAobmVlZCkge1xuICAgIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKTtcbiAgICBpZiAoc3RhdGUucGVuZGluZ2NiID09PSAwKSB7XG4gICAgICBzdGF0ZS5maW5pc2hlZCA9IHRydWU7XG4gICAgICBzdHJlYW0uZW1pdCgnZmluaXNoJyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZWVkO1xufVxuXG5mdW5jdGlvbiBlbmRXcml0YWJsZShzdHJlYW0sIHN0YXRlLCBjYikge1xuICBzdGF0ZS5lbmRpbmcgPSB0cnVlO1xuICBmaW5pc2hNYXliZShzdHJlYW0sIHN0YXRlKTtcbiAgaWYgKGNiKSB7XG4gICAgaWYgKHN0YXRlLmZpbmlzaGVkKSBwbmEubmV4dFRpY2soY2IpO2Vsc2Ugc3RyZWFtLm9uY2UoJ2ZpbmlzaCcsIGNiKTtcbiAgfVxuICBzdGF0ZS5lbmRlZCA9IHRydWU7XG4gIHN0cmVhbS53cml0YWJsZSA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBvbkNvcmtlZEZpbmlzaChjb3JrUmVxLCBzdGF0ZSwgZXJyKSB7XG4gIHZhciBlbnRyeSA9IGNvcmtSZXEuZW50cnk7XG4gIGNvcmtSZXEuZW50cnkgPSBudWxsO1xuICB3aGlsZSAoZW50cnkpIHtcbiAgICB2YXIgY2IgPSBlbnRyeS5jYWxsYmFjaztcbiAgICBzdGF0ZS5wZW5kaW5nY2ItLTtcbiAgICBjYihlcnIpO1xuICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgfVxuICBpZiAoc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlKSB7XG4gICAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlLm5leHQgPSBjb3JrUmVxO1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSA9IGNvcmtSZXE7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLnByb3RvdHlwZSwgJ2Rlc3Ryb3llZCcsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX3dyaXRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gd2UgaWdub3JlIHRoZSB2YWx1ZSBpZiB0aGUgc3RyZWFtXG4gICAgLy8gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldFxuICAgIGlmICghdGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIHRoZSB1c2VyIGlzIGV4cGxpY2l0bHlcbiAgICAvLyBtYW5hZ2luZyBkZXN0cm95ZWRcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCA9IHZhbHVlO1xuICB9XG59KTtcblxuV3JpdGFibGUucHJvdG90eXBlLmRlc3Ryb3kgPSBkZXN0cm95SW1wbC5kZXN0cm95O1xuV3JpdGFibGUucHJvdG90eXBlLl91bmRlc3Ryb3kgPSBkZXN0cm95SW1wbC51bmRlc3Ryb3k7XG5Xcml0YWJsZS5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoZXJyLCBjYikge1xuICB0aGlzLmVuZCgpO1xuICBjYihlcnIpO1xufTsiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xuXG52YXIgQnVmZmVyID0gcmVxdWlyZSgnc2FmZS1idWZmZXInKS5CdWZmZXI7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudmFyIGlzRW5jb2RpbmcgPSBCdWZmZXIuaXNFbmNvZGluZyB8fCBmdW5jdGlvbiAoZW5jb2RpbmcpIHtcbiAgZW5jb2RpbmcgPSAnJyArIGVuY29kaW5nO1xuICBzd2l0Y2ggKGVuY29kaW5nICYmIGVuY29kaW5nLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdoZXgnOmNhc2UgJ3V0ZjgnOmNhc2UgJ3V0Zi04JzpjYXNlICdhc2NpaSc6Y2FzZSAnYmluYXJ5JzpjYXNlICdiYXNlNjQnOmNhc2UgJ3VjczInOmNhc2UgJ3Vjcy0yJzpjYXNlICd1dGYxNmxlJzpjYXNlICd1dGYtMTZsZSc6Y2FzZSAncmF3JzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIF9ub3JtYWxpemVFbmNvZGluZyhlbmMpIHtcbiAgaWYgKCFlbmMpIHJldHVybiAndXRmOCc7XG4gIHZhciByZXRyaWVkO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIHN3aXRjaCAoZW5jKSB7XG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuICd1dGY4JztcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiAndXRmMTZsZSc7XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuICdsYXRpbjEnO1xuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBlbmM7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAocmV0cmllZCkgcmV0dXJuOyAvLyB1bmRlZmluZWRcbiAgICAgICAgZW5jID0gKCcnICsgZW5jKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXRyaWVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIERvIG5vdCBjYWNoZSBgQnVmZmVyLmlzRW5jb2RpbmdgIHdoZW4gY2hlY2tpbmcgZW5jb2RpbmcgbmFtZXMgYXMgc29tZVxuLy8gbW9kdWxlcyBtb25rZXktcGF0Y2ggaXQgdG8gc3VwcG9ydCBhZGRpdGlvbmFsIGVuY29kaW5nc1xuZnVuY3Rpb24gbm9ybWFsaXplRW5jb2RpbmcoZW5jKSB7XG4gIHZhciBuZW5jID0gX25vcm1hbGl6ZUVuY29kaW5nKGVuYyk7XG4gIGlmICh0eXBlb2YgbmVuYyAhPT0gJ3N0cmluZycgJiYgKEJ1ZmZlci5pc0VuY29kaW5nID09PSBpc0VuY29kaW5nIHx8ICFpc0VuY29kaW5nKGVuYykpKSB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmMpO1xuICByZXR1cm4gbmVuYyB8fCBlbmM7XG59XG5cbi8vIFN0cmluZ0RlY29kZXIgcHJvdmlkZXMgYW4gaW50ZXJmYWNlIGZvciBlZmZpY2llbnRseSBzcGxpdHRpbmcgYSBzZXJpZXMgb2Zcbi8vIGJ1ZmZlcnMgaW50byBhIHNlcmllcyBvZiBKUyBzdHJpbmdzIHdpdGhvdXQgYnJlYWtpbmcgYXBhcnQgbXVsdGktYnl0ZVxuLy8gY2hhcmFjdGVycy5cbmV4cG9ydHMuU3RyaW5nRGVjb2RlciA9IFN0cmluZ0RlY29kZXI7XG5mdW5jdGlvbiBTdHJpbmdEZWNvZGVyKGVuY29kaW5nKSB7XG4gIHRoaXMuZW5jb2RpbmcgPSBub3JtYWxpemVFbmNvZGluZyhlbmNvZGluZyk7XG4gIHZhciBuYjtcbiAgc3dpdGNoICh0aGlzLmVuY29kaW5nKSB7XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICB0aGlzLnRleHQgPSB1dGYxNlRleHQ7XG4gICAgICB0aGlzLmVuZCA9IHV0ZjE2RW5kO1xuICAgICAgbmIgPSA0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndXRmOCc6XG4gICAgICB0aGlzLmZpbGxMYXN0ID0gdXRmOEZpbGxMYXN0O1xuICAgICAgbmIgPSA0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgIHRoaXMudGV4dCA9IGJhc2U2NFRleHQ7XG4gICAgICB0aGlzLmVuZCA9IGJhc2U2NEVuZDtcbiAgICAgIG5iID0gMztcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aGlzLndyaXRlID0gc2ltcGxlV3JpdGU7XG4gICAgICB0aGlzLmVuZCA9IHNpbXBsZUVuZDtcbiAgICAgIHJldHVybjtcbiAgfVxuICB0aGlzLmxhc3ROZWVkID0gMDtcbiAgdGhpcy5sYXN0VG90YWwgPSAwO1xuICB0aGlzLmxhc3RDaGFyID0gQnVmZmVyLmFsbG9jVW5zYWZlKG5iKTtcbn1cblxuU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoYnVmKSB7XG4gIGlmIChidWYubGVuZ3RoID09PSAwKSByZXR1cm4gJyc7XG4gIHZhciByO1xuICB2YXIgaTtcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHtcbiAgICByID0gdGhpcy5maWxsTGFzdChidWYpO1xuICAgIGlmIChyID09PSB1bmRlZmluZWQpIHJldHVybiAnJztcbiAgICBpID0gdGhpcy5sYXN0TmVlZDtcbiAgICB0aGlzLmxhc3ROZWVkID0gMDtcbiAgfSBlbHNlIHtcbiAgICBpID0gMDtcbiAgfVxuICBpZiAoaSA8IGJ1Zi5sZW5ndGgpIHJldHVybiByID8gciArIHRoaXMudGV4dChidWYsIGkpIDogdGhpcy50ZXh0KGJ1ZiwgaSk7XG4gIHJldHVybiByIHx8ICcnO1xufTtcblxuU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUuZW5kID0gdXRmOEVuZDtcblxuLy8gUmV0dXJucyBvbmx5IGNvbXBsZXRlIGNoYXJhY3RlcnMgaW4gYSBCdWZmZXJcblN0cmluZ0RlY29kZXIucHJvdG90eXBlLnRleHQgPSB1dGY4VGV4dDtcblxuLy8gQXR0ZW1wdHMgdG8gY29tcGxldGUgYSBwYXJ0aWFsIG5vbi1VVEYtOCBjaGFyYWN0ZXIgdXNpbmcgYnl0ZXMgZnJvbSBhIEJ1ZmZlclxuU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUuZmlsbExhc3QgPSBmdW5jdGlvbiAoYnVmKSB7XG4gIGlmICh0aGlzLmxhc3ROZWVkIDw9IGJ1Zi5sZW5ndGgpIHtcbiAgICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQsIDAsIHRoaXMubGFzdE5lZWQpO1xuICAgIHJldHVybiB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsIDAsIHRoaXMubGFzdFRvdGFsKTtcbiAgfVxuICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQsIDAsIGJ1Zi5sZW5ndGgpO1xuICB0aGlzLmxhc3ROZWVkIC09IGJ1Zi5sZW5ndGg7XG59O1xuXG4vLyBDaGVja3MgdGhlIHR5cGUgb2YgYSBVVEYtOCBieXRlLCB3aGV0aGVyIGl0J3MgQVNDSUksIGEgbGVhZGluZyBieXRlLCBvciBhXG4vLyBjb250aW51YXRpb24gYnl0ZS4gSWYgYW4gaW52YWxpZCBieXRlIGlzIGRldGVjdGVkLCAtMiBpcyByZXR1cm5lZC5cbmZ1bmN0aW9uIHV0ZjhDaGVja0J5dGUoYnl0ZSkge1xuICBpZiAoYnl0ZSA8PSAweDdGKSByZXR1cm4gMDtlbHNlIGlmIChieXRlID4+IDUgPT09IDB4MDYpIHJldHVybiAyO2Vsc2UgaWYgKGJ5dGUgPj4gNCA9PT0gMHgwRSkgcmV0dXJuIDM7ZWxzZSBpZiAoYnl0ZSA+PiAzID09PSAweDFFKSByZXR1cm4gNDtcbiAgcmV0dXJuIGJ5dGUgPj4gNiA9PT0gMHgwMiA/IC0xIDogLTI7XG59XG5cbi8vIENoZWNrcyBhdCBtb3N0IDMgYnl0ZXMgYXQgdGhlIGVuZCBvZiBhIEJ1ZmZlciBpbiBvcmRlciB0byBkZXRlY3QgYW5cbi8vIGluY29tcGxldGUgbXVsdGktYnl0ZSBVVEYtOCBjaGFyYWN0ZXIuIFRoZSB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgKDIsIDMsIG9yIDQpXG4vLyBuZWVkZWQgdG8gY29tcGxldGUgdGhlIFVURi04IGNoYXJhY3RlciAoaWYgYXBwbGljYWJsZSkgYXJlIHJldHVybmVkLlxuZnVuY3Rpb24gdXRmOENoZWNrSW5jb21wbGV0ZShzZWxmLCBidWYsIGkpIHtcbiAgdmFyIGogPSBidWYubGVuZ3RoIC0gMTtcbiAgaWYgKGogPCBpKSByZXR1cm4gMDtcbiAgdmFyIG5iID0gdXRmOENoZWNrQnl0ZShidWZbal0pO1xuICBpZiAobmIgPj0gMCkge1xuICAgIGlmIChuYiA+IDApIHNlbGYubGFzdE5lZWQgPSBuYiAtIDE7XG4gICAgcmV0dXJuIG5iO1xuICB9XG4gIGlmICgtLWogPCBpIHx8IG5iID09PSAtMikgcmV0dXJuIDA7XG4gIG5iID0gdXRmOENoZWNrQnl0ZShidWZbal0pO1xuICBpZiAobmIgPj0gMCkge1xuICAgIGlmIChuYiA+IDApIHNlbGYubGFzdE5lZWQgPSBuYiAtIDI7XG4gICAgcmV0dXJuIG5iO1xuICB9XG4gIGlmICgtLWogPCBpIHx8IG5iID09PSAtMikgcmV0dXJuIDA7XG4gIG5iID0gdXRmOENoZWNrQnl0ZShidWZbal0pO1xuICBpZiAobmIgPj0gMCkge1xuICAgIGlmIChuYiA+IDApIHtcbiAgICAgIGlmIChuYiA9PT0gMikgbmIgPSAwO2Vsc2Ugc2VsZi5sYXN0TmVlZCA9IG5iIC0gMztcbiAgICB9XG4gICAgcmV0dXJuIG5iO1xuICB9XG4gIHJldHVybiAwO1xufVxuXG4vLyBWYWxpZGF0ZXMgYXMgbWFueSBjb250aW51YXRpb24gYnl0ZXMgZm9yIGEgbXVsdGktYnl0ZSBVVEYtOCBjaGFyYWN0ZXIgYXNcbi8vIG5lZWRlZCBvciBhcmUgYXZhaWxhYmxlLiBJZiB3ZSBzZWUgYSBub24tY29udGludWF0aW9uIGJ5dGUgd2hlcmUgd2UgZXhwZWN0XG4vLyBvbmUsIHdlIFwicmVwbGFjZVwiIHRoZSB2YWxpZGF0ZWQgY29udGludWF0aW9uIGJ5dGVzIHdlJ3ZlIHNlZW4gc28gZmFyIHdpdGhcbi8vIGEgc2luZ2xlIFVURi04IHJlcGxhY2VtZW50IGNoYXJhY3RlciAoJ1xcdWZmZmQnKSwgdG8gbWF0Y2ggdjgncyBVVEYtOCBkZWNvZGluZ1xuLy8gYmVoYXZpb3IuIFRoZSBjb250aW51YXRpb24gYnl0ZSBjaGVjayBpcyBpbmNsdWRlZCB0aHJlZSB0aW1lcyBpbiB0aGUgY2FzZVxuLy8gd2hlcmUgYWxsIG9mIHRoZSBjb250aW51YXRpb24gYnl0ZXMgZm9yIGEgY2hhcmFjdGVyIGV4aXN0IGluIHRoZSBzYW1lIGJ1ZmZlci5cbi8vIEl0IGlzIGFsc28gZG9uZSB0aGlzIHdheSBhcyBhIHNsaWdodCBwZXJmb3JtYW5jZSBpbmNyZWFzZSBpbnN0ZWFkIG9mIHVzaW5nIGFcbi8vIGxvb3AuXG5mdW5jdGlvbiB1dGY4Q2hlY2tFeHRyYUJ5dGVzKHNlbGYsIGJ1ZiwgcCkge1xuICBpZiAoKGJ1ZlswXSAmIDB4QzApICE9PSAweDgwKSB7XG4gICAgc2VsZi5sYXN0TmVlZCA9IDA7XG4gICAgcmV0dXJuICdcXHVmZmZkJztcbiAgfVxuICBpZiAoc2VsZi5sYXN0TmVlZCA+IDEgJiYgYnVmLmxlbmd0aCA+IDEpIHtcbiAgICBpZiAoKGJ1ZlsxXSAmIDB4QzApICE9PSAweDgwKSB7XG4gICAgICBzZWxmLmxhc3ROZWVkID0gMTtcbiAgICAgIHJldHVybiAnXFx1ZmZmZCc7XG4gICAgfVxuICAgIGlmIChzZWxmLmxhc3ROZWVkID4gMiAmJiBidWYubGVuZ3RoID4gMikge1xuICAgICAgaWYgKChidWZbMl0gJiAweEMwKSAhPT0gMHg4MCkge1xuICAgICAgICBzZWxmLmxhc3ROZWVkID0gMjtcbiAgICAgICAgcmV0dXJuICdcXHVmZmZkJztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gQXR0ZW1wdHMgdG8gY29tcGxldGUgYSBtdWx0aS1ieXRlIFVURi04IGNoYXJhY3RlciB1c2luZyBieXRlcyBmcm9tIGEgQnVmZmVyLlxuZnVuY3Rpb24gdXRmOEZpbGxMYXN0KGJ1Zikge1xuICB2YXIgcCA9IHRoaXMubGFzdFRvdGFsIC0gdGhpcy5sYXN0TmVlZDtcbiAgdmFyIHIgPSB1dGY4Q2hlY2tFeHRyYUJ5dGVzKHRoaXMsIGJ1ZiwgcCk7XG4gIGlmIChyICE9PSB1bmRlZmluZWQpIHJldHVybiByO1xuICBpZiAodGhpcy5sYXN0TmVlZCA8PSBidWYubGVuZ3RoKSB7XG4gICAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgcCwgMCwgdGhpcy5sYXN0TmVlZCk7XG4gICAgcmV0dXJuIHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywgMCwgdGhpcy5sYXN0VG90YWwpO1xuICB9XG4gIGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIsIHAsIDAsIGJ1Zi5sZW5ndGgpO1xuICB0aGlzLmxhc3ROZWVkIC09IGJ1Zi5sZW5ndGg7XG59XG5cbi8vIFJldHVybnMgYWxsIGNvbXBsZXRlIFVURi04IGNoYXJhY3RlcnMgaW4gYSBCdWZmZXIuIElmIHRoZSBCdWZmZXIgZW5kZWQgb24gYVxuLy8gcGFydGlhbCBjaGFyYWN0ZXIsIHRoZSBjaGFyYWN0ZXIncyBieXRlcyBhcmUgYnVmZmVyZWQgdW50aWwgdGhlIHJlcXVpcmVkXG4vLyBudW1iZXIgb2YgYnl0ZXMgYXJlIGF2YWlsYWJsZS5cbmZ1bmN0aW9uIHV0ZjhUZXh0KGJ1ZiwgaSkge1xuICB2YXIgdG90YWwgPSB1dGY4Q2hlY2tJbmNvbXBsZXRlKHRoaXMsIGJ1ZiwgaSk7XG4gIGlmICghdGhpcy5sYXN0TmVlZCkgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmOCcsIGkpO1xuICB0aGlzLmxhc3RUb3RhbCA9IHRvdGFsO1xuICB2YXIgZW5kID0gYnVmLmxlbmd0aCAtICh0b3RhbCAtIHRoaXMubGFzdE5lZWQpO1xuICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCAwLCBlbmQpO1xuICByZXR1cm4gYnVmLnRvU3RyaW5nKCd1dGY4JywgaSwgZW5kKTtcbn1cblxuLy8gRm9yIFVURi04LCBhIHJlcGxhY2VtZW50IGNoYXJhY3RlciBpcyBhZGRlZCB3aGVuIGVuZGluZyBvbiBhIHBhcnRpYWxcbi8vIGNoYXJhY3Rlci5cbmZ1bmN0aW9uIHV0ZjhFbmQoYnVmKSB7XG4gIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHJldHVybiByICsgJ1xcdWZmZmQnO1xuICByZXR1cm4gcjtcbn1cblxuLy8gVVRGLTE2TEUgdHlwaWNhbGx5IG5lZWRzIHR3byBieXRlcyBwZXIgY2hhcmFjdGVyLCBidXQgZXZlbiBpZiB3ZSBoYXZlIGFuIGV2ZW5cbi8vIG51bWJlciBvZiBieXRlcyBhdmFpbGFibGUsIHdlIG5lZWQgdG8gY2hlY2sgaWYgd2UgZW5kIG9uIGEgbGVhZGluZy9oaWdoXG4vLyBzdXJyb2dhdGUuIEluIHRoYXQgY2FzZSwgd2UgbmVlZCB0byB3YWl0IGZvciB0aGUgbmV4dCB0d28gYnl0ZXMgaW4gb3JkZXIgdG9cbi8vIGRlY29kZSB0aGUgbGFzdCBjaGFyYWN0ZXIgcHJvcGVybHkuXG5mdW5jdGlvbiB1dGYxNlRleHQoYnVmLCBpKSB7XG4gIGlmICgoYnVmLmxlbmd0aCAtIGkpICUgMiA9PT0gMCkge1xuICAgIHZhciByID0gYnVmLnRvU3RyaW5nKCd1dGYxNmxlJywgaSk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHZhciBjID0gci5jaGFyQ29kZUF0KHIubGVuZ3RoIC0gMSk7XG4gICAgICBpZiAoYyA+PSAweEQ4MDAgJiYgYyA8PSAweERCRkYpIHtcbiAgICAgICAgdGhpcy5sYXN0TmVlZCA9IDI7XG4gICAgICAgIHRoaXMubGFzdFRvdGFsID0gNDtcbiAgICAgICAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMl07XG4gICAgICAgIHRoaXMubGFzdENoYXJbMV0gPSBidWZbYnVmLmxlbmd0aCAtIDFdO1xuICAgICAgICByZXR1cm4gci5zbGljZSgwLCAtMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9XG4gIHRoaXMubGFzdE5lZWQgPSAxO1xuICB0aGlzLmxhc3RUb3RhbCA9IDI7XG4gIHRoaXMubGFzdENoYXJbMF0gPSBidWZbYnVmLmxlbmd0aCAtIDFdO1xuICByZXR1cm4gYnVmLnRvU3RyaW5nKCd1dGYxNmxlJywgaSwgYnVmLmxlbmd0aCAtIDEpO1xufVxuXG4vLyBGb3IgVVRGLTE2TEUgd2UgZG8gbm90IGV4cGxpY2l0bHkgYXBwZW5kIHNwZWNpYWwgcmVwbGFjZW1lbnQgY2hhcmFjdGVycyBpZiB3ZVxuLy8gZW5kIG9uIGEgcGFydGlhbCBjaGFyYWN0ZXIsIHdlIHNpbXBseSBsZXQgdjggaGFuZGxlIHRoYXQuXG5mdW5jdGlvbiB1dGYxNkVuZChidWYpIHtcbiAgdmFyIHIgPSBidWYgJiYgYnVmLmxlbmd0aCA/IHRoaXMud3JpdGUoYnVmKSA6ICcnO1xuICBpZiAodGhpcy5sYXN0TmVlZCkge1xuICAgIHZhciBlbmQgPSB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQ7XG4gICAgcmV0dXJuIHIgKyB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKCd1dGYxNmxlJywgMCwgZW5kKTtcbiAgfVxuICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gYmFzZTY0VGV4dChidWYsIGkpIHtcbiAgdmFyIG4gPSAoYnVmLmxlbmd0aCAtIGkpICUgMztcbiAgaWYgKG4gPT09IDApIHJldHVybiBidWYudG9TdHJpbmcoJ2Jhc2U2NCcsIGkpO1xuICB0aGlzLmxhc3ROZWVkID0gMyAtIG47XG4gIHRoaXMubGFzdFRvdGFsID0gMztcbiAgaWYgKG4gPT09IDEpIHtcbiAgICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAyXTtcbiAgICB0aGlzLmxhc3RDaGFyWzFdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gYnVmLnRvU3RyaW5nKCdiYXNlNjQnLCBpLCBidWYubGVuZ3RoIC0gbik7XG59XG5cbmZ1bmN0aW9uIGJhc2U2NEVuZChidWYpIHtcbiAgdmFyIHIgPSBidWYgJiYgYnVmLmxlbmd0aCA/IHRoaXMud3JpdGUoYnVmKSA6ICcnO1xuICBpZiAodGhpcy5sYXN0TmVlZCkgcmV0dXJuIHIgKyB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKCdiYXNlNjQnLCAwLCAzIC0gdGhpcy5sYXN0TmVlZCk7XG4gIHJldHVybiByO1xufVxuXG4vLyBQYXNzIGJ5dGVzIG9uIHRocm91Z2ggZm9yIHNpbmdsZS1ieXRlIGVuY29kaW5ncyAoZS5nLiBhc2NpaSwgbGF0aW4xLCBoZXgpXG5mdW5jdGlvbiBzaW1wbGVXcml0ZShidWYpIHtcbiAgcmV0dXJuIGJ1Zi50b1N0cmluZyh0aGlzLmVuY29kaW5nKTtcbn1cblxuZnVuY3Rpb24gc2ltcGxlRW5kKGJ1Zikge1xuICByZXR1cm4gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbn0iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gYSB0cmFuc2Zvcm0gc3RyZWFtIGlzIGEgcmVhZGFibGUvd3JpdGFibGUgc3RyZWFtIHdoZXJlIHlvdSBkb1xuLy8gc29tZXRoaW5nIHdpdGggdGhlIGRhdGEuICBTb21ldGltZXMgaXQncyBjYWxsZWQgYSBcImZpbHRlclwiLFxuLy8gYnV0IHRoYXQncyBub3QgYSBncmVhdCBuYW1lIGZvciBpdCwgc2luY2UgdGhhdCBpbXBsaWVzIGEgdGhpbmcgd2hlcmVcbi8vIHNvbWUgYml0cyBwYXNzIHRocm91Z2gsIGFuZCBvdGhlcnMgYXJlIHNpbXBseSBpZ25vcmVkLiAgKFRoYXQgd291bGRcbi8vIGJlIGEgdmFsaWQgZXhhbXBsZSBvZiBhIHRyYW5zZm9ybSwgb2YgY291cnNlLilcbi8vXG4vLyBXaGlsZSB0aGUgb3V0cHV0IGlzIGNhdXNhbGx5IHJlbGF0ZWQgdG8gdGhlIGlucHV0LCBpdCdzIG5vdCBhXG4vLyBuZWNlc3NhcmlseSBzeW1tZXRyaWMgb3Igc3luY2hyb25vdXMgdHJhbnNmb3JtYXRpb24uICBGb3IgZXhhbXBsZSxcbi8vIGEgemxpYiBzdHJlYW0gbWlnaHQgdGFrZSBtdWx0aXBsZSBwbGFpbi10ZXh0IHdyaXRlcygpLCBhbmQgdGhlblxuLy8gZW1pdCBhIHNpbmdsZSBjb21wcmVzc2VkIGNodW5rIHNvbWUgdGltZSBpbiB0aGUgZnV0dXJlLlxuLy9cbi8vIEhlcmUncyBob3cgdGhpcyB3b3Jrczpcbi8vXG4vLyBUaGUgVHJhbnNmb3JtIHN0cmVhbSBoYXMgYWxsIHRoZSBhc3BlY3RzIG9mIHRoZSByZWFkYWJsZSBhbmQgd3JpdGFibGVcbi8vIHN0cmVhbSBjbGFzc2VzLiAgV2hlbiB5b3Ugd3JpdGUoY2h1bmspLCB0aGF0IGNhbGxzIF93cml0ZShjaHVuayxjYilcbi8vIGludGVybmFsbHksIGFuZCByZXR1cm5zIGZhbHNlIGlmIHRoZXJlJ3MgYSBsb3Qgb2YgcGVuZGluZyB3cml0ZXNcbi8vIGJ1ZmZlcmVkIHVwLiAgV2hlbiB5b3UgY2FsbCByZWFkKCksIHRoYXQgY2FsbHMgX3JlYWQobikgdW50aWxcbi8vIHRoZXJlJ3MgZW5vdWdoIHBlbmRpbmcgcmVhZGFibGUgZGF0YSBidWZmZXJlZCB1cC5cbi8vXG4vLyBJbiBhIHRyYW5zZm9ybSBzdHJlYW0sIHRoZSB3cml0dGVuIGRhdGEgaXMgcGxhY2VkIGluIGEgYnVmZmVyLiAgV2hlblxuLy8gX3JlYWQobikgaXMgY2FsbGVkLCBpdCB0cmFuc2Zvcm1zIHRoZSBxdWV1ZWQgdXAgZGF0YSwgY2FsbGluZyB0aGVcbi8vIGJ1ZmZlcmVkIF93cml0ZSBjYidzIGFzIGl0IGNvbnN1bWVzIGNodW5rcy4gIElmIGNvbnN1bWluZyBhIHNpbmdsZVxuLy8gd3JpdHRlbiBjaHVuayB3b3VsZCByZXN1bHQgaW4gbXVsdGlwbGUgb3V0cHV0IGNodW5rcywgdGhlbiB0aGUgZmlyc3Rcbi8vIG91dHB1dHRlZCBiaXQgY2FsbHMgdGhlIHJlYWRjYiwgYW5kIHN1YnNlcXVlbnQgY2h1bmtzIGp1c3QgZ28gaW50b1xuLy8gdGhlIHJlYWQgYnVmZmVyLCBhbmQgd2lsbCBjYXVzZSBpdCB0byBlbWl0ICdyZWFkYWJsZScgaWYgbmVjZXNzYXJ5LlxuLy9cbi8vIFRoaXMgd2F5LCBiYWNrLXByZXNzdXJlIGlzIGFjdHVhbGx5IGRldGVybWluZWQgYnkgdGhlIHJlYWRpbmcgc2lkZSxcbi8vIHNpbmNlIF9yZWFkIGhhcyB0byBiZSBjYWxsZWQgdG8gc3RhcnQgcHJvY2Vzc2luZyBhIG5ldyBjaHVuay4gIEhvd2V2ZXIsXG4vLyBhIHBhdGhvbG9naWNhbCBpbmZsYXRlIHR5cGUgb2YgdHJhbnNmb3JtIGNhbiBjYXVzZSBleGNlc3NpdmUgYnVmZmVyaW5nXG4vLyBoZXJlLiAgRm9yIGV4YW1wbGUsIGltYWdpbmUgYSBzdHJlYW0gd2hlcmUgZXZlcnkgYnl0ZSBvZiBpbnB1dCBpc1xuLy8gaW50ZXJwcmV0ZWQgYXMgYW4gaW50ZWdlciBmcm9tIDAtMjU1LCBhbmQgdGhlbiByZXN1bHRzIGluIHRoYXQgbWFueVxuLy8gYnl0ZXMgb2Ygb3V0cHV0LiAgV3JpdGluZyB0aGUgNCBieXRlcyB7ZmYsZmYsZmYsZmZ9IHdvdWxkIHJlc3VsdCBpblxuLy8gMWtiIG9mIGRhdGEgYmVpbmcgb3V0cHV0LiAgSW4gdGhpcyBjYXNlLCB5b3UgY291bGQgd3JpdGUgYSB2ZXJ5IHNtYWxsXG4vLyBhbW91bnQgb2YgaW5wdXQsIGFuZCBlbmQgdXAgd2l0aCBhIHZlcnkgbGFyZ2UgYW1vdW50IG9mIG91dHB1dC4gIEluXG4vLyBzdWNoIGEgcGF0aG9sb2dpY2FsIGluZmxhdGluZyBtZWNoYW5pc20sIHRoZXJlJ2QgYmUgbm8gd2F5IHRvIHRlbGxcbi8vIHRoZSBzeXN0ZW0gdG8gc3RvcCBkb2luZyB0aGUgdHJhbnNmb3JtLiAgQSBzaW5nbGUgNE1CIHdyaXRlIGNvdWxkXG4vLyBjYXVzZSB0aGUgc3lzdGVtIHRvIHJ1biBvdXQgb2YgbWVtb3J5LlxuLy9cbi8vIEhvd2V2ZXIsIGV2ZW4gaW4gc3VjaCBhIHBhdGhvbG9naWNhbCBjYXNlLCBvbmx5IGEgc2luZ2xlIHdyaXR0ZW4gY2h1bmtcbi8vIHdvdWxkIGJlIGNvbnN1bWVkLCBhbmQgdGhlbiB0aGUgcmVzdCB3b3VsZCB3YWl0ICh1bi10cmFuc2Zvcm1lZCkgdW50aWxcbi8vIHRoZSByZXN1bHRzIG9mIHRoZSBwcmV2aW91cyB0cmFuc2Zvcm1lZCBjaHVuayB3ZXJlIGNvbnN1bWVkLlxuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gVHJhbnNmb3JtO1xuXG52YXIgRHVwbGV4ID0gcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIHV0aWwgPSByZXF1aXJlKCdjb3JlLXV0aWwtaXMnKTtcbnV0aWwuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbnV0aWwuaW5oZXJpdHMoVHJhbnNmb3JtLCBEdXBsZXgpO1xuXG5mdW5jdGlvbiBhZnRlclRyYW5zZm9ybShlciwgZGF0YSkge1xuICB2YXIgdHMgPSB0aGlzLl90cmFuc2Zvcm1TdGF0ZTtcbiAgdHMudHJhbnNmb3JtaW5nID0gZmFsc2U7XG5cbiAgdmFyIGNiID0gdHMud3JpdGVjYjtcblxuICBpZiAoIWNiKSB7XG4gICAgcmV0dXJuIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ3dyaXRlIGNhbGxiYWNrIGNhbGxlZCBtdWx0aXBsZSB0aW1lcycpKTtcbiAgfVxuXG4gIHRzLndyaXRlY2h1bmsgPSBudWxsO1xuICB0cy53cml0ZWNiID0gbnVsbDtcblxuICBpZiAoZGF0YSAhPSBudWxsKSAvLyBzaW5nbGUgZXF1YWxzIGNoZWNrIGZvciBib3RoIGBudWxsYCBhbmQgYHVuZGVmaW5lZGBcbiAgICB0aGlzLnB1c2goZGF0YSk7XG5cbiAgY2IoZXIpO1xuXG4gIHZhciBycyA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHJzLnJlYWRpbmcgPSBmYWxzZTtcbiAgaWYgKHJzLm5lZWRSZWFkYWJsZSB8fCBycy5sZW5ndGggPCBycy5oaWdoV2F0ZXJNYXJrKSB7XG4gICAgdGhpcy5fcmVhZChycy5oaWdoV2F0ZXJNYXJrKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBUcmFuc2Zvcm0ob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVHJhbnNmb3JtKSkgcmV0dXJuIG5ldyBUcmFuc2Zvcm0ob3B0aW9ucyk7XG5cbiAgRHVwbGV4LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgdGhpcy5fdHJhbnNmb3JtU3RhdGUgPSB7XG4gICAgYWZ0ZXJUcmFuc2Zvcm06IGFmdGVyVHJhbnNmb3JtLmJpbmQodGhpcyksXG4gICAgbmVlZFRyYW5zZm9ybTogZmFsc2UsXG4gICAgdHJhbnNmb3JtaW5nOiBmYWxzZSxcbiAgICB3cml0ZWNiOiBudWxsLFxuICAgIHdyaXRlY2h1bms6IG51bGwsXG4gICAgd3JpdGVlbmNvZGluZzogbnVsbFxuICB9O1xuXG4gIC8vIHN0YXJ0IG91dCBhc2tpbmcgZm9yIGEgcmVhZGFibGUgZXZlbnQgb25jZSBkYXRhIGlzIHRyYW5zZm9ybWVkLlxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG5cbiAgLy8gd2UgaGF2ZSBpbXBsZW1lbnRlZCB0aGUgX3JlYWQgbWV0aG9kLCBhbmQgZG9uZSB0aGUgb3RoZXIgdGhpbmdzXG4gIC8vIHRoYXQgUmVhZGFibGUgd2FudHMgYmVmb3JlIHRoZSBmaXJzdCBfcmVhZCBjYWxsLCBzbyB1bnNldCB0aGVcbiAgLy8gc3luYyBndWFyZCBmbGFnLlxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLnN5bmMgPSBmYWxzZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbicpIHRoaXMuX3RyYW5zZm9ybSA9IG9wdGlvbnMudHJhbnNmb3JtO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmZsdXNoID09PSAnZnVuY3Rpb24nKSB0aGlzLl9mbHVzaCA9IG9wdGlvbnMuZmx1c2g7XG4gIH1cblxuICAvLyBXaGVuIHRoZSB3cml0YWJsZSBzaWRlIGZpbmlzaGVzLCB0aGVuIGZsdXNoIG91dCBhbnl0aGluZyByZW1haW5pbmcuXG4gIHRoaXMub24oJ3ByZWZpbmlzaCcsIHByZWZpbmlzaCk7XG59XG5cbmZ1bmN0aW9uIHByZWZpbmlzaCgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBpZiAodHlwZW9mIHRoaXMuX2ZsdXNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhpcy5fZmx1c2goZnVuY3Rpb24gKGVyLCBkYXRhKSB7XG4gICAgICBkb25lKF90aGlzLCBlciwgZGF0YSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgZG9uZSh0aGlzLCBudWxsLCBudWxsKTtcbiAgfVxufVxuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nKSB7XG4gIHRoaXMuX3RyYW5zZm9ybVN0YXRlLm5lZWRUcmFuc2Zvcm0gPSBmYWxzZTtcbiAgcmV0dXJuIER1cGxleC5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsIGNodW5rLCBlbmNvZGluZyk7XG59O1xuXG4vLyBUaGlzIGlzIHRoZSBwYXJ0IHdoZXJlIHlvdSBkbyBzdHVmZiFcbi8vIG92ZXJyaWRlIHRoaXMgZnVuY3Rpb24gaW4gaW1wbGVtZW50YXRpb24gY2xhc3Nlcy5cbi8vICdjaHVuaycgaXMgYW4gaW5wdXQgY2h1bmsuXG4vL1xuLy8gQ2FsbCBgcHVzaChuZXdDaHVuaylgIHRvIHBhc3MgYWxvbmcgdHJhbnNmb3JtZWQgb3V0cHV0XG4vLyB0byB0aGUgcmVhZGFibGUgc2lkZS4gIFlvdSBtYXkgY2FsbCAncHVzaCcgemVybyBvciBtb3JlIHRpbWVzLlxuLy9cbi8vIENhbGwgYGNiKGVycilgIHdoZW4geW91IGFyZSBkb25lIHdpdGggdGhpcyBjaHVuay4gIElmIHlvdSBwYXNzXG4vLyBhbiBlcnJvciwgdGhlbiB0aGF0J2xsIHB1dCB0aGUgaHVydCBvbiB0aGUgd2hvbGUgb3BlcmF0aW9uLiAgSWYgeW91XG4vLyBuZXZlciBjYWxsIGNiKCksIHRoZW4geW91J2xsIG5ldmVyIGdldCBhbm90aGVyIGNodW5rLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdfdHJhbnNmb3JtKCkgaXMgbm90IGltcGxlbWVudGVkJyk7XG59O1xuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLl93cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciB0cyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlO1xuICB0cy53cml0ZWNiID0gY2I7XG4gIHRzLndyaXRlY2h1bmsgPSBjaHVuaztcbiAgdHMud3JpdGVlbmNvZGluZyA9IGVuY29kaW5nO1xuICBpZiAoIXRzLnRyYW5zZm9ybWluZykge1xuICAgIHZhciBycyA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gICAgaWYgKHRzLm5lZWRUcmFuc2Zvcm0gfHwgcnMubmVlZFJlYWRhYmxlIHx8IHJzLmxlbmd0aCA8IHJzLmhpZ2hXYXRlck1hcmspIHRoaXMuX3JlYWQocnMuaGlnaFdhdGVyTWFyayk7XG4gIH1cbn07XG5cbi8vIERvZXNuJ3QgbWF0dGVyIHdoYXQgdGhlIGFyZ3MgYXJlIGhlcmUuXG4vLyBfdHJhbnNmb3JtIGRvZXMgYWxsIHRoZSB3b3JrLlxuLy8gVGhhdCB3ZSBnb3QgaGVyZSBtZWFucyB0aGF0IHRoZSByZWFkYWJsZSBzaWRlIHdhbnRzIG1vcmUgZGF0YS5cblRyYW5zZm9ybS5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiAobikge1xuICB2YXIgdHMgPSB0aGlzLl90cmFuc2Zvcm1TdGF0ZTtcblxuICBpZiAodHMud3JpdGVjaHVuayAhPT0gbnVsbCAmJiB0cy53cml0ZWNiICYmICF0cy50cmFuc2Zvcm1pbmcpIHtcbiAgICB0cy50cmFuc2Zvcm1pbmcgPSB0cnVlO1xuICAgIHRoaXMuX3RyYW5zZm9ybSh0cy53cml0ZWNodW5rLCB0cy53cml0ZWVuY29kaW5nLCB0cy5hZnRlclRyYW5zZm9ybSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gbWFyayB0aGF0IHdlIG5lZWQgYSB0cmFuc2Zvcm0sIHNvIHRoYXQgYW55IGRhdGEgdGhhdCBjb21lcyBpblxuICAgIC8vIHdpbGwgZ2V0IHByb2Nlc3NlZCwgbm93IHRoYXQgd2UndmUgYXNrZWQgZm9yIGl0LlxuICAgIHRzLm5lZWRUcmFuc2Zvcm0gPSB0cnVlO1xuICB9XG59O1xuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgRHVwbGV4LnByb3RvdHlwZS5fZGVzdHJveS5jYWxsKHRoaXMsIGVyciwgZnVuY3Rpb24gKGVycjIpIHtcbiAgICBjYihlcnIyKTtcbiAgICBfdGhpczIuZW1pdCgnY2xvc2UnKTtcbiAgfSk7XG59O1xuXG5mdW5jdGlvbiBkb25lKHN0cmVhbSwgZXIsIGRhdGEpIHtcbiAgaWYgKGVyKSByZXR1cm4gc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuXG4gIGlmIChkYXRhICE9IG51bGwpIC8vIHNpbmdsZSBlcXVhbHMgY2hlY2sgZm9yIGJvdGggYG51bGxgIGFuZCBgdW5kZWZpbmVkYFxuICAgIHN0cmVhbS5wdXNoKGRhdGEpO1xuXG4gIC8vIGlmIHRoZXJlJ3Mgbm90aGluZyBpbiB0aGUgd3JpdGUgYnVmZmVyLCB0aGVuIHRoYXQgbWVhbnNcbiAgLy8gdGhhdCBub3RoaW5nIG1vcmUgd2lsbCBldmVyIGJlIHByb3ZpZGVkXG4gIGlmIChzdHJlYW0uX3dyaXRhYmxlU3RhdGUubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxpbmcgdHJhbnNmb3JtIGRvbmUgd2hlbiB3cy5sZW5ndGggIT0gMCcpO1xuXG4gIGlmIChzdHJlYW0uX3RyYW5zZm9ybVN0YXRlLnRyYW5zZm9ybWluZykgdGhyb3cgbmV3IEVycm9yKCdDYWxsaW5nIHRyYW5zZm9ybSBkb25lIHdoZW4gc3RpbGwgdHJhbnNmb3JtaW5nJyk7XG5cbiAgcmV0dXJuIHN0cmVhbS5wdXNoKG51bGwpO1xufSIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnRzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5leHBvcnRzLnRvQnl0ZUFycmF5ID0gdG9CeXRlQXJyYXlcbmV4cG9ydHMuZnJvbUJ5dGVBcnJheSA9IGZyb21CeXRlQXJyYXlcblxudmFyIGxvb2t1cCA9IFtdXG52YXIgcmV2TG9va3VwID0gW11cbnZhciBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXlcblxudmFyIGNvZGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLydcbmZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gIGxvb2t1cFtpXSA9IGNvZGVbaV1cbiAgcmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV0gPSBpXG59XG5cbi8vIFN1cHBvcnQgZGVjb2RpbmcgVVJMLXNhZmUgYmFzZTY0IHN0cmluZ3MsIGFzIE5vZGUuanMgZG9lcy5cbi8vIFNlZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0I1VSTF9hcHBsaWNhdGlvbnNcbnJldkxvb2t1cFsnLScuY2hhckNvZGVBdCgwKV0gPSA2MlxucmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzXG5cbmZ1bmN0aW9uIGdldExlbnMgKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuXG4gIGlmIChsZW4gJSA0ID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG4gIH1cblxuICAvLyBUcmltIG9mZiBleHRyYSBieXRlcyBhZnRlciBwbGFjZWhvbGRlciBieXRlcyBhcmUgZm91bmRcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvaXNzdWVzLzQyXG4gIHZhciB2YWxpZExlbiA9IGI2NC5pbmRleE9mKCc9JylcbiAgaWYgKHZhbGlkTGVuID09PSAtMSkgdmFsaWRMZW4gPSBsZW5cblxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gdmFsaWRMZW4gPT09IGxlblxuICAgID8gMFxuICAgIDogNCAtICh2YWxpZExlbiAlIDQpXG5cbiAgcmV0dXJuIFt2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuXVxufVxuXG4vLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKGI2NCkge1xuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiBfYnl0ZUxlbmd0aCAoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSB7XG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuXG4gIHZhciBhcnIgPSBuZXcgQXJyKF9ieXRlTGVuZ3RoKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikpXG5cbiAgdmFyIGN1ckJ5dGUgPSAwXG5cbiAgLy8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xuICB2YXIgbGVuID0gcGxhY2VIb2xkZXJzTGVuID4gMFxuICAgID8gdmFsaWRMZW4gLSA0XG4gICAgOiB2YWxpZExlblxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTgpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHxcbiAgICAgIHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDE2KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAyKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KVxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMSkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxMCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyKVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgcmV0dXJuIGxvb2t1cFtudW0gPj4gMTggJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDYgJiAweDNGXSArXG4gICAgbG9va3VwW251bSAmIDB4M0ZdXG59XG5cbmZ1bmN0aW9uIGVuY29kZUNodW5rICh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wXG4gIHZhciBvdXRwdXQgPSBbXVxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykge1xuICAgIHRtcCA9XG4gICAgICAoKHVpbnQ4W2ldIDw8IDE2KSAmIDB4RkYwMDAwKSArXG4gICAgICAoKHVpbnQ4W2kgKyAxXSA8PCA4KSAmIDB4RkYwMCkgK1xuICAgICAgKHVpbnQ4W2kgKyAyXSAmIDB4RkYpXG4gICAgb3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpXG4gIH1cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW4gPSB1aW50OC5sZW5ndGhcbiAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG4gIHZhciBwYXJ0cyA9IFtdXG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzIC8vIG11c3QgYmUgbXVsdGlwbGUgb2YgM1xuXG4gIC8vIGdvIHRocm91Z2ggdGhlIGFycmF5IGV2ZXJ5IHRocmVlIGJ5dGVzLCB3ZSdsbCBkZWFsIHdpdGggdHJhaWxpbmcgc3R1ZmYgbGF0ZXJcbiAgZm9yICh2YXIgaSA9IDAsIGxlbjIgPSBsZW4gLSBleHRyYUJ5dGVzOyBpIDwgbGVuMjsgaSArPSBtYXhDaHVua0xlbmd0aCkge1xuICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsoXG4gICAgICB1aW50OCwgaSwgKGkgKyBtYXhDaHVua0xlbmd0aCkgPiBsZW4yID8gbGVuMiA6IChpICsgbWF4Q2h1bmtMZW5ndGgpXG4gICAgKSlcbiAgfVxuXG4gIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcbiAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcbiAgICB0bXAgPSB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDJdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDQpICYgMHgzRl0gK1xuICAgICAgJz09J1xuICAgIClcbiAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7XG4gICAgdG1wID0gKHVpbnQ4W2xlbiAtIDJdIDw8IDgpICsgdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAxMF0gK1xuICAgICAgbG9va3VwWyh0bXAgPj4gNCkgJiAweDNGXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCAyKSAmIDB4M0ZdICtcbiAgICAgICc9J1xuICAgIClcbiAgfVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKCcnKVxufVxuIiwiZXhwb3J0cy5yZWFkID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG1cbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIG5CaXRzID0gLTdcbiAgdmFyIGkgPSBpc0xFID8gKG5CeXRlcyAtIDEpIDogMFxuICB2YXIgZCA9IGlzTEUgPyAtMSA6IDFcbiAgdmFyIHMgPSBidWZmZXJbb2Zmc2V0ICsgaV1cblxuICBpICs9IGRcblxuICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBzID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBlTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IGUgPSAoZSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBtID0gZSAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBlID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBtTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IG0gPSAobSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBpZiAoZSA9PT0gMCkge1xuICAgIGUgPSAxIC0gZUJpYXNcbiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG4gICAgcmV0dXJuIG0gPyBOYU4gOiAoKHMgPyAtMSA6IDEpICogSW5maW5pdHkpXG4gIH0gZWxzZSB7XG4gICAgbSA9IG0gKyBNYXRoLnBvdygyLCBtTGVuKVxuICAgIGUgPSBlIC0gZUJpYXNcbiAgfVxuICByZXR1cm4gKHMgPyAtMSA6IDEpICogbSAqIE1hdGgucG93KDIsIGUgLSBtTGVuKVxufVxuXG5leHBvcnRzLndyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgdmFsdWUsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtLCBjXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBydCA9IChtTGVuID09PSAyMyA/IE1hdGgucG93KDIsIC0yNCkgLSBNYXRoLnBvdygyLCAtNzcpIDogMClcbiAgdmFyIGkgPSBpc0xFID8gMCA6IChuQnl0ZXMgLSAxKVxuICB2YXIgZCA9IGlzTEUgPyAxIDogLTFcbiAgdmFyIHMgPSB2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApID8gMSA6IDBcblxuICB2YWx1ZSA9IE1hdGguYWJzKHZhbHVlKVxuXG4gIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgbSA9IGlzTmFOKHZhbHVlKSA/IDEgOiAwXG4gICAgZSA9IGVNYXhcbiAgfSBlbHNlIHtcbiAgICBlID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWx1ZSkgLyBNYXRoLkxOMilcbiAgICBpZiAodmFsdWUgKiAoYyA9IE1hdGgucG93KDIsIC1lKSkgPCAxKSB7XG4gICAgICBlLS1cbiAgICAgIGMgKj0gMlxuICAgIH1cbiAgICBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIHZhbHVlICs9IHJ0IC8gY1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSArPSBydCAqIE1hdGgucG93KDIsIDEgLSBlQmlhcylcbiAgICB9XG4gICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG4gICAgICBlKytcbiAgICAgIGMgLz0gMlxuICAgIH1cblxuICAgIGlmIChlICsgZUJpYXMgPj0gZU1heCkge1xuICAgICAgbSA9IDBcbiAgICAgIGUgPSBlTWF4XG4gICAgfSBlbHNlIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgbSA9ICgodmFsdWUgKiBjKSAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSBlICsgZUJpYXNcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogTWF0aC5wb3coMiwgZUJpYXMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gMFxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9XG5cbiAgZSA9IChlIDw8IG1MZW4pIHwgbVxuICBlTGVuICs9IG1MZW5cbiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBlICYgMHhmZiwgaSArPSBkLCBlIC89IDI1NiwgZUxlbiAtPSA4KSB7fVxuXG4gIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyOFxufVxuIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG4iLCIvKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSB3ZWIgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiBvZiBgZGVidWcoKWAuXG4gKi9cblxuZXhwb3J0cy5sb2cgPSBsb2c7XG5leHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuZXhwb3J0cy5zYXZlID0gc2F2ZTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5leHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9ycztcbmV4cG9ydHMuc3RvcmFnZSA9IGxvY2Fsc3RvcmFnZSgpO1xuXG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFtcblx0JyMwMDAwQ0MnLFxuXHQnIzAwMDBGRicsXG5cdCcjMDAzM0NDJyxcblx0JyMwMDMzRkYnLFxuXHQnIzAwNjZDQycsXG5cdCcjMDA2NkZGJyxcblx0JyMwMDk5Q0MnLFxuXHQnIzAwOTlGRicsXG5cdCcjMDBDQzAwJyxcblx0JyMwMENDMzMnLFxuXHQnIzAwQ0M2NicsXG5cdCcjMDBDQzk5Jyxcblx0JyMwMENDQ0MnLFxuXHQnIzAwQ0NGRicsXG5cdCcjMzMwMENDJyxcblx0JyMzMzAwRkYnLFxuXHQnIzMzMzNDQycsXG5cdCcjMzMzM0ZGJyxcblx0JyMzMzY2Q0MnLFxuXHQnIzMzNjZGRicsXG5cdCcjMzM5OUNDJyxcblx0JyMzMzk5RkYnLFxuXHQnIzMzQ0MwMCcsXG5cdCcjMzNDQzMzJyxcblx0JyMzM0NDNjYnLFxuXHQnIzMzQ0M5OScsXG5cdCcjMzNDQ0NDJyxcblx0JyMzM0NDRkYnLFxuXHQnIzY2MDBDQycsXG5cdCcjNjYwMEZGJyxcblx0JyM2NjMzQ0MnLFxuXHQnIzY2MzNGRicsXG5cdCcjNjZDQzAwJyxcblx0JyM2NkNDMzMnLFxuXHQnIzk5MDBDQycsXG5cdCcjOTkwMEZGJyxcblx0JyM5OTMzQ0MnLFxuXHQnIzk5MzNGRicsXG5cdCcjOTlDQzAwJyxcblx0JyM5OUNDMzMnLFxuXHQnI0NDMDAwMCcsXG5cdCcjQ0MwMDMzJyxcblx0JyNDQzAwNjYnLFxuXHQnI0NDMDA5OScsXG5cdCcjQ0MwMENDJyxcblx0JyNDQzAwRkYnLFxuXHQnI0NDMzMwMCcsXG5cdCcjQ0MzMzMzJyxcblx0JyNDQzMzNjYnLFxuXHQnI0NDMzM5OScsXG5cdCcjQ0MzM0NDJyxcblx0JyNDQzMzRkYnLFxuXHQnI0NDNjYwMCcsXG5cdCcjQ0M2NjMzJyxcblx0JyNDQzk5MDAnLFxuXHQnI0NDOTkzMycsXG5cdCcjQ0NDQzAwJyxcblx0JyNDQ0NDMzMnLFxuXHQnI0ZGMDAwMCcsXG5cdCcjRkYwMDMzJyxcblx0JyNGRjAwNjYnLFxuXHQnI0ZGMDA5OScsXG5cdCcjRkYwMENDJyxcblx0JyNGRjAwRkYnLFxuXHQnI0ZGMzMwMCcsXG5cdCcjRkYzMzMzJyxcblx0JyNGRjMzNjYnLFxuXHQnI0ZGMzM5OScsXG5cdCcjRkYzM0NDJyxcblx0JyNGRjMzRkYnLFxuXHQnI0ZGNjYwMCcsXG5cdCcjRkY2NjMzJyxcblx0JyNGRjk5MDAnLFxuXHQnI0ZGOTkzMycsXG5cdCcjRkZDQzAwJyxcblx0JyNGRkNDMzMnXG5dO1xuXG4vKipcbiAqIEN1cnJlbnRseSBvbmx5IFdlYktpdC1iYXNlZCBXZWIgSW5zcGVjdG9ycywgRmlyZWZveCA+PSB2MzEsXG4gKiBhbmQgdGhlIEZpcmVidWcgZXh0ZW5zaW9uIChhbnkgRmlyZWZveCB2ZXJzaW9uKSBhcmUga25vd25cbiAqIHRvIHN1cHBvcnQgXCIlY1wiIENTUyBjdXN0b21pemF0aW9ucy5cbiAqXG4gKiBUT0RPOiBhZGQgYSBgbG9jYWxTdG9yYWdlYCB2YXJpYWJsZSB0byBleHBsaWNpdGx5IGVuYWJsZS9kaXNhYmxlIGNvbG9yc1xuICovXG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiB1c2VDb2xvcnMoKSB7XG5cdC8vIE5COiBJbiBhbiBFbGVjdHJvbiBwcmVsb2FkIHNjcmlwdCwgZG9jdW1lbnQgd2lsbCBiZSBkZWZpbmVkIGJ1dCBub3QgZnVsbHlcblx0Ly8gaW5pdGlhbGl6ZWQuIFNpbmNlIHdlIGtub3cgd2UncmUgaW4gQ2hyb21lLCB3ZSdsbCBqdXN0IGRldGVjdCB0aGlzIGNhc2Vcblx0Ly8gZXhwbGljaXRseVxuXHRpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnByb2Nlc3MgJiYgKHdpbmRvdy5wcm9jZXNzLnR5cGUgPT09ICdyZW5kZXJlcicgfHwgd2luZG93LnByb2Nlc3MuX19ud2pzKSkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gSW50ZXJuZXQgRXhwbG9yZXIgYW5kIEVkZ2UgZG8gbm90IHN1cHBvcnQgY29sb3JzLlxuXHRpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goLyhlZGdlfHRyaWRlbnQpXFwvKFxcZCspLykpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvLyBJcyB3ZWJraXQ/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE2NDU5NjA2LzM3Njc3M1xuXHQvLyBkb2N1bWVudCBpcyB1bmRlZmluZWQgaW4gcmVhY3QtbmF0aXZlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL3B1bGwvMTYzMlxuXHRyZXR1cm4gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZSkgfHxcblx0XHQvLyBJcyBmaXJlYnVnPyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zOTgxMjAvMzc2NzczXG5cdFx0KHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS5maXJlYnVnIHx8ICh3aW5kb3cuY29uc29sZS5leGNlcHRpb24gJiYgd2luZG93LmNvbnNvbGUudGFibGUpKSkgfHxcblx0XHQvLyBJcyBmaXJlZm94ID49IHYzMT9cblx0XHQvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL1dlYl9Db25zb2xlI1N0eWxpbmdfbWVzc2FnZXNcblx0XHQodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSAmJiBwYXJzZUludChSZWdFeHAuJDEsIDEwKSA+PSAzMSkgfHxcblx0XHQvLyBEb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG5cdFx0KHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pKTtcbn1cblxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcblx0YXJnc1swXSA9ICh0aGlzLnVzZUNvbG9ycyA/ICclYycgOiAnJykgK1xuXHRcdHRoaXMubmFtZXNwYWNlICtcblx0XHQodGhpcy51c2VDb2xvcnMgPyAnICVjJyA6ICcgJykgK1xuXHRcdGFyZ3NbMF0gK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICclYyAnIDogJyAnKSArXG5cdFx0JysnICsgbW9kdWxlLmV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTtcblxuXHRpZiAoIXRoaXMudXNlQ29sb3JzKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3QgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG5cdGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpO1xuXG5cdC8vIFRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG5cdC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cblx0Ly8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG5cdGxldCBpbmRleCA9IDA7XG5cdGxldCBsYXN0QyA9IDA7XG5cdGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBtYXRjaCA9PiB7XG5cdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGluZGV4Kys7XG5cdFx0aWYgKG1hdGNoID09PSAnJWMnKSB7XG5cdFx0XHQvLyBXZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcblx0XHRcdC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG5cdFx0XHRsYXN0QyA9IGluZGV4O1xuXHRcdH1cblx0fSk7XG5cblx0YXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuXG4vKipcbiAqIEludm9rZXMgYGNvbnNvbGUubG9nKClgIHdoZW4gYXZhaWxhYmxlLlxuICogTm8tb3Agd2hlbiBgY29uc29sZS5sb2dgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiBsb2coLi4uYXJncykge1xuXHQvLyBUaGlzIGhhY2tlcnkgaXMgcmVxdWlyZWQgZm9yIElFOC85LCB3aGVyZVxuXHQvLyB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbiBkb2Vzbid0IGhhdmUgJ2FwcGx5J1xuXHRyZXR1cm4gdHlwZW9mIGNvbnNvbGUgPT09ICdvYmplY3QnICYmXG5cdFx0Y29uc29sZS5sb2cgJiZcblx0XHRjb25zb2xlLmxvZyguLi5hcmdzKTtcbn1cblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuXHR0cnkge1xuXHRcdGlmIChuYW1lc3BhY2VzKSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2Uuc2V0SXRlbSgnZGVidWcnLCBuYW1lc3BhY2VzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBsb2FkKCkge1xuXHRsZXQgcjtcblx0dHJ5IHtcblx0XHRyID0gZXhwb3J0cy5zdG9yYWdlLmdldEl0ZW0oJ2RlYnVnJyk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG5cblx0Ly8gSWYgZGVidWcgaXNuJ3Qgc2V0IGluIExTLCBhbmQgd2UncmUgaW4gRWxlY3Ryb24sIHRyeSB0byBsb2FkICRERUJVR1xuXHRpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcblx0XHRyID0gcHJvY2Vzcy5lbnYuREVCVUc7XG5cdH1cblxuXHRyZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBMb2NhbHN0b3JhZ2UgYXR0ZW1wdHMgdG8gcmV0dXJuIHRoZSBsb2NhbHN0b3JhZ2UuXG4gKlxuICogVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBzYWZhcmkgdGhyb3dzXG4gKiB3aGVuIGEgdXNlciBkaXNhYmxlcyBjb29raWVzL2xvY2Fsc3RvcmFnZVxuICogYW5kIHlvdSBhdHRlbXB0IHRvIGFjY2VzcyBpdC5cbiAqXG4gKiBAcmV0dXJuIHtMb2NhbFN0b3JhZ2V9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7XG5cdHRyeSB7XG5cdFx0Ly8gVFZNTEtpdCAoQXBwbGUgVFYgSlMgUnVudGltZSkgZG9lcyBub3QgaGF2ZSBhIHdpbmRvdyBvYmplY3QsIGp1c3QgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dFxuXHRcdC8vIFRoZSBCcm93c2VyIGFsc28gaGFzIGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHQuXG5cdFx0cmV0dXJuIGxvY2FsU3RvcmFnZTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2NvbW1vbicpKGV4cG9ydHMpO1xuXG5jb25zdCB7Zm9ybWF0dGVyc30gPSBtb2R1bGUuZXhwb3J0cztcblxuLyoqXG4gKiBNYXAgJWogdG8gYEpTT04uc3RyaW5naWZ5KClgLCBzaW5jZSBubyBXZWIgSW5zcGVjdG9ycyBkbyB0aGF0IGJ5IGRlZmF1bHQuXG4gKi9cblxuZm9ybWF0dGVycy5qID0gZnVuY3Rpb24gKHYpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkodik7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuICdbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogJyArIGVycm9yLm1lc3NhZ2U7XG5cdH1cbn07XG4iLCJcbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqL1xuXG5mdW5jdGlvbiBzZXR1cChlbnYpIHtcblx0Y3JlYXRlRGVidWcuZGVidWcgPSBjcmVhdGVEZWJ1Zztcblx0Y3JlYXRlRGVidWcuZGVmYXVsdCA9IGNyZWF0ZURlYnVnO1xuXHRjcmVhdGVEZWJ1Zy5jb2VyY2UgPSBjb2VyY2U7XG5cdGNyZWF0ZURlYnVnLmRpc2FibGUgPSBkaXNhYmxlO1xuXHRjcmVhdGVEZWJ1Zy5lbmFibGUgPSBlbmFibGU7XG5cdGNyZWF0ZURlYnVnLmVuYWJsZWQgPSBlbmFibGVkO1xuXHRjcmVhdGVEZWJ1Zy5odW1hbml6ZSA9IHJlcXVpcmUoJ21zJyk7XG5cblx0T2JqZWN0LmtleXMoZW52KS5mb3JFYWNoKGtleSA9PiB7XG5cdFx0Y3JlYXRlRGVidWdba2V5XSA9IGVudltrZXldO1xuXHR9KTtcblxuXHQvKipcblx0KiBBY3RpdmUgYGRlYnVnYCBpbnN0YW5jZXMuXG5cdCovXG5cdGNyZWF0ZURlYnVnLmluc3RhbmNlcyA9IFtdO1xuXG5cdC8qKlxuXHQqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGRlYnVnIG1vZGUgbmFtZXMsIGFuZCBuYW1lcyB0byBza2lwLlxuXHQqL1xuXG5cdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdGNyZWF0ZURlYnVnLnNraXBzID0gW107XG5cblx0LyoqXG5cdCogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuXHQqXG5cdCogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gXCJuXCIgYW5kIFwiTlwiLlxuXHQqL1xuXHRjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzID0ge307XG5cblx0LyoqXG5cdCogU2VsZWN0cyBhIGNvbG9yIGZvciBhIGRlYnVnIG5hbWVzcGFjZVxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZSBzdHJpbmcgZm9yIHRoZSBmb3IgdGhlIGRlYnVnIGluc3RhbmNlIHRvIGJlIGNvbG9yZWRcblx0KiBAcmV0dXJuIHtOdW1iZXJ8U3RyaW5nfSBBbiBBTlNJIGNvbG9yIGNvZGUgZm9yIHRoZSBnaXZlbiBuYW1lc3BhY2Vcblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gc2VsZWN0Q29sb3IobmFtZXNwYWNlKSB7XG5cdFx0bGV0IGhhc2ggPSAwO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lc3BhY2UubGVuZ3RoOyBpKyspIHtcblx0XHRcdGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIG5hbWVzcGFjZS5jaGFyQ29kZUF0KGkpO1xuXHRcdFx0aGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcblx0XHR9XG5cblx0XHRyZXR1cm4gY3JlYXRlRGVidWcuY29sb3JzW01hdGguYWJzKGhhc2gpICUgY3JlYXRlRGVidWcuY29sb3JzLmxlbmd0aF07XG5cdH1cblx0Y3JlYXRlRGVidWcuc2VsZWN0Q29sb3IgPSBzZWxlY3RDb2xvcjtcblxuXHQvKipcblx0KiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2Vcblx0KiBAcmV0dXJuIHtGdW5jdGlvbn1cblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBjcmVhdGVEZWJ1ZyhuYW1lc3BhY2UpIHtcblx0XHRsZXQgcHJldlRpbWU7XG5cblx0XHRmdW5jdGlvbiBkZWJ1ZyguLi5hcmdzKSB7XG5cdFx0XHQvLyBEaXNhYmxlZD9cblx0XHRcdGlmICghZGVidWcuZW5hYmxlZCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHNlbGYgPSBkZWJ1ZztcblxuXHRcdFx0Ly8gU2V0IGBkaWZmYCB0aW1lc3RhbXBcblx0XHRcdGNvbnN0IGN1cnIgPSBOdW1iZXIobmV3IERhdGUoKSk7XG5cdFx0XHRjb25zdCBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG5cdFx0XHRzZWxmLmRpZmYgPSBtcztcblx0XHRcdHNlbGYucHJldiA9IHByZXZUaW1lO1xuXHRcdFx0c2VsZi5jdXJyID0gY3Vycjtcblx0XHRcdHByZXZUaW1lID0gY3VycjtcblxuXHRcdFx0YXJnc1swXSA9IGNyZWF0ZURlYnVnLmNvZXJjZShhcmdzWzBdKTtcblxuXHRcdFx0aWYgKHR5cGVvZiBhcmdzWzBdICE9PSAnc3RyaW5nJykge1xuXHRcdFx0XHQvLyBBbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuXHRcdFx0XHRhcmdzLnVuc2hpZnQoJyVPJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG5cdFx0XHRsZXQgaW5kZXggPSAwO1xuXHRcdFx0YXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIChtYXRjaCwgZm9ybWF0KSA9PiB7XG5cdFx0XHRcdC8vIElmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcblx0XHRcdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdGNvbnN0IGZvcm1hdHRlciA9IGNyZWF0ZURlYnVnLmZvcm1hdHRlcnNbZm9ybWF0XTtcblx0XHRcdFx0aWYgKHR5cGVvZiBmb3JtYXR0ZXIgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRjb25zdCB2YWwgPSBhcmdzW2luZGV4XTtcblx0XHRcdFx0XHRtYXRjaCA9IGZvcm1hdHRlci5jYWxsKHNlbGYsIHZhbCk7XG5cblx0XHRcdFx0XHQvLyBOb3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG5cdFx0XHRcdFx0YXJncy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0XHRcdGluZGV4LS07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIEFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG5cdFx0XHRjcmVhdGVEZWJ1Zy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cblx0XHRcdGNvbnN0IGxvZ0ZuID0gc2VsZi5sb2cgfHwgY3JlYXRlRGVidWcubG9nO1xuXHRcdFx0bG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG5cdFx0fVxuXG5cdFx0ZGVidWcubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuXHRcdGRlYnVnLmVuYWJsZWQgPSBjcmVhdGVEZWJ1Zy5lbmFibGVkKG5hbWVzcGFjZSk7XG5cdFx0ZGVidWcudXNlQ29sb3JzID0gY3JlYXRlRGVidWcudXNlQ29sb3JzKCk7XG5cdFx0ZGVidWcuY29sb3IgPSBzZWxlY3RDb2xvcihuYW1lc3BhY2UpO1xuXHRcdGRlYnVnLmRlc3Ryb3kgPSBkZXN0cm95O1xuXHRcdGRlYnVnLmV4dGVuZCA9IGV4dGVuZDtcblx0XHQvLyBEZWJ1Zy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcblx0XHQvLyBkZWJ1Zy5yYXdMb2cgPSByYXdMb2c7XG5cblx0XHQvLyBlbnYtc3BlY2lmaWMgaW5pdGlhbGl6YXRpb24gbG9naWMgZm9yIGRlYnVnIGluc3RhbmNlc1xuXHRcdGlmICh0eXBlb2YgY3JlYXRlRGVidWcuaW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y3JlYXRlRGVidWcuaW5pdChkZWJ1Zyk7XG5cdFx0fVxuXG5cdFx0Y3JlYXRlRGVidWcuaW5zdGFuY2VzLnB1c2goZGVidWcpO1xuXG5cdFx0cmV0dXJuIGRlYnVnO1xuXHR9XG5cblx0ZnVuY3Rpb24gZGVzdHJveSgpIHtcblx0XHRjb25zdCBpbmRleCA9IGNyZWF0ZURlYnVnLmluc3RhbmNlcy5pbmRleE9mKHRoaXMpO1xuXHRcdGlmIChpbmRleCAhPT0gLTEpIHtcblx0XHRcdGNyZWF0ZURlYnVnLmluc3RhbmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGZ1bmN0aW9uIGV4dGVuZChuYW1lc3BhY2UsIGRlbGltaXRlcikge1xuXHRcdGNvbnN0IG5ld0RlYnVnID0gY3JlYXRlRGVidWcodGhpcy5uYW1lc3BhY2UgKyAodHlwZW9mIGRlbGltaXRlciA9PT0gJ3VuZGVmaW5lZCcgPyAnOicgOiBkZWxpbWl0ZXIpICsgbmFtZXNwYWNlKTtcblx0XHRuZXdEZWJ1Zy5sb2cgPSB0aGlzLmxvZztcblx0XHRyZXR1cm4gbmV3RGVidWc7XG5cdH1cblxuXHQvKipcblx0KiBFbmFibGVzIGEgZGVidWcgbW9kZSBieSBuYW1lc3BhY2VzLiBUaGlzIGNhbiBpbmNsdWRlIG1vZGVzXG5cdCogc2VwYXJhdGVkIGJ5IGEgY29sb24gYW5kIHdpbGRjYXJkcy5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcblx0XHRjcmVhdGVEZWJ1Zy5zYXZlKG5hbWVzcGFjZXMpO1xuXG5cdFx0Y3JlYXRlRGVidWcubmFtZXMgPSBbXTtcblx0XHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdFx0bGV0IGk7XG5cdFx0Y29uc3Qgc3BsaXQgPSAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnID8gbmFtZXNwYWNlcyA6ICcnKS5zcGxpdCgvW1xccyxdKy8pO1xuXHRcdGNvbnN0IGxlbiA9IHNwbGl0Lmxlbmd0aDtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKCFzcGxpdFtpXSkge1xuXHRcdFx0XHQvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0bmFtZXNwYWNlcyA9IHNwbGl0W2ldLnJlcGxhY2UoL1xcKi9nLCAnLio/Jyk7XG5cblx0XHRcdGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc3Vic3RyKDEpICsgJyQnKSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjcmVhdGVEZWJ1Zy5uYW1lcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcyArICckJykpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoaSA9IDA7IGkgPCBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGluc3RhbmNlID0gY3JlYXRlRGVidWcuaW5zdGFuY2VzW2ldO1xuXHRcdFx0aW5zdGFuY2UuZW5hYmxlZCA9IGNyZWF0ZURlYnVnLmVuYWJsZWQoaW5zdGFuY2UubmFtZXNwYWNlKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0KiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cblx0KlxuXHQqIEByZXR1cm4ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGRpc2FibGUoKSB7XG5cdFx0Y29uc3QgbmFtZXNwYWNlcyA9IFtcblx0XHRcdC4uLmNyZWF0ZURlYnVnLm5hbWVzLm1hcCh0b05hbWVzcGFjZSksXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5za2lwcy5tYXAodG9OYW1lc3BhY2UpLm1hcChuYW1lc3BhY2UgPT4gJy0nICsgbmFtZXNwYWNlKVxuXHRcdF0uam9pbignLCcpO1xuXHRcdGNyZWF0ZURlYnVnLmVuYWJsZSgnJyk7XG5cdFx0cmV0dXJuIG5hbWVzcGFjZXM7XG5cdH1cblxuXHQvKipcblx0KiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuXHQqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7XG5cdFx0aWYgKG5hbWVbbmFtZS5sZW5ndGggLSAxXSA9PT0gJyonKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRsZXQgaTtcblx0XHRsZXQgbGVuO1xuXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcuc2tpcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChjcmVhdGVEZWJ1Zy5za2lwc1tpXS50ZXN0KG5hbWUpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjcmVhdGVEZWJ1Zy5uYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKGNyZWF0ZURlYnVnLm5hbWVzW2ldLnRlc3QobmFtZSkpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCogQ29udmVydCByZWdleHAgdG8gbmFtZXNwYWNlXG5cdCpcblx0KiBAcGFyYW0ge1JlZ0V4cH0gcmVneGVwXG5cdCogQHJldHVybiB7U3RyaW5nfSBuYW1lc3BhY2Vcblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gdG9OYW1lc3BhY2UocmVnZXhwKSB7XG5cdFx0cmV0dXJuIHJlZ2V4cC50b1N0cmluZygpXG5cdFx0XHQuc3Vic3RyaW5nKDIsIHJlZ2V4cC50b1N0cmluZygpLmxlbmd0aCAtIDIpXG5cdFx0XHQucmVwbGFjZSgvXFwuXFwqXFw/JC8sICcqJyk7XG5cdH1cblxuXHQvKipcblx0KiBDb2VyY2UgYHZhbGAuXG5cdCpcblx0KiBAcGFyYW0ge01peGVkfSB2YWxcblx0KiBAcmV0dXJuIHtNaXhlZH1cblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gY29lcmNlKHZhbCkge1xuXHRcdGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0cmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxuXG5cdGNyZWF0ZURlYnVnLmVuYWJsZShjcmVhdGVEZWJ1Zy5sb2FkKCkpO1xuXG5cdHJldHVybiBjcmVhdGVEZWJ1Zztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXR1cDtcbiIsIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgdyA9IGQgKiA3O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuICBpZiAodHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2UodmFsKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc05hTih2YWwpID09PSBmYWxzZSkge1xuICAgIHJldHVybiBvcHRpb25zLmxvbmcgPyBmbXRMb25nKHZhbCkgOiBmbXRTaG9ydCh2YWwpO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAndmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSB2YWxpZCBudW1iZXIuIHZhbD0nICtcbiAgICAgIEpTT04uc3RyaW5naWZ5KHZhbClcbiAgKTtcbn07XG5cbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIGBzdHJgIGFuZCByZXR1cm4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHN0cikge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHN0ci5sZW5ndGggPiAxMDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG1hdGNoID0gL14oKD86XFxkKyk/XFwtP1xcZD9cXC4/XFxkKykgKihtaWxsaXNlY29uZHM/fG1zZWNzP3xtc3xzZWNvbmRzP3xzZWNzP3xzfG1pbnV0ZXM/fG1pbnM/fG18aG91cnM/fGhycz98aHxkYXlzP3xkfHdlZWtzP3x3fHllYXJzP3x5cnM/fHkpPyQvaS5leGVjKFxuICAgIHN0clxuICApO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBuID0gcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gIHZhciB0eXBlID0gKG1hdGNoWzJdIHx8ICdtcycpLnRvTG93ZXJDYXNlKCk7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3llYXJzJzpcbiAgICBjYXNlICd5ZWFyJzpcbiAgICBjYXNlICd5cnMnOlxuICAgIGNhc2UgJ3lyJzpcbiAgICBjYXNlICd5JzpcbiAgICAgIHJldHVybiBuICogeTtcbiAgICBjYXNlICd3ZWVrcyc6XG4gICAgY2FzZSAnd2Vlayc6XG4gICAgY2FzZSAndyc6XG4gICAgICByZXR1cm4gbiAqIHc7XG4gICAgY2FzZSAnZGF5cyc6XG4gICAgY2FzZSAnZGF5JzpcbiAgICBjYXNlICdkJzpcbiAgICAgIHJldHVybiBuICogZDtcbiAgICBjYXNlICdob3Vycyc6XG4gICAgY2FzZSAnaG91cic6XG4gICAgY2FzZSAnaHJzJzpcbiAgICBjYXNlICdocic6XG4gICAgY2FzZSAnaCc6XG4gICAgICByZXR1cm4gbiAqIGg7XG4gICAgY2FzZSAnbWludXRlcyc6XG4gICAgY2FzZSAnbWludXRlJzpcbiAgICBjYXNlICdtaW5zJzpcbiAgICBjYXNlICdtaW4nOlxuICAgIGNhc2UgJ20nOlxuICAgICAgcmV0dXJuIG4gKiBtO1xuICAgIGNhc2UgJ3NlY29uZHMnOlxuICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgY2FzZSAnc2Vjcyc6XG4gICAgY2FzZSAnc2VjJzpcbiAgICBjYXNlICdzJzpcbiAgICAgIHJldHVybiBuICogcztcbiAgICBjYXNlICdtaWxsaXNlY29uZHMnOlxuICAgIGNhc2UgJ21pbGxpc2Vjb25kJzpcbiAgICBjYXNlICdtc2Vjcyc6XG4gICAgY2FzZSAnbXNlYyc6XG4gICAgY2FzZSAnbXMnOlxuICAgICAgcmV0dXJuIG47XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBTaG9ydCBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRTaG9ydChtcykge1xuICB2YXIgbXNBYnMgPSBNYXRoLmFicyhtcyk7XG4gIGlmIChtc0FicyA+PSBkKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBkKSArICdkJztcbiAgfVxuICBpZiAobXNBYnMgPj0gaCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gaCkgKyAnaCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG0pICsgJ20nO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBzKSArICdzJztcbiAgfVxuICByZXR1cm4gbXMgKyAnbXMnO1xufVxuXG4vKipcbiAqIExvbmcgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10TG9uZyhtcykge1xuICB2YXIgbXNBYnMgPSBNYXRoLmFicyhtcyk7XG4gIGlmIChtc0FicyA+PSBkKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGQsICdkYXknKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gaCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBoLCAnaG91cicpO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIG0sICdtaW51dGUnKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBzLCAnc2Vjb25kJyk7XG4gIH1cbiAgcmV0dXJuIG1zICsgJyBtcyc7XG59XG5cbi8qKlxuICogUGx1cmFsaXphdGlvbiBoZWxwZXIuXG4gKi9cblxuZnVuY3Rpb24gcGx1cmFsKG1zLCBtc0FicywgbiwgbmFtZSkge1xuICB2YXIgaXNQbHVyYWwgPSBtc0FicyA+PSBuICogMS41O1xuICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG4pICsgJyAnICsgbmFtZSArIChpc1BsdXJhbCA/ICdzJyA6ICcnKTtcbn1cbiIsIi8vIG9yaWdpbmFsbHkgcHVsbGVkIG91dCBvZiBzaW1wbGUtcGVlclxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldEJyb3dzZXJSVEMgKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBudWxsXG4gIHZhciB3cnRjID0ge1xuICAgIFJUQ1BlZXJDb25uZWN0aW9uOiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gfHwgd2luZG93Lm1velJUQ1BlZXJDb25uZWN0aW9uIHx8XG4gICAgICB3aW5kb3cud2Via2l0UlRDUGVlckNvbm5lY3Rpb24sXG4gICAgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uOiB3aW5kb3cuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uIHx8XG4gICAgICB3aW5kb3cubW96UlRDU2Vzc2lvbkRlc2NyaXB0aW9uIHx8IHdpbmRvdy53ZWJraXRSVENTZXNzaW9uRGVzY3JpcHRpb24sXG4gICAgUlRDSWNlQ2FuZGlkYXRlOiB3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlIHx8IHdpbmRvdy5tb3pSVENJY2VDYW5kaWRhdGUgfHxcbiAgICAgIHdpbmRvdy53ZWJraXRSVENJY2VDYW5kaWRhdGVcbiAgfVxuICBpZiAoIXdydGMuUlRDUGVlckNvbm5lY3Rpb24pIHJldHVybiBudWxsXG4gIHJldHVybiB3cnRjXG59XG4iLCIndXNlIHN0cmljdCdcblxuZnVuY3Rpb24gb2xkQnJvd3NlciAoKSB7XG4gIHRocm93IG5ldyBFcnJvcignU2VjdXJlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci5cXG5Vc2UgQ2hyb21lLCBGaXJlZm94IG9yIEludGVybmV0IEV4cGxvcmVyIDExJylcbn1cblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJykuQnVmZmVyXG52YXIgY3J5cHRvID0gZ2xvYmFsLmNyeXB0byB8fCBnbG9iYWwubXNDcnlwdG9cblxuaWYgKGNyeXB0byAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmFuZG9tQnl0ZXNcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gb2xkQnJvd3NlclxufVxuXG5mdW5jdGlvbiByYW5kb21CeXRlcyAoc2l6ZSwgY2IpIHtcbiAgLy8gcGhhbnRvbWpzIG5lZWRzIHRvIHRocm93XG4gIGlmIChzaXplID4gNjU1MzYpIHRocm93IG5ldyBFcnJvcigncmVxdWVzdGVkIHRvbyBtYW55IHJhbmRvbSBieXRlcycpXG4gIC8vIGluIGNhc2UgYnJvd3NlcmlmeSAgaXNuJ3QgdXNpbmcgdGhlIFVpbnQ4QXJyYXkgdmVyc2lvblxuICB2YXIgcmF3Qnl0ZXMgPSBuZXcgZ2xvYmFsLlVpbnQ4QXJyYXkoc2l6ZSlcblxuICAvLyBUaGlzIHdpbGwgbm90IHdvcmsgaW4gb2xkZXIgYnJvd3NlcnMuXG4gIC8vIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXNcbiAgaWYgKHNpemUgPiAwKSB7ICAvLyBnZXRSYW5kb21WYWx1ZXMgZmFpbHMgb24gSUUgaWYgc2l6ZSA9PSAwXG4gICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhyYXdCeXRlcylcbiAgfVxuXG4gIC8vIFhYWDogcGhhbnRvbWpzIGRvZXNuJ3QgbGlrZSBhIGJ1ZmZlciBiZWluZyBwYXNzZWQgaGVyZVxuICB2YXIgYnl0ZXMgPSBCdWZmZXIuZnJvbShyYXdCeXRlcy5idWZmZXIpXG5cbiAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNiKG51bGwsIGJ5dGVzKVxuICAgIH0pXG4gIH1cblxuICByZXR1cm4gYnl0ZXNcbn1cbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL19zdHJlYW1fcmVhZGFibGUuanMnKTtcbmV4cG9ydHMuU3RyZWFtID0gZXhwb3J0cztcbmV4cG9ydHMuUmVhZGFibGUgPSBleHBvcnRzO1xuZXhwb3J0cy5Xcml0YWJsZSA9IHJlcXVpcmUoJy4vbGliL19zdHJlYW1fd3JpdGFibGUuanMnKTtcbmV4cG9ydHMuRHVwbGV4ID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV9kdXBsZXguanMnKTtcbmV4cG9ydHMuVHJhbnNmb3JtID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV90cmFuc2Zvcm0uanMnKTtcbmV4cG9ydHMuUGFzc1Rocm91Z2ggPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX3Bhc3N0aHJvdWdoLmpzJyk7XG4iLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJykuQnVmZmVyO1xudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG5cbmZ1bmN0aW9uIGNvcHlCdWZmZXIoc3JjLCB0YXJnZXQsIG9mZnNldCkge1xuICBzcmMuY29weSh0YXJnZXQsIG9mZnNldCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBCdWZmZXJMaXN0KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCdWZmZXJMaXN0KTtcblxuICAgIHRoaXMuaGVhZCA9IG51bGw7XG4gICAgdGhpcy50YWlsID0gbnVsbDtcbiAgICB0aGlzLmxlbmd0aCA9IDA7XG4gIH1cblxuICBCdWZmZXJMaXN0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCh2KSB7XG4gICAgdmFyIGVudHJ5ID0geyBkYXRhOiB2LCBuZXh0OiBudWxsIH07XG4gICAgaWYgKHRoaXMubGVuZ3RoID4gMCkgdGhpcy50YWlsLm5leHQgPSBlbnRyeTtlbHNlIHRoaXMuaGVhZCA9IGVudHJ5O1xuICAgIHRoaXMudGFpbCA9IGVudHJ5O1xuICAgICsrdGhpcy5sZW5ndGg7XG4gIH07XG5cbiAgQnVmZmVyTGlzdC5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uIHVuc2hpZnQodikge1xuICAgIHZhciBlbnRyeSA9IHsgZGF0YTogdiwgbmV4dDogdGhpcy5oZWFkIH07XG4gICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSB0aGlzLnRhaWwgPSBlbnRyeTtcbiAgICB0aGlzLmhlYWQgPSBlbnRyeTtcbiAgICArK3RoaXMubGVuZ3RoO1xuICB9O1xuXG4gIEJ1ZmZlckxpc3QucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24gc2hpZnQoKSB7XG4gICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgdmFyIHJldCA9IHRoaXMuaGVhZC5kYXRhO1xuICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMSkgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbDtlbHNlIHRoaXMuaGVhZCA9IHRoaXMuaGVhZC5uZXh0O1xuICAgIC0tdGhpcy5sZW5ndGg7XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcblxuICBCdWZmZXJMaXN0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gICAgdGhpcy5sZW5ndGggPSAwO1xuICB9O1xuXG4gIEJ1ZmZlckxpc3QucHJvdG90eXBlLmpvaW4gPSBmdW5jdGlvbiBqb2luKHMpIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiAnJztcbiAgICB2YXIgcCA9IHRoaXMuaGVhZDtcbiAgICB2YXIgcmV0ID0gJycgKyBwLmRhdGE7XG4gICAgd2hpbGUgKHAgPSBwLm5leHQpIHtcbiAgICAgIHJldCArPSBzICsgcC5kYXRhO1xuICAgIH1yZXR1cm4gcmV0O1xuICB9O1xuXG4gIEJ1ZmZlckxpc3QucHJvdG90eXBlLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdChuKSB7XG4gICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gQnVmZmVyLmFsbG9jKDApO1xuICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIHRoaXMuaGVhZC5kYXRhO1xuICAgIHZhciByZXQgPSBCdWZmZXIuYWxsb2NVbnNhZmUobiA+Pj4gMCk7XG4gICAgdmFyIHAgPSB0aGlzLmhlYWQ7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChwKSB7XG4gICAgICBjb3B5QnVmZmVyKHAuZGF0YSwgcmV0LCBpKTtcbiAgICAgIGkgKz0gcC5kYXRhLmxlbmd0aDtcbiAgICAgIHAgPSBwLm5leHQ7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH07XG5cbiAgcmV0dXJuIEJ1ZmZlckxpc3Q7XG59KCk7XG5cbmlmICh1dGlsICYmIHV0aWwuaW5zcGVjdCAmJiB1dGlsLmluc3BlY3QuY3VzdG9tKSB7XG4gIG1vZHVsZS5leHBvcnRzLnByb3RvdHlwZVt1dGlsLmluc3BlY3QuY3VzdG9tXSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb2JqID0gdXRpbC5pbnNwZWN0KHsgbGVuZ3RoOiB0aGlzLmxlbmd0aCB9KTtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lICsgJyAnICsgb2JqO1xuICB9O1xufSIsInZhciBzY29wZSA9ICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbCkgfHxcbiAgICAgICAgICAgICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmKSB8fFxuICAgICAgICAgICAgd2luZG93O1xudmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgc2NvcGUsIGFyZ3VtZW50cyksIGNsZWFyVGltZW91dCk7XG59O1xuZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgc2NvcGUsIGFyZ3VtZW50cyksIGNsZWFySW50ZXJ2YWwpO1xufTtcbmV4cG9ydHMuY2xlYXJUaW1lb3V0ID1cbmV4cG9ydHMuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHtcbiAgaWYgKHRpbWVvdXQpIHtcbiAgICB0aW1lb3V0LmNsb3NlKCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwoc2NvcGUsIHRoaXMuX2lkKTtcbn07XG5cbi8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuZXhwb3J0cy5lbnJvbGwgPSBmdW5jdGlvbihpdGVtLCBtc2Vjcykge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG59O1xuXG5leHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG59O1xuXG5leHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cbiAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG4gIGlmIChtc2VjcyA+PSAwKSB7XG4gICAgaXRlbS5faWRsZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gb25UaW1lb3V0KCkge1xuICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcbiAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG4gICAgfSwgbXNlY3MpO1xuICB9XG59O1xuXG4vLyBzZXRpbW1lZGlhdGUgYXR0YWNoZXMgaXRzZWxmIHRvIHRoZSBnbG9iYWwgb2JqZWN0XG5yZXF1aXJlKFwic2V0aW1tZWRpYXRlXCIpO1xuLy8gT24gc29tZSBleG90aWMgZW52aXJvbm1lbnRzLCBpdCdzIG5vdCBjbGVhciB3aGljaCBvYmplY3QgYHNldGltbWVkaWF0ZWAgd2FzXG4vLyBhYmxlIHRvIGluc3RhbGwgb250by4gIFNlYXJjaCBlYWNoIHBvc3NpYmlsaXR5IGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZVxuLy8gYHNldGltbWVkaWF0ZWAgbGlicmFyeS5cbmV4cG9ydHMuc2V0SW1tZWRpYXRlID0gKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuc2V0SW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuc2V0SW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAodGhpcyAmJiB0aGlzLnNldEltbWVkaWF0ZSk7XG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLmNsZWFySW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuY2xlYXJJbW1lZGlhdGUpO1xuIiwiKGZ1bmN0aW9uIChnbG9iYWwsIHVuZGVmaW5lZCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgaWYgKGdsb2JhbC5zZXRJbW1lZGlhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBuZXh0SGFuZGxlID0gMTsgLy8gU3BlYyBzYXlzIGdyZWF0ZXIgdGhhbiB6ZXJvXG4gICAgdmFyIHRhc2tzQnlIYW5kbGUgPSB7fTtcbiAgICB2YXIgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgdmFyIGRvYyA9IGdsb2JhbC5kb2N1bWVudDtcbiAgICB2YXIgcmVnaXN0ZXJJbW1lZGlhdGU7XG5cbiAgICBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoY2FsbGJhY2spIHtcbiAgICAgIC8vIENhbGxiYWNrIGNhbiBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhIHN0cmluZ1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbmV3IEZ1bmN0aW9uKFwiXCIgKyBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgICAvLyBDb3B5IGZ1bmN0aW9uIGFyZ3VtZW50c1xuICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpICsgMV07XG4gICAgICB9XG4gICAgICAvLyBTdG9yZSBhbmQgcmVnaXN0ZXIgdGhlIHRhc2tcbiAgICAgIHZhciB0YXNrID0geyBjYWxsYmFjazogY2FsbGJhY2ssIGFyZ3M6IGFyZ3MgfTtcbiAgICAgIHRhc2tzQnlIYW5kbGVbbmV4dEhhbmRsZV0gPSB0YXNrO1xuICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUobmV4dEhhbmRsZSk7XG4gICAgICByZXR1cm4gbmV4dEhhbmRsZSsrO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGhhbmRsZSkge1xuICAgICAgICBkZWxldGUgdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bih0YXNrKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRhc2suY2FsbGJhY2s7XG4gICAgICAgIHZhciBhcmdzID0gdGFzay5hcmdzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bklmUHJlc2VudChoYW5kbGUpIHtcbiAgICAgICAgLy8gRnJvbSB0aGUgc3BlYzogXCJXYWl0IHVudGlsIGFueSBpbnZvY2F0aW9ucyBvZiB0aGlzIGFsZ29yaXRobSBzdGFydGVkIGJlZm9yZSB0aGlzIG9uZSBoYXZlIGNvbXBsZXRlZC5cIlxuICAgICAgICAvLyBTbyBpZiB3ZSdyZSBjdXJyZW50bHkgcnVubmluZyBhIHRhc2ssIHdlJ2xsIG5lZWQgdG8gZGVsYXkgdGhpcyBpbnZvY2F0aW9uLlxuICAgICAgICBpZiAoY3VycmVudGx5UnVubmluZ0FUYXNrKSB7XG4gICAgICAgICAgICAvLyBEZWxheSBieSBkb2luZyBhIHNldFRpbWVvdXQuIHNldEltbWVkaWF0ZSB3YXMgdHJpZWQgaW5zdGVhZCwgYnV0IGluIEZpcmVmb3ggNyBpdCBnZW5lcmF0ZWQgYVxuICAgICAgICAgICAgLy8gXCJ0b28gbXVjaCByZWN1cnNpb25cIiBlcnJvci5cbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRhc2sgPSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcnVuKHRhc2spO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW1tZWRpYXRlKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7IHJ1bklmUHJlc2VudChoYW5kbGUpOyB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5Vc2VQb3N0TWVzc2FnZSgpIHtcbiAgICAgICAgLy8gVGhlIHRlc3QgYWdhaW5zdCBgaW1wb3J0U2NyaXB0c2AgcHJldmVudHMgdGhpcyBpbXBsZW1lbnRhdGlvbiBmcm9tIGJlaW5nIGluc3RhbGxlZCBpbnNpZGUgYSB3ZWIgd29ya2VyLFxuICAgICAgICAvLyB3aGVyZSBgZ2xvYmFsLnBvc3RNZXNzYWdlYCBtZWFucyBzb21ldGhpbmcgY29tcGxldGVseSBkaWZmZXJlbnQgYW5kIGNhbid0IGJlIHVzZWQgZm9yIHRoaXMgcHVycG9zZS5cbiAgICAgICAgaWYgKGdsb2JhbC5wb3N0TWVzc2FnZSAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpIHtcbiAgICAgICAgICAgIHZhciBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBvbGRPbk1lc3NhZ2UgPSBnbG9iYWwub25tZXNzYWdlO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoXCJcIiwgXCIqXCIpO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IG9sZE9uTWVzc2FnZTtcbiAgICAgICAgICAgIHJldHVybiBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIC8vIEluc3RhbGxzIGFuIGV2ZW50IGhhbmRsZXIgb24gYGdsb2JhbGAgZm9yIHRoZSBgbWVzc2FnZWAgZXZlbnQ6IHNlZVxuICAgICAgICAvLyAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0RPTS93aW5kb3cucG9zdE1lc3NhZ2VcbiAgICAgICAgLy8gKiBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS9jb21tcy5odG1sI2Nyb3NzRG9jdW1lbnRNZXNzYWdlc1xuXG4gICAgICAgIHZhciBtZXNzYWdlUHJlZml4ID0gXCJzZXRJbW1lZGlhdGUkXCIgKyBNYXRoLnJhbmRvbSgpICsgXCIkXCI7XG4gICAgICAgIHZhciBvbkdsb2JhbE1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gZ2xvYmFsICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGV2ZW50LmRhdGEgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgICBldmVudC5kYXRhLmluZGV4T2YobWVzc2FnZVByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoK2V2ZW50LmRhdGEuc2xpY2UobWVzc2FnZVByZWZpeC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsb2JhbC5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShtZXNzYWdlUHJlZml4ICsgaGFuZGxlLCBcIipcIik7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGUgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgaHRtbCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcbiAgICAgICAgICAgIC8vIGludG8gdGhlIGRvY3VtZW50LiBEbyBzbywgdGh1cyBxdWV1aW5nIHVwIHRoZSB0YXNrLiBSZW1lbWJlciB0byBjbGVhbiB1cCBvbmNlIGl0J3MgYmVlbiBjYWxsZWQuXG4gICAgICAgICAgICB2YXIgc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgICAgICAgICBzY3JpcHQgPSBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSWYgc3VwcG9ydGVkLCB3ZSBzaG91bGQgYXR0YWNoIHRvIHRoZSBwcm90b3R5cGUgb2YgZ2xvYmFsLCBzaW5jZSB0aGF0IGlzIHdoZXJlIHNldFRpbWVvdXQgZXQgYWwuIGxpdmUuXG4gICAgdmFyIGF0dGFjaFRvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihnbG9iYWwpO1xuICAgIGF0dGFjaFRvID0gYXR0YWNoVG8gJiYgYXR0YWNoVG8uc2V0VGltZW91dCA/IGF0dGFjaFRvIDogZ2xvYmFsO1xuXG4gICAgLy8gRG9uJ3QgZ2V0IGZvb2xlZCBieSBlLmcuIGJyb3dzZXJpZnkgZW52aXJvbm1lbnRzLlxuICAgIGlmICh7fS50b1N0cmluZy5jYWxsKGdsb2JhbC5wcm9jZXNzKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCIpIHtcbiAgICAgICAgLy8gRm9yIE5vZGUuanMgYmVmb3JlIDAuOVxuICAgICAgICBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChjYW5Vc2VQb3N0TWVzc2FnZSgpKSB7XG4gICAgICAgIC8vIEZvciBub24tSUUxMCBtb2Rlcm4gYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZ2xvYmFsLk1lc3NhZ2VDaGFubmVsKSB7XG4gICAgICAgIC8vIEZvciB3ZWIgd29ya2Vycywgd2hlcmUgc3VwcG9ydGVkXG4gICAgICAgIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGRvYyAmJiBcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiIGluIGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKSB7XG4gICAgICAgIC8vIEZvciBJRSA24oCTOFxuICAgICAgICBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3Igb2xkZXIgYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpO1xuICAgIH1cblxuICAgIGF0dGFjaFRvLnNldEltbWVkaWF0ZSA9IHNldEltbWVkaWF0ZTtcbiAgICBhdHRhY2hUby5jbGVhckltbWVkaWF0ZSA9IGNsZWFySW1tZWRpYXRlO1xufSh0eXBlb2Ygc2VsZiA9PT0gXCJ1bmRlZmluZWRcIiA/IHR5cGVvZiBnbG9iYWwgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzIDogZ2xvYmFsIDogc2VsZikpO1xuIiwiXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZGVwcmVjYXRlO1xuXG4vKipcbiAqIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4gKiBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuICpcbiAqIElmIGBsb2NhbFN0b3JhZ2Uubm9EZXByZWNhdGlvbiA9IHRydWVgIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLlxuICpcbiAqIElmIGBsb2NhbFN0b3JhZ2UudGhyb3dEZXByZWNhdGlvbiA9IHRydWVgIGlzIHNldCwgdGhlbiBkZXByZWNhdGVkIGZ1bmN0aW9uc1xuICogd2lsbCB0aHJvdyBhbiBFcnJvciB3aGVuIGludm9rZWQuXG4gKlxuICogSWYgYGxvY2FsU3RvcmFnZS50cmFjZURlcHJlY2F0aW9uID0gdHJ1ZWAgaXMgc2V0LCB0aGVuIGRlcHJlY2F0ZWQgZnVuY3Rpb25zXG4gKiB3aWxsIGludm9rZSBgY29uc29sZS50cmFjZSgpYCBpbnN0ZWFkIG9mIGBjb25zb2xlLmVycm9yKClgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gdGhlIGZ1bmN0aW9uIHRvIGRlcHJlY2F0ZVxuICogQHBhcmFtIHtTdHJpbmd9IG1zZyAtIHRoZSBzdHJpbmcgdG8gcHJpbnQgdG8gdGhlIGNvbnNvbGUgd2hlbiBgZm5gIGlzIGludm9rZWRcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gYSBuZXcgXCJkZXByZWNhdGVkXCIgdmVyc2lvbiBvZiBgZm5gXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRlcHJlY2F0ZSAoZm4sIG1zZykge1xuICBpZiAoY29uZmlnKCdub0RlcHJlY2F0aW9uJykpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChjb25maWcoJ3Rocm93RGVwcmVjYXRpb24nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH0gZWxzZSBpZiAoY29uZmlnKCd0cmFjZURlcHJlY2F0aW9uJykpIHtcbiAgICAgICAgY29uc29sZS50cmFjZShtc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBgbG9jYWxTdG9yYWdlYCBmb3IgYm9vbGVhbiB2YWx1ZXMgZm9yIHRoZSBnaXZlbiBgbmFtZWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gY29uZmlnIChuYW1lKSB7XG4gIC8vIGFjY2Vzc2luZyBnbG9iYWwubG9jYWxTdG9yYWdlIGNhbiB0cmlnZ2VyIGEgRE9NRXhjZXB0aW9uIGluIHNhbmRib3hlZCBpZnJhbWVzXG4gIHRyeSB7XG4gICAgaWYgKCFnbG9iYWwubG9jYWxTdG9yYWdlKSByZXR1cm4gZmFsc2U7XG4gIH0gY2F0Y2ggKF8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHZhbCA9IGdsb2JhbC5sb2NhbFN0b3JhZ2VbbmFtZV07XG4gIGlmIChudWxsID09IHZhbCkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gU3RyaW5nKHZhbCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm9kZS9uby1kZXByZWNhdGVkLWFwaSAqL1xudmFyIGJ1ZmZlciA9IHJlcXVpcmUoJ2J1ZmZlcicpXG52YXIgQnVmZmVyID0gYnVmZmVyLkJ1ZmZlclxuXG4vLyBhbHRlcm5hdGl2ZSB0byB1c2luZyBPYmplY3Qua2V5cyBmb3Igb2xkIGJyb3dzZXJzXG5mdW5jdGlvbiBjb3B5UHJvcHMgKHNyYywgZHN0KSB7XG4gIGZvciAodmFyIGtleSBpbiBzcmMpIHtcbiAgICBkc3Rba2V5XSA9IHNyY1trZXldXG4gIH1cbn1cbmlmIChCdWZmZXIuZnJvbSAmJiBCdWZmZXIuYWxsb2MgJiYgQnVmZmVyLmFsbG9jVW5zYWZlICYmIEJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBidWZmZXJcbn0gZWxzZSB7XG4gIC8vIENvcHkgcHJvcGVydGllcyBmcm9tIHJlcXVpcmUoJ2J1ZmZlcicpXG4gIGNvcHlQcm9wcyhidWZmZXIsIGV4cG9ydHMpXG4gIGV4cG9ydHMuQnVmZmVyID0gU2FmZUJ1ZmZlclxufVxuXG5mdW5jdGlvbiBTYWZlQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG4vLyBDb3B5IHN0YXRpYyBtZXRob2RzIGZyb20gQnVmZmVyXG5jb3B5UHJvcHMoQnVmZmVyLCBTYWZlQnVmZmVyKVxuXG5TYWZlQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG4gIHJldHVybiBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cblNhZmVCdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9XG4gIHZhciBidWYgPSBCdWZmZXIoc2l6ZSlcbiAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICBidWYuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmLmZpbGwoZmlsbClcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYnVmLmZpbGwoMClcbiAgfVxuICByZXR1cm4gYnVmXG59XG5cblNhZmVCdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlcihzaXplKVxufVxuXG5TYWZlQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfVxuICByZXR1cm4gYnVmZmVyLlNsb3dCdWZmZXIoc2l6ZSlcbn1cbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyBhIHBhc3N0aHJvdWdoIHN0cmVhbS5cbi8vIGJhc2ljYWxseSBqdXN0IHRoZSBtb3N0IG1pbmltYWwgc29ydCBvZiBUcmFuc2Zvcm0gc3RyZWFtLlxuLy8gRXZlcnkgd3JpdHRlbiBjaHVuayBnZXRzIG91dHB1dCBhcy1pcy5cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhc3NUaHJvdWdoO1xuXG52YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnLi9fc3RyZWFtX3RyYW5zZm9ybScpO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIHV0aWwgPSByZXF1aXJlKCdjb3JlLXV0aWwtaXMnKTtcbnV0aWwuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbnV0aWwuaW5oZXJpdHMoUGFzc1Rocm91Z2gsIFRyYW5zZm9ybSk7XG5cbmZ1bmN0aW9uIFBhc3NUaHJvdWdoKG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBhc3NUaHJvdWdoKSkgcmV0dXJuIG5ldyBQYXNzVGhyb3VnaChvcHRpb25zKTtcblxuICBUcmFuc2Zvcm0uY2FsbCh0aGlzLCBvcHRpb25zKTtcbn1cblxuUGFzc1Rocm91Z2gucHJvdG90eXBlLl90cmFuc2Zvcm0gPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICBjYihudWxsLCBjaHVuayk7XG59OyIsImV4cG9ydCBpbnRlcmZhY2UgRW1wdHlFcnJvciBleHRlbmRzIEVycm9yIHtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbXB0eUVycm9yQ3RvciB7XG4gIG5ldygpOiBFbXB0eUVycm9yO1xufVxuXG5mdW5jdGlvbiBFbXB0eUVycm9ySW1wbCh0aGlzOiBhbnkpIHtcbiAgRXJyb3IuY2FsbCh0aGlzKTtcbiAgdGhpcy5tZXNzYWdlID0gJ25vIGVsZW1lbnRzIGluIHNlcXVlbmNlJztcbiAgdGhpcy5uYW1lID0gJ0VtcHR5RXJyb3InO1xuICByZXR1cm4gdGhpcztcbn1cblxuRW1wdHlFcnJvckltcGwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuXG4vKipcbiAqIEFuIGVycm9yIHRocm93biB3aGVuIGFuIE9ic2VydmFibGUgb3IgYSBzZXF1ZW5jZSB3YXMgcXVlcmllZCBidXQgaGFzIG5vXG4gKiBlbGVtZW50cy5cbiAqXG4gKiBAc2VlIHtAbGluayBmaXJzdH1cbiAqIEBzZWUge0BsaW5rIGxhc3R9XG4gKiBAc2VlIHtAbGluayBzaW5nbGV9XG4gKlxuICogQGNsYXNzIEVtcHR5RXJyb3JcbiAqL1xuZXhwb3J0IGNvbnN0IEVtcHR5RXJyb3I6IEVtcHR5RXJyb3JDdG9yID0gRW1wdHlFcnJvckltcGwgYXMgYW55OyIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oeDogYW55KTogeCBpcyBGdW5jdGlvbiB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cbiIsImxldCBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MgPSBmYWxzZTtcblxuLyoqXG4gKiBUaGUgZ2xvYmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciBSeEpTLCB1c2VkIHRvIGNvbmZpZ3VyZSB0aGluZ3NcbiAqIGxpa2Ugd2hhdCBQcm9taXNlIGNvbnRydWN0b3Igc2hvdWxkIHVzZWQgdG8gY3JlYXRlIFByb21pc2VzXG4gKi9cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIC8qKlxuICAgKiBUaGUgcHJvbWlzZSBjb25zdHJ1Y3RvciB1c2VkIGJ5IGRlZmF1bHQgZm9yIG1ldGhvZHMgc3VjaCBhc1xuICAgKiB7QGxpbmsgdG9Qcm9taXNlfSBhbmQge0BsaW5rIGZvckVhY2h9XG4gICAqL1xuICBQcm9taXNlOiB1bmRlZmluZWQgYXMgUHJvbWlzZUNvbnN0cnVjdG9yTGlrZSxcblxuICAvKipcbiAgICogSWYgdHJ1ZSwgdHVybnMgb24gc3luY2hyb25vdXMgZXJyb3IgcmV0aHJvd2luZywgd2hpY2ggaXMgYSBkZXByZWNhdGVkIGJlaGF2aW9yXG4gICAqIGluIHY2IGFuZCBoaWdoZXIuIFRoaXMgYmVoYXZpb3IgZW5hYmxlcyBiYWQgcGF0dGVybnMgbGlrZSB3cmFwcGluZyBhIHN1YnNjcmliZVxuICAgKiBjYWxsIGluIGEgdHJ5L2NhdGNoIGJsb2NrLiBJdCBhbHNvIGVuYWJsZXMgcHJvZHVjZXIgaW50ZXJmZXJlbmNlLCBhIG5hc3R5IGJ1Z1xuICAgKiB3aGVyZSBhIG11bHRpY2FzdCBjYW4gYmUgYnJva2VuIGZvciBhbGwgb2JzZXJ2ZXJzIGJ5IGEgZG93bnN0cmVhbSBjb25zdW1lciB3aXRoXG4gICAqIGFuIHVuaGFuZGxlZCBlcnJvci4gRE8gTk9UIFVTRSBUSElTIEZMQUcgVU5MRVNTIElUJ1MgTkVFREVEIFRPIEJZIFRJTUVcbiAgICogRk9SIE1JR1JBVElPTiBSRUFTT05TLlxuICAgKi9cbiAgc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcodmFsdWU6IGJvb2xlYW4pIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCk7XG4gICAgICBjb25zb2xlLndhcm4oJ0RFUFJFQ0FURUQhIFJ4SlMgd2FzIHNldCB0byB1c2UgZGVwcmVjYXRlZCBzeW5jaHJvbm91cyBlcnJvciBoYW5kbGluZyBiZWhhdmlvciBieSBjb2RlIGF0OiBcXG4nICsgZXJyb3Iuc3RhY2spO1xuICAgIH0gZWxzZSBpZiAoX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzKSB7XG4gICAgICBjb25zb2xlLmxvZygnUnhKUzogQmFjayB0byBhIGJldHRlciBlcnJvciBiZWhhdmlvci4gVGhhbmsgeW91LiA8MycpO1xuICAgIH1cbiAgICBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MgPSB2YWx1ZTtcbiAgfSxcblxuICBnZXQgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZygpIHtcbiAgICByZXR1cm4gX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzO1xuICB9LFxufTtcbiIsIi8qKlxuICogVGhyb3dzIGFuIGVycm9yIG9uIGFub3RoZXIgam9iIHNvIHRoYXQgaXQncyBwaWNrZWQgdXAgYnkgdGhlIHJ1bnRpbWUnc1xuICogdW5jYXVnaHQgZXJyb3IgaGFuZGxpbmcgbWVjaGFuaXNtLlxuICogQHBhcmFtIGVyciB0aGUgZXJyb3IgdG8gdGhyb3dcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhvc3RSZXBvcnRFcnJvcihlcnI6IGFueSkge1xuICBzZXRUaW1lb3V0KCgpID0+IHsgdGhyb3cgZXJyOyB9KTtcbn0iLCJpbXBvcnQgeyBPYnNlcnZlciB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2hvc3RSZXBvcnRFcnJvcic7XG5cbmV4cG9ydCBjb25zdCBlbXB0eTogT2JzZXJ2ZXI8YW55PiA9IHtcbiAgY2xvc2VkOiB0cnVlLFxuICBuZXh0KHZhbHVlOiBhbnkpOiB2b2lkIHsgLyogbm9vcCAqL30sXG4gIGVycm9yKGVycjogYW55KTogdm9pZCB7XG4gICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgIH1cbiAgfSxcbiAgY29tcGxldGUoKTogdm9pZCB7IC8qbm9vcCovIH1cbn07XG4iLCJpbXBvcnQgeyBlcnJvck9iamVjdCB9IGZyb20gJy4vZXJyb3JPYmplY3QnO1xuXG5sZXQgdHJ5Q2F0Y2hUYXJnZXQ6IEZ1bmN0aW9uO1xuXG5mdW5jdGlvbiB0cnlDYXRjaGVyKHRoaXM6IGFueSk6IGFueSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHRyeUNhdGNoVGFyZ2V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlcnJvck9iamVjdC5lID0gZTtcbiAgICByZXR1cm4gZXJyb3JPYmplY3Q7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyeUNhdGNoPFQgZXh0ZW5kcyBGdW5jdGlvbj4oZm46IFQpOiBUIHtcbiAgdHJ5Q2F0Y2hUYXJnZXQgPSBmbjtcbiAgcmV0dXJuIDxhbnk+dHJ5Q2F0Y2hlcjtcbn1cbiIsImV4cG9ydCBpbnRlcmZhY2UgVW5zdWJzY3JpcHRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcmVhZG9ubHkgZXJyb3JzOiBhbnlbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVbnN1YnNjcmlwdGlvbkVycm9yQ3RvciB7XG4gIG5ldyhlcnJvcnM6IGFueVtdKTogVW5zdWJzY3JpcHRpb25FcnJvcjtcbn1cblxuZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwodGhpczogYW55LCBlcnJvcnM6IGFueVtdKSB7XG4gIEVycm9yLmNhbGwodGhpcyk7XG4gIHRoaXMubWVzc2FnZSA9IGVycm9ycyA/XG4gIGAke2Vycm9ycy5sZW5ndGh9IGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XG4ke2Vycm9ycy5tYXAoKGVyciwgaSkgPT4gYCR7aSArIDF9KSAke2Vyci50b1N0cmluZygpfWApLmpvaW4oJ1xcbiAgJyl9YCA6ICcnO1xuICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICByZXR1cm4gdGhpcztcbn1cblxuVW5zdWJzY3JpcHRpb25FcnJvckltcGwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuXG4vKipcbiAqIEFuIGVycm9yIHRocm93biB3aGVuIG9uZSBvciBtb3JlIGVycm9ycyBoYXZlIG9jY3VycmVkIGR1cmluZyB0aGVcbiAqIGB1bnN1YnNjcmliZWAgb2YgYSB7QGxpbmsgU3Vic2NyaXB0aW9ufS5cbiAqL1xuZXhwb3J0IGNvbnN0IFVuc3Vic2NyaXB0aW9uRXJyb3I6IFVuc3Vic2NyaXB0aW9uRXJyb3JDdG9yID0gVW5zdWJzY3JpcHRpb25FcnJvckltcGwgYXMgYW55OyIsImltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4vdXRpbC9pc09iamVjdCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgdHJ5Q2F0Y2ggfSBmcm9tICcuL3V0aWwvdHJ5Q2F0Y2gnO1xuaW1wb3J0IHsgZXJyb3JPYmplY3QgfSBmcm9tICcuL3V0aWwvZXJyb3JPYmplY3QnO1xuaW1wb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbkxpa2UsIFRlYXJkb3duTG9naWMgfSBmcm9tICcuL3R5cGVzJztcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgZGlzcG9zYWJsZSByZXNvdXJjZSwgc3VjaCBhcyB0aGUgZXhlY3V0aW9uIG9mIGFuIE9ic2VydmFibGUuIEFcbiAqIFN1YnNjcmlwdGlvbiBoYXMgb25lIGltcG9ydGFudCBtZXRob2QsIGB1bnN1YnNjcmliZWAsIHRoYXQgdGFrZXMgbm8gYXJndW1lbnRcbiAqIGFuZCBqdXN0IGRpc3Bvc2VzIHRoZSByZXNvdXJjZSBoZWxkIGJ5IHRoZSBzdWJzY3JpcHRpb24uXG4gKlxuICogQWRkaXRpb25hbGx5LCBzdWJzY3JpcHRpb25zIG1heSBiZSBncm91cGVkIHRvZ2V0aGVyIHRocm91Z2ggdGhlIGBhZGQoKWBcbiAqIG1ldGhvZCwgd2hpY2ggd2lsbCBhdHRhY2ggYSBjaGlsZCBTdWJzY3JpcHRpb24gdG8gdGhlIGN1cnJlbnQgU3Vic2NyaXB0aW9uLlxuICogV2hlbiBhIFN1YnNjcmlwdGlvbiBpcyB1bnN1YnNjcmliZWQsIGFsbCBpdHMgY2hpbGRyZW4gKGFuZCBpdHMgZ3JhbmRjaGlsZHJlbilcbiAqIHdpbGwgYmUgdW5zdWJzY3JpYmVkIGFzIHdlbGwuXG4gKlxuICogQGNsYXNzIFN1YnNjcmlwdGlvblxuICovXG5leHBvcnQgY2xhc3MgU3Vic2NyaXB0aW9uIGltcGxlbWVudHMgU3Vic2NyaXB0aW9uTGlrZSB7XG4gIC8qKiBAbm9jb2xsYXBzZSAqL1xuICBwdWJsaWMgc3RhdGljIEVNUFRZOiBTdWJzY3JpcHRpb24gPSAoZnVuY3Rpb24oZW1wdHk6IGFueSkge1xuICAgIGVtcHR5LmNsb3NlZCA9IHRydWU7XG4gICAgcmV0dXJuIGVtcHR5O1xuICB9KG5ldyBTdWJzY3JpcHRpb24oKSkpO1xuXG4gIC8qKlxuICAgKiBBIGZsYWcgdG8gaW5kaWNhdGUgd2hldGhlciB0aGlzIFN1YnNjcmlwdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHVuc3Vic2NyaWJlZC5cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICBwdWJsaWMgY2xvc2VkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX3BhcmVudDogU3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX3BhcmVudHM6IFN1YnNjcmlwdGlvbltdID0gbnVsbDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcml2YXRlIF9zdWJzY3JpcHRpb25zOiBTdWJzY3JpcHRpb25MaWtlW10gPSBudWxsO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6IHZvaWR9IFt1bnN1YnNjcmliZV0gQSBmdW5jdGlvbiBkZXNjcmliaW5nIGhvdyB0b1xuICAgKiBwZXJmb3JtIHRoZSBkaXNwb3NhbCBvZiByZXNvdXJjZXMgd2hlbiB0aGUgYHVuc3Vic2NyaWJlYCBtZXRob2QgaXMgY2FsbGVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IodW5zdWJzY3JpYmU/OiAoKSA9PiB2b2lkKSB7XG4gICAgaWYgKHVuc3Vic2NyaWJlKSB7XG4gICAgICAoPGFueT4gdGhpcykuX3Vuc3Vic2NyaWJlID0gdW5zdWJzY3JpYmU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2VzIHRoZSByZXNvdXJjZXMgaGVsZCBieSB0aGUgc3Vic2NyaXB0aW9uLiBNYXksIGZvciBpbnN0YW5jZSwgY2FuY2VsXG4gICAqIGFuIG9uZ29pbmcgT2JzZXJ2YWJsZSBleGVjdXRpb24gb3IgY2FuY2VsIGFueSBvdGhlciB0eXBlIG9mIHdvcmsgdGhhdFxuICAgKiBzdGFydGVkIHdoZW4gdGhlIFN1YnNjcmlwdGlvbiB3YXMgY3JlYXRlZC5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHVuc3Vic2NyaWJlKCk6IHZvaWQge1xuICAgIGxldCBoYXNFcnJvcnMgPSBmYWxzZTtcbiAgICBsZXQgZXJyb3JzOiBhbnlbXTtcblxuICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB7IF9wYXJlbnQsIF9wYXJlbnRzLCBfdW5zdWJzY3JpYmUsIF9zdWJzY3JpcHRpb25zIH0gPSAoPGFueT4gdGhpcyk7XG5cbiAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgdGhpcy5fcGFyZW50ID0gbnVsbDtcbiAgICB0aGlzLl9wYXJlbnRzID0gbnVsbDtcbiAgICAvLyBudWxsIG91dCBfc3Vic2NyaXB0aW9ucyBmaXJzdCBzbyBhbnkgY2hpbGQgc3Vic2NyaXB0aW9ucyB0aGF0IGF0dGVtcHRcbiAgICAvLyB0byByZW1vdmUgdGhlbXNlbHZlcyBmcm9tIHRoaXMgc3Vic2NyaXB0aW9uIHdpbGwgbm9vcFxuICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBudWxsO1xuXG4gICAgbGV0IGluZGV4ID0gLTE7XG4gICAgbGV0IGxlbiA9IF9wYXJlbnRzID8gX3BhcmVudHMubGVuZ3RoIDogMDtcblxuICAgIC8vIGlmIHRoaXMuX3BhcmVudCBpcyBudWxsLCB0aGVuIHNvIGlzIHRoaXMuX3BhcmVudHMsIGFuZCB3ZVxuICAgIC8vIGRvbid0IGhhdmUgdG8gcmVtb3ZlIG91cnNlbHZlcyBmcm9tIGFueSBwYXJlbnQgc3Vic2NyaXB0aW9ucy5cbiAgICB3aGlsZSAoX3BhcmVudCkge1xuICAgICAgX3BhcmVudC5yZW1vdmUodGhpcyk7XG4gICAgICAvLyBpZiB0aGlzLl9wYXJlbnRzIGlzIG51bGwgb3IgaW5kZXggPj0gbGVuLFxuICAgICAgLy8gdGhlbiBfcGFyZW50IGlzIHNldCB0byBudWxsLCBhbmQgdGhlIGxvb3AgZXhpdHNcbiAgICAgIF9wYXJlbnQgPSArK2luZGV4IDwgbGVuICYmIF9wYXJlbnRzW2luZGV4XSB8fCBudWxsO1xuICAgIH1cblxuICAgIGlmIChpc0Z1bmN0aW9uKF91bnN1YnNjcmliZSkpIHtcbiAgICAgIGxldCB0cmlhbCA9IHRyeUNhdGNoKF91bnN1YnNjcmliZSkuY2FsbCh0aGlzKTtcbiAgICAgIGlmICh0cmlhbCA9PT0gZXJyb3JPYmplY3QpIHtcbiAgICAgICAgaGFzRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgZXJyb3JzID0gZXJyb3JzIHx8IChcbiAgICAgICAgICBlcnJvck9iamVjdC5lIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvciA/XG4gICAgICAgICAgICBmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZXJyb3JPYmplY3QuZS5lcnJvcnMpIDogW2Vycm9yT2JqZWN0LmVdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzQXJyYXkoX3N1YnNjcmlwdGlvbnMpKSB7XG5cbiAgICAgIGluZGV4ID0gLTE7XG4gICAgICBsZW4gPSBfc3Vic2NyaXB0aW9ucy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuKSB7XG4gICAgICAgIGNvbnN0IHN1YiA9IF9zdWJzY3JpcHRpb25zW2luZGV4XTtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHN1YikpIHtcbiAgICAgICAgICBsZXQgdHJpYWwgPSB0cnlDYXRjaChzdWIudW5zdWJzY3JpYmUpLmNhbGwoc3ViKTtcbiAgICAgICAgICBpZiAodHJpYWwgPT09IGVycm9yT2JqZWN0KSB7XG4gICAgICAgICAgICBoYXNFcnJvcnMgPSB0cnVlO1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICAgICAgICAgICAgbGV0IGVyciA9IGVycm9yT2JqZWN0LmU7XG4gICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlcnIuZXJyb3JzKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBlcnJvcnMucHVzaChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoYXNFcnJvcnMpIHtcbiAgICAgIHRocm93IG5ldyBVbnN1YnNjcmlwdGlvbkVycm9yKGVycm9ycyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSB0ZWFyIGRvd24gdG8gYmUgY2FsbGVkIGR1cmluZyB0aGUgdW5zdWJzY3JpYmUoKSBvZiB0aGlzXG4gICAqIFN1YnNjcmlwdGlvbi5cbiAgICpcbiAgICogSWYgdGhlIHRlYXIgZG93biBiZWluZyBhZGRlZCBpcyBhIHN1YnNjcmlwdGlvbiB0aGF0IGlzIGFscmVhZHlcbiAgICogdW5zdWJzY3JpYmVkLCBpcyB0aGUgc2FtZSByZWZlcmVuY2UgYGFkZGAgaXMgYmVpbmcgY2FsbGVkIG9uLCBvciBpc1xuICAgKiBgU3Vic2NyaXB0aW9uLkVNUFRZYCwgaXQgd2lsbCBub3QgYmUgYWRkZWQuXG4gICAqXG4gICAqIElmIHRoaXMgc3Vic2NyaXB0aW9uIGlzIGFscmVhZHkgaW4gYW4gYGNsb3NlZGAgc3RhdGUsIHRoZSBwYXNzZWRcbiAgICogdGVhciBkb3duIGxvZ2ljIHdpbGwgYmUgZXhlY3V0ZWQgaW1tZWRpYXRlbHkuXG4gICAqXG4gICAqIEBwYXJhbSB7VGVhcmRvd25Mb2dpY30gdGVhcmRvd24gVGhlIGFkZGl0aW9uYWwgbG9naWMgdG8gZXhlY3V0ZSBvblxuICAgKiB0ZWFyZG93bi5cbiAgICogQHJldHVybiB7U3Vic2NyaXB0aW9ufSBSZXR1cm5zIHRoZSBTdWJzY3JpcHRpb24gdXNlZCBvciBjcmVhdGVkIHRvIGJlXG4gICAqIGFkZGVkIHRvIHRoZSBpbm5lciBzdWJzY3JpcHRpb25zIGxpc3QuIFRoaXMgU3Vic2NyaXB0aW9uIGNhbiBiZSB1c2VkIHdpdGhcbiAgICogYHJlbW92ZSgpYCB0byByZW1vdmUgdGhlIHBhc3NlZCB0ZWFyZG93biBsb2dpYyBmcm9tIHRoZSBpbm5lciBzdWJzY3JpcHRpb25zXG4gICAqIGxpc3QuXG4gICAqL1xuICBhZGQodGVhcmRvd246IFRlYXJkb3duTG9naWMpOiBTdWJzY3JpcHRpb24ge1xuICAgIGlmICghdGVhcmRvd24gfHwgKHRlYXJkb3duID09PSBTdWJzY3JpcHRpb24uRU1QVFkpKSB7XG4gICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgIH1cblxuICAgIGlmICh0ZWFyZG93biA9PT0gdGhpcykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgbGV0IHN1YnNjcmlwdGlvbiA9ICg8U3Vic2NyaXB0aW9uPiB0ZWFyZG93bik7XG5cbiAgICBzd2l0Y2ggKHR5cGVvZiB0ZWFyZG93bikge1xuICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKDwoKCkgPT4gdm9pZCkgPiB0ZWFyZG93bik7XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uLmNsb3NlZCB8fCB0eXBlb2Ygc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHN1YnNjcmlwdGlvbi5fYWRkUGFyZW50ICE9PSAnZnVuY3Rpb24nIC8qIHF1YWNrIHF1YWNrICovKSB7XG4gICAgICAgICAgY29uc3QgdG1wID0gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICBzdWJzY3JpcHRpb24uX3N1YnNjcmlwdGlvbnMgPSBbdG1wXTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5yZWNvZ25pemVkIHRlYXJkb3duICcgKyB0ZWFyZG93biArICcgYWRkZWQgdG8gU3Vic2NyaXB0aW9uLicpO1xuICAgIH1cblxuICAgIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpcHRpb25zIHx8ICh0aGlzLl9zdWJzY3JpcHRpb25zID0gW10pO1xuXG4gICAgc3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gICAgc3Vic2NyaXB0aW9uLl9hZGRQYXJlbnQodGhpcyk7XG5cbiAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBTdWJzY3JpcHRpb24gZnJvbSB0aGUgaW50ZXJuYWwgbGlzdCBvZiBzdWJzY3JpcHRpb25zIHRoYXQgd2lsbFxuICAgKiB1bnN1YnNjcmliZSBkdXJpbmcgdGhlIHVuc3Vic2NyaWJlIHByb2Nlc3Mgb2YgdGhpcyBTdWJzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7U3Vic2NyaXB0aW9ufSBzdWJzY3JpcHRpb24gVGhlIHN1YnNjcmlwdGlvbiB0byByZW1vdmUuXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICByZW1vdmUoc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24pOiB2b2lkIHtcbiAgICBjb25zdCBzdWJzY3JpcHRpb25zID0gdGhpcy5fc3Vic2NyaXB0aW9ucztcbiAgICBpZiAoc3Vic2NyaXB0aW9ucykge1xuICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uSW5kZXggPSBzdWJzY3JpcHRpb25zLmluZGV4T2Yoc3Vic2NyaXB0aW9uKTtcbiAgICAgIGlmIChzdWJzY3JpcHRpb25JbmRleCAhPT0gLTEpIHtcbiAgICAgICAgc3Vic2NyaXB0aW9ucy5zcGxpY2Uoc3Vic2NyaXB0aW9uSW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJpdmF0ZSBfYWRkUGFyZW50KHBhcmVudDogU3Vic2NyaXB0aW9uKSB7XG4gICAgbGV0IHsgX3BhcmVudCwgX3BhcmVudHMgfSA9IHRoaXM7XG4gICAgaWYgKCFfcGFyZW50IHx8IF9wYXJlbnQgPT09IHBhcmVudCkge1xuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIHBhcmVudCwgb3IgdGhlIG5ldyBwYXJlbnQgaXMgdGhlIHNhbWUgYXMgdGhlXG4gICAgICAvLyBjdXJyZW50IHBhcmVudCwgdGhlbiBzZXQgdGhpcy5fcGFyZW50IHRvIHRoZSBuZXcgcGFyZW50LlxuICAgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICAgIH0gZWxzZSBpZiAoIV9wYXJlbnRzKSB7XG4gICAgICAvLyBJZiB0aGVyZSdzIGFscmVhZHkgb25lIHBhcmVudCwgYnV0IG5vdCBtdWx0aXBsZSwgYWxsb2NhdGUgYW4gQXJyYXkgdG9cbiAgICAgIC8vIHN0b3JlIHRoZSByZXN0IG9mIHRoZSBwYXJlbnQgU3Vic2NyaXB0aW9ucy5cbiAgICAgIHRoaXMuX3BhcmVudHMgPSBbcGFyZW50XTtcbiAgICB9IGVsc2UgaWYgKF9wYXJlbnRzLmluZGV4T2YocGFyZW50KSA9PT0gLTEpIHtcbiAgICAgIC8vIE9ubHkgYWRkIHRoZSBuZXcgcGFyZW50IHRvIHRoZSBfcGFyZW50cyBsaXN0IGlmIGl0J3Mgbm90IGFscmVhZHkgdGhlcmUuXG4gICAgICBfcGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlcnJvcnM6IGFueVtdKSB7XG4gcmV0dXJuIGVycm9ycy5yZWR1Y2UoKGVycnMsIGVycikgPT4gZXJycy5jb25jYXQoKGVyciBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IpID8gZXJyLmVycm9ycyA6IGVyciksIFtdKTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh4OiBhbnkpOiB4IGlzIE9iamVjdCB7XG4gIHJldHVybiB4ICE9IG51bGwgJiYgdHlwZW9mIHggPT09ICdvYmplY3QnO1xufVxuIiwiLyoqIEBkZXByZWNhdGVkIGRvIG5vdCB1c2UsIHRoaXMgaXMgbm8gbG9uZ2VyIGNoZWNrZWQgYnkgUnhKUyBpbnRlcm5hbHMgKi9cbmV4cG9ydCBjb25zdCByeFN1YnNjcmliZXIgPVxuICB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nXG4gICAgPyBTeW1ib2woJ3J4U3Vic2NyaWJlcicpXG4gICAgOiAnQEByeFN1YnNjcmliZXJfJyArIE1hdGgucmFuZG9tKCk7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgdXNlIHJ4U3Vic2NyaWJlciBpbnN0ZWFkXG4gKi9cbmV4cG9ydCBjb25zdCAkJHJ4U3Vic2NyaWJlciA9IHJ4U3Vic2NyaWJlcjtcbiIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi9PYnNlcnZlcic7XG5pbXBvcnQgeyBPYnNlcnZlciwgUGFydGlhbE9ic2VydmVyLCBUZWFyZG93bkxvZ2ljIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcblxuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSB7QGxpbmsgT2JzZXJ2ZXJ9IGludGVyZmFjZSBhbmQgZXh0ZW5kcyB0aGVcbiAqIHtAbGluayBTdWJzY3JpcHRpb259IGNsYXNzLiBXaGlsZSB0aGUge0BsaW5rIE9ic2VydmVyfSBpcyB0aGUgcHVibGljIEFQSSBmb3JcbiAqIGNvbnN1bWluZyB0aGUgdmFsdWVzIG9mIGFuIHtAbGluayBPYnNlcnZhYmxlfSwgYWxsIE9ic2VydmVycyBnZXQgY29udmVydGVkIHRvXG4gKiBhIFN1YnNjcmliZXIsIGluIG9yZGVyIHRvIHByb3ZpZGUgU3Vic2NyaXB0aW9uLWxpa2UgY2FwYWJpbGl0aWVzIHN1Y2ggYXNcbiAqIGB1bnN1YnNjcmliZWAuIFN1YnNjcmliZXIgaXMgYSBjb21tb24gdHlwZSBpbiBSeEpTLCBhbmQgY3J1Y2lhbCBmb3JcbiAqIGltcGxlbWVudGluZyBvcGVyYXRvcnMsIGJ1dCBpdCBpcyByYXJlbHkgdXNlZCBhcyBhIHB1YmxpYyBBUEkuXG4gKlxuICogQGNsYXNzIFN1YnNjcmliZXI8VD5cbiAqL1xuZXhwb3J0IGNsYXNzIFN1YnNjcmliZXI8VD4gZXh0ZW5kcyBTdWJzY3JpcHRpb24gaW1wbGVtZW50cyBPYnNlcnZlcjxUPiB7XG5cbiAgW3J4U3Vic2NyaWJlclN5bWJvbF0oKSB7IHJldHVybiB0aGlzOyB9XG5cbiAgLyoqXG4gICAqIEEgc3RhdGljIGZhY3RvcnkgZm9yIGEgU3Vic2NyaWJlciwgZ2l2ZW4gYSAocG90ZW50aWFsbHkgcGFydGlhbCkgZGVmaW5pdGlvblxuICAgKiBvZiBhbiBPYnNlcnZlci5cbiAgICogQHBhcmFtIHtmdW5jdGlvbih4OiA/VCk6IHZvaWR9IFtuZXh0XSBUaGUgYG5leHRgIGNhbGxiYWNrIG9mIGFuIE9ic2VydmVyLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGU6ID9hbnkpOiB2b2lkfSBbZXJyb3JdIFRoZSBgZXJyb3JgIGNhbGxiYWNrIG9mIGFuXG4gICAqIE9ic2VydmVyLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6IHZvaWR9IFtjb21wbGV0ZV0gVGhlIGBjb21wbGV0ZWAgY2FsbGJhY2sgb2YgYW5cbiAgICogT2JzZXJ2ZXIuXG4gICAqIEByZXR1cm4ge1N1YnNjcmliZXI8VD59IEEgU3Vic2NyaWJlciB3cmFwcGluZyB0aGUgKHBhcnRpYWxseSBkZWZpbmVkKVxuICAgKiBPYnNlcnZlciByZXByZXNlbnRlZCBieSB0aGUgZ2l2ZW4gYXJndW1lbnRzLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZTxUPihuZXh0PzogKHg/OiBUKSA9PiB2b2lkLFxuICAgICAgICAgICAgICAgICAgIGVycm9yPzogKGU/OiBhbnkpID0+IHZvaWQsXG4gICAgICAgICAgICAgICAgICAgY29tcGxldGU/OiAoKSA9PiB2b2lkKTogU3Vic2NyaWJlcjxUPiB7XG4gICAgY29uc3Qgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKG5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgc3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi8gc3luY0Vycm9yVmFsdWU6IGFueSA9IG51bGw7XG4gIC8qKiBAaW50ZXJuYWwgKi8gc3luY0Vycm9yVGhyb3duOiBib29sZWFuID0gZmFsc2U7XG4gIC8qKiBAaW50ZXJuYWwgKi8gc3luY0Vycm9yVGhyb3dhYmxlOiBib29sZWFuID0gZmFsc2U7XG5cbiAgcHJvdGVjdGVkIGlzU3RvcHBlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcm90ZWN0ZWQgZGVzdGluYXRpb246IFBhcnRpYWxPYnNlcnZlcjxhbnk+IHwgU3Vic2NyaWJlcjxhbnk+OyAvLyB0aGlzIGBhbnlgIGlzIHRoZSBlc2NhcGUgaGF0Y2ggdG8gZXJhc2UgZXh0cmEgdHlwZSBwYXJhbSAoZS5nLiBSKVxuXG4gIHByaXZhdGUgX3BhcmVudFN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JzZXJ2ZXJ8ZnVuY3Rpb24odmFsdWU6IFQpOiB2b2lkfSBbZGVzdGluYXRpb25Pck5leHRdIEEgcGFydGlhbGx5XG4gICAqIGRlZmluZWQgT2JzZXJ2ZXIgb3IgYSBgbmV4dGAgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oZTogP2FueSk6IHZvaWR9IFtlcnJvcl0gVGhlIGBlcnJvcmAgY2FsbGJhY2sgb2YgYW5cbiAgICogT2JzZXJ2ZXIuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKTogdm9pZH0gW2NvbXBsZXRlXSBUaGUgYGNvbXBsZXRlYCBjYWxsYmFjayBvZiBhblxuICAgKiBPYnNlcnZlci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGRlc3RpbmF0aW9uT3JOZXh0PzogUGFydGlhbE9ic2VydmVyPGFueT4gfCAoKHZhbHVlOiBUKSA9PiB2b2lkKSxcbiAgICAgICAgICAgICAgZXJyb3I/OiAoZT86IGFueSkgPT4gdm9pZCxcbiAgICAgICAgICAgICAgY29tcGxldGU/OiAoKSA9PiB2b2lkKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gZW1wdHlPYnNlcnZlcjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIGlmICghZGVzdGluYXRpb25Pck5leHQpIHtcbiAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gZW1wdHlPYnNlcnZlcjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGRlc3RpbmF0aW9uT3JOZXh0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIGlmIChkZXN0aW5hdGlvbk9yTmV4dCBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gZGVzdGluYXRpb25Pck5leHQuc3luY0Vycm9yVGhyb3dhYmxlO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uT3JOZXh0O1xuICAgICAgICAgICAgZGVzdGluYXRpb25Pck5leHQuYWRkKHRoaXMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyPFQ+KHRoaXMsIDxQYXJ0aWFsT2JzZXJ2ZXI8YW55Pj4gZGVzdGluYXRpb25Pck5leHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyPFQ+KHRoaXMsIDwoKHZhbHVlOiBUKSA9PiB2b2lkKT4gZGVzdGluYXRpb25Pck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUge0BsaW5rIE9ic2VydmVyfSBjYWxsYmFjayB0byByZWNlaXZlIG5vdGlmaWNhdGlvbnMgb2YgdHlwZSBgbmV4dGAgZnJvbVxuICAgKiB0aGUgT2JzZXJ2YWJsZSwgd2l0aCBhIHZhbHVlLiBUaGUgT2JzZXJ2YWJsZSBtYXkgY2FsbCB0aGlzIG1ldGhvZCAwIG9yIG1vcmVcbiAgICogdGltZXMuXG4gICAqIEBwYXJhbSB7VH0gW3ZhbHVlXSBUaGUgYG5leHRgIHZhbHVlLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgbmV4dCh2YWx1ZT86IFQpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICB0aGlzLl9uZXh0KHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhlIHtAbGluayBPYnNlcnZlcn0gY2FsbGJhY2sgdG8gcmVjZWl2ZSBub3RpZmljYXRpb25zIG9mIHR5cGUgYGVycm9yYCBmcm9tXG4gICAqIHRoZSBPYnNlcnZhYmxlLCB3aXRoIGFuIGF0dGFjaGVkIGBFcnJvcmAuIE5vdGlmaWVzIHRoZSBPYnNlcnZlciB0aGF0XG4gICAqIHRoZSBPYnNlcnZhYmxlIGhhcyBleHBlcmllbmNlZCBhbiBlcnJvciBjb25kaXRpb24uXG4gICAqIEBwYXJhbSB7YW55fSBbZXJyXSBUaGUgYGVycm9yYCBleGNlcHRpb24uXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBlcnJvcihlcnI/OiBhbnkpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUge0BsaW5rIE9ic2VydmVyfSBjYWxsYmFjayB0byByZWNlaXZlIGEgdmFsdWVsZXNzIG5vdGlmaWNhdGlvbiBvZiB0eXBlXG4gICAqIGBjb21wbGV0ZWAgZnJvbSB0aGUgT2JzZXJ2YWJsZS4gTm90aWZpZXMgdGhlIE9ic2VydmVyIHRoYXQgdGhlIE9ic2VydmFibGVcbiAgICogaGFzIGZpbmlzaGVkIHNlbmRpbmcgcHVzaC1iYXNlZCBub3RpZmljYXRpb25zLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY29tcGxldGUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fY29tcGxldGUoKTtcbiAgICB9XG4gIH1cblxuICB1bnN1YnNjcmliZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgIHN1cGVyLnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgX25leHQodmFsdWU6IFQpOiB2b2lkIHtcbiAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9lcnJvcihlcnI6IGFueSk6IHZvaWQge1xuICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgX2NvbXBsZXRlKCk6IHZvaWQge1xuICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICAvKiogQGRlcHJlY2F0ZWQgVGhpcyBpcyBhbiBpbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UuICovXG4gIF91bnN1YnNjcmliZUFuZFJlY3ljbGUoKTogU3Vic2NyaWJlcjxUPiB7XG4gICAgY29uc3QgeyBfcGFyZW50LCBfcGFyZW50cyB9ID0gdGhpcztcbiAgICB0aGlzLl9wYXJlbnQgPSBudWxsO1xuICAgIHRoaXMuX3BhcmVudHMgPSBudWxsO1xuICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgIHRoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcGFyZW50ID0gX3BhcmVudDtcbiAgICB0aGlzLl9wYXJlbnRzID0gX3BhcmVudHM7XG4gICAgdGhpcy5fcGFyZW50U3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG4vKipcbiAqIFdlIG5lZWQgdGhpcyBKU0RvYyBjb21tZW50IGZvciBhZmZlY3RpbmcgRVNEb2MuXG4gKiBAaWdub3JlXG4gKiBAZXh0ZW5kcyB7SWdub3JlZH1cbiAqL1xuZXhwb3J0IGNsYXNzIFNhZmVTdWJzY3JpYmVyPFQ+IGV4dGVuZHMgU3Vic2NyaWJlcjxUPiB7XG5cbiAgcHJpdmF0ZSBfY29udGV4dDogYW55O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX3BhcmVudFN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4sXG4gICAgICAgICAgICAgIG9ic2VydmVyT3JOZXh0PzogUGFydGlhbE9ic2VydmVyPFQ+IHwgKCh2YWx1ZTogVCkgPT4gdm9pZCksXG4gICAgICAgICAgICAgIGVycm9yPzogKGU/OiBhbnkpID0+IHZvaWQsXG4gICAgICAgICAgICAgIGNvbXBsZXRlPzogKCkgPT4gdm9pZCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICBsZXQgbmV4dDogKCh2YWx1ZTogVCkgPT4gdm9pZCk7XG4gICAgbGV0IGNvbnRleHQ6IGFueSA9IHRoaXM7XG5cbiAgICBpZiAoaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkpIHtcbiAgICAgIG5leHQgPSAoPCgodmFsdWU6IFQpID0+IHZvaWQpPiBvYnNlcnZlck9yTmV4dCk7XG4gICAgfSBlbHNlIGlmIChvYnNlcnZlck9yTmV4dCkge1xuICAgICAgbmV4dCA9ICg8UGFydGlhbE9ic2VydmVyPFQ+PiBvYnNlcnZlck9yTmV4dCkubmV4dDtcbiAgICAgIGVycm9yID0gKDxQYXJ0aWFsT2JzZXJ2ZXI8VD4+IG9ic2VydmVyT3JOZXh0KS5lcnJvcjtcbiAgICAgIGNvbXBsZXRlID0gKDxQYXJ0aWFsT2JzZXJ2ZXI8VD4+IG9ic2VydmVyT3JOZXh0KS5jb21wbGV0ZTtcbiAgICAgIGlmIChvYnNlcnZlck9yTmV4dCAhPT0gZW1wdHlPYnNlcnZlcikge1xuICAgICAgICBjb250ZXh0ID0gT2JqZWN0LmNyZWF0ZShvYnNlcnZlck9yTmV4dCk7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRleHQudW5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgdGhpcy5hZGQoPCgpID0+IHZvaWQ+IGNvbnRleHQudW5zdWJzY3JpYmUuYmluZChjb250ZXh0KSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC51bnN1YnNjcmliZSA9IHRoaXMudW5zdWJzY3JpYmUuYmluZCh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbiAgICB0aGlzLl9uZXh0ID0gbmV4dDtcbiAgICB0aGlzLl9lcnJvciA9IGVycm9yO1xuICAgIHRoaXMuX2NvbXBsZXRlID0gY29tcGxldGU7XG4gIH1cblxuICBuZXh0KHZhbHVlPzogVCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc1N0b3BwZWQgJiYgdGhpcy5fbmV4dCkge1xuICAgICAgY29uc3QgeyBfcGFyZW50U3Vic2NyaWJlciB9ID0gdGhpcztcbiAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9uZXh0LCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB0aGlzLl9uZXh0LCB2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGVycm9yKGVycj86IGFueSk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgIGNvbnN0IHsgX3BhcmVudFN1YnNjcmliZXIgfSA9IHRoaXM7XG4gICAgICBjb25zdCB7IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfSA9IGNvbmZpZztcbiAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICBpZiAoIXVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgdGhpcy5fZXJyb3IsIGVycik7XG4gICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICBpZiAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tcGxldGUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgY29uc3QgeyBfcGFyZW50U3Vic2NyaWJlciB9ID0gdGhpcztcbiAgICAgIGlmICh0aGlzLl9jb21wbGV0ZSkge1xuICAgICAgICBjb25zdCB3cmFwcGVkQ29tcGxldGUgPSAoKSA9PiB0aGlzLl9jb21wbGV0ZS5jYWxsKHRoaXMuX2NvbnRleHQpO1xuXG4gICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHdyYXBwZWRDb21wbGV0ZSk7XG4gICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX190cnlPclVuc3ViKGZuOiBGdW5jdGlvbiwgdmFsdWU/OiBhbnkpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfX3RyeU9yU2V0RXJyb3IocGFyZW50OiBTdWJzY3JpYmVyPFQ+LCBmbjogRnVuY3Rpb24sIHZhbHVlPzogYW55KTogYm9vbGVhbiB7XG4gICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgY2FsbCcpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgcGFyZW50LnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICBwYXJlbnQuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgVGhpcyBpcyBhbiBpbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UuICovXG4gIF91bnN1YnNjcmliZSgpOiB2b2lkIHtcbiAgICBjb25zdCB7IF9wYXJlbnRTdWJzY3JpYmVyIH0gPSB0aGlzO1xuICAgIHRoaXMuX2NvbnRleHQgPSBudWxsO1xuICAgIHRoaXMuX3BhcmVudFN1YnNjcmliZXIgPSBudWxsO1xuICAgIF9wYXJlbnRTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yIH0gZnJvbSAnLi4vT3BlcmF0b3InO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBUZWFyZG93bkxvZ2ljIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXI8VCwgUyBleHRlbmRzIFQ+KHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiB2YWx1ZSBpcyBTLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0FyZz86IGFueSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgUz47XG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyPFQ+KHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzQXJnPzogYW55KTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cblxuLyoqXG4gKiBGaWx0ZXIgaXRlbXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgYnkgb25seSBlbWl0dGluZyB0aG9zZSB0aGF0XG4gKiBzYXRpc2Z5IGEgc3BlY2lmaWVkIHByZWRpY2F0ZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+TGlrZVxuICogW0FycmF5LnByb3RvdHlwZS5maWx0ZXIoKV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvZmlsdGVyKSxcbiAqIGl0IG9ubHkgZW1pdHMgYSB2YWx1ZSBmcm9tIHRoZSBzb3VyY2UgaWYgaXQgcGFzc2VzIGEgY3JpdGVyaW9uIGZ1bmN0aW9uLjwvc3Bhbj5cbiAqXG4gKiAhW10oZmlsdGVyLnBuZylcbiAqXG4gKiBTaW1pbGFyIHRvIHRoZSB3ZWxsLWtub3duIGBBcnJheS5wcm90b3R5cGUuZmlsdGVyYCBtZXRob2QsIHRoaXMgb3BlcmF0b3JcbiAqIHRha2VzIHZhbHVlcyBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgcGFzc2VzIHRoZW0gdGhyb3VnaCBhIGBwcmVkaWNhdGVgXG4gKiBmdW5jdGlvbiBhbmQgb25seSBlbWl0cyB0aG9zZSB2YWx1ZXMgdGhhdCB5aWVsZGVkIGB0cnVlYC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKiBFbWl0IG9ubHkgY2xpY2sgZXZlbnRzIHdob3NlIHRhcmdldCB3YXMgYSBESVYgZWxlbWVudFxuICogYGBgamF2YXNjcmlwdFxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IGNsaWNrc09uRGl2cyA9IGNsaWNrcy5waXBlKGZpbHRlcihldiA9PiBldi50YXJnZXQudGFnTmFtZSA9PT0gJ0RJVicpKTtcbiAqIGNsaWNrc09uRGl2cy5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBkaXN0aW5jdH1cbiAqIEBzZWUge0BsaW5rIGRpc3RpbmN0VW50aWxDaGFuZ2VkfVxuICogQHNlZSB7QGxpbmsgZGlzdGluY3RVbnRpbEtleUNoYW5nZWR9XG4gKiBAc2VlIHtAbGluayBpZ25vcmVFbGVtZW50c31cbiAqIEBzZWUge0BsaW5rIHBhcnRpdGlvbn1cbiAqIEBzZWUge0BsaW5rIHNraXB9XG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbih2YWx1ZTogVCwgaW5kZXg6IG51bWJlcik6IGJvb2xlYW59IHByZWRpY2F0ZSBBIGZ1bmN0aW9uIHRoYXRcbiAqIGV2YWx1YXRlcyBlYWNoIHZhbHVlIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLiBJZiBpdCByZXR1cm5zIGB0cnVlYCxcbiAqIHRoZSB2YWx1ZSBpcyBlbWl0dGVkLCBpZiBgZmFsc2VgIHRoZSB2YWx1ZSBpcyBub3QgcGFzc2VkIHRvIHRoZSBvdXRwdXRcbiAqIE9ic2VydmFibGUuIFRoZSBgaW5kZXhgIHBhcmFtZXRlciBpcyB0aGUgbnVtYmVyIGBpYCBmb3IgdGhlIGktdGggc291cmNlXG4gKiBlbWlzc2lvbiB0aGF0IGhhcyBoYXBwZW5lZCBzaW5jZSB0aGUgc3Vic2NyaXB0aW9uLCBzdGFydGluZyBmcm9tIHRoZSBudW1iZXJcbiAqIGAwYC5cbiAqIEBwYXJhbSB7YW55fSBbdGhpc0FyZ10gQW4gb3B0aW9uYWwgYXJndW1lbnQgdG8gZGV0ZXJtaW5lIHRoZSB2YWx1ZSBvZiBgdGhpc2BcbiAqIGluIHRoZSBgcHJlZGljYXRlYCBmdW5jdGlvbi5cbiAqIEByZXR1cm4ge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgb2YgdmFsdWVzIGZyb20gdGhlIHNvdXJjZSB0aGF0IHdlcmVcbiAqIGFsbG93ZWQgYnkgdGhlIGBwcmVkaWNhdGVgIGZ1bmN0aW9uLlxuICogQG1ldGhvZCBmaWx0ZXJcbiAqIEBvd25lciBPYnNlcnZhYmxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXI8VD4ocHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNBcmc/OiBhbnkpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gZnVuY3Rpb24gZmlsdGVyT3BlcmF0b3JGdW5jdGlvbihzb3VyY2U6IE9ic2VydmFibGU8VD4pOiBPYnNlcnZhYmxlPFQ+IHtcbiAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IEZpbHRlck9wZXJhdG9yKHByZWRpY2F0ZSwgdGhpc0FyZykpO1xuICB9O1xufVxuXG5jbGFzcyBGaWx0ZXJPcGVyYXRvcjxUPiBpbXBsZW1lbnRzIE9wZXJhdG9yPFQsIFQ+IHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbixcbiAgICAgICAgICAgICAgcHJpdmF0ZSB0aGlzQXJnPzogYW55KSB7XG4gIH1cblxuICBjYWxsKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4sIHNvdXJjZTogYW55KTogVGVhcmRvd25Mb2dpYyB7XG4gICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IEZpbHRlclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5wcmVkaWNhdGUsIHRoaXMudGhpc0FyZykpO1xuICB9XG59XG5cbi8qKlxuICogV2UgbmVlZCB0aGlzIEpTRG9jIGNvbW1lbnQgZm9yIGFmZmVjdGluZyBFU0RvYy5cbiAqIEBpZ25vcmVcbiAqIEBleHRlbmRzIHtJZ25vcmVkfVxuICovXG5jbGFzcyBGaWx0ZXJTdWJzY3JpYmVyPFQ+IGV4dGVuZHMgU3Vic2NyaWJlcjxUPiB7XG5cbiAgY291bnQ6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoZGVzdGluYXRpb246IFN1YnNjcmliZXI8VD4sXG4gICAgICAgICAgICAgIHByaXZhdGUgcHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IGJvb2xlYW4sXG4gICAgICAgICAgICAgIHByaXZhdGUgdGhpc0FyZzogYW55KSB7XG4gICAgc3VwZXIoZGVzdGluYXRpb24pO1xuICB9XG5cbiAgLy8gdGhlIHRyeSBjYXRjaCBibG9jayBiZWxvdyBpcyBsZWZ0IHNwZWNpZmljYWxseSBmb3JcbiAgLy8gb3B0aW1pemF0aW9uIGFuZCBwZXJmIHJlYXNvbnMuIGEgdHJ5Q2F0Y2hlciBpcyBub3QgbmVjZXNzYXJ5IGhlcmUuXG4gIHByb3RlY3RlZCBfbmV4dCh2YWx1ZTogVCkge1xuICAgIGxldCByZXN1bHQ6IGFueTtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gdGhpcy5wcmVkaWNhdGUuY2FsbCh0aGlzLnRoaXNBcmcsIHZhbHVlLCB0aGlzLmNvdW50KyspO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGludGVyZmFjZSBBcmd1bWVudE91dE9mUmFuZ2VFcnJvciBleHRlbmRzIEVycm9yIHtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBcmd1bWVudE91dE9mUmFuZ2VFcnJvckN0b3Ige1xuICBuZXcoKTogQXJndW1lbnRPdXRPZlJhbmdlRXJyb3I7XG59XG5cbmZ1bmN0aW9uIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbCh0aGlzOiBhbnkpIHtcbiAgRXJyb3IuY2FsbCh0aGlzKTtcbiAgdGhpcy5tZXNzYWdlID0gJ2FyZ3VtZW50IG91dCBvZiByYW5nZSc7XG4gIHRoaXMubmFtZSA9ICdBcmd1bWVudE91dE9mUmFuZ2VFcnJvcic7XG4gIHJldHVybiB0aGlzO1xufVxuXG5Bcmd1bWVudE91dE9mUmFuZ2VFcnJvckltcGwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuXG4vKipcbiAqIEFuIGVycm9yIHRocm93biB3aGVuIGFuIGVsZW1lbnQgd2FzIHF1ZXJpZWQgYXQgYSBjZXJ0YWluIGluZGV4IG9mIGFuXG4gKiBPYnNlcnZhYmxlLCBidXQgbm8gc3VjaCBpbmRleCBvciBwb3NpdGlvbiBleGlzdHMgaW4gdGhhdCBzZXF1ZW5jZS5cbiAqXG4gKiBAc2VlIHtAbGluayBlbGVtZW50QXR9XG4gKiBAc2VlIHtAbGluayB0YWtlfVxuICogQHNlZSB7QGxpbmsgdGFrZUxhc3R9XG4gKlxuICogQGNsYXNzIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yXG4gKi9cbmV4cG9ydCBjb25zdCBBcmd1bWVudE91dE9mUmFuZ2VFcnJvcjogQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JDdG9yID0gQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JJbXBsIGFzIGFueTsiLCJpbXBvcnQgeyBub29wIH0gZnJvbSAnLi9ub29wJztcbmltcG9ydCB7IFVuYXJ5RnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VD4oKTogVW5hcnlGdW5jdGlvbjxULCBUPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEE+KGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPik6IFVuYXJ5RnVuY3Rpb248VCwgQT47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCPihmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPik6IFVuYXJ5RnVuY3Rpb248VCwgQj47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCLCBDPihmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPiwgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+KTogVW5hcnlGdW5jdGlvbjxULCBDPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQ+KGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPiwgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+LCBmbjM6IFVuYXJ5RnVuY3Rpb248QiwgQz4sIGZuNDogVW5hcnlGdW5jdGlvbjxDLCBEPik6IFVuYXJ5RnVuY3Rpb248VCwgRD47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCLCBDLCBELCBFPihmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPiwgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LCBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4sIGZuNTogVW5hcnlGdW5jdGlvbjxELCBFPik6IFVuYXJ5RnVuY3Rpb248VCwgRT47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCLCBDLCBELCBFLCBGPihmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPiwgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LCBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4sIGZuNTogVW5hcnlGdW5jdGlvbjxELCBFPiwgZm42OiBVbmFyeUZ1bmN0aW9uPEUsIEY+KTogVW5hcnlGdW5jdGlvbjxULCBGPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQsIEUsIEYsIEc+KGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPiwgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+LCBmbjM6IFVuYXJ5RnVuY3Rpb248QiwgQz4sIGZuNDogVW5hcnlGdW5jdGlvbjxDLCBEPiwgZm41OiBVbmFyeUZ1bmN0aW9uPEQsIEU+LCBmbjY6IFVuYXJ5RnVuY3Rpb248RSwgRj4sIGZuNzogVW5hcnlGdW5jdGlvbjxGLCBHPik6IFVuYXJ5RnVuY3Rpb248VCwgRz47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCLCBDLCBELCBFLCBGLCBHLCBIPihmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPiwgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LCBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4sIGZuNTogVW5hcnlGdW5jdGlvbjxELCBFPiwgZm42OiBVbmFyeUZ1bmN0aW9uPEUsIEY+LCBmbjc6IFVuYXJ5RnVuY3Rpb248RiwgRz4sIGZuODogVW5hcnlGdW5jdGlvbjxHLCBIPik6IFVuYXJ5RnVuY3Rpb248VCwgSD47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCLCBDLCBELCBFLCBGLCBHLCBILCBJPihmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPiwgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LCBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4sIGZuNTogVW5hcnlGdW5jdGlvbjxELCBFPiwgZm42OiBVbmFyeUZ1bmN0aW9uPEUsIEY+LCBmbjc6IFVuYXJ5RnVuY3Rpb248RiwgRz4sIGZuODogVW5hcnlGdW5jdGlvbjxHLCBIPiwgZm45OiBVbmFyeUZ1bmN0aW9uPEgsIEk+KTogVW5hcnlGdW5jdGlvbjxULCBJPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQsIEUsIEYsIEcsIEgsIEk+KGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPiwgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+LCBmbjM6IFVuYXJ5RnVuY3Rpb248QiwgQz4sIGZuNDogVW5hcnlGdW5jdGlvbjxDLCBEPiwgZm41OiBVbmFyeUZ1bmN0aW9uPEQsIEU+LCBmbjY6IFVuYXJ5RnVuY3Rpb248RSwgRj4sIGZuNzogVW5hcnlGdW5jdGlvbjxGLCBHPiwgZm44OiBVbmFyeUZ1bmN0aW9uPEcsIEg+LCBmbjk6IFVuYXJ5RnVuY3Rpb248SCwgST4sIC4uLmZuczogVW5hcnlGdW5jdGlvbjxhbnksIGFueT5bXSk6IFVuYXJ5RnVuY3Rpb248VCwge30+O1xuLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoLi4uZm5zOiBBcnJheTxVbmFyeUZ1bmN0aW9uPGFueSwgYW55Pj4pOiBVbmFyeUZ1bmN0aW9uPGFueSwgYW55PiB7XG4gIHJldHVybiBwaXBlRnJvbUFycmF5KGZucyk7XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBwaXBlRnJvbUFycmF5PFQsIFI+KGZuczogQXJyYXk8VW5hcnlGdW5jdGlvbjxULCBSPj4pOiBVbmFyeUZ1bmN0aW9uPFQsIFI+IHtcbiAgaWYgKCFmbnMpIHtcbiAgICByZXR1cm4gbm9vcCBhcyBVbmFyeUZ1bmN0aW9uPGFueSwgYW55PjtcbiAgfVxuXG4gIGlmIChmbnMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGZuc1swXTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBwaXBlZChpbnB1dDogVCk6IFIge1xuICAgIHJldHVybiBmbnMucmVkdWNlKChwcmV2OiBhbnksIGZuOiBVbmFyeUZ1bmN0aW9uPFQsIFI+KSA9PiBmbihwcmV2KSwgaW5wdXQgYXMgYW55KTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yIH0gZnJvbSAnLi9PcGVyYXRvcic7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IFRlYXJkb3duTG9naWMsIE9wZXJhdG9yRnVuY3Rpb24sIFBhcnRpYWxPYnNlcnZlciwgU3Vic2NyaWJhYmxlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBjYW5SZXBvcnRFcnJvciB9IGZyb20gJy4vdXRpbC9jYW5SZXBvcnRFcnJvcic7XG5pbXBvcnQgeyB0b1N1YnNjcmliZXIgfSBmcm9tICcuL3V0aWwvdG9TdWJzY3JpYmVyJztcbmltcG9ydCB7IGlpZiB9IGZyb20gJy4vb2JzZXJ2YWJsZS9paWYnO1xuaW1wb3J0IHsgdGhyb3dFcnJvciB9IGZyb20gJy4vb2JzZXJ2YWJsZS90aHJvd0Vycm9yJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9pbnRlcm5hbC9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBwaXBlRnJvbUFycmF5IH0gZnJvbSAnLi91dGlsL3BpcGUnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuXG4vKipcbiAqIEEgcmVwcmVzZW50YXRpb24gb2YgYW55IHNldCBvZiB2YWx1ZXMgb3ZlciBhbnkgYW1vdW50IG9mIHRpbWUuIFRoaXMgaXMgdGhlIG1vc3QgYmFzaWMgYnVpbGRpbmcgYmxvY2tcbiAqIG9mIFJ4SlMuXG4gKlxuICogQGNsYXNzIE9ic2VydmFibGU8VD5cbiAqL1xuZXhwb3J0IGNsYXNzIE9ic2VydmFibGU8VD4gaW1wbGVtZW50cyBTdWJzY3JpYmFibGU8VD4ge1xuXG4gIC8qKiBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuICovXG4gIHB1YmxpYyBfaXNTY2FsYXI6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKiogQGRlcHJlY2F0ZWQgVGhpcyBpcyBhbiBpbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UuICovXG4gIHNvdXJjZTogT2JzZXJ2YWJsZTxhbnk+O1xuXG4gIC8qKiBAZGVwcmVjYXRlZCBUaGlzIGlzIGFuIGludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZS4gKi9cbiAgb3BlcmF0b3I6IE9wZXJhdG9yPGFueSwgVD47XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdWJzY3JpYmUgdGhlIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIE9ic2VydmFibGUgaXNcbiAgICogaW5pdGlhbGx5IHN1YnNjcmliZWQgdG8uIFRoaXMgZnVuY3Rpb24gaXMgZ2l2ZW4gYSBTdWJzY3JpYmVyLCB0byB3aGljaCBuZXcgdmFsdWVzXG4gICAqIGNhbiBiZSBgbmV4dGBlZCwgb3IgYW4gYGVycm9yYCBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByYWlzZSBhbiBlcnJvciwgb3JcbiAgICogYGNvbXBsZXRlYCBjYW4gYmUgY2FsbGVkIHRvIG5vdGlmeSBvZiBhIHN1Y2Nlc3NmdWwgY29tcGxldGlvbi5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHN1YnNjcmliZT86ICh0aGlzOiBPYnNlcnZhYmxlPFQ+LCBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KSA9PiBUZWFyZG93bkxvZ2ljKSB7XG4gICAgaWYgKHN1YnNjcmliZSkge1xuICAgICAgdGhpcy5fc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEhBQ0s6IFNpbmNlIFR5cGVTY3JpcHQgaW5oZXJpdHMgc3RhdGljIHByb3BlcnRpZXMgdG9vLCB3ZSBoYXZlIHRvXG4gIC8vIGZpZ2h0IGFnYWluc3QgVHlwZVNjcmlwdCBoZXJlIHNvIFN1YmplY3QgY2FuIGhhdmUgYSBkaWZmZXJlbnQgc3RhdGljIGNyZWF0ZSBzaWduYXR1cmVcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgY29sZCBPYnNlcnZhYmxlIGJ5IGNhbGxpbmcgdGhlIE9ic2VydmFibGUgY29uc3RydWN0b3JcbiAgICogQHN0YXRpYyB0cnVlXG4gICAqIEBvd25lciBPYnNlcnZhYmxlXG4gICAqIEBtZXRob2QgY3JlYXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHN1YnNjcmliZT8gdGhlIHN1YnNjcmliZXIgZnVuY3Rpb24gdG8gYmUgcGFzc2VkIHRvIHRoZSBPYnNlcnZhYmxlIGNvbnN0cnVjdG9yXG4gICAqIEByZXR1cm4ge09ic2VydmFibGV9IGEgbmV3IGNvbGQgb2JzZXJ2YWJsZVxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZTogRnVuY3Rpb24gPSA8VD4oc3Vic2NyaWJlPzogKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4pID0+IFRlYXJkb3duTG9naWMpID0+IHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8VD4oc3Vic2NyaWJlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IE9ic2VydmFibGUsIHdpdGggdGhpcyBPYnNlcnZhYmxlIGFzIHRoZSBzb3VyY2UsIGFuZCB0aGUgcGFzc2VkXG4gICAqIG9wZXJhdG9yIGRlZmluZWQgYXMgdGhlIG5ldyBvYnNlcnZhYmxlJ3Mgb3BlcmF0b3IuXG4gICAqIEBtZXRob2QgbGlmdFxuICAgKiBAcGFyYW0ge09wZXJhdG9yfSBvcGVyYXRvciB0aGUgb3BlcmF0b3IgZGVmaW5pbmcgdGhlIG9wZXJhdGlvbiB0byB0YWtlIG9uIHRoZSBvYnNlcnZhYmxlXG4gICAqIEByZXR1cm4ge09ic2VydmFibGV9IGEgbmV3IG9ic2VydmFibGUgd2l0aCB0aGUgT3BlcmF0b3IgYXBwbGllZFxuICAgKi9cbiAgbGlmdDxSPihvcGVyYXRvcjogT3BlcmF0b3I8VCwgUj4pOiBPYnNlcnZhYmxlPFI+IHtcbiAgICBjb25zdCBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8Uj4oKTtcbiAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgb2JzZXJ2YWJsZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICB9XG5cbiAgc3Vic2NyaWJlKG9ic2VydmVyPzogUGFydGlhbE9ic2VydmVyPFQ+KTogU3Vic2NyaXB0aW9uO1xuICBzdWJzY3JpYmUobmV4dD86ICh2YWx1ZTogVCkgPT4gdm9pZCwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkKTogU3Vic2NyaXB0aW9uO1xuICAvKipcbiAgICogSW52b2tlcyBhbiBleGVjdXRpb24gb2YgYW4gT2JzZXJ2YWJsZSBhbmQgcmVnaXN0ZXJzIE9ic2VydmVyIGhhbmRsZXJzIGZvciBub3RpZmljYXRpb25zIGl0IHdpbGwgZW1pdC5cbiAgICpcbiAgICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlVzZSBpdCB3aGVuIHlvdSBoYXZlIGFsbCB0aGVzZSBPYnNlcnZhYmxlcywgYnV0IHN0aWxsIG5vdGhpbmcgaXMgaGFwcGVuaW5nLjwvc3Bhbj5cbiAgICpcbiAgICogYHN1YnNjcmliZWAgaXMgbm90IGEgcmVndWxhciBvcGVyYXRvciwgYnV0IGEgbWV0aG9kIHRoYXQgY2FsbHMgT2JzZXJ2YWJsZSdzIGludGVybmFsIGBzdWJzY3JpYmVgIGZ1bmN0aW9uLiBJdFxuICAgKiBtaWdodCBiZSBmb3IgZXhhbXBsZSBhIGZ1bmN0aW9uIHRoYXQgeW91IHBhc3NlZCB0byBPYnNlcnZhYmxlJ3MgY29uc3RydWN0b3IsIGJ1dCBtb3N0IG9mIHRoZSB0aW1lIGl0IGlzXG4gICAqIGEgbGlicmFyeSBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggZGVmaW5lcyB3aGF0IHdpbGwgYmUgZW1pdHRlZCBieSBhbiBPYnNlcnZhYmxlLCBhbmQgd2hlbiBpdCBiZSB3aWxsIGVtaXR0ZWQuIFRoaXMgbWVhbnNcbiAgICogdGhhdCBjYWxsaW5nIGBzdWJzY3JpYmVgIGlzIGFjdHVhbGx5IHRoZSBtb21lbnQgd2hlbiBPYnNlcnZhYmxlIHN0YXJ0cyBpdHMgd29yaywgbm90IHdoZW4gaXQgaXMgY3JlYXRlZCwgYXMgaXQgaXMgb2Z0ZW5cbiAgICogdGhlIHRob3VnaHQuXG4gICAqXG4gICAqIEFwYXJ0IGZyb20gc3RhcnRpbmcgdGhlIGV4ZWN1dGlvbiBvZiBhbiBPYnNlcnZhYmxlLCB0aGlzIG1ldGhvZCBhbGxvd3MgeW91IHRvIGxpc3RlbiBmb3IgdmFsdWVzXG4gICAqIHRoYXQgYW4gT2JzZXJ2YWJsZSBlbWl0cywgYXMgd2VsbCBhcyBmb3Igd2hlbiBpdCBjb21wbGV0ZXMgb3IgZXJyb3JzLiBZb3UgY2FuIGFjaGlldmUgdGhpcyBpbiB0d29cbiAgICogb2YgdGhlIGZvbGxvd2luZyB3YXlzLlxuICAgKlxuICAgKiBUaGUgZmlyc3Qgd2F5IGlzIGNyZWF0aW5nIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMge0BsaW5rIE9ic2VydmVyfSBpbnRlcmZhY2UuIEl0IHNob3VsZCBoYXZlIG1ldGhvZHNcbiAgICogZGVmaW5lZCBieSB0aGF0IGludGVyZmFjZSwgYnV0IG5vdGUgdGhhdCBpdCBzaG91bGQgYmUganVzdCBhIHJlZ3VsYXIgSmF2YVNjcmlwdCBvYmplY3QsIHdoaWNoIHlvdSBjYW4gY3JlYXRlXG4gICAqIHlvdXJzZWxmIGluIGFueSB3YXkgeW91IHdhbnQgKEVTNiBjbGFzcywgY2xhc3NpYyBmdW5jdGlvbiBjb25zdHJ1Y3Rvciwgb2JqZWN0IGxpdGVyYWwgZXRjLikuIEluIHBhcnRpY3VsYXIgZG9cbiAgICogbm90IGF0dGVtcHQgdG8gdXNlIGFueSBSeEpTIGltcGxlbWVudGF0aW9uIGRldGFpbHMgdG8gY3JlYXRlIE9ic2VydmVycyAtIHlvdSBkb24ndCBuZWVkIHRoZW0uIFJlbWVtYmVyIGFsc29cbiAgICogdGhhdCB5b3VyIG9iamVjdCBkb2VzIG5vdCBoYXZlIHRvIGltcGxlbWVudCBhbGwgbWV0aG9kcy4gSWYgeW91IGZpbmQgeW91cnNlbGYgY3JlYXRpbmcgYSBtZXRob2QgdGhhdCBkb2Vzbid0XG4gICAqIGRvIGFueXRoaW5nLCB5b3UgY2FuIHNpbXBseSBvbWl0IGl0LiBOb3RlIGhvd2V2ZXIsIGlmIHRoZSBgZXJyb3JgIG1ldGhvZCBpcyBub3QgcHJvdmlkZWQsIGFsbCBlcnJvcnMgd2lsbFxuICAgKiBiZSBsZWZ0IHVuY2F1Z2h0LlxuICAgKlxuICAgKiBUaGUgc2Vjb25kIHdheSBpcyB0byBnaXZlIHVwIG9uIE9ic2VydmVyIG9iamVjdCBhbHRvZ2V0aGVyIGFuZCBzaW1wbHkgcHJvdmlkZSBjYWxsYmFjayBmdW5jdGlvbnMgaW4gcGxhY2Ugb2YgaXRzIG1ldGhvZHMuXG4gICAqIFRoaXMgbWVhbnMgeW91IGNhbiBwcm92aWRlIHRocmVlIGZ1bmN0aW9ucyBhcyBhcmd1bWVudHMgdG8gYHN1YnNjcmliZWAsIHdoZXJlIHRoZSBmaXJzdCBmdW5jdGlvbiBpcyBlcXVpdmFsZW50XG4gICAqIG9mIGEgYG5leHRgIG1ldGhvZCwgdGhlIHNlY29uZCBvZiBhbiBgZXJyb3JgIG1ldGhvZCBhbmQgdGhlIHRoaXJkIG9mIGEgYGNvbXBsZXRlYCBtZXRob2QuIEp1c3QgYXMgaW4gY2FzZSBvZiBPYnNlcnZlcixcbiAgICogaWYgeW91IGRvIG5vdCBuZWVkIHRvIGxpc3RlbiBmb3Igc29tZXRoaW5nLCB5b3UgY2FuIG9taXQgYSBmdW5jdGlvbiwgcHJlZmVyYWJseSBieSBwYXNzaW5nIGB1bmRlZmluZWRgIG9yIGBudWxsYCxcbiAgICogc2luY2UgYHN1YnNjcmliZWAgcmVjb2duaXplcyB0aGVzZSBmdW5jdGlvbnMgYnkgd2hlcmUgdGhleSB3ZXJlIHBsYWNlZCBpbiBmdW5jdGlvbiBjYWxsLiBXaGVuIGl0IGNvbWVzXG4gICAqIHRvIGBlcnJvcmAgZnVuY3Rpb24sIGp1c3QgYXMgYmVmb3JlLCBpZiBub3QgcHJvdmlkZWQsIGVycm9ycyBlbWl0dGVkIGJ5IGFuIE9ic2VydmFibGUgd2lsbCBiZSB0aHJvd24uXG4gICAqXG4gICAqIFdoaWNoZXZlciBzdHlsZSBvZiBjYWxsaW5nIGBzdWJzY3JpYmVgIHlvdSB1c2UsIGluIGJvdGggY2FzZXMgaXQgcmV0dXJucyBhIFN1YnNjcmlwdGlvbiBvYmplY3QuXG4gICAqIFRoaXMgb2JqZWN0IGFsbG93cyB5b3UgdG8gY2FsbCBgdW5zdWJzY3JpYmVgIG9uIGl0LCB3aGljaCBpbiB0dXJuIHdpbGwgc3RvcCB0aGUgd29yayB0aGF0IGFuIE9ic2VydmFibGUgZG9lcyBhbmQgd2lsbCBjbGVhblxuICAgKiB1cCBhbGwgcmVzb3VyY2VzIHRoYXQgYW4gT2JzZXJ2YWJsZSB1c2VkLiBOb3RlIHRoYXQgY2FuY2VsbGluZyBhIHN1YnNjcmlwdGlvbiB3aWxsIG5vdCBjYWxsIGBjb21wbGV0ZWAgY2FsbGJhY2tcbiAgICogcHJvdmlkZWQgdG8gYHN1YnNjcmliZWAgZnVuY3Rpb24sIHdoaWNoIGlzIHJlc2VydmVkIGZvciBhIHJlZ3VsYXIgY29tcGxldGlvbiBzaWduYWwgdGhhdCBjb21lcyBmcm9tIGFuIE9ic2VydmFibGUuXG4gICAqXG4gICAqIFJlbWVtYmVyIHRoYXQgY2FsbGJhY2tzIHByb3ZpZGVkIHRvIGBzdWJzY3JpYmVgIGFyZSBub3QgZ3VhcmFudGVlZCB0byBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHkuXG4gICAqIEl0IGlzIGFuIE9ic2VydmFibGUgaXRzZWxmIHRoYXQgZGVjaWRlcyB3aGVuIHRoZXNlIGZ1bmN0aW9ucyB3aWxsIGJlIGNhbGxlZC4gRm9yIGV4YW1wbGUge0BsaW5rIG9mfVxuICAgKiBieSBkZWZhdWx0IGVtaXRzIGFsbCBpdHMgdmFsdWVzIHN5bmNocm9ub3VzbHkuIEFsd2F5cyBjaGVjayBkb2N1bWVudGF0aW9uIGZvciBob3cgZ2l2ZW4gT2JzZXJ2YWJsZVxuICAgKiB3aWxsIGJlaGF2ZSB3aGVuIHN1YnNjcmliZWQgYW5kIGlmIGl0cyBkZWZhdWx0IGJlaGF2aW9yIGNhbiBiZSBtb2RpZmllZCB3aXRoIGEgYHNjaGVkdWxlcmAuXG4gICAqXG4gICAqICMjIEV4YW1wbGVcbiAgICogIyMjIFN1YnNjcmliZSB3aXRoIGFuIE9ic2VydmVyXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogY29uc3Qgc3VtT2JzZXJ2ZXIgPSB7XG4gICAqICAgc3VtOiAwLFxuICAgKiAgIG5leHQodmFsdWUpIHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdBZGRpbmc6ICcgKyB2YWx1ZSk7XG4gICAqICAgICB0aGlzLnN1bSA9IHRoaXMuc3VtICsgdmFsdWU7XG4gICAqICAgfSxcbiAgICogICBlcnJvcigpIHsgLy8gV2UgYWN0dWFsbHkgY291bGQganVzdCByZW1vdmUgdGhpcyBtZXRob2QsXG4gICAqICAgfSwgICAgICAgIC8vIHNpbmNlIHdlIGRvIG5vdCByZWFsbHkgY2FyZSBhYm91dCBlcnJvcnMgcmlnaHQgbm93LlxuICAgKiAgIGNvbXBsZXRlKCkge1xuICAgKiAgICAgY29uc29sZS5sb2coJ1N1bSBlcXVhbHM6ICcgKyB0aGlzLnN1bSk7XG4gICAqICAgfVxuICAgKiB9O1xuICAgKlxuICAgKiBSeC5PYnNlcnZhYmxlLm9mKDEsIDIsIDMpIC8vIFN5bmNocm9ub3VzbHkgZW1pdHMgMSwgMiwgMyBhbmQgdGhlbiBjb21wbGV0ZXMuXG4gICAqIC5zdWJzY3JpYmUoc3VtT2JzZXJ2ZXIpO1xuICAgKlxuICAgKiAvLyBMb2dzOlxuICAgKiAvLyBcIkFkZGluZzogMVwiXG4gICAqIC8vIFwiQWRkaW5nOiAyXCJcbiAgICogLy8gXCJBZGRpbmc6IDNcIlxuICAgKiAvLyBcIlN1bSBlcXVhbHM6IDZcIlxuICAgKiBgYGBcbiAgICpcbiAgICogIyMjIFN1YnNjcmliZSB3aXRoIGZ1bmN0aW9uc1xuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIGxldCBzdW0gPSAwO1xuICAgKlxuICAgKiBSeC5PYnNlcnZhYmxlLm9mKDEsIDIsIDMpXG4gICAqIC5zdWJzY3JpYmUoXG4gICAqICAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdBZGRpbmc6ICcgKyB2YWx1ZSk7XG4gICAqICAgICBzdW0gPSBzdW0gKyB2YWx1ZTtcbiAgICogICB9LFxuICAgKiAgIHVuZGVmaW5lZCxcbiAgICogICBmdW5jdGlvbigpIHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdTdW0gZXF1YWxzOiAnICsgc3VtKTtcbiAgICogICB9XG4gICAqICk7XG4gICAqXG4gICAqIC8vIExvZ3M6XG4gICAqIC8vIFwiQWRkaW5nOiAxXCJcbiAgICogLy8gXCJBZGRpbmc6IDJcIlxuICAgKiAvLyBcIkFkZGluZzogM1wiXG4gICAqIC8vIFwiU3VtIGVxdWFsczogNlwiXG4gICAqIGBgYFxuICAgKlxuICAgKiAjIyMgQ2FuY2VsIGEgc3Vic2NyaXB0aW9uXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogY29uc3Qgc3Vic2NyaXB0aW9uID0gUnguT2JzZXJ2YWJsZS5pbnRlcnZhbCgxMDAwKS5zdWJzY3JpYmUoXG4gICAqICAgbnVtID0+IGNvbnNvbGUubG9nKG51bSksXG4gICAqICAgdW5kZWZpbmVkLFxuICAgKiAgICgpID0+IGNvbnNvbGUubG9nKCdjb21wbGV0ZWQhJykgLy8gV2lsbCBub3QgYmUgY2FsbGVkLCBldmVuXG4gICAqICk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIGNhbmNlbGxpbmcgc3Vic2NyaXB0aW9uXG4gICAqXG4gICAqXG4gICAqIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgKiAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgKiAgIGNvbnNvbGUubG9nKCd1bnN1YnNjcmliZWQhJyk7XG4gICAqIH0sIDI1MDApO1xuICAgKlxuICAgKiAvLyBMb2dzOlxuICAgKiAvLyAwIGFmdGVyIDFzXG4gICAqIC8vIDEgYWZ0ZXIgMnNcbiAgICogLy8gXCJ1bnN1YnNjcmliZWQhXCIgYWZ0ZXIgMi41c1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHtPYnNlcnZlcnxGdW5jdGlvbn0gb2JzZXJ2ZXJPck5leHQgKG9wdGlvbmFsKSBFaXRoZXIgYW4gb2JzZXJ2ZXIgd2l0aCBtZXRob2RzIHRvIGJlIGNhbGxlZCxcbiAgICogIG9yIHRoZSBmaXJzdCBvZiB0aHJlZSBwb3NzaWJsZSBoYW5kbGVycywgd2hpY2ggaXMgdGhlIGhhbmRsZXIgZm9yIGVhY2ggdmFsdWUgZW1pdHRlZCBmcm9tIHRoZSBzdWJzY3JpYmVkXG4gICAqICBPYnNlcnZhYmxlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcnJvciAob3B0aW9uYWwpIEEgaGFuZGxlciBmb3IgYSB0ZXJtaW5hbCBldmVudCByZXN1bHRpbmcgZnJvbSBhbiBlcnJvci4gSWYgbm8gZXJyb3IgaGFuZGxlciBpcyBwcm92aWRlZCxcbiAgICogIHRoZSBlcnJvciB3aWxsIGJlIHRocm93biBhcyB1bmhhbmRsZWQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBsZXRlIChvcHRpb25hbCkgQSBoYW5kbGVyIGZvciBhIHRlcm1pbmFsIGV2ZW50IHJlc3VsdGluZyBmcm9tIHN1Y2Nlc3NmdWwgY29tcGxldGlvbi5cbiAgICogQHJldHVybiB7SVN1YnNjcmlwdGlvbn0gYSBzdWJzY3JpcHRpb24gcmVmZXJlbmNlIHRvIHRoZSByZWdpc3RlcmVkIGhhbmRsZXJzXG4gICAqIEBtZXRob2Qgc3Vic2NyaWJlXG4gICAqL1xuICBzdWJzY3JpYmUob2JzZXJ2ZXJPck5leHQ/OiBQYXJ0aWFsT2JzZXJ2ZXI8VD4gfCAoKHZhbHVlOiBUKSA9PiB2b2lkKSxcbiAgICAgICAgICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgICAgICAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQpOiBTdWJzY3JpcHRpb24ge1xuXG4gICAgY29uc3QgeyBvcGVyYXRvciB9ID0gdGhpcztcbiAgICBjb25zdCBzaW5rID0gdG9TdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuXG4gICAgaWYgKG9wZXJhdG9yKSB7XG4gICAgICBvcGVyYXRvci5jYWxsKHNpbmssIHRoaXMuc291cmNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2luay5hZGQoXG4gICAgICAgIHRoaXMuc291cmNlIHx8IChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyAmJiAhc2luay5zeW5jRXJyb3JUaHJvd2FibGUpID9cbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlKHNpbmspIDpcbiAgICAgICAgdGhpcy5fdHJ5U3Vic2NyaWJlKHNpbmspXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgaWYgKHNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgIHNpbmsuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgIGlmIChzaW5rLnN5bmNFcnJvclRocm93bikge1xuICAgICAgICAgIHRocm93IHNpbmsuc3luY0Vycm9yVmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2luaztcbiAgfVxuXG4gIC8qKiBAZGVwcmVjYXRlZCBUaGlzIGlzIGFuIGludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZS4gKi9cbiAgX3RyeVN1YnNjcmliZShzaW5rOiBTdWJzY3JpYmVyPFQ+KTogVGVhcmRvd25Mb2dpYyB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmUoc2luayk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgc2luay5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICBzaW5rLnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgfVxuICAgICAgaWYgKGNhblJlcG9ydEVycm9yKHNpbmspKSB7XG4gICAgICAgIHNpbmsuZXJyb3IoZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybihlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIGZvckVhY2hcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbmV4dCBhIGhhbmRsZXIgZm9yIGVhY2ggdmFsdWUgZW1pdHRlZCBieSB0aGUgb2JzZXJ2YWJsZVxuICAgKiBAcGFyYW0ge1Byb21pc2VDb25zdHJ1Y3Rvcn0gW3Byb21pc2VDdG9yXSBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHVzZWQgdG8gaW5zdGFudGlhdGUgdGhlIFByb21pc2VcbiAgICogQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgZWl0aGVyIHJlc29sdmVzIG9uIG9ic2VydmFibGUgY29tcGxldGlvbiBvclxuICAgKiAgcmVqZWN0cyB3aXRoIHRoZSBoYW5kbGVkIGVycm9yXG4gICAqL1xuICBmb3JFYWNoKG5leHQ6ICh2YWx1ZTogVCkgPT4gdm9pZCwgcHJvbWlzZUN0b3I/OiBQcm9taXNlQ29uc3RydWN0b3JMaWtlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG5cbiAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIC8vIE11c3QgYmUgZGVjbGFyZWQgaW4gYSBzZXBhcmF0ZSBzdGF0ZW1lbnQgdG8gYXZvaWQgYSBSZWZlcm5jZUVycm9yIHdoZW5cbiAgICAgIC8vIGFjY2Vzc2luZyBzdWJzY3JpcHRpb24gYmVsb3cgaW4gdGhlIGNsb3N1cmUgZHVlIHRvIFRlbXBvcmFsIERlYWQgWm9uZS5cbiAgICAgIGxldCBzdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcbiAgICAgIHN1YnNjcmlwdGlvbiA9IHRoaXMuc3Vic2NyaWJlKCh2YWx1ZSkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG5leHQodmFsdWUpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIHJlamVjdCwgcmVzb2x2ZSk7XG4gICAgfSkgYXMgUHJvbWlzZTx2b2lkPjtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgVGhpcyBpcyBhbiBpbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UuICovXG4gIF9zdWJzY3JpYmUoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxhbnk+KTogVGVhcmRvd25Mb2dpYyB7XG4gICAgY29uc3QgeyBzb3VyY2UgfSA9IHRoaXM7XG4gICAgcmV0dXJuIHNvdXJjZSAmJiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICB9XG5cbiAgLy8gYGlmYCBhbmQgYHRocm93YCBhcmUgc3BlY2lhbCBzbm93IGZsYWtlcywgdGhlIGNvbXBpbGVyIHNlZXMgdGhlbSBhcyByZXNlcnZlZCB3b3Jkcy4gRGVwcmVjYXRlZCBpblxuICAvLyBmYXZvciBvZiBpaWYgYW5kIHRocm93RXJyb3IgZnVuY3Rpb25zLlxuICAvKipcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGRlcHJlY2F0ZWQgSW4gZmF2b3Igb2YgaWlmIGNyZWF0aW9uIGZ1bmN0aW9uOiBpbXBvcnQgeyBpaWYgfSBmcm9tICdyeGpzJztcbiAgICovXG4gIHN0YXRpYyBpZjogdHlwZW9mIGlpZjtcbiAgLyoqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBkZXByZWNhdGVkIEluIGZhdm9yIG9mIHRocm93RXJyb3IgY3JlYXRpb24gZnVuY3Rpb246IGltcG9ydCB7IHRocm93RXJyb3IgfSBmcm9tICdyeGpzJztcbiAgICovXG4gIHN0YXRpYyB0aHJvdzogdHlwZW9mIHRocm93RXJyb3I7XG5cbiAgLyoqXG4gICAqIEFuIGludGVyb3AgcG9pbnQgZGVmaW5lZCBieSB0aGUgZXM3LW9ic2VydmFibGUgc3BlYyBodHRwczovL2dpdGh1Yi5jb20vemVucGFyc2luZy9lcy1vYnNlcnZhYmxlXG4gICAqIEBtZXRob2QgU3ltYm9sLm9ic2VydmFibGVcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZX0gdGhpcyBpbnN0YW5jZSBvZiB0aGUgb2JzZXJ2YWJsZVxuICAgKi9cbiAgW1N5bWJvbF9vYnNlcnZhYmxlXSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuICBwaXBlKCk6IE9ic2VydmFibGU8VD47XG4gIHBpcGU8QT4ob3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+KTogT2JzZXJ2YWJsZTxBPjtcbiAgcGlwZTxBLCBCPihvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sIG9wMjogT3BlcmF0b3JGdW5jdGlvbjxBLCBCPik6IE9ic2VydmFibGU8Qj47XG4gIHBpcGU8QSwgQiwgQz4ob3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LCBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sIG9wMzogT3BlcmF0b3JGdW5jdGlvbjxCLCBDPik6IE9ic2VydmFibGU8Qz47XG4gIHBpcGU8QSwgQiwgQywgRD4ob3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LCBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sIG9wMzogT3BlcmF0b3JGdW5jdGlvbjxCLCBDPiwgb3A0OiBPcGVyYXRvckZ1bmN0aW9uPEMsIEQ+KTogT2JzZXJ2YWJsZTxEPjtcbiAgcGlwZTxBLCBCLCBDLCBELCBFPihvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sIG9wMjogT3BlcmF0b3JGdW5jdGlvbjxBLCBCPiwgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LCBvcDQ6IE9wZXJhdG9yRnVuY3Rpb248QywgRD4sIG9wNTogT3BlcmF0b3JGdW5jdGlvbjxELCBFPik6IE9ic2VydmFibGU8RT47XG4gIHBpcGU8QSwgQiwgQywgRCwgRSwgRj4ob3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LCBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sIG9wMzogT3BlcmF0b3JGdW5jdGlvbjxCLCBDPiwgb3A0OiBPcGVyYXRvckZ1bmN0aW9uPEMsIEQ+LCBvcDU6IE9wZXJhdG9yRnVuY3Rpb248RCwgRT4sIG9wNjogT3BlcmF0b3JGdW5jdGlvbjxFLCBGPik6IE9ic2VydmFibGU8Rj47XG4gIHBpcGU8QSwgQiwgQywgRCwgRSwgRiwgRz4ob3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LCBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sIG9wMzogT3BlcmF0b3JGdW5jdGlvbjxCLCBDPiwgb3A0OiBPcGVyYXRvckZ1bmN0aW9uPEMsIEQ+LCBvcDU6IE9wZXJhdG9yRnVuY3Rpb248RCwgRT4sIG9wNjogT3BlcmF0b3JGdW5jdGlvbjxFLCBGPiwgb3A3OiBPcGVyYXRvckZ1bmN0aW9uPEYsIEc+KTogT2JzZXJ2YWJsZTxHPjtcbiAgcGlwZTxBLCBCLCBDLCBELCBFLCBGLCBHLCBIPihvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sIG9wMjogT3BlcmF0b3JGdW5jdGlvbjxBLCBCPiwgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LCBvcDQ6IE9wZXJhdG9yRnVuY3Rpb248QywgRD4sIG9wNTogT3BlcmF0b3JGdW5jdGlvbjxELCBFPiwgb3A2OiBPcGVyYXRvckZ1bmN0aW9uPEUsIEY+LCBvcDc6IE9wZXJhdG9yRnVuY3Rpb248RiwgRz4sIG9wODogT3BlcmF0b3JGdW5jdGlvbjxHLCBIPik6IE9ic2VydmFibGU8SD47XG4gIHBpcGU8QSwgQiwgQywgRCwgRSwgRiwgRywgSCwgST4ob3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LCBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sIG9wMzogT3BlcmF0b3JGdW5jdGlvbjxCLCBDPiwgb3A0OiBPcGVyYXRvckZ1bmN0aW9uPEMsIEQ+LCBvcDU6IE9wZXJhdG9yRnVuY3Rpb248RCwgRT4sIG9wNjogT3BlcmF0b3JGdW5jdGlvbjxFLCBGPiwgb3A3OiBPcGVyYXRvckZ1bmN0aW9uPEYsIEc+LCBvcDg6IE9wZXJhdG9yRnVuY3Rpb248RywgSD4sIG9wOTogT3BlcmF0b3JGdW5jdGlvbjxILCBJPik6IE9ic2VydmFibGU8ST47XG4gIHBpcGU8QSwgQiwgQywgRCwgRSwgRiwgRywgSCwgST4ob3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LCBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sIG9wMzogT3BlcmF0b3JGdW5jdGlvbjxCLCBDPiwgb3A0OiBPcGVyYXRvckZ1bmN0aW9uPEMsIEQ+LCBvcDU6IE9wZXJhdG9yRnVuY3Rpb248RCwgRT4sIG9wNjogT3BlcmF0b3JGdW5jdGlvbjxFLCBGPiwgb3A3OiBPcGVyYXRvckZ1bmN0aW9uPEYsIEc+LCBvcDg6IE9wZXJhdG9yRnVuY3Rpb248RywgSD4sIG9wOTogT3BlcmF0b3JGdW5jdGlvbjxILCBJPiwgLi4ub3BlcmF0aW9uczogT3BlcmF0b3JGdW5jdGlvbjxhbnksIGFueT5bXSk6IE9ic2VydmFibGU8e30+O1xuICAvKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIHN0aXRjaCB0b2dldGhlciBmdW5jdGlvbmFsIG9wZXJhdG9ycyBpbnRvIGEgY2hhaW4uXG4gICAqIEBtZXRob2QgcGlwZVxuICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSB0aGUgT2JzZXJ2YWJsZSByZXN1bHQgb2YgYWxsIG9mIHRoZSBvcGVyYXRvcnMgaGF2aW5nXG4gICAqIGJlZW4gY2FsbGVkIGluIHRoZSBvcmRlciB0aGV5IHdlcmUgcGFzc2VkIGluLlxuICAgKlxuICAgKiAjIyMgRXhhbXBsZVxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIGltcG9ydCB7IG1hcCwgZmlsdGVyLCBzY2FuIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuICAgKlxuICAgKiBSeC5PYnNlcnZhYmxlLmludGVydmFsKDEwMDApXG4gICAqICAgLnBpcGUoXG4gICAqICAgICBmaWx0ZXIoeCA9PiB4ICUgMiA9PT0gMCksXG4gICAqICAgICBtYXAoeCA9PiB4ICsgeCksXG4gICAqICAgICBzY2FuKChhY2MsIHgpID0+IGFjYyArIHgpXG4gICAqICAgKVxuICAgKiAgIC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSlcbiAgICogYGBgXG4gICAqL1xuICBwaXBlKC4uLm9wZXJhdGlvbnM6IE9wZXJhdG9yRnVuY3Rpb248YW55LCBhbnk+W10pOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIGlmIChvcGVyYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMgYXMgYW55O1xuICAgIH1cblxuICAgIHJldHVybiBwaXBlRnJvbUFycmF5KG9wZXJhdGlvbnMpKHRoaXMpO1xuICB9XG5cbiAgLyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovXG4gIHRvUHJvbWlzZTxUPih0aGlzOiBPYnNlcnZhYmxlPFQ+KTogUHJvbWlzZTxUPjtcbiAgdG9Qcm9taXNlPFQ+KHRoaXM6IE9ic2VydmFibGU8VD4sIFByb21pc2VDdG9yOiB0eXBlb2YgUHJvbWlzZSk6IFByb21pc2U8VD47XG4gIHRvUHJvbWlzZTxUPih0aGlzOiBPYnNlcnZhYmxlPFQ+LCBQcm9taXNlQ3RvcjogUHJvbWlzZUNvbnN0cnVjdG9yTGlrZSk6IFByb21pc2U8VD47XG4gIC8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5cbiAgdG9Qcm9taXNlKHByb21pc2VDdG9yPzogUHJvbWlzZUNvbnN0cnVjdG9yTGlrZSk6IFByb21pc2U8VD4ge1xuICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuXG4gICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgdmFsdWU6IGFueTtcbiAgICAgIHRoaXMuc3Vic2NyaWJlKCh4OiBUKSA9PiB2YWx1ZSA9IHgsIChlcnI6IGFueSkgPT4gcmVqZWN0KGVyciksICgpID0+IHJlc29sdmUodmFsdWUpKTtcbiAgICB9KSBhcyBQcm9taXNlPFQ+O1xuICB9XG59XG5cbi8qKlxuICogRGVjaWRlcyBiZXR3ZWVuIGEgcGFzc2VkIHByb21pc2UgY29uc3RydWN0b3IgZnJvbSBjb25zdW1pbmcgY29kZSxcbiAqIEEgZGVmYXVsdCBjb25maWd1cmVkIHByb21pc2UgY29uc3RydWN0b3IsIGFuZCB0aGUgbmF0aXZlIHByb21pc2VcbiAqIGNvbnN0cnVjdG9yIGFuZCByZXR1cm5zIGl0LiBJZiBub3RoaW5nIGNhbiBiZSBmb3VuZCwgaXQgd2lsbCB0aHJvd1xuICogYW4gZXJyb3IuXG4gKiBAcGFyYW0gcHJvbWlzZUN0b3IgVGhlIG9wdGlvbmFsIHByb21pc2UgY29uc3RydWN0b3IgdG8gcGFzc2VkIGJ5IGNvbnN1bWluZyBjb2RlXG4gKi9cbmZ1bmN0aW9uIGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yOiBQcm9taXNlQ29uc3RydWN0b3JMaWtlIHwgdW5kZWZpbmVkKSB7XG4gIGlmICghcHJvbWlzZUN0b3IpIHtcbiAgICBwcm9taXNlQ3RvciA9IGNvbmZpZy5Qcm9taXNlIHx8IFByb21pc2U7XG4gIH1cblxuICBpZiAoIXByb21pc2VDdG9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdubyBQcm9taXNlIGltcGwgZm91bmQnKTtcbiAgfVxuXG4gIHJldHVybiBwcm9taXNlQ3Rvcjtcbn1cbiIsImltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IHJ4U3Vic2NyaWJlciBhcyByeFN1YnNjcmliZXJTeW1ib2wgfSBmcm9tICcuLi9zeW1ib2wvcnhTdWJzY3JpYmVyJztcbmltcG9ydCB7IGVtcHR5IGFzIGVtcHR5T2JzZXJ2ZXIgfSBmcm9tICcuLi9PYnNlcnZlcic7XG5pbXBvcnQgeyBQYXJ0aWFsT2JzZXJ2ZXIgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1N1YnNjcmliZXI8VD4oXG4gIG5leHRPck9ic2VydmVyPzogUGFydGlhbE9ic2VydmVyPFQ+IHwgKCh2YWx1ZTogVCkgPT4gdm9pZCksXG4gIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gIGNvbXBsZXRlPzogKCkgPT4gdm9pZCk6IFN1YnNjcmliZXI8VD4ge1xuXG4gIGlmIChuZXh0T3JPYnNlcnZlcikge1xuICAgIGlmIChuZXh0T3JPYnNlcnZlciBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgIHJldHVybiAoPFN1YnNjcmliZXI8VD4+IG5leHRPck9ic2VydmVyKTtcbiAgICB9XG5cbiAgICBpZiAobmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyU3ltYm9sXSkge1xuICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyW3J4U3Vic2NyaWJlclN5bWJvbF0oKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIW5leHRPck9ic2VydmVyICYmICFlcnJvciAmJiAhY29tcGxldGUpIHtcbiAgICByZXR1cm4gbmV3IFN1YnNjcmliZXIoZW1wdHlPYnNlcnZlcik7XG4gIH1cblxuICByZXR1cm4gbmV3IFN1YnNjcmliZXIobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSk7XG59XG4iLCJpbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBFcnJvck9ic2VydmVyIGlzIGNsb3NlZCBvciBzdG9wcGVkIG9yIGhhcyBhXG4gKiBkZXN0aW5hdGlvbiB0aGF0IGlzIGNsb3NlZCBvciBzdG9wcGVkIC0gaW4gd2hpY2ggY2FzZSBlcnJvcnMgd2lsbFxuICogbmVlZCB0byBiZSByZXBvcnRlZCB2aWEgYSBkaWZmZXJlbnQgbWVjaGFuaXNtLlxuICogQHBhcmFtIG9ic2VydmVyIHRoZSBvYnNlcnZlclxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FuUmVwb3J0RXJyb3Iob2JzZXJ2ZXI6IFN1YnNjcmliZXI8YW55PiB8IFN1YmplY3Q8YW55Pik6IGJvb2xlYW4ge1xuICB3aGlsZSAob2JzZXJ2ZXIpIHtcbiAgICBjb25zdCB7IGNsb3NlZCwgZGVzdGluYXRpb24sIGlzU3RvcHBlZCB9ID0gb2JzZXJ2ZXIgYXMgYW55O1xuICAgIGlmIChjbG9zZWQgfHwgaXNTdG9wcGVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbiBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgIG9ic2VydmVyID0gZGVzdGluYXRpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ic2VydmVyID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKipcbiAqIFRoZSBzYW1lIE9ic2VydmFibGUgaW5zdGFuY2UgcmV0dXJuZWQgYnkgYW55IGNhbGwgdG8ge0BsaW5rIGVtcHR5fSB3aXRob3V0IGFcbiAqIGBzY2hlZHVsZXJgLiBJdCBpcyBwcmVmZXJyYWJsZSB0byB1c2UgdGhpcyBvdmVyIGBlbXB0eSgpYC5cbiAqL1xuZXhwb3J0IGNvbnN0IEVNUFRZID0gbmV3IE9ic2VydmFibGU8bmV2ZXI+KHN1YnNjcmliZXIgPT4gc3Vic2NyaWJlci5jb21wbGV0ZSgpKTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBubyBpdGVtcyB0byB0aGUgT2JzZXJ2ZXIgYW5kIGltbWVkaWF0ZWx5XG4gKiBlbWl0cyBhIGNvbXBsZXRlIG5vdGlmaWNhdGlvbi5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SnVzdCBlbWl0cyAnY29tcGxldGUnLCBhbmQgbm90aGluZyBlbHNlLlxuICogPC9zcGFuPlxuICpcbiAqICFbXShlbXB0eS5wbmcpXG4gKlxuICogVGhpcyBzdGF0aWMgb3BlcmF0b3IgaXMgdXNlZnVsIGZvciBjcmVhdGluZyBhIHNpbXBsZSBPYnNlcnZhYmxlIHRoYXQgb25seVxuICogZW1pdHMgdGhlIGNvbXBsZXRlIG5vdGlmaWNhdGlvbi4gSXQgY2FuIGJlIHVzZWQgZm9yIGNvbXBvc2luZyB3aXRoIG90aGVyXG4gKiBPYnNlcnZhYmxlcywgc3VjaCBhcyBpbiBhIHtAbGluayBtZXJnZU1hcH0uXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqICMjIyBFbWl0IHRoZSBudW1iZXIgNywgdGhlbiBjb21wbGV0ZVxuICogYGBgamF2YXNjcmlwdFxuICogY29uc3QgcmVzdWx0ID0gZW1wdHkoKS5waXBlKHN0YXJ0V2l0aCg3KSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogIyMjIE1hcCBhbmQgZmxhdHRlbiBvbmx5IG9kZCBudW1iZXJzIHRvIHRoZSBzZXF1ZW5jZSAnYScsICdiJywgJ2MnXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25zdCBpbnRlcnZhbCQgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIHJlc3VsdCA9IGludGVydmFsJC5waXBlKFxuICogICBtZXJnZU1hcCh4ID0+IHggJSAyID09PSAxID8gb2YoJ2EnLCAnYicsICdjJykgOiBlbXB0eSgpKSxcbiAqICk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIFJlc3VsdHMgaW4gdGhlIGZvbGxvd2luZyB0byB0aGUgY29uc29sZTpcbiAqIC8vIHggaXMgZXF1YWwgdG8gdGhlIGNvdW50IG9uIHRoZSBpbnRlcnZhbCBlZygwLDEsMiwzLC4uLilcbiAqIC8vIHggd2lsbCBvY2N1ciBldmVyeSAxMDAwbXNcbiAqIC8vIGlmIHggJSAyIGlzIGVxdWFsIHRvIDEgcHJpbnQgYWJjXG4gKiAvLyBpZiB4ICUgMiBpcyBub3QgZXF1YWwgdG8gMSBub3RoaW5nIHdpbGwgYmUgb3V0cHV0XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBPYnNlcnZhYmxlfVxuICogQHNlZSB7QGxpbmsgbmV2ZXJ9XG4gKiBAc2VlIHtAbGluayBvZn1cbiAqIEBzZWUge0BsaW5rIHRocm93RXJyb3J9XG4gKlxuICogQHBhcmFtIHtTY2hlZHVsZXJMaWtlfSBbc2NoZWR1bGVyXSBBIHtAbGluayBTY2hlZHVsZXJMaWtlfSB0byB1c2UgZm9yIHNjaGVkdWxpbmdcbiAqIHRoZSBlbWlzc2lvbiBvZiB0aGUgY29tcGxldGUgbm90aWZpY2F0aW9uLlxuICogQHJldHVybiB7T2JzZXJ2YWJsZX0gQW4gXCJlbXB0eVwiIE9ic2VydmFibGU6IGVtaXRzIG9ubHkgdGhlIGNvbXBsZXRlXG4gKiBub3RpZmljYXRpb24uXG4gKiBAc3RhdGljIHRydWVcbiAqIEBuYW1lIGVtcHR5XG4gKiBAb3duZXIgT2JzZXJ2YWJsZVxuICogQGRlcHJlY2F0ZWQgRGVwcmVjYXRlZCBpbiBmYXZvciBvZiB1c2luZyB7QGxpbmsgaW5kZXgvRU1QVFl9IGNvbnN0YW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZW1wdHkoc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZSkge1xuICByZXR1cm4gc2NoZWR1bGVyID8gZW1wdHlTY2hlZHVsZWQoc2NoZWR1bGVyKSA6IEVNUFRZO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1wdHlTY2hlZHVsZWQoc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlKSB7XG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxuZXZlcj4oc3Vic2NyaWJlciA9PiBzY2hlZHVsZXIuc2NoZWR1bGUoKCkgPT4gc3Vic2NyaWJlci5jb21wbGV0ZSgpKSk7XG59XG4iLCJpbXBvcnQgeyBPcGVyYXRvciB9IGZyb20gJy4uL09wZXJhdG9yJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yIH0gZnJvbSAnLi4vdXRpbC9Bcmd1bWVudE91dE9mUmFuZ2VFcnJvcic7XG5pbXBvcnQgeyBlbXB0eSB9IGZyb20gJy4uL29ic2VydmFibGUvZW1wdHknO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBUZWFyZG93bkxvZ2ljIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKipcbiAqIEVtaXRzIG9ubHkgdGhlIGZpcnN0IGBjb3VudGAgdmFsdWVzIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5UYWtlcyB0aGUgZmlyc3QgYGNvdW50YCB2YWx1ZXMgZnJvbSB0aGUgc291cmNlLCB0aGVuXG4gKiBjb21wbGV0ZXMuPC9zcGFuPlxuICpcbiAqICFbXSh0YWtlLnBuZylcbiAqXG4gKiBgdGFrZWAgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgb25seSB0aGUgZmlyc3QgYGNvdW50YCB2YWx1ZXMgZW1pdHRlZFxuICogYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLiBJZiB0aGUgc291cmNlIGVtaXRzIGZld2VyIHRoYW4gYGNvdW50YCB2YWx1ZXMgdGhlblxuICogYWxsIG9mIGl0cyB2YWx1ZXMgYXJlIGVtaXR0ZWQuIEFmdGVyIHRoYXQsIGl0IGNvbXBsZXRlcywgcmVnYXJkbGVzcyBpZiB0aGVcbiAqIHNvdXJjZSBjb21wbGV0ZXMuXG4gKlxuICogIyMgRXhhbXBsZVxuICogVGFrZSB0aGUgZmlyc3QgNSBzZWNvbmRzIG9mIGFuIGluZmluaXRlIDEtc2Vjb25kIGludGVydmFsIE9ic2VydmFibGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGltcG9ydCB7IGludGVydmFsIH0gZnJvbSAncnhqcyc7XG4gKiBpbXBvcnQgeyB0YWtlIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuICpcbiAqIGNvbnN0IGludGVydmFsQ291bnQgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIGNvbnN0IHRha2VGaXZlID0gaW50ZXJ2YWxDb3VudC5waXBlKHRha2UoNSkpO1xuICogdGFrZUZpdmUuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAwXG4gKiAvLyAxXG4gKiAvLyAyXG4gKiAvLyAzXG4gKiAvLyA0XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayB0YWtlTGFzdH1cbiAqIEBzZWUge0BsaW5rIHRha2VVbnRpbH1cbiAqIEBzZWUge0BsaW5rIHRha2VXaGlsZX1cbiAqIEBzZWUge0BsaW5rIHNraXB9XG4gKlxuICogQHRocm93cyB7QXJndW1lbnRPdXRPZlJhbmdlRXJyb3J9IFdoZW4gdXNpbmcgYHRha2UoaSlgLCBpdCBkZWxpdmVycyBhblxuICogQXJndW1lbnRPdXRPclJhbmdlRXJyb3IgdG8gdGhlIE9ic2VydmVyJ3MgYGVycm9yYCBjYWxsYmFjayBpZiBgaSA8IDBgLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudCBUaGUgbWF4aW11bSBudW1iZXIgb2YgYG5leHRgIHZhbHVlcyB0byBlbWl0LlxuICogQHJldHVybiB7T2JzZXJ2YWJsZTxUPn0gQW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIG9ubHkgdGhlIGZpcnN0IGBjb3VudGBcbiAqIHZhbHVlcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgb3IgYWxsIG9mIHRoZSB2YWx1ZXMgZnJvbSB0aGUgc291cmNlXG4gKiBpZiB0aGUgc291cmNlIGVtaXRzIGZld2VyIHRoYW4gYGNvdW50YCB2YWx1ZXMuXG4gKiBAbWV0aG9kIHRha2VcbiAqIEBvd25lciBPYnNlcnZhYmxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0YWtlPFQ+KGNvdW50OiBudW1iZXIpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gKHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4ge1xuICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGVtcHR5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgVGFrZU9wZXJhdG9yKGNvdW50KSk7XG4gICAgfVxuICB9O1xufVxuXG5jbGFzcyBUYWtlT3BlcmF0b3I8VD4gaW1wbGVtZW50cyBPcGVyYXRvcjxULCBUPiB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgdG90YWw6IG51bWJlcikge1xuICAgIGlmICh0aGlzLnRvdGFsIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGNhbGwoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPiwgc291cmNlOiBhbnkpOiBUZWFyZG93bkxvZ2ljIHtcbiAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgVGFrZVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy50b3RhbCkpO1xuICB9XG59XG5cbi8qKlxuICogV2UgbmVlZCB0aGlzIEpTRG9jIGNvbW1lbnQgZm9yIGFmZmVjdGluZyBFU0RvYy5cbiAqIEBpZ25vcmVcbiAqIEBleHRlbmRzIHtJZ25vcmVkfVxuICovXG5jbGFzcyBUYWtlU3Vic2NyaWJlcjxUPiBleHRlbmRzIFN1YnNjcmliZXI8VD4ge1xuICBwcml2YXRlIGNvdW50OiBudW1iZXIgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKGRlc3RpbmF0aW9uOiBTdWJzY3JpYmVyPFQ+LCBwcml2YXRlIHRvdGFsOiBudW1iZXIpIHtcbiAgICBzdXBlcihkZXN0aW5hdGlvbik7XG4gIH1cblxuICBwcm90ZWN0ZWQgX25leHQodmFsdWU6IFQpOiB2b2lkIHtcbiAgICBjb25zdCB0b3RhbCA9IHRoaXMudG90YWw7XG4gICAgY29uc3QgY291bnQgPSArK3RoaXMuY291bnQ7XG4gICAgaWYgKGNvdW50IDw9IHRvdGFsKSB7XG4gICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgaWYgKGNvdW50ID09PSB0b3RhbCkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yIH0gZnJvbSAnLi4vT3BlcmF0b3InO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0SWZFbXB0eTxUPihkZWZhdWx0VmFsdWU/OiBUKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRJZkVtcHR5PFQsIFI+KGRlZmF1bHRWYWx1ZT86IFIpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBSPjtcbi8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5cbi8qKlxuICogRW1pdHMgYSBnaXZlbiB2YWx1ZSBpZiB0aGUgc291cmNlIE9ic2VydmFibGUgY29tcGxldGVzIHdpdGhvdXQgZW1pdHRpbmcgYW55XG4gKiBgbmV4dGAgdmFsdWUsIG90aGVyd2lzZSBtaXJyb3JzIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SWYgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHR1cm5zIG91dCB0byBiZSBlbXB0eSwgdGhlblxuICogdGhpcyBvcGVyYXRvciB3aWxsIGVtaXQgYSBkZWZhdWx0IHZhbHVlLjwvc3Bhbj5cbiAqXG4gKiAhW10oZGVmYXVsdElmRW1wdHkucG5nKVxuICpcbiAqIGBkZWZhdWx0SWZFbXB0eWAgZW1pdHMgdGhlIHZhbHVlcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBvciBhXG4gKiBzcGVjaWZpZWQgZGVmYXVsdCB2YWx1ZSBpZiB0aGUgc291cmNlIE9ic2VydmFibGUgaXMgZW1wdHkgKGNvbXBsZXRlcyB3aXRob3V0XG4gKiBoYXZpbmcgZW1pdHRlZCBhbnkgYG5leHRgIHZhbHVlKS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKiBJZiBubyBjbGlja3MgaGFwcGVuIGluIDUgc2Vjb25kcywgdGhlbiBlbWl0IFwibm8gY2xpY2tzXCJcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBjbGlja3NCZWZvcmVGaXZlID0gY2xpY2tzLnBpcGUodGFrZVVudGlsKGludGVydmFsKDUwMDApKSk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3NCZWZvcmVGaXZlLnBpcGUoZGVmYXVsdElmRW1wdHkoJ25vIGNsaWNrcycpKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBlbXB0eX1cbiAqIEBzZWUge0BsaW5rIGxhc3R9XG4gKlxuICogQHBhcmFtIHthbnl9IFtkZWZhdWx0VmFsdWU9bnVsbF0gVGhlIGRlZmF1bHQgdmFsdWUgdXNlZCBpZiB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlIGlzIGVtcHR5LlxuICogQHJldHVybiB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGVpdGhlciB0aGUgc3BlY2lmaWVkXG4gKiBgZGVmYXVsdFZhbHVlYCBpZiB0aGUgc291cmNlIE9ic2VydmFibGUgZW1pdHMgbm8gaXRlbXMsIG9yIHRoZSB2YWx1ZXMgZW1pdHRlZFxuICogYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICogQG1ldGhvZCBkZWZhdWx0SWZFbXB0eVxuICogQG93bmVyIE9ic2VydmFibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRJZkVtcHR5PFQsIFI+KGRlZmF1bHRWYWx1ZTogUiA9IG51bGwpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBSPiB7XG4gIHJldHVybiAoc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiBzb3VyY2UubGlmdChuZXcgRGVmYXVsdElmRW1wdHlPcGVyYXRvcihkZWZhdWx0VmFsdWUpKSBhcyBPYnNlcnZhYmxlPFQgfCBSPjtcbn1cblxuY2xhc3MgRGVmYXVsdElmRW1wdHlPcGVyYXRvcjxULCBSPiBpbXBsZW1lbnRzIE9wZXJhdG9yPFQsIFQgfCBSPiB7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBkZWZhdWx0VmFsdWU6IFIpIHtcbiAgfVxuXG4gIGNhbGwoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUIHwgUj4sIHNvdXJjZTogYW55KTogYW55IHtcbiAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRGVmYXVsdElmRW1wdHlTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuZGVmYXVsdFZhbHVlKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBXZSBuZWVkIHRoaXMgSlNEb2MgY29tbWVudCBmb3IgYWZmZWN0aW5nIEVTRG9jLlxuICogQGlnbm9yZVxuICogQGV4dGVuZHMge0lnbm9yZWR9XG4gKi9cbmNsYXNzIERlZmF1bHRJZkVtcHR5U3Vic2NyaWJlcjxULCBSPiBleHRlbmRzIFN1YnNjcmliZXI8VD4ge1xuICBwcml2YXRlIGlzRW1wdHk6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKGRlc3RpbmF0aW9uOiBTdWJzY3JpYmVyPFQgfCBSPiwgcHJpdmF0ZSBkZWZhdWx0VmFsdWU6IFIpIHtcbiAgICBzdXBlcihkZXN0aW5hdGlvbik7XG4gIH1cblxuICBwcm90ZWN0ZWQgX25leHQodmFsdWU6IFQpOiB2b2lkIHtcbiAgICB0aGlzLmlzRW1wdHkgPSBmYWxzZTtcbiAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9jb21wbGV0ZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc0VtcHR5KSB7XG4gICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodGhpcy5kZWZhdWx0VmFsdWUpO1xuICAgIH1cbiAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yIH0gZnJvbSAnLi4vT3BlcmF0b3InO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBQYXJ0aWFsT2JzZXJ2ZXIsIFRlYXJkb3duTG9naWMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbmV4cG9ydCBmdW5jdGlvbiB0YXA8VD4obmV4dD86ICh4OiBUKSA9PiB2b2lkLCBlcnJvcj86IChlOiBhbnkpID0+IHZvaWQsIGNvbXBsZXRlPzogKCkgPT4gdm9pZCk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcbmV4cG9ydCBmdW5jdGlvbiB0YXA8VD4ob2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxUPik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcbi8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5cbi8qKlxuICogUGVyZm9ybSBhIHNpZGUgZWZmZWN0IGZvciBldmVyeSBlbWlzc2lvbiBvbiB0aGUgc291cmNlIE9ic2VydmFibGUsIGJ1dCByZXR1cm5cbiAqIGFuIE9ic2VydmFibGUgdGhhdCBpcyBpZGVudGljYWwgdG8gdGhlIHNvdXJjZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SW50ZXJjZXB0cyBlYWNoIGVtaXNzaW9uIG9uIHRoZSBzb3VyY2UgYW5kIHJ1bnMgYVxuICogZnVuY3Rpb24sIGJ1dCByZXR1cm5zIGFuIG91dHB1dCB3aGljaCBpcyBpZGVudGljYWwgdG8gdGhlIHNvdXJjZSBhcyBsb25nIGFzIGVycm9ycyBkb24ndCBvY2N1ci48L3NwYW4+XG4gKlxuICogIVtdKGRvLnBuZylcbiAqXG4gKiBSZXR1cm5zIGEgbWlycm9yZWQgT2JzZXJ2YWJsZSBvZiB0aGUgc291cmNlIE9ic2VydmFibGUsIGJ1dCBtb2RpZmllZCBzbyB0aGF0XG4gKiB0aGUgcHJvdmlkZWQgT2JzZXJ2ZXIgaXMgY2FsbGVkIHRvIHBlcmZvcm0gYSBzaWRlIGVmZmVjdCBmb3IgZXZlcnkgdmFsdWUsXG4gKiBlcnJvciwgYW5kIGNvbXBsZXRpb24gZW1pdHRlZCBieSB0aGUgc291cmNlLiBBbnkgZXJyb3JzIHRoYXQgYXJlIHRocm93biBpblxuICogdGhlIGFmb3JlbWVudGlvbmVkIE9ic2VydmVyIG9yIGhhbmRsZXJzIGFyZSBzYWZlbHkgc2VudCBkb3duIHRoZSBlcnJvciBwYXRoXG4gKiBvZiB0aGUgb3V0cHV0IE9ic2VydmFibGUuXG4gKlxuICogVGhpcyBvcGVyYXRvciBpcyB1c2VmdWwgZm9yIGRlYnVnZ2luZyB5b3VyIE9ic2VydmFibGVzIGZvciB0aGUgY29ycmVjdCB2YWx1ZXNcbiAqIG9yIHBlcmZvcm1pbmcgb3RoZXIgc2lkZSBlZmZlY3RzLlxuICpcbiAqIE5vdGU6IHRoaXMgaXMgZGlmZmVyZW50IHRvIGEgYHN1YnNjcmliZWAgb24gdGhlIE9ic2VydmFibGUuIElmIHRoZSBPYnNlcnZhYmxlXG4gKiByZXR1cm5lZCBieSBgdGFwYCBpcyBub3Qgc3Vic2NyaWJlZCwgdGhlIHNpZGUgZWZmZWN0cyBzcGVjaWZpZWQgYnkgdGhlXG4gKiBPYnNlcnZlciB3aWxsIG5ldmVyIGhhcHBlbi4gYHRhcGAgdGhlcmVmb3JlIHNpbXBseSBzcGllcyBvbiBleGlzdGluZ1xuICogZXhlY3V0aW9uLCBpdCBkb2VzIG5vdCB0cmlnZ2VyIGFuIGV4ZWN1dGlvbiB0byBoYXBwZW4gbGlrZSBgc3Vic2NyaWJlYCBkb2VzLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqIE1hcCBldmVyeSBjbGljayB0byB0aGUgY2xpZW50WCBwb3NpdGlvbiBvZiB0aGF0IGNsaWNrLCB3aGlsZSBhbHNvIGxvZ2dpbmcgdGhlIGNsaWNrIGV2ZW50XG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgcG9zaXRpb25zID0gY2xpY2tzLnBpcGUoXG4gKiAgIHRhcChldiA9PiBjb25zb2xlLmxvZyhldikpLFxuICogICBtYXAoZXYgPT4gZXYuY2xpZW50WCksXG4gKiApO1xuICogcG9zaXRpb25zLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIG1hcH1cbiAqIEBzZWUge0BsaW5rIE9ic2VydmFibGUjc3Vic2NyaWJlfVxuICpcbiAqIEBwYXJhbSB7T2JzZXJ2ZXJ8ZnVuY3Rpb259IFtuZXh0T3JPYnNlcnZlcl0gQSBub3JtYWwgT2JzZXJ2ZXIgb2JqZWN0IG9yIGFcbiAqIGNhbGxiYWNrIGZvciBgbmV4dGAuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbZXJyb3JdIENhbGxiYWNrIGZvciBlcnJvcnMgaW4gdGhlIHNvdXJjZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjb21wbGV0ZV0gQ2FsbGJhY2sgZm9yIHRoZSBjb21wbGV0aW9uIG9mIHRoZSBzb3VyY2UuXG4gKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIGlkZW50aWNhbCB0byB0aGUgc291cmNlLCBidXQgcnVucyB0aGVcbiAqIHNwZWNpZmllZCBPYnNlcnZlciBvciBjYWxsYmFjayhzKSBmb3IgZWFjaCBpdGVtLlxuICogQG5hbWUgdGFwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0YXA8VD4obmV4dE9yT2JzZXJ2ZXI/OiBQYXJ0aWFsT2JzZXJ2ZXI8VD4gfCAoKHg6IFQpID0+IHZvaWQpLFxuICAgICAgICAgICAgICAgICAgICAgICBlcnJvcj86IChlOiBhbnkpID0+IHZvaWQsXG4gICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlPzogKCkgPT4gdm9pZCk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBmdW5jdGlvbiB0YXBPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZTogT2JzZXJ2YWJsZTxUPik6IE9ic2VydmFibGU8VD4ge1xuICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgRG9PcGVyYXRvcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSk7XG4gIH07XG59XG5cbmNsYXNzIERvT3BlcmF0b3I8VD4gaW1wbGVtZW50cyBPcGVyYXRvcjxULCBUPiB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbmV4dE9yT2JzZXJ2ZXI/OiBQYXJ0aWFsT2JzZXJ2ZXI8VD4gfCAoKHg6IFQpID0+IHZvaWQpLFxuICAgICAgICAgICAgICBwcml2YXRlIGVycm9yPzogKGU6IGFueSkgPT4gdm9pZCxcbiAgICAgICAgICAgICAgcHJpdmF0ZSBjb21wbGV0ZT86ICgpID0+IHZvaWQpIHtcbiAgfVxuICBjYWxsKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4sIHNvdXJjZTogYW55KTogVGVhcmRvd25Mb2dpYyB7XG4gICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFRhcFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5uZXh0T3JPYnNlcnZlciwgdGhpcy5lcnJvciwgdGhpcy5jb21wbGV0ZSkpO1xuICB9XG59XG5cbi8qKlxuICogV2UgbmVlZCB0aGlzIEpTRG9jIGNvbW1lbnQgZm9yIGFmZmVjdGluZyBFU0RvYy5cbiAqIEBpZ25vcmVcbiAqIEBleHRlbmRzIHtJZ25vcmVkfVxuICovXG5cbmNsYXNzIFRhcFN1YnNjcmliZXI8VD4gZXh0ZW5kcyBTdWJzY3JpYmVyPFQ+IHtcbiAgcHJpdmF0ZSBfY29udGV4dDogYW55O1xuXG4gIHByaXZhdGUgX3RhcE5leHQ6ICgodmFsdWU6IFQpID0+IHZvaWQpID0gbm9vcDtcblxuICBwcml2YXRlIF90YXBFcnJvcjogKChlcnI6IGFueSkgPT4gdm9pZCkgPSBub29wO1xuXG4gIHByaXZhdGUgX3RhcENvbXBsZXRlOiAoKCkgPT4gdm9pZCkgPSBub29wO1xuXG4gIGNvbnN0cnVjdG9yKGRlc3RpbmF0aW9uOiBTdWJzY3JpYmVyPFQ+LFxuICAgICAgICAgICAgICBvYnNlcnZlck9yTmV4dD86IFBhcnRpYWxPYnNlcnZlcjxUPiB8ICgodmFsdWU6IFQpID0+IHZvaWQpLFxuICAgICAgICAgICAgICBlcnJvcj86IChlPzogYW55KSA9PiB2b2lkLFxuICAgICAgICAgICAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQpIHtcbiAgICAgIHN1cGVyKGRlc3RpbmF0aW9uKTtcbiAgICAgIHRoaXMuX3RhcEVycm9yID0gZXJyb3IgfHwgbm9vcDtcbiAgICAgIHRoaXMuX3RhcENvbXBsZXRlID0gY29tcGxldGUgfHwgbm9vcDtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKG9ic2VydmVyT3JOZXh0KSkge1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gdGhpcztcbiAgICAgICAgdGhpcy5fdGFwTmV4dCA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgfSBlbHNlIGlmIChvYnNlcnZlck9yTmV4dCkge1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgIHRoaXMuX3RhcE5leHQgPSBvYnNlcnZlck9yTmV4dC5uZXh0IHx8IG5vb3A7XG4gICAgICAgIHRoaXMuX3RhcEVycm9yID0gb2JzZXJ2ZXJPck5leHQuZXJyb3IgfHwgbm9vcDtcbiAgICAgICAgdGhpcy5fdGFwQ29tcGxldGUgPSBvYnNlcnZlck9yTmV4dC5jb21wbGV0ZSB8fCBub29wO1xuICAgICAgfVxuICAgIH1cblxuICBfbmV4dCh2YWx1ZTogVCkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLl90YXBOZXh0LmNhbGwodGhpcy5fY29udGV4dCwgdmFsdWUpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICB9XG5cbiAgX2Vycm9yKGVycjogYW55KSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuX3RhcEVycm9yLmNhbGwodGhpcy5fY29udGV4dCwgZXJyKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICB9XG5cbiAgX2NvbXBsZXRlKCkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLl90YXBDb21wbGV0ZS5jYWxsKHRoaXMuX2NvbnRleHQsICk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IHRhcCB9IGZyb20gJy4vdGFwJztcbmltcG9ydCB7IEVtcHR5RXJyb3IgfSBmcm9tICcuLi91dGlsL0VtcHR5RXJyb3InO1xuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKipcbiAqIElmIHRoZSBzb3VyY2Ugb2JzZXJ2YWJsZSBjb21wbGV0ZXMgd2l0aG91dCBlbWl0dGluZyBhIHZhbHVlLCBpdCB3aWxsIGVtaXRcbiAqIGFuIGVycm9yLiBUaGUgZXJyb3Igd2lsbCBiZSBjcmVhdGVkIGF0IHRoYXQgdGltZSBieSB0aGUgb3B0aW9uYWxcbiAqIGBlcnJvckZhY3RvcnlgIGFyZ3VtZW50LCBvdGhlcndpc2UsIHRoZSBlcnJvciB3aWxsIGJlIHtAbGluayBFbXB0eUVycm9yfS5cbiAqXG4gKiAhW10odGhyb3dJZkVtcHR5LnBuZylcbiAqXG4gKiAjIyBFeGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25zdCBjbGljayQgPSBmcm9tRXZlbnQoYnV0dG9uLCAnY2xpY2snKTtcbiAqXG4gKiBjbGlja3MkLnBpcGUoXG4gKiAgIHRha2VVbnRpbCh0aW1lcigxMDAwKSksXG4gKiAgIHRocm93SWZFbXB0eShcbiAqICAgICAoKSA9PiBuZXcgRXJyb3IoJ3RoZSBidXR0b24gd2FzIG5vdCBjbGlja2VkIHdpdGhpbiAxIHNlY29uZCcpXG4gKiAgICksXG4gKiApXG4gKiAuc3Vic2NyaWJlKHtcbiAqICAgbmV4dCgpIHsgY29uc29sZS5sb2coJ1RoZSBidXR0b24gd2FzIGNsaWNrZWQnKTsgfSxcbiAqICAgZXJyb3IoZXJyKSB7IGNvbnNvbGUuZXJyb3IoZXJyKTsgfSxcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2Vycm9yRmFjdG9yeV0gQSBmYWN0b3J5IGZ1bmN0aW9uIGNhbGxlZCB0byBwcm9kdWNlIHRoZVxuICogZXJyb3IgdG8gYmUgdGhyb3duIHdoZW4gdGhlIHNvdXJjZSBvYnNlcnZhYmxlIGNvbXBsZXRlcyB3aXRob3V0IGVtaXR0aW5nIGFcbiAqIHZhbHVlLlxuICovXG5leHBvcnQgY29uc3QgdGhyb3dJZkVtcHR5ID1cbiAgPFQ+KGVycm9yRmFjdG9yeTogKCgpID0+IGFueSkgPSBkZWZhdWx0RXJyb3JGYWN0b3J5KSA9PiB0YXA8VD4oe1xuICAgIGhhc1ZhbHVlOiBmYWxzZSxcbiAgICBuZXh0KCkgeyB0aGlzLmhhc1ZhbHVlID0gdHJ1ZTsgfSxcbiAgICBjb21wbGV0ZSgpIHtcbiAgICAgIGlmICghdGhpcy5oYXNWYWx1ZSkge1xuICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gYXMgYW55KTtcblxuZnVuY3Rpb24gZGVmYXVsdEVycm9yRmFjdG9yeSgpIHtcbiAgcmV0dXJuIG5ldyBFbXB0eUVycm9yKCk7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gaWRlbnRpdHk8VD4oeDogVCk6IFQge1xuICByZXR1cm4geDtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IE9wZXJhdG9yIH0gZnJvbSAnLi4vT3BlcmF0b3InO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgRW1wdHlFcnJvciB9IGZyb20gJy4uL3V0aWwvRW1wdHlFcnJvcic7XG5pbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vLi4vaW50ZXJuYWwvdHlwZXMnO1xuaW1wb3J0IHsgZmlsdGVyIH0gZnJvbSAnLi9maWx0ZXInO1xuaW1wb3J0IHsgdGFrZSB9IGZyb20gJy4vdGFrZSc7XG5pbXBvcnQgeyBkZWZhdWx0SWZFbXB0eSB9IGZyb20gJy4vZGVmYXVsdElmRW1wdHknO1xuaW1wb3J0IHsgdGhyb3dJZkVtcHR5IH0gZnJvbSAnLi90aHJvd0lmRW1wdHknO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcblxuLyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5leHBvcnQgZnVuY3Rpb24gZmlyc3Q8VCwgRCA9IFQ+KFxuICBwcmVkaWNhdGU/OiBudWxsLFxuICBkZWZhdWx0VmFsdWU/OiBEXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBEPjtcbmV4cG9ydCBmdW5jdGlvbiBmaXJzdDxULCBTIGV4dGVuZHMgVD4oXG4gIHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IHZhbHVlIGlzIFMsXG4gIGRlZmF1bHRWYWx1ZT86IFNcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgUz47XG5leHBvcnQgZnVuY3Rpb24gZmlyc3Q8VCwgRCA9IFQ+KFxuICBwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiBib29sZWFuLFxuICBkZWZhdWx0VmFsdWU/OiBEXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBEPjtcbi8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5cbi8qKlxuICogRW1pdHMgb25seSB0aGUgZmlyc3QgdmFsdWUgKG9yIHRoZSBmaXJzdCB2YWx1ZSB0aGF0IG1lZXRzIHNvbWUgY29uZGl0aW9uKVxuICogZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkVtaXRzIG9ubHkgdGhlIGZpcnN0IHZhbHVlLiBPciBlbWl0cyBvbmx5IHRoZSBmaXJzdFxuICogdmFsdWUgdGhhdCBwYXNzZXMgc29tZSB0ZXN0Ljwvc3Bhbj5cbiAqXG4gKiAhW10oZmlyc3QucG5nKVxuICpcbiAqIElmIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cywgYGZpcnN0YCBlbWl0cyB0aGUgZmlyc3QgdmFsdWUgb2YgdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZSwgdGhlbiBjb21wbGV0ZXMuIElmIGNhbGxlZCB3aXRoIGEgYHByZWRpY2F0ZWAgZnVuY3Rpb24sIGBmaXJzdGBcbiAqIGVtaXRzIHRoZSBmaXJzdCB2YWx1ZSBvZiB0aGUgc291cmNlIHRoYXQgbWF0Y2hlcyB0aGUgc3BlY2lmaWVkIGNvbmRpdGlvbi4gSXRcbiAqIG1heSBhbHNvIHRha2UgYSBkZXByZWNhdGVkIGByZXN1bHRTZWxlY3RvcmAgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgb3V0cHV0XG4gKiB2YWx1ZSBmcm9tIHRoZSBpbnB1dCB2YWx1ZSwgYW5kIGEgYGRlZmF1bHRWYWx1ZWAgdG8gZW1pdCBpbiBjYXNlIHRoZSBzb3VyY2VcbiAqIGNvbXBsZXRlcyBiZWZvcmUgaXQgaXMgYWJsZSB0byBlbWl0IGEgdmFsaWQgdmFsdWUuIFRocm93cyBhbiBlcnJvciBpZlxuICogYGRlZmF1bHRWYWx1ZWAgd2FzIG5vdCBwcm92aWRlZCBhbmQgYSBtYXRjaGluZyBlbGVtZW50IGlzIG5vdCBmb3VuZC5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICogRW1pdCBvbmx5IHRoZSBmaXJzdCBjbGljayB0aGF0IGhhcHBlbnMgb24gdGhlIERPTVxuICogYGBgamF2YXNjcmlwdFxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKGZpcnN0KCkpO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEVtaXRzIHRoZSBmaXJzdCBjbGljayB0aGF0IGhhcHBlbnMgb24gYSBESVZcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3MucGlwZShmaXJzdChldiA9PiBldi50YXJnZXQudGFnTmFtZSA9PT0gJ0RJVicpKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBmaWx0ZXJ9XG4gKiBAc2VlIHtAbGluayBmaW5kfVxuICogQHNlZSB7QGxpbmsgdGFrZX1cbiAqXG4gKiBAdGhyb3dzIHtFbXB0eUVycm9yfSBEZWxpdmVycyBhbiBFbXB0eUVycm9yIHRvIHRoZSBPYnNlcnZlcidzIGBlcnJvcmBcbiAqIGNhbGxiYWNrIGlmIHRoZSBPYnNlcnZhYmxlIGNvbXBsZXRlcyBiZWZvcmUgYW55IGBuZXh0YCBub3RpZmljYXRpb24gd2FzIHNlbnQuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbih2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KTogYm9vbGVhbn0gW3ByZWRpY2F0ZV1cbiAqIEFuIG9wdGlvbmFsIGZ1bmN0aW9uIGNhbGxlZCB3aXRoIGVhY2ggaXRlbSB0byB0ZXN0IGZvciBjb25kaXRpb24gbWF0Y2hpbmcuXG4gKiBAcGFyYW0ge1J9IFtkZWZhdWx0VmFsdWVdIFRoZSBkZWZhdWx0IHZhbHVlIGVtaXR0ZWQgaW4gY2FzZSBubyB2YWxpZCB2YWx1ZVxuICogd2FzIGZvdW5kIG9uIHRoZSBzb3VyY2UuXG4gKiBAcmV0dXJuIHtPYnNlcnZhYmxlPFR8Uj59IEFuIE9ic2VydmFibGUgb2YgdGhlIGZpcnN0IGl0ZW0gdGhhdCBtYXRjaGVzIHRoZVxuICogY29uZGl0aW9uLlxuICogQG1ldGhvZCBmaXJzdFxuICogQG93bmVyIE9ic2VydmFibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0PFQsIEQ+KFxuICBwcmVkaWNhdGU/OiAoKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IGJvb2xlYW4pIHwgbnVsbCxcbiAgZGVmYXVsdFZhbHVlPzogRFxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgRD4ge1xuICBjb25zdCBoYXNEZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7XG4gIHJldHVybiAoc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiBzb3VyY2UucGlwZShcbiAgICBwcmVkaWNhdGUgPyBmaWx0ZXIoKHYsIGkpID0+IHByZWRpY2F0ZSh2LCBpLCBzb3VyY2UpKSA6IGlkZW50aXR5LFxuICAgIHRha2UoMSksXG4gICAgaGFzRGVmYXVsdFZhbHVlID8gZGVmYXVsdElmRW1wdHk8VCB8IEQ+KGRlZmF1bHRWYWx1ZSkgOiB0aHJvd0lmRW1wdHkoKCkgPT4gbmV3IEVtcHR5RXJyb3IoKSksXG4gICk7XG59XG4iLCJpbXBvcnQge0FkZHJlc3MsIENvbm5lY3Rpb25TdGF0ZSwgSUNvbm5lY3Rpb24sIElDb25uZWN0aW9uT3B0aW9ucywgTWFzdGVyQ2xvY2ssIE1lc3NhZ2UsIFdlYlJUQ0Nvbm5lY3Rpb259IGZyb20gJ21pdG9zaXMnO1xuaW1wb3J0IHtmaWx0ZXIsIGZpcnN0fSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdENvbm5lY3RvcjxUQ29ubmVjdGlvbiBleHRlbmRzIFdlYlJUQ0Nvbm5lY3Rpb24+IHtcbiAgcHJpdmF0ZSBfaW5BcmVhRWxlbWVudDogSFRNTFRleHRBcmVhRWxlbWVudDtcbiAgcHJpdmF0ZSBfb3V0QXJlYUVsZW1lbnQ6IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gIHByaXZhdGUgX2NyZWF0ZU9mZmVyQnRuOiBIVE1MQnV0dG9uRWxlbWVudDtcbiAgcHJpdmF0ZSBfY3JlYXRlQW5zd2VyQnRuOiBIVE1MQnV0dG9uRWxlbWVudDtcbiAgcHJpdmF0ZSBfZXN0YWJsaXNoQnRuOiBIVE1MQnV0dG9uRWxlbWVudDtcblxuICBwcm90ZWN0ZWQgX2Nvbm5lY3Rpb25zOiBBcnJheTxUQ29ubmVjdGlvbj47XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGJhc2VTZWxlY3Rvcjogc3RyaW5nO1xuICBwcm90ZWN0ZWQgYWJzdHJhY3QgYWRkcmVzczogQWRkcmVzcztcbiAgcHJvdGVjdGVkIGFic3RyYWN0IENvbm5lY3Rpb246IG5ldyguLi5hcmdzOiBBcnJheTxhbnk+KSA9PiBUQ29ubmVjdGlvbjtcbiAgcHJvdGVjdGVkIGFic3RyYWN0IGNvbm5lY3Rpb25PcHRpb25zOiBJQ29ubmVjdGlvbk9wdGlvbnM7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fY29ubmVjdGlvbnMgPSBbXTtcbiAgICBzZXRUaW1lb3V0KHRoaXMuaW5pdC5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlT2ZmZXIoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY29ubmVjdGlvbk9wdGlvbnMgJiYgdGhpcy5jb25uZWN0aW9uT3B0aW9ucy5wYXlsb2FkKSB7XG4gICAgICBkZWxldGUgdGhpcy5jb25uZWN0aW9uT3B0aW9ucy5wYXlsb2FkO1xuICAgIH1cbiAgICBjb25zdCBjb25uZWN0aW9uID0gbmV3IHRoaXMuQ29ubmVjdGlvbih0aGlzLmFkZHJlc3MsIG5ldyBNYXN0ZXJDbG9jaygpLCB0aGlzLmNvbm5lY3Rpb25PcHRpb25zKTtcbiAgICB0aGlzLl9jb25uZWN0aW9ucy51bnNoaWZ0KGNvbm5lY3Rpb24pO1xuICAgIGNvbm5lY3Rpb24ub2JzZXJ2ZU1lc3NhZ2VSZWNlaXZlZCgpXG4gICAgICAucGlwZShcbiAgICAgICAgZmlyc3QoKVxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgKG1lc3NhZ2U6IE1lc3NhZ2UpID0+IHtcbiAgICAgICAgICB0aGlzLl9vdXRBcmVhRWxlbWVudC52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UuZ2V0Qm9keSgpKTtcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgIHRoaXMuYmVmb3JlQ3JlYXRlT2ZmZXIoY29ubmVjdGlvbikudGhlbigoKSA9PiB7XG4gICAgICBjb25uZWN0aW9uLm9wZW4oKS50aGVuKHRoaXMub25PcGVuLmJpbmQodGhpcykpO1xuICAgIH0pO1xuXG4gICAgY29ubmVjdGlvbi5vYnNlcnZlU3RhdGVDaGFuZ2UoKS5zdWJzY3JpYmUoXG4gICAgICAoZXY6IENvbm5lY3Rpb25TdGF0ZSkgPT4gdGhpcy5fb3V0QXJlYUVsZW1lbnQudmFsdWUgPSBldik7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUFuc3dlcigpOiB2b2lkIHtcbiAgICB0aGlzLmNvbm5lY3Rpb25PcHRpb25zLnBheWxvYWQgPSBKU09OLnBhcnNlKHRoaXMuX2luQXJlYUVsZW1lbnQudmFsdWUpO1xuICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBuZXcgdGhpcy5Db25uZWN0aW9uKHRoaXMuYWRkcmVzcywgbmV3IE1hc3RlckNsb2NrKCksIHRoaXMuY29ubmVjdGlvbk9wdGlvbnMpO1xuICAgIHRoaXMuX2Nvbm5lY3Rpb25zLnVuc2hpZnQoY29ubmVjdGlvbik7XG4gICAgY29ubmVjdGlvbi5vYnNlcnZlTWVzc2FnZVJlY2VpdmVkKClcbiAgICAgIC5waXBlKFxuICAgICAgICBmaXJzdCgpXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKFxuICAgICAgICAobWVzc2FnZTogTWVzc2FnZSkgPT4ge1xuICAgICAgICAgIHRoaXMuX291dEFyZWFFbGVtZW50LnZhbHVlID0gSlNPTi5zdHJpbmdpZnkobWVzc2FnZS5nZXRCb2R5KCkpO1xuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgdGhpcy5iZWZvcmVDcmVhdGVBbnN3ZXIoY29ubmVjdGlvbikudGhlbigoKSA9PiB7XG4gICAgICBjb25uZWN0aW9uLm9wZW4oKS50aGVuKHRoaXMub25PcGVuLmJpbmQodGhpcywgY29ubmVjdGlvbikpO1xuICAgIH0pO1xuXG4gICAgY29ubmVjdGlvbi5vYnNlcnZlU3RhdGVDaGFuZ2UoKS5zdWJzY3JpYmUoXG4gICAgICAoZXY6IENvbm5lY3Rpb25TdGF0ZSkgPT4gdGhpcy5fb3V0QXJlYUVsZW1lbnQudmFsdWUgPSBldik7XG4gIH1cblxuICBwcml2YXRlIHBhc3RlZEFuc3dlcigpOiB2b2lkIHtcbiAgICB0aGlzLl9jcmVhdGVPZmZlckJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy5fY3JlYXRlQW5zd2VyQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB0aGlzLl9lc3RhYmxpc2hCdG4uZGlzYWJsZWQgPSBmYWxzZTtcblxuICB9XG5cbiAgcHJpdmF0ZSBwYXN0ZWRPZmZlcigpOiB2b2lkIHtcbiAgICB0aGlzLl9jcmVhdGVPZmZlckJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy5fY3JlYXRlQW5zd2VyQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5fZXN0YWJsaXNoQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIHByaXZhdGUgcGFzdGVkVW5rbm93bklucHV0KCkge1xuICAgIHRoaXMuX2NyZWF0ZU9mZmVyQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5fY3JlYXRlQW5zd2VyQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB0aGlzLl9lc3RhYmxpc2hCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgcHJpdmF0ZSBlc3RhYmxpc2goKTogdm9pZCB7XG4gICAgY29uc3QgYW5zd2VyID0gSlNPTi5wYXJzZSh0aGlzLl9pbkFyZWFFbGVtZW50LnZhbHVlKTtcbiAgICB0aGlzLl9jb25uZWN0aW9uc1swXS5lc3RhYmxpc2goe3BheWxvYWQ6IGFuc3dlcn0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIG9uT3Blbihjb25uZWN0aW9uOiBJQ29ubmVjdGlvbikge1xuICAgIHRoaXMuX2NyZWF0ZU9mZmVyQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5fY3JlYXRlQW5zd2VyQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB0aGlzLl9lc3RhYmxpc2hCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuX2luQXJlYUVsZW1lbnQudmFsdWUgPSAnJztcbiAgICBjb25uZWN0aW9uLm9ic2VydmVTdGF0ZUNoYW5nZSgpXG4gICAgICAucGlwZShcbiAgICAgICAgZmlsdGVyKGV2ID0+IGV2ID09PSBDb25uZWN0aW9uU3RhdGUuQ0xPU0VEKVxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSh0aGlzLm9uQ2xvc2UuYmluZCh0aGlzLCBjb25uZWN0aW9uKSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25DbG9zZShjb25uZWN0aW9uOiBUQ29ubmVjdGlvbikge1xuICAgIGNvbnN0IGluZGV4T2ZDb25uZWN0aW9uID0gdGhpcy5fY29ubmVjdGlvbnMuaW5kZXhPZihjb25uZWN0aW9uKTtcbiAgICBpZiAoaW5kZXhPZkNvbm5lY3Rpb24gIT09IC0xKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1JlbW92ZSBjb25uZWN0aW9uIHRoYXQgd2FzIGNsb3NlZCEnKTtcbiAgICAgIHRoaXMuX2Nvbm5lY3Rpb25zLnNwbGljZShpbmRleE9mQ29ubmVjdGlvbiwgMSk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGJpbmRJbnB1dEFyZWEoKTogdm9pZCB7XG4gICAgdGhpcy5faW5BcmVhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHZhbCA9IHRoaXMuX2luQXJlYUVsZW1lbnQudmFsdWU7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJzZWQ6IGFueSA9IEpTT04ucGFyc2UodmFsKTtcbiAgICAgICAgc3dpdGNoIChwYXJzZWQudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ29mZmVyJzpcbiAgICAgICAgICAgIHRoaXMucGFzdGVkT2ZmZXIoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2Fuc3dlcic6XG4gICAgICAgICAgICB0aGlzLnBhc3RlZEFuc3dlcigpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRoaXMucGFzdGVkVW5rbm93bklucHV0KCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRoaXMucGFzdGVkVW5rbm93bklucHV0KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLl9vdXRBcmVhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX291dEFyZWFFbGVtZW50LmZvY3VzKCk7XG4gICAgICB0aGlzLl9vdXRBcmVhRWxlbWVudC5zZWxlY3QoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBiaW5kQnV0dG9uTGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIHRoaXMuX2NyZWF0ZU9mZmVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jcmVhdGVPZmZlci5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9jcmVhdGVBbnN3ZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNyZWF0ZUFuc3dlci5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9lc3RhYmxpc2hCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmVzdGFibGlzaC5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBiZWZvcmVDcmVhdGVPZmZlcihjb25uZWN0aW9uOiBUQ29ubmVjdGlvbik6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBiZWZvcmVDcmVhdGVBbnN3ZXIoY29ubmVjdGlvbjogVENvbm5lY3Rpb24pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgaW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLl9pbkFyZWFFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLmJhc2VTZWxlY3Rvcn0gLmluLXRleHQtYXJlYWApO1xuICAgIHRoaXMuX291dEFyZWFFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLmJhc2VTZWxlY3Rvcn0gLm91dC10ZXh0LWFyZWFgKTtcbiAgICB0aGlzLl9jcmVhdGVPZmZlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5iYXNlU2VsZWN0b3J9IC5jcmVhdGUtb2ZmZXItYnRuYCk7XG4gICAgdGhpcy5fY3JlYXRlQW5zd2VyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLmJhc2VTZWxlY3Rvcn0gLmNyZWF0ZS1hbnN3ZXItYnRuYCk7XG4gICAgdGhpcy5fZXN0YWJsaXNoQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLmJhc2VTZWxlY3Rvcn0gLmVzdGFibGlzaC1idG5gKTtcbiAgICB0aGlzLnBhc3RlZFVua25vd25JbnB1dCgpO1xuICAgIHRoaXMuX2luQXJlYUVsZW1lbnQudmFsdWUgPSAnJztcbiAgICB0aGlzLl9vdXRBcmVhRWxlbWVudC52YWx1ZSA9IGBcbiAgICAxLiBDbGljayBvbiBcIkNyZWF0ZSBvZmZlclwiIGJ1dHRvblxcclxuICAgIDIuIENvcHkgb2ZmZXIgdGhhdCBhcHBlYXJzIGluIHRoaXMgdGV4dGFyZWFcXHJcbiAgICAzLiBPcGVuIGEgbmV3IHRhYiBhbmQgcGFzdGUgdGhlIG9mZmVyIGludG8gdGhlIHRleHRhcmVhIGFib3ZlIFwiQ3JlYXRlIG9mZmVyIGJ1dHRvblwiXFxyXG4gICAgNC4gQ2xpY2sgb24gXCJDcmVhdGUgYW5zd2VyXCIgYnV0dG9uXFxyXG4gICAgNS4gQ29weSB0aGUgYW5zd2VyIHRoYXQgYXBwZWFycyBpbiB0aGlzIHRleHRhcmVhXFxyXG4gICAgNi4gR28gdG8gdGhlIHByZXZpb3VzIHRhYiBhbmQgcGFzdGUgdGhlIGFuc3dlciBpbnRvIHRoZSB0ZXh0YXJlYSBhYm92ZSBcIkNyZWF0ZSBvZmZlciBidXR0b25cIlxcclxuICAgIDcuIENsaWNrIG9uIFwiRXN0YWJsaXNoXCIgYnV0dG9uXG4gICAgYDtcbiAgICB0aGlzLmJpbmRCdXR0b25MaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmJpbmRJbnB1dEFyZWEoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgQWRkcmVzcyxcbiAgQ2h1cm5UeXBlLFxuICBDb25uZWN0aW9uU3RhdGUsXG4gIElDb25uZWN0aW9uLFxuICBJQ29ubmVjdGlvbk9wdGlvbnMsXG4gIElTdHJlYW1DaHVybkV2ZW50LFxuICBNZXNzYWdlLFxuICBQcm90b2NvbCxcbiAgV2ViUlRDRGF0YUNvbm5lY3Rpb24sXG4gIFdlYlJUQ1N0cmVhbUNvbm5lY3Rpb25cbn0gZnJvbSAnbWl0b3Npcyc7XG5pbXBvcnQge0Fic3RyYWN0Q29ubmVjdG9yfSBmcm9tICcuL2Fic3RyYWN0LWNvbm5lY3Rvcic7XG5cbmV4cG9ydCBjbGFzcyBTdHJlYW1Db25uZWN0b3IgZXh0ZW5kcyBBYnN0cmFjdENvbm5lY3RvcjxXZWJSVENTdHJlYW1Db25uZWN0aW9uPiB7XG4gIHByaXZhdGUgX3ZpZGVvRWxlbWVudDogSFRNTFZpZGVvRWxlbWVudDtcbiAgcHJvdGVjdGVkIGJhc2VTZWxlY3RvciA9ICcuc3RyZWFtLXJ0Yyc7XG4gIHByb3RlY3RlZCBhZGRyZXNzID0gQWRkcmVzcy5mcm9tU3RyaW5nKCdtaXRvc2lzL3YxL251Y2x1cy93ZWJydGMtc3RyZWFtJyk7XG4gIHByb3RlY3RlZCBDb25uZWN0aW9uID0gV2ViUlRDU3RyZWFtQ29ubmVjdGlvbjtcbiAgcHJvdGVjdGVkIGNvbm5lY3Rpb25PcHRpb25zOiBJQ29ubmVjdGlvbk9wdGlvbnMgPSB7bWl0b3Npc0lkOiAnbnVjbGV1cyd9O1xuXG4gIHByb3RlY3RlZCBiZWZvcmVDcmVhdGVPZmZlcihjb25uZWN0aW9uOiBXZWJSVENTdHJlYW1Db25uZWN0aW9uKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBpZiAodGhpcy5fY29ubmVjdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcbiAgICAgICAgICB2aWRlbzogdHJ1ZSxcbiAgICAgICAgICBhdWRpbzogZmFsc2VcbiAgICAgICAgfSkudGhlbihcbiAgICAgICAgICAoc3RyZWFtOiBNZWRpYVN0cmVhbSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fdmlkZW9FbGVtZW50LnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24uc2V0U3RyZWFtKHN0cmVhbSk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzdHJlYW0gPSB0aGlzLl9jb25uZWN0aW9uc1sxXS5nZXRTdHJlYW0oKTtcbiAgICAgICAgaWYgKHN0cmVhbSkge1xuICAgICAgICAgIGNvbm5lY3Rpb24uc2V0U3RyZWFtKHN0cmVhbSk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbm5lY3Rpb24ub2JzZXJ2ZVN0cmVhbUNodXJuKCkuc3Vic2NyaWJlKFxuICAgICAgICAgICAgKHN0cmVhbUNodXJuRXY6IElTdHJlYW1DaHVybkV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChzdHJlYW1DaHVybkV2LnR5cGUgPT09IENodXJuVHlwZS5BRERFRCkge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24uc2V0U3RyZWFtKHN0cmVhbUNodXJuRXYuc3RyZWFtKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYmVmb3JlQ3JlYXRlQW5zd2VyKGNvbm5lY3Rpb246IFdlYlJUQ1N0cmVhbUNvbm5lY3Rpb24pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGlmIChjb25uZWN0aW9uLmdldFN0cmVhbSgpKSB7XG4gICAgICAgIHRoaXMuX3ZpZGVvRWxlbWVudC5zcmNPYmplY3QgPSBjb25uZWN0aW9uLmdldFN0cmVhbSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29ubmVjdGlvbi5vYnNlcnZlU3RyZWFtQ2h1cm4oKS5zdWJzY3JpYmUoXG4gICAgICAgICAgKHN0cmVhbUNodXJuRXY6IElTdHJlYW1DaHVybkV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoc3RyZWFtQ2h1cm5Fdi50eXBlID09PSBDaHVyblR5cGUuQURERUQpIHtcbiAgICAgICAgICAgICAgdGhpcy5fdmlkZW9FbGVtZW50LnNyY09iamVjdCA9IGNvbm5lY3Rpb24uZ2V0U3RyZWFtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIGluaXQoKTogdm9pZCB7XG4gICAgY29uc29sZS5sb2codGhpcy5iYXNlU2VsZWN0b3IpO1xuICAgIHRoaXMuX3ZpZGVvRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5iYXNlU2VsZWN0b3J9IHZpZGVvYCk7XG4gICAgc3VwZXIuaW5pdCgpO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBBZGRyZXNzLFxuICBBcHBDb250ZW50LFxuICBDb25uZWN0aW9uU3RhdGUsXG4gIElDb25uZWN0aW9uLFxuICBJQ29ubmVjdGlvbk9wdGlvbnMsXG4gIE1lc3NhZ2UsXG4gIFByb3RvY29sLFxuICBXZWJSVENEYXRhQ29ubmVjdGlvblxufSBmcm9tICdtaXRvc2lzJztcbmltcG9ydCB7QWJzdHJhY3RDb25uZWN0b3J9IGZyb20gJy4vYWJzdHJhY3QtY29ubmVjdG9yJztcblxuZXhwb3J0IGNsYXNzIERhdGFDb25uZWN0b3IgZXh0ZW5kcyBBYnN0cmFjdENvbm5lY3RvcjxXZWJSVENEYXRhQ29ubmVjdGlvbj4ge1xuICBwcml2YXRlIF9pbk1lc3NhZ2VzRWxlbWVudDogSFRNTFRleHRBcmVhRWxlbWVudDtcbiAgcHJpdmF0ZSBfb3V0TWVzc2FnZUVsZW1lbnQ6IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gIHByaXZhdGUgX291dE1lc3NhZ2VGaWVsZHNldEVsZW1lbnQ6IEhUTUxGaWVsZFNldEVsZW1lbnQ7XG4gIHByaXZhdGUgX3NlbmRFbGVtZW50OiBIVE1MQnV0dG9uRWxlbWVudDtcblxuICBwcm90ZWN0ZWQgYmFzZVNlbGVjdG9yID0gJy5kYXRhLXJ0Yyc7XG4gIHByb3RlY3RlZCBhZGRyZXNzID0gQWRkcmVzcy5mcm9tU3RyaW5nKCdtaXRvc2lzL3YxL251Y2x1cy93ZWJydGMtZGF0YScpO1xuICBwcm90ZWN0ZWQgQ29ubmVjdGlvbiA9IFdlYlJUQ0RhdGFDb25uZWN0aW9uO1xuICBwcm90ZWN0ZWQgY29ubmVjdGlvbk9wdGlvbnMgPSB7bWl0b3Npc0lkOiAnbnVjbGV1cyd9O1xuXG4gIHByaXZhdGUgc2VuZE1lc3NhZ2UoKSB7XG4gICAgdGhpcy5fY29ubmVjdGlvbnMuZm9yRWFjaCgoY29ubmVjdGlvbikgPT4ge1xuICAgICAgY29ubmVjdGlvbi5zZW5kKFxuICAgICAgICBuZXcgQXBwQ29udGVudChcbiAgICAgICAgICB0aGlzLmFkZHJlc3MsXG4gICAgICAgICAgY29ubmVjdGlvbi5nZXRBZGRyZXNzKCksXG4gICAgICAgICAgdGhpcy5fb3V0TWVzc2FnZUVsZW1lbnQudmFsdWVcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgb25NZXNzYWdlKG1lc3NhZ2U6IE1lc3NhZ2UpIHtcbiAgICBjb25zdCBtc2cgPSBgXG4gICAgICAkeytuZXcgRGF0ZSgpfSAke21lc3NhZ2UuZ2V0U2VuZGVyKCkuZ2V0SWQoKX0gJHttZXNzYWdlLmdldEJvZHkoKX1cbiAgICBgO1xuICAgIHRoaXMuX2luTWVzc2FnZXNFbGVtZW50LnZhbHVlID0gdGhpcy5faW5NZXNzYWdlc0VsZW1lbnQudmFsdWUgKz0gYFxcciR7bXNnfWA7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25PcGVuKGNvbm5lY3Rpb246IElDb25uZWN0aW9uKSB7XG4gICAgc3VwZXIub25PcGVuKGNvbm5lY3Rpb24pO1xuICAgIHRoaXMuX291dE1lc3NhZ2VGaWVsZHNldEVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICBjb25uZWN0aW9uLm9ic2VydmVNZXNzYWdlUmVjZWl2ZWQoKS5zdWJzY3JpYmUodGhpcy5vbk1lc3NhZ2UuYmluZCh0aGlzKSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25DbG9zZShjb25uZWN0aW9uOiBXZWJSVENEYXRhQ29ubmVjdGlvbikge1xuICAgIHN1cGVyLm9uQ2xvc2UoY29ubmVjdGlvbik7XG4gICAgaWYgKHRoaXMuX2Nvbm5lY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5fb3V0TWVzc2FnZUZpZWxkc2V0RWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGJpbmRCdXR0b25MaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuYmluZEJ1dHRvbkxpc3RlbmVycygpO1xuICAgIHRoaXMuX3NlbmRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zZW5kTWVzc2FnZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBpbml0KCk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKHRoaXMuYmFzZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbk1lc3NhZ2VzRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5iYXNlU2VsZWN0b3J9IC5pbi1tZXNzYWdlc2ApO1xuICAgIHRoaXMuX291dE1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLmJhc2VTZWxlY3Rvcn0gLm91dC1tZXNzYWdlYCk7XG4gICAgdGhpcy5fb3V0TWVzc2FnZUZpZWxkc2V0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5iYXNlU2VsZWN0b3J9IGZpZWxkc2V0Lm91dGApO1xuICAgIHRoaXMuX291dE1lc3NhZ2VGaWVsZHNldEVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuX3NlbmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLmJhc2VTZWxlY3Rvcn0gLnNlbmQtbXNnLWJ0bmApO1xuICAgIHN1cGVyLmluaXQoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtBZGRyZXNzLCBDb25uZWN0aW9uU3RhdGUsIElDb25uZWN0aW9uT3B0aW9ucywgTWVzc2FnZSwgUHJvdG9jb2wsIFdlYlJUQ1N0cmVhbUNvbm5lY3Rpb259IGZyb20gJ21pdG9zaXMnO1xuaW1wb3J0IHtTdHJlYW1Db25uZWN0b3J9IGZyb20gJy4vY29ubmVjdG9yL3N0cmVhbS1jb25uZWN0b3InO1xuaW1wb3J0IHtEYXRhQ29ubmVjdG9yfSBmcm9tICcuL2Nvbm5lY3Rvci9kYXRhLWNvbm5lY3Rvcic7XG5cbmNsYXNzIE51Y2xldXMge1xuICBwcml2YXRlIF9zdHJlYW1Db25uZWN0b3I6IFN0cmVhbUNvbm5lY3RvcjtcbiAgcHJpdmF0ZSBfZGF0YUNvbm5lY3RvcjogRGF0YUNvbm5lY3RvcjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9zdHJlYW1Db25uZWN0b3IgPSBuZXcgU3RyZWFtQ29ubmVjdG9yKCk7XG4gICAgdGhpcy5fZGF0YUNvbm5lY3RvciA9IG5ldyBEYXRhQ29ubmVjdG9yKCk7XG4gIH1cbn1cblxuY29uc3QgbnVjbGV1cyA9IG5ldyBOdWNsZXVzKCk7XG4iXSwic291cmNlUm9vdCI6IiJ9