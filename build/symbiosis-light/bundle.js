!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=27)}([function(e,t,n){"use strict";var r=n(2),i=n(3);var s=n(8),o=n(12);var a="function"==typeof Symbol&&Symbol.observable||"@@observable";function c(){}function u(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:c}var h=n(1),l=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,a=function(e,t,n){if(e){if(e instanceof i.a)return e;if(e[s.a])return e[s.a]()}return e||t||n?new i.a(e,t,n):new i.a(o.a)}(e,t,n);if(r?r.call(a,this.source):a.add(this.source||h.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),h.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){h.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,n=t.closed,r=t.destination,s=t.isStopped;if(n||s)return!1;e=r&&r instanceof i.a?r:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=d(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:u(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function d(e){if(e||(e=h.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var f=n(4);function g(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}g.prototype=Object.create(Error.prototype);var p=g,_=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.a(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(f.a);n.d(t,"a",function(){return b});var y=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.a(t,e),t}(i.a),b=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.a(t,e),t.prototype[s.a]=function(){return new y(this)},t.prototype.lift=function(e){var t=new m(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new p;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new p;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new p;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new p;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new p;return this.hasError?(e.error(this.thrownError),f.a.EMPTY):this.isStopped?(e.complete(),f.a.EMPTY):(this.observers.push(e),new _(this,e))},t.prototype.asObservable=function(){var e=new l;return e.source=this,e},t.create=function(e,t){return new m(e,t)},t}(l),m=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.a(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):f.a.EMPTY},t}(b)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(2),i=n(15),s=n(12),o=n(4),a=n(8),c=n(1),u=n(9),h=function(e){function t(n,r,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,o._parentSubscription=null,arguments.length){case 0:o.destination=s.a;break;case 1:if(!n){o.destination=s.a;break}if("object"==typeof n){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new l(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new l(o,n,r,i)}return o}return r.a(t,e),t.prototype[a.a]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this},t}(o.a),l=function(e){function t(t,n,r,o){var a,c=e.call(this)||this;c._parentSubscriber=t;var u=c;return Object(i.a)(n)?a=n:n&&(a=n.next,r=n.error,o=n.complete,n!==s.a&&(u=Object.create(n),Object(i.a)(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=r,c._complete=o,c}return r.a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.a.useDeprecatedSynchronousErrorHandling)throw e;Object(u.a)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return c.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Object(u.a)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(h)},function(e,t,n){"use strict";var r=Array.isArray||function(e){return e&&"number"==typeof e.length};var i,s=n(15),o={e:{}};function a(){try{return i.apply(this,arguments)}catch(e){return o.e=e,o}}function c(e){return i=e,a}function u(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}u.prototype=Object.create(Error.prototype);var h=u;n.d(t,"a",function(){return l});var l=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,i=this._parents,a=this._unsubscribe,u=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var l,f=-1,g=i?i.length:0;n;)n.remove(this),n=++f<g&&i[f]||null;if(Object(s.a)(a))c(a).call(this)===o&&(t=!0,e=e||(o.e instanceof h?d(o.e.errors):[o.e]));if(r(u))for(f=-1,g=u.length;++f<g;){var p=u[f];if(null!=(l=p)&&"object"==typeof l)if(c(p.unsubscribe).call(p)===o){t=!0,e=e||[];var _=o.e;_ instanceof h?e=e.concat(d(_.errors)):e.push(_)}}if(t)throw new h(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function d(e){return e.reduce(function(e,t){return e.concat(t instanceof h?t.errors:t)},[])}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(3);function s(e,t){return function(n){return n.lift(new o(e,t))}}var o=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(i.a)},function(e,t){var n,r,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c,u=[],h=!1,l=-1;function d(){h&&c&&(h=!1,c.length?u=c.concat(u):l=-1,u.length&&f())}function f(){if(!h){var e=a(d);h=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new g(e,t)),1!==u.length||h||a(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},function(e,t,n){"use strict";function r(e){setTimeout(function(){throw e})}n.d(t,"a",function(){return r})},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r=n(17),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var s=n(14);s.inherits=n(10);var o=n(19),a=n(23);s.inherits(l,o);for(var c=i(a.prototype),u=0;u<c.length;u++){var h=c[u];l.prototype[h]||(l.prototype[h]=a.prototype[h])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(1),i=n(9),s={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(29),i=n(30),s=n(31);function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=d(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(t,n),i=(e=a(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|f(t.length);return 0===(e=a(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):d(e,t);if("Buffer"===t.type&&s(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(h(t),e=a(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return F(e).length;t=(""+t).toLowerCase(),r=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var s,o=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,c/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var h=-1;for(s=n;s<a;s++)if(u(e,s)===u(t,-1===h?0:s-h)){if(-1===h&&(h=s),s-h+1===c)return h*o}else-1!==h&&(s-=s-h),h=-1}else for(n+c>a&&(n=a-c),s=n;s>=0;s--){for(var l=!0,d=0;d<c;d++)if(u(e,s+d)!==u(t,d)){l=!1;break}if(l)return s}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[n+o]=a}return o}function m(e,t,n,r){return W(F(t,e.length-n),e,n,r)}function v(e,t,n,r){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return v(e,t,n,r)}function C(e,t,n,r){return W(q(t),e,n,r)}function S(e,t,n,r){return W(function(e,t){for(var n,r,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}(t,e.length-n),e,n,r)}function w(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var s,o,a,c,u=e[i],h=null,l=u>239?4:u>223?3:u>191?2:1;if(i+l<=n)switch(l){case 1:u<128&&(h=u);break;case 2:128==(192&(s=e[i+1]))&&(c=(31&u)<<6|63&s)>127&&(h=c);break;case 3:s=e[i+1],o=e[i+2],128==(192&s)&&128==(192&o)&&(c=(15&u)<<12|(63&s)<<6|63&o)>2047&&(c<55296||c>57343)&&(h=c);break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(c=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&c<1114112&&(h=c)}null===h?(h=65533,l=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=l}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return h(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return l(null,e)},c.allocUnsafeSlow=function(e){return l(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return w(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),a=Math.min(s,o),u=this.slice(r,i),h=e.slice(t,n),l=0;l<a;++l)if(u[l]!==h[l]){s=u[l],o=h[l];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return m(this,e,t,n);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function R(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=t;s<n;++s)i+=j(e[s]);return i}function O(e,t,n){for(var r=e.slice(t,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,i,s){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-n,2);i<s;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function k(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-n,4);i<s;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,s){return s||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function x(e,t,n,r,s){return s||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=t,i=1,s=this[e+--r];r>0&&(i*=256);)s+=this[e+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},c.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):k(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):k(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<n&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var s=n-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):k(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):k(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return x(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return x(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,s=r-n;if(this===e&&n<t&&t<r)for(i=s-1;i>=0;--i)e[i+t]=this[i+n];else if(s<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var o=c.isBuffer(e)?e:F(new c(e,r).toString()),a=o.length;for(s=0;s<n-t;++s)this[s+t]=o[s%a]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,s=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(7))},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(13).Buffer)},function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",function(){return r})},function(e,t,n){var r=n(13),i=r.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=o),s(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var s,o,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(s=new Array(a-1),o=0;o<s.length;)s[o++]=arguments[o];return t.nextTick(function(){e.apply(null,s)})}}}:e.exports=t}).call(this,n(6))},function(e,t,n){(function(t){e.exports=u;var r=n(32)("simple-peer"),i=n(35),s=n(10),o=n(36),a=n(37),c=5e3;function u(e){var t,n,r=this;if(!(r instanceof u))return new u(e);if(r._id=o(4).toString("hex").slice(0,7),r._debug("new peer %o",e),e=Object.assign({allowHalfOpen:!1},e),a.Duplex.call(r,e),r.channelName=e.initiator?e.channelName||o(20).toString("hex"):null,r._isChromium="undefined"!=typeof window&&!!window.webkitRTCPeerConnection,r.initiator=e.initiator||!1,r.channelConfig=e.channelConfig||u.channelConfig,r.config=e.config||u.config,r.constraints=r._transformConstraints(e.constraints||u.constraints),r.offerConstraints=r._transformConstraints(e.offerConstraints||{}),r.answerConstraints=r._transformConstraints(e.answerConstraints||{}),r.sdpTransform=e.sdpTransform||function(e){return e},r.streams=e.streams||(e.stream?[e.stream]:[]),r.trickle=void 0===e.trickle||e.trickle,r.allowHalfTrickle=void 0!==e.allowHalfTrickle&&e.allowHalfTrickle,r.iceCompleteTimeout=e.iceCompleteTimeout||c,r.destroyed=!1,r.connected=!1,r.remoteAddress=void 0,r.remoteFamily=void 0,r.remotePort=void 0,r.localAddress=void 0,r.localPort=void 0,r._wrtc=e.wrtc&&"object"==typeof e.wrtc?e.wrtc:i(),!r._wrtc)throw"undefined"==typeof window?l("No WebRTC support: Specify `opts.wrtc` option in this environment","ERR_WEBRTC_SUPPORT"):l("No WebRTC support: Not a supported browser","ERR_WEBRTC_SUPPORT");r._pcReady=!1,r._channelReady=!1,r._iceComplete=!1,r._iceCompleteTimer=null,r._channel=null,r._pendingCandidates=[],r._isNegotiating=!r.initiator,r._batchedNegotiation=!1,r._queuedNegotiation=!1,r._sendersAwaitingStable=[],r._senderMap=new WeakMap,r._firstStable=!0,r._closingInterval=null,r._remoteTracks=[],r._remoteStreams=[],r._chunk=null,r._cb=null,r._interval=null,r._pc=new r._wrtc.RTCPeerConnection(r.config,r.constraints),(r._isChromium||r._wrtc&&r._wrtc.electronDaemon)&&(t=r._wrtc.RTCPeerConnection,(n=r._pc).createOffer=function(e){return new Promise((n,r)=>{t.prototype.createOffer.call(this,n,r,e)})},n.createAnswer=function(e){return new Promise((n,r)=>{t.prototype.createAnswer.call(this,n,r,e)})},n.setLocalDescription=function(e){return new Promise((n,r)=>{t.prototype.setLocalDescription.call(this,e,n,r)})},n.setRemoteDescription=function(e){return new Promise((n,r)=>{t.prototype.setRemoteDescription.call(this,e,n,r)})}),r._isReactNativeWebrtc="number"==typeof r._pc._peerConnectionId,r._pc.oniceconnectionstatechange=function(){r._onIceStateChange()},r._pc.onicegatheringstatechange=function(){r._onIceStateChange()},r._pc.onsignalingstatechange=function(){r._onSignalingStateChange()},r._pc.onicecandidate=function(e){r._onIceCandidate(e)},r.initiator?r._setupData({channel:r._pc.createDataChannel(r.channelName,r.channelConfig)}):r._pc.ondatachannel=function(e){r._setupData(e)},"addTrack"in r._pc&&(r.streams&&r.streams.forEach(function(e){r.addStream(e)}),r._pc.ontrack=function(e){r._onTrack(e)}),r.initiator&&r._needsNegotiation(),r._onFinishBound=function(){r._onFinish()},r.once("finish",r._onFinishBound)}function h(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}function l(e,t){var n=new Error(e);return n.code=t,n}function d(){}s(u,a.Duplex),u.WEBRTC_SUPPORT=!!i(),u.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478?transport=udp"}]},u.constraints={},u.channelConfig={},Object.defineProperty(u.prototype,"bufferSize",{get:function(){return this._channel&&this._channel.bufferedAmount||0}}),u.prototype.address=function(){return{port:this.localPort,family:"IPv4",address:this.localAddress}},u.prototype.signal=function(e){var t=this;if(t.destroyed)throw l("cannot signal after peer is destroyed","ERR_SIGNALING");if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}t._debug("signal()"),e.renegotiate&&t.initiator&&(t._debug("got request to renegotiate"),t._needsNegotiation()),e.candidate&&(t._pc.remoteDescription&&t._pc.remoteDescription.type?t._addIceCandidate(e.candidate):t._pendingCandidates.push(e.candidate)),e.sdp&&t._pc.setRemoteDescription(new t._wrtc.RTCSessionDescription(e)).then(function(){t.destroyed||(t._pendingCandidates.forEach(function(e){t._addIceCandidate(e)}),t._pendingCandidates=[],"offer"===t._pc.remoteDescription.type&&t._createAnswer())}).catch(function(e){t.destroy(l(e,"ERR_SET_REMOTE_DESCRIPTION"))}),e.sdp||e.candidate||e.renegotiate||t.destroy(l("signal() called with invalid signal data","ERR_SIGNALING"))},u.prototype._addIceCandidate=function(e){var t=this;try{t._pc.addIceCandidate(new t._wrtc.RTCIceCandidate(e),d,function(e){t.destroy(l(e,"ERR_ADD_ICE_CANDIDATE"))})}catch(e){t.destroy(l("error adding candidate: "+e.message,"ERR_ADD_ICE_CANDIDATE"))}},u.prototype.send=function(e){this._channel.send(e)},u.prototype.addStream=function(e){var t=this;t._debug("addStream()"),e.getTracks().forEach(function(n){t.addTrack(n,e)})},u.prototype.addTrack=function(e,t){this._debug("addTrack()");var n=this._pc.addTrack(e,t),r=this._senderMap.get(e)||new WeakMap;r.set(t,n),this._senderMap.set(e,r),this._needsNegotiation()},u.prototype.replaceTrack=async function(e,t,n){this._debug("replaceTrack()");var r=this._senderMap.get(e),i=r?r.get(n):null;i||this.destroy(new Error("Cannot replace track that was never added.")),t&&this._senderMap.set(t,r),null!=i.replaceTrack?await i.replaceTrack(t):this.destroy(l("replaceTrack is not supported in this browser","ERR_UNSUPPORTED_REPLACETRACK"))},u.prototype.removeTrack=function(e,t){this._debug("removeSender()");var n=this._senderMap.get(e),r=n?n.get(t):null;r||this.destroy(new Error("Cannot remove track that was never added."));try{this._pc.removeTrack(r)}catch(e){"NS_ERROR_UNEXPECTED"===e.name?this._sendersAwaitingStable.push(r):this.destroy(e)}},u.prototype.removeStream=function(e){var t=this;t._debug("removeSenders()"),e.getTracks().forEach(function(n){t.removeTrack(n,e)})},u.prototype._needsNegotiation=function(){var e=this;e._debug("_needsNegotiation"),e._batchedNegotiation||(e._batchedNegotiation=!0,setTimeout(function(){e._batchedNegotiation=!1,e._debug("starting batched negotiation"),e.negotiate()},0))},u.prototype.negotiate=function(){this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),this._createOffer()):this._isNegotiating||(this._debug("requesting negotiation from initiator"),this.emit("signal",{renegotiate:!0})),this._isNegotiating=!0},u.prototype.destroy=function(e){this._destroy(e,function(){})},u.prototype._destroy=function(e,t){if(!this.destroyed){if(this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.destroyed=!0,this.connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(e){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(e){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,"addTrack"in this._pc&&(this._pc.ontrack=null),this._pc.ondatachannel=null}this._pc=null,this._channel=null,e&&this.emit("error",e),this.emit("close"),t()}},u.prototype._setupData=function(e){var t=this;if(!e.channel)return t.destroy(l("Data channel event is missing `channel` property","ERR_DATA_CHANNEL"));t._channel=e.channel,t._channel.binaryType="arraybuffer","number"==typeof t._channel.bufferedAmountLowThreshold&&(t._channel.bufferedAmountLowThreshold=65536),t.channelName=t._channel.label,t._channel.onmessage=function(e){t._onChannelMessage(e)},t._channel.onbufferedamountlow=function(){t._onChannelBufferedAmountLow()},t._channel.onopen=function(){t._onChannelOpen()},t._channel.onclose=function(){t._onChannelClose()},t._channel.onerror=function(e){t.destroy(l(e,"ERR_DATA_CHANNEL"))};var n=!1;t._closingInterval=setInterval(function(){t._channel&&"closing"===t._channel.readyState?(n&&t._onChannelClose(),n=!0):n=!1},5e3)},u.prototype._read=function(){},u.prototype._write=function(e,t,n){if(this.destroyed)return n(l("cannot write after peer is destroyed","ERR_DATA_CHANNEL"));if(this.connected){try{this.send(e)}catch(e){return this.destroy(l(e,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>65536?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=e,this._cb=n},u.prototype._onFinish=function(){var e=this;function t(){setTimeout(function(){e.destroy()},1e3)}e.destroyed||(e.connected?t():e.once("connect",t))},u.prototype._startIceCompleteTimeout=function(){r("started iceComplete timeout");var e=this;e.destroyed||e._iceCompleteTimer||(e._iceCompleteTimer=setTimeout(function(){e._iceComplete||(e._iceComplete=!0,e.emit("iceTimeout"),e.emit("_iceComplete"))},this.iceCompleteTimeout))},u.prototype._createOffer=function(){var e=this;e.destroyed||e._pc.createOffer(e.offerConstraints).then(function(t){function n(){if(!e.destroyed){var n=e._pc.localDescription||t;e._debug("signal"),e.emit("signal",{type:n.type,sdp:n.sdp})}}e.destroyed||(e.trickle||e.allowHalfTrickle||(t.sdp=h(t.sdp)),t.sdp=e.sdpTransform(t.sdp),e._pc.setLocalDescription(t).then(function(){if(e._debug("createOffer success"),e.destroyed)return;e.trickle||e._iceComplete?n():e.once("_iceComplete",n)}).catch(function(t){e.destroy(l(t,"ERR_SET_LOCAL_DESCRIPTION"))}))}).catch(function(t){e.destroy(l(t,"ERR_CREATE_OFFER"))})},u.prototype._createAnswer=function(){var e=this;e.destroyed||e._pc.createAnswer(e.answerConstraints).then(function(t){function n(){if(!e.destroyed){var n=e._pc.localDescription||t;e._debug("signal"),e.emit("signal",{type:n.type,sdp:n.sdp})}}e.destroyed||(e.trickle||e.allowHalfTrickle||(t.sdp=h(t.sdp)),t.sdp=e.sdpTransform(t.sdp),e._pc.setLocalDescription(t).then(function(){if(e.destroyed)return;e.trickle||e._iceComplete?n():e.once("_iceComplete",n)}).catch(function(t){e.destroy(l(t,"ERR_SET_LOCAL_DESCRIPTION"))}))}).catch(function(t){e.destroy(l(t,"ERR_CREATE_ANSWER"))})},u.prototype._onIceStateChange=function(){if(!this.destroyed){var e=this._pc.iceConnectionState,t=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),"connected"!==e&&"completed"!==e||(this._pcReady=!0,this._maybeReady()),"failed"===e&&this.destroy(l("Ice connection failed.","ERR_ICE_CONNECTION_FAILURE")),"closed"===e&&this.destroy(new Error("Ice connection closed."))}},u.prototype.getStats=function(e){var t=this;0===t._pc.getStats.length?t._pc.getStats().then(function(t){var n=[];t.forEach(function(e){n.push(e)}),e(null,n)},function(t){e(t)}):t._isReactNativeWebrtc?t._pc.getStats(null,function(t){var n=[];t.forEach(function(e){n.push(e)}),e(null,n)},function(t){e(t)}):t._pc.getStats.length>0?t._pc.getStats(function(n){if(!t.destroyed){var r=[];n.result().forEach(function(e){var t={};e.names().forEach(function(n){t[n]=e.stat(n)}),t.id=e.id,t.type=e.type,t.timestamp=e.timestamp,r.push(t)}),e(null,r)}},function(t){e(t)}):e(null,[])},u.prototype._maybeReady=function(){var e=this;e._debug("maybeReady pc %s channel %s",e._pcReady,e._channelReady),!e.connected&&!e._connecting&&e._pcReady&&e._channelReady&&(e._connecting=!0,function t(){e.destroyed||e.getStats(function(n,r){if(!e.destroyed){n&&(r=[]);var i={},s={},o={},a=!1;if(r.forEach(function(e){"remotecandidate"!==e.type&&"remote-candidate"!==e.type||(i[e.id]=e),"localcandidate"!==e.type&&"local-candidate"!==e.type||(s[e.id]=e),"candidatepair"!==e.type&&"candidate-pair"!==e.type||(o[e.id]=e)}),r.forEach(function(e){"transport"===e.type&&e.selectedCandidatePairId&&u(o[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&u(e)}),a||Object.keys(o).length&&!Object.keys(s).length){if(e._connecting=!1,e.connected=!0,e._chunk){try{e.send(e._chunk)}catch(n){return e.destroy(l(n,"ERR_DATA_CHANNEL"))}e._chunk=null,e._debug('sent chunk from "write before connect"');var c=e._cb;e._cb=null,c(null)}"number"!=typeof e._channel.bufferedAmountLowThreshold&&(e._interval=setInterval(function(){e._onInterval()},150),e._interval.unref&&e._interval.unref()),e._debug("connect"),e.emit("connect")}else setTimeout(t,100)}function u(t){a=!0;var n=s[t.localCandidateId];n&&n.ip?(e.localAddress=n.ip,e.localPort=Number(n.port)):n&&n.ipAddress?(e.localAddress=n.ipAddress,e.localPort=Number(n.portNumber)):"string"==typeof t.googLocalAddress&&(n=t.googLocalAddress.split(":"),e.localAddress=n[0],e.localPort=Number(n[1]));var r=i[t.remoteCandidateId];r&&r.ip?(e.remoteAddress=r.ip,e.remotePort=Number(r.port)):r&&r.ipAddress?(e.remoteAddress=r.ipAddress,e.remotePort=Number(r.portNumber)):"string"==typeof t.googRemoteAddress&&(r=t.googRemoteAddress.split(":"),e.remoteAddress=r[0],e.remotePort=Number(r[1])),e.remoteFamily="IPv4",e._debug("connect local: %s:%s remote: %s:%s",e.localAddress,e.localPort,e.remoteAddress,e.remotePort)}})}())},u.prototype._onInterval=function(){!this._cb||!this._channel||this._channel.bufferedAmount>65536||this._onChannelBufferedAmountLow()},u.prototype._onSignalingStateChange=function(){var e=this;e.destroyed||("stable"!==e._pc.signalingState||e._firstStable||(e._isNegotiating=!1,e._debug("flushing sender queue",e._sendersAwaitingStable),e._sendersAwaitingStable.forEach(function(t){e._pc.removeTrack(t),e._queuedNegotiation=!0}),e._sendersAwaitingStable=[],e._queuedNegotiation&&(e._debug("flushing negotiation queue"),e._queuedNegotiation=!1,e._needsNegotiation()),e._debug("negotiate"),e.emit("negotiate")),e._firstStable=!1,e._debug("signalingStateChange %s",e._pc.signalingState),e.emit("signalingStateChange",e._pc.signalingState))},u.prototype._onIceCandidate=function(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())},u.prototype._onChannelMessage=function(e){if(!this.destroyed){var n=e.data;n instanceof ArrayBuffer&&(n=t.from(n)),this.push(n)}},u.prototype._onChannelBufferedAmountLow=function(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);var e=this._cb;this._cb=null,e(null)}},u.prototype._onChannelOpen=function(){this.connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())},u.prototype._onChannelClose=function(){this.destroyed||(this._debug("on channel close"),this.destroy())},u.prototype._onTrack=function(e){var t=this;t.destroyed||e.streams.forEach(function(n){t._debug("on track"),t.emit("track",e.track,n),t._remoteTracks.push({track:e.track,stream:n}),t._remoteStreams.some(function(e){return e.id===n.id})||(t._remoteStreams.push(n),setTimeout(function(){t.emit("stream",n)},0))})},u.prototype.setConstraints=function(e){this.initiator?this.offerConstraints=this._transformConstraints(e):this.answerConstraints=this._transformConstraints(e)},u.prototype._debug=function(){var e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],r.apply(null,e)},u.prototype._transformConstraints=function(e){if(0===Object.keys(e).length)return e;if((e.mandatory||e.optional)&&!this._isChromium){var t=Object.assign({},e.optional,e.mandatory);return void 0!==t.OfferToReceiveVideo&&(t.offerToReceiveVideo=t.OfferToReceiveVideo,delete t.OfferToReceiveVideo),void 0!==t.OfferToReceiveAudio&&(t.offerToReceiveAudio=t.OfferToReceiveAudio,delete t.OfferToReceiveAudio),t}return e.mandatory||e.optional||!this._isChromium?e:(void 0!==e.offerToReceiveVideo&&(e.OfferToReceiveVideo=e.offerToReceiveVideo,delete e.offerToReceiveVideo),void 0!==e.offerToReceiveAudio&&(e.OfferToReceiveAudio=e.offerToReceiveAudio,delete e.offerToReceiveAudio),{mandatory:e})}}).call(this,n(13).Buffer)},function(e,t,n){"use strict";(function(t,r){var i=n(17);e.exports=m;var s,o=n(38);m.ReadableState=b;n(20).EventEmitter;var a=function(e,t){return e.listeners(t).length},c=n(21),u=n(16).Buffer,h=t.Uint8Array||function(){};var l=n(14);l.inherits=n(10);var d=n(39),f=void 0;f=d&&d.debuglog?d.debuglog("stream"):function(){};var g,p=n(40),_=n(22);l.inherits(m,c);var y=["error","close","destroy","pause","resume"];function b(e,t){e=e||{};var r=t instanceof(s=s||n(11));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(g||(g=n(24).StringDecoder),this.decoder=new g(e.encoding),this.encoding=e.encoding)}function m(e){if(s=s||n(11),!(this instanceof m))return new m(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function v(e,t,n,r,i){var s,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,w(e)}(e,o)):(i||(s=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof h||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(o,t)),s?e.emit("error",s):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):E(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?E(e,o,t,!1):T(e,o)):E(e,o,t,!1))):r||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function E(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&w(e)),T(e,t)}Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),m.prototype.destroy=_.destroy,m.prototype._undestroy=_.undestroy,m.prototype._destroy=function(e,t){this.push(null),t(e)},m.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),v(this,e,t,!1,n)},m.prototype.unshift=function(e){return v(this,e,null,!0,!1)},m.prototype.isPaused=function(){return!1===this._readableState.flowing},m.prototype.setEncoding=function(e){return g||(g=n(24).StringDecoder),this._readableState.decoder=new g(e),this._readableState.encoding=e,this};var C=8388608;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=C?e=C:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function w(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(I,e):I(e))}function I(e){f("emit readable"),e.emit("readable"),O(e)}function T(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(R,e,t))}function R(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function A(e){f("readable nexttick read 0"),e.read(0)}function P(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),0===(e-=o)){o===s.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(s.copy(n,n.length-e,0,o),0===(e-=o)){o===s.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function N(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(L,t,e))}function L(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function k(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}m.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):w(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&N(this),null;var r,i=t.needReadable;return f("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",i=!0),t.ended||t.reading?f("reading or ended",i=!1):i&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(n,t))),null===(r=e>0?M(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&N(this)),null!==r&&this.emit("data",r),r},m.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},m.prototype.pipe=function(e,t){var n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,f("pipe count=%d opts=%j",s.pipesCount,t);var c=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?h:m;function u(t,r){f("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),e.removeListener("close",y),e.removeListener("finish",b),e.removeListener("drain",l),e.removeListener("error",_),e.removeListener("unpipe",u),n.removeListener("end",h),n.removeListener("end",m),n.removeListener("data",p),d=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function h(){f("onend"),e.end()}s.endEmitted?i.nextTick(c):n.once("end",c),e.on("unpipe",u);var l=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,O(e))}}(n);e.on("drain",l);var d=!1;var g=!1;function p(t){f("ondata"),g=!1,!1!==e.write(t)||g||((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==k(s.pipes,e))&&!d&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,g=!0),n.pause())}function _(t){f("onerror",t),m(),e.removeListener("error",_),0===a(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",b),m()}function b(){f("onfinish"),e.removeListener("close",y),m()}function m(){f("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",_),e.once("close",y),e.once("finish",b),e.emit("pipe",n),s.flowing||(f("pipe resume"),n.resume()),e},m.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,n);return this}var o=k(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},m.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&w(this):i.nextTick(A,this))}return n},m.prototype.addListener=m.prototype.on,m.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(P,e,t))}(this,e)),this},m.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},m.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(f("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(f("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<y.length;s++)e.on(y[s],this.emit.bind(this,y[s]));return this._read=function(t){f("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),m._fromList=M}).call(this,n(7),n(6))},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,s,o,a;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"==typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,a=c,console&&console.warn&&console.warn(a)}return e}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,s(this.listener,this.target,e))}.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)s(c,this,t);else{var u=c.length,h=g(c,u);for(n=0;n<u;++n)s(h[n],this,t)}return!0},a.prototype.addListener=function(e,t){return h(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return h(this,e,t,!0)},a.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,l(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,l(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,s,o;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){e.exports=n(20).EventEmitter},function(e,t,n){"use strict";var r=n(17);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";(function(t,r,i){var s=n(17);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var a,c=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:s.nextTick;b.WritableState=y;var u=n(14);u.inherits=n(10);var h={deprecate:n(44)},l=n(21),d=n(16).Buffer,f=i.Uint8Array||function(){};var g,p=n(22);function _(){}function y(e,t){a=a||n(11),e=e||{};var r=t instanceof a;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,u=e.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===e.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(s.nextTick(i,r),s.nextTick(w,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),w(e,t))}(e,n,r,t,i);else{var o=C(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||E(e,n),r?c(v,e,n,o,i):v(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(a=a||n(11),!(g.call(b,this)||this instanceof a))return new b(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function m(e,t,n,r,i,s,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function v(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),w(e,t)}function E(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)i[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;i.allBuffers=c,m(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,h=n.encoding,l=n.callback;if(m(e,t,!1,t.objectMode?1:u.length,u,h,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),w(e,t)})}function w(e,t){var n=C(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,s.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(b,l),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(g=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!g.call(this,e)||this===b&&(e&&e._writableState instanceof y)}})):g=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,a=!i.objectMode&&(r=e,d.isBuffer(r)||r instanceof f);return a&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=_),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),s.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),s.nextTick(r,o),i=!1),i}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,s){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,a,r,i,s);return c}(this,i,a,e,t,n)),o},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||E(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,w(e,t),n&&(t.finished?s.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=p.destroy,b.prototype._undestroy=p.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(6),n(42).setImmediate,n(7))},function(e,t,n){"use strict";var r=n(45).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=h,this.end=l,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function h(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},s.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=o;var r=n(11),i=n(14);function s(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){c(e,t,n)}):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(10),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",function(){return xe});var i,s,o,a,c,u,h=n(0),l=n(5),d=n(18);class f{constructor(){this._maxCancelId=Number.MAX_SAFE_INTEGER-10,this._lastCancelId=0,this._tickCounter=0,this._isRunning=!1,this._intervals=[],this._timeouts=[]}doTick(){this._timeouts.forEach(e=>{e.tick===this._tickCounter&&e.callback()}),this._intervals.forEach(e=>{this._tickCounter%e.tick==0&&e.callback()}),this._timeouts=this._timeouts.filter(e=>e.tick>this._tickCounter)}tick(){try{this.doTick()}catch(e){throw e}finally{this._tickCounter++}}start(){this._isRunning=!0,this.startClock()}pause(){this._isRunning=!1,this.pauseClock()}stop(){this.pause(),this._intervals.length=0,this._timeouts.length=0,this._tickCounter=0}forward(e){for(;this._tickCounter<e;)this.tick()}rewind(){this._tickCounter=0,this._timeouts.length=0}setInterval(e,t=1){t=Math.floor(Math.max(t,1)),this._lastCancelId=(this._lastCancelId+1)%this._maxCancelId;const n={tick:t,cancelId:this._lastCancelId,callback:e};return this._intervals.push(n),this._lastCancelId}clearInterval(e){this._intervals=this._intervals.filter(t=>t.cancelId!==e)}setTimeout(e,t=1){t=Math.floor(Math.max(t,1)),this._lastCancelId=(this._lastCancelId+1)%this._maxCancelId;const n={tick:this._tickCounter+t,cancelId:this._lastCancelId,callback:e};return this._timeouts.push(n),this._lastCancelId}clearTimeout(e){this._timeouts=this._timeouts.filter(t=>t.cancelId!==e)}getTick(){return this._tickCounter}isRunning(){return this._isRunning}timeIt(){const e=this.getPrecisionTimestamp();return()=>this.getPrecisionTimestamp()-e}}class g extends f{constructor(e){super(),this._masterClock=e}fork(){const e=new g(this);return e.start(),e}setSpeed(e){this.pauseClock(),this.startClock(e)}getPrecisionTimestamp(){return this._masterClock.getPrecisionTimestamp()}startClock(e){this._cancelId=this._masterClock.setInterval(this.tick.bind(this),e)}pauseClock(){this._masterClock.clearInterval(this._cancelId),this._cancelId=null}}class p extends f{constructor(e=1e3){super(),this._speed=e}fork(){const e=new g(this);return e.start(),e}setSpeed(e){this._speed=e,this.isRunning()&&(this.pauseClock(),this.startClock())}startClock(e){e&&(this._speed=e),this._masterCancelId=setInterval(this.tick.bind(this),this._speed)}getPrecisionTimestamp(){return performance&&"function"==typeof performance.now?performance.now():Date&&"function"==typeof Date.now?Date.now():this.getTick()}pauseClock(){clearInterval(this._masterCancelId)}getSpeed(){return this._speed}}!function(e){e.WEBSOCKET_UNSECURE="ws",e.WEBSOCKET="wss",e.WEBRTC_DATA="webrtc-data",e.WEBRTC_STREAM="webrtc-stream",e.VIA="via",e.VIA_MULTI="via-multi"}(i||(i={})),function(e){e.OPENING="opening",e.OPEN="open",e.CLOSING="closing",e.CLOSED="closed",e.ERROR="error"}(s||(s={})),function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.WAITING_FOR_OFFER=10]="WAITING_FOR_OFFER",e[e.WAITING_FOR_ANSWER=20]="WAITING_FOR_ANSWER",e[e.WAITING_FOR_ESTABLISH=30]="WAITING_FOR_ESTABLISH",e[e.ESTABLISHED=40]="ESTABLISHED"}(o||(o={}));class _{constructor(){[this._publicKey,this._privateKey]=this._generateKeyPair()}getPublicKey(){return this._publicKey}}class y extends _{_generateKeyPair(){return"public,private".split(",")}decrypt(e){return e}encrypt(e,t){return e}sign(e){return e}verify(e){return!0}}!function(e){e.ADDED="added",e.REMOVED="removed"}(a||(a={})),function(e){e[e.LOG=0]="LOG",e[e.DEBUG=10]="DEBUG",e[e.INFO=20]="INFO",e[e.WARN=30]="WARN",e[e.ERROR=40]="ERROR",e[e.FATAL=50]="FATAL"}(c||(c={}));class b{constructor(e){this._logLevel=null,this._id=e,this._logSubject=new h.a}static getLogger(e){return b._loggerMap.has(e)||b._loggerMap.set(e,new b(e)),b._loggerMap.get(e)}static setLevel(e){b._logLevel=e}static setVerbose(e){this._verbose=e}doLog(e,t,n,r){let i=0,s="";if(this._clock&&(i=this._clock.getTick(),s=`${this._clock.getTick()}:`),this.getLevel()<=e){const e=`${n} [${s}${this._id}]`;b._verbose||(r=r.slice(0,1)),t(e,...r)}this._logSubject.next({level:e,data:r.map(String),tick:i})}setClock(e){this._clock=e}getLevel(){return this._logLevel||b._logLevel}setLevel(e){this._logLevel=e}log(...e){this.doLog(c.LOG,console.log,"📠",e)}debug(...e){this.doLog(c.DEBUG,console.log,"🔧",e)}info(...e){this.doLog(c.INFO,console.info,"📬",e)}warn(...e){this.doLog(c.WARN,console.warn,"🚧",e)}error(...e){this.doLog(c.ERROR,console.error,"🚨",e)}fatal(...e){this.doLog(c.FATAL,console.error,"💣",e)}observeLogEvents(){return this._logSubject}}b._loggerMap=new Map,b._logLevel=c.DEBUG,b._verbose=!0;class m{constructor(e,t,n,r="v1"){this._id=e,this._protocol=t,this._location=n,this._version=r}static fromString(e){const t=e.split("/"),[n,r,i]=t.slice(1,4),s=t.slice(4).join("/");return new m(r,i,s,n)}getId(){return this._id}getProtocol(){return this._protocol}getLocation(){return this._location}setLocation(e){this._location=e}getVersion(){return this._version}isProtocol(...e){return-1!==e.indexOf(this._protocol)}toString(){return["mitosis",this.getVersion(),this.getId(),this.getProtocol(),this.getLocation()].filter(e=>void 0!==e).join("/")}}class v extends Map{constructor(e){super(),this._factory=e,this._default=e()}get(e){return this.has(e)||this.set(e,this._factory()),super.get(e)}getDefault(){return this._default}}!function(e){e.INTRODUCTION="introduction",e.PEER_UPDATE="peer-update",e.PEER_SUGGESTION="peer-suggestion",e.ROLE_UPDATE="role-update",e.CONNECTION_NEGOTIATION="connection-negotiation",e.CHANNEL_ANNOUNCEMENT="channel-announcement",e.APP_CONTENT="app-content",e.UNKNOWN_PEER="unknown-peer",e.PING="ping",e.PONG="pong",e.ROUTER_ALIVE="router-alive",e.PEER_ALIVE="peer-alive"}(u||(u={}));const E=new v(()=>1);E.set(u.PEER_UPDATE,1),E.set(u.PEER_SUGGESTION,10),E.set(u.APP_CONTENT,16),E.set(u.CONNECTION_NEGOTIATION,20),E.set(u.ROUTER_ALIVE,20),E.set(u.PEER_ALIVE,20);class C{constructor(e,t,n,r,i,s){this._sender=e,this._receiver=t,this._subject=n,this._body=r,this._id=i||`m${Math.round(1e3+8999*Math.random())}`,this._ttl=Number.isInteger(s)?s:E.get(n)}static fromString(e){const t=JSON.parse(e);return new C(m.fromString(t.sender),m.fromString(t.receiver),t.subject,t.body,t.id,t.ttl)}get length(){return t=this.toString(),e.browser?new Blob([t]).size:r.byteLength(t);var t}getReceiver(){return this._receiver}getSender(){return this._sender}getInboundAddress(){return this._inboundAddress}getSubject(){return this._subject}getBody(){return this._body}getId(){return this._id}getTtl(){return this._ttl}decreaseTtl(){return--this._ttl}setInboundAddress(e){this._inboundAddress=e}clone(){return new C(this._sender,this._receiver,this._subject,this._body,this._id,this._ttl)}toString(){return JSON.stringify({id:this._id,receiver:this.getReceiver().toString(),sender:this.getSender().toString(),subject:this.getSubject(),ttl:this.getTtl(),body:this.getBody()},void 0,2)}}class S extends C{constructor(e,t,n){super(e,t,u.APP_CONTENT,n)}getBody(){return this._body}}var w,I;!function(e){e.NEWBIE="newbie",e.PEER="peer",e.ROUTER="router",e.SIGNAL="signal"}(w||(w={})),function(e){e[e.CLEAN=30]="CLEAN",e[e.ACQUIRE=20]="ACQUIRE",e[e.PUBLISH=10]="PUBLISH"}(I||(I={}));const T=new Map;T.set(w.NEWBIE,10),T.set(w.PEER,20),T.set(w.ROUTER,30),T.set(w.SIGNAL,40);class R{constructor(){this.BROADCAST_ADDRESS="*",this.DEFAULT_SIGNAL_ADDRESS="mitosis/v1/p000/wss/signal.mitosis.dev/websocket",this.DIRECT_CONNECTIONS_GOAL_MIN=4,this.DIRECT_CONNECTIONS_GOAL_MAX=6,this.DIRECT_CONNECTIONS_MAX=10,this.TRY_OTHER_PEERS_COUNT=0,this.DIRECT_CONNECTION_BOOST_AMOUNT=2,this.DIRECT_CONNECTION_BOOST_TIMEOUT=20,this.SLIDING_WINDOW_SIZE=12,this.TRANSMISSION_PING_INTERVAL=4,this.MAX_ROUTERS_PER_SIGNAL=1,this.LAST_SEEN_TIMEOUT=30,this.LATENCY_WINDOW_SIZE=10,this.DEFAULT_QUALITY=.5,this.DEFAULT_ROUTER_RANK=.1,this.CONNECTION_METER_OPEN_GRACE_PERIOD_TIME=10,this.CONNECTION_METER_PROTECTION_TIME=10,this.CONNECTION_METER_PUNISHMENT_TIME=20,this.OUTBOUND_STREAM_CONNECTIONS=2,this.ROUTER_ALIVE_HIGHSCORE_WINDOW_SIZE=10}}const A=new v(()=>new R);A.get(w.SIGNAL).DIRECT_CONNECTIONS_MAX=100;class P extends Set{constructor(){super(...arguments),this._sequence=0}removeOutDated(){const e=this.values();let t=e.next();for(;!t.done;){const n=t.value;this.isSequenceOutOfWindow(n)&&this.delete(n),t=e.next()}}nextSequence(){this._sequence=this._sequence+1}isSequenceOutOfWindow(e){return null==this._sequence||(e>this._sequence||e<=this._sequence-A.getDefault().SLIDING_WINDOW_SIZE)}add(e){return this.setSequence(e),super.add(e),this}slide(){this.nextSequence(),this.removeOutDated()}setSequence(e){this.isSequenceOutOfWindow(e)&&(this._sequence=e),this.removeOutDated()}getSequenceNumber(){return this._sequence}}class O{constructor(e){this._peerManager=e,this._slidingWindow=new P}isDirectPeerMessage(e){return e.getSender().getId()===e.getInboundAddress().getId()}slidingWindowSayYes(e){return this._slidingWindow.isSequenceOutOfWindow(e.getBody().sequence)}canForwardMessage(e){return!!this.isDirectPeerMessage(e)||this.slidingWindowSayYes(e)}isFirstMessage(e){return this.slidingWindowSayYes(e)}floodMessage(e){if(this.canForwardMessage(e))b.getLogger(this._peerManager.getMyId()).debug("broadcast message",e.getInboundAddress(),e,this._slidingWindow.getSequenceNumber(),this._slidingWindow.isSequenceOutOfWindow(e.getBody().sequence)),this._peerManager.sendMessage(e),this._slidingWindow.add(e.getBody().sequence);else{const t=this._slidingWindow.isSequenceOutOfWindow(e.getBody().sequence);b.getLogger(this._peerManager.getMyId()).info("drop broadcast message",e,`inbound address ${e.getInboundAddress()}`,`sliding window sequence ${this._slidingWindow.getSequenceNumber()}`,`out of window ${t?"yes":"no"}`)}}}class M extends C{constructor(e,t,n){super(e,t,u.UNKNOWN_PEER,n)}getBody(){return this._body}}class N{constructor(e,t,n){this._peerManager=e,this.listenOnPeerChurn(),this._roleManager=t,this._streamManager=n,this._appContentMessagesSubject=new h.a,this._messagesSubject=new h.a,this._incomingMessageSubject=new h.a,this._routerAliveFloodingHandler=new O(e)}listenOnPeerChurn(){this._peerManager.observePeerChurn().pipe(Object(l.a)(e=>e.type===a.ADDED)).subscribe(e=>this.listenOnConnectionChurn(e.peer))}listenOnConnectionChurn(e){b.getLogger(this._peerManager.getMyId()).info(`added ${e.getId()}`),e.observeChurn().pipe(Object(l.a)(e=>e.type===a.ADDED)).subscribe(e=>this.listenOnConnectionAdded(e.connection))}listenOnConnectionAdded(e){e.observeMessageReceived().subscribe(t=>{this.handleMessage(t,e)})}handleMessage(e,t){try{e.setInboundAddress(t.getAddress()),this._incomingMessageSubject.next(e);const n=e.getInboundAddress().getId(),r=e.getSender().getId();b.getLogger(this._peerManager.getMyId()).warn(`ensure connection to ${r} via ${n}`),this._peerManager.ensureConnection(new m(r,i.VIA_MULTI,n)).catch(t=>b.getLogger(this._peerManager.getMyId()).warn(t,e)),e.getReceiver().getId()===this._peerManager.getMyId()?this.receiveMessage(e):e.getReceiver().getId()===A.getDefault().BROADCAST_ADDRESS?(this.receiveMessage(e),this.broadcastMessage(e)):this.forwardMessage(e)}catch(t){throw b.getLogger(e.getReceiver().getId()).error(t.message,t),t}}receiveMessage(e){const t=e.getInboundAddress().getId();switch(e.getSubject()){case u.ROLE_UPDATE:this._roleManager.updateRoles(e);break;case u.PEER_UPDATE:this._peerManager.updatePeers(e,t);break;case u.PEER_SUGGESTION:this._peerManager.updateSuggestedPeers(e,t);break;case u.UNKNOWN_PEER:const n=this._peerManager.getPeerById(e.getBody());n&&n.getConnectionTable().filterByLocation(e.getInboundAddress().getId()).forEach(e=>e.close());break;case u.CONNECTION_NEGOTIATION:switch(e.getSender().getProtocol()){case i.WEBRTC_STREAM:this._streamManager.negotiateConnection(e);break;default:this._peerManager.negotiateConnection(e)}break;case u.APP_CONTENT:this._appContentMessagesSubject.next(e);break;case u.INTRODUCTION:break;case u.ROUTER_ALIVE:const r=e,s=this._routerAliveFloodingHandler.isFirstMessage(r);this._peerManager.handleRouterAlive(r,s);break;case u.PEER_ALIVE:this._roleManager.hasRole(w.ROUTER)||b.getLogger(this._peerManager.getMyId()).warn("i am not a router",e);break;case u.CHANNEL_ANNOUNCEMENT:this._streamManager.updateProviders(e.getBody());break;default:throw new Error(`unsupported subject ${e.getSubject()}`)}this._messagesSubject.next(e)}broadcastMessage(e){switch(e.getSubject()){case u.ROUTER_ALIVE:this._routerAliveFloodingHandler.floodMessage(e);break;default:throw new Error(`message from type ${e.getSubject()} can not be broadcasted`)}}forwardMessage(e){const t=e.getReceiver().getId();if(!this._peerManager.getPeerById(t)){const n=e.getInboundAddress();b.getLogger(this._peerManager.getMyId()).debug(`telling ${n.getId()} that i don't know ${t}`,e),this._peerManager.sendMessage(new M(e.getReceiver(),e.getInboundAddress(),t))}this._peerManager.sendMessage(e)}observeAppContentMessages(){return this._appContentMessagesSubject}observeMessages(){return this._messagesSubject}observeIncomingMessages(){return this._incomingMessageSubject}destroy(){this._appContentMessagesSubject.complete(),this._messagesSubject.complete(),this._incomingMessageSubject.complete()}}var L,k;!function(e){e.REQUEST="request",e.OFFER="offer",e.ANSWER="answer",e.REJECTION="rejection"}(L||(L={}));class D extends C{constructor(e,t,n,r){const i=n.map(e=>({peerId:e.getId(),roles:e.getRoles(),quality:e.getMeter().getPeerUpdateQuality(r)})).sort(e=>e.quality).reverse().slice(0,5);super(e,t,u.PEER_SUGGESTION,i)}getBody(){return this._body}}class B extends C{constructor(e,t,n,r){const i=n.map(e=>({peerId:e.getId(),roles:e.getRoles(),quality:e.getMeter().getPeerUpdateQuality(r)}));super(e,t,u.PEER_UPDATE,i)}getBody(){return this._body}}class x{constructor(e=[]){this._values=e.slice()}get length(){return this._values.length}static fromIterable(e){return new this(Array.from(e))}fromArray(e){return new this.constructor(e)}asArray(){return this._values.slice()}has(e){return!!this.find(e)}count(e){return this.filter(e).length}filter(e){return this.fromArray(this._values.filter(e))}find(e){return this._values.find(e)}exclude(e){const t=e(this.fromArray(this._values))._values;return this.filter(e=>-1===t.indexOf(e))}sortBy(e){return this.fromArray(this._values.sort((t,n)=>{const r=e(t),i=e(n);return r>i?1:r<i?-1:0}))}forEach(e){return this._values.forEach((t,n,r)=>e(t,n,this.fromArray(r))),this.fromArray(this._values)}map(e){return this._values.map((t,n,r)=>e(t,n,this.fromArray(r)))}slice(e,t){return this.fromArray(this._values.slice(e,t))}[Symbol.iterator](){return this._values[Symbol.iterator]()}reverse(){return this.fromArray(this._values.reverse())}concat(e){const t=this._values.concat(e._values);return new this.constructor(t)}push(...e){return this._values.push(...e)}shift(){return this._values.shift()}pop(){return this._values.pop()}toString(){return JSON.stringify(this._values,void 0,2)}}class U extends x{filterByStates(...e){return new U(this._values.filter(t=>e.indexOf(t.getState())>=0))}filterDirect(){return this.exclude(e=>e.filterByProtocol(i.VIA,i.VIA_MULTI))}filterDirectData(){return this.filterByProtocol(i.WEBSOCKET,i.WEBSOCKET_UNSECURE,i.WEBRTC_DATA)}filterByProtocol(...e){return new U(this._values.filter(t=>t.getAddress().isProtocol(...e)))}filterByLocation(...e){return new U(this._values.filter(t=>e.includes(t.getAddress().getLocation())))}filterByMeter(e){return new U(this._values.filter(t=>e(t.getMeter())))}sortByQuality(e,t=((e,t)=>e.getQuality(t))){return this.sortBy(n=>t(n.getMeter(),e))}}!function(e){e.PUNISHED="punished",e.PROTECTED="protected",e.UNPUNISHED="unpunished",e.UNPROTECTED="unprotected"}(k||(k={}));class j{constructor(e,t){this._punished=!1,this._protected=!1,this._lastSeenTick=0,this._connection=e,this._subject=new h.a,this._clock=t.fork(),this.listenOnMessages()}listenOnMessages(){this._connection.observeMessageReceived().subscribe(this.onMessage.bind(this))}setPunished(e){const t=this._punished;this._punished=e,this._punished!==t&&(this._punished?this._subject.next({type:k.PUNISHED,connection:this._connection}):this._subject.next({type:k.UNPUNISHED,connection:this._connection}))}setProtected(e){const t=this._protected;this._protected=e,this._protected!==t&&(this._protected?this._subject.next({type:k.PROTECTED,connection:this._connection}):this._subject.next({type:k.UNPROTECTED,connection:this._connection}))}onMessage(e){this._clock?this._lastSeenTick=this._clock.getTick():b.getLogger(this._connection.getAddress().getId()).error("can not read clock for message",e)}updateLastSeen(){this._lastSeenTick=this._clock.getTick()}isLastSeenExpired(){return this._clock.getTick()-this._lastSeenTick>A.getDefault().LAST_SEEN_TIMEOUT}getLastSeen(){return this._clock.getTick()-this._lastSeenTick}isPunished(){return this._punished}isProtected(){return this._protected}start(){this.setProtected(!0),this._clock.rewind(),this._clock.setTimeout(()=>{this.setPunished(!1),this.setProtected(!1)},A.getDefault().CONNECTION_METER_PROTECTION_TIME)}stop(){const e=this._clock.getTick()<A.getDefault().CONNECTION_METER_OPEN_GRACE_PERIOD_TIME;this.setPunished(e),this.setProtected(!1)}observe(){return this._subject}toJSON(){return{lastSeen:this.getLastSeen(),protected:this.isProtected(),punished:this.isPunished(),isExpired:this.isLastSeenExpired()}}toString(){return JSON.stringify(this.toJSON(),void 0,2)}}class F extends j{constructor(e,t,n=1){super(e,t),this._quality=n}updateLastSeen(){super.updateLastSeen()}getQuality(){return this._quality}setQuality(e){this._quality=e}getRouterLinkQuality(e){const t=this._connection.getAddress(),n=e.filterById(t.getLocation()).pop();return n?n.hasRole(w.SIGNAL,w.ROUTER)?1:n.getMeter().getRouterLinkQuality():0}start(){}stop(){}}class q{constructor(e,t,n){e.getLocation()||e.setLocation(`c${Math.round(1e4+89999*Math.random())}`),this._id=e.getLocation(),this._options=n,this._address=e,this._clock=t,this._connectionState=s.CLOSED,this._stateChangeSubject=new h.a,this._messageReceivedSubject=new h.a}getMeter(){return this._meter}getAddress(){return this._address}getId(){return this._id}onOpen(e){this._onOpenResolver&&this._onOpenResolver(e),this._onOpenResolver=null,this._onOpenRejector=null,this._connectionState=s.OPEN,this._negotiationState=o.ESTABLISHED,this._stateChangeSubject.next(this._connectionState),this.getMeter().start()}onClose(e="connection closed without reason"){this.getMeter().stop(),this._onOpenRejector&&this._onOpenRejector(e),this._clock.stop(),this._onOpenResolver=null,this._onOpenRejector=null,this._negotiationState=null,this._connectionState=s.CLOSED,this._stateChangeSubject.next(this._connectionState),this._stateChangeSubject.complete(),this._messageReceivedSubject.complete()}onError(e="connection error without reason"){this._connectionState=s.ERROR,this._stateChangeSubject.next(this._connectionState),this.onClose(e)}onMessage(e){this._messageReceivedSubject.next(e)}close(){this._connectionState=s.CLOSING,this._stateChangeSubject.next(this._connectionState),this.closeClient()}open(){return this._connectionState=s.OPENING,this._negotiationState=o.INITIALIZING,this._stateChangeSubject.next(this._connectionState),new Promise((e,t)=>{this._onOpenResolver=e,this._onOpenRejector=t,this.openClient()})}isInState(...e){return-1!==e.indexOf(this.getState())}getState(){return this._connectionState}getNegotiationState(){return this._negotiationState}observeMessageReceived(){return this._messageReceivedSubject}observeStateChange(){return this._stateChangeSubject}toString(){return JSON.stringify({id:this._id,address:this._address.toString(),connectionState:this._connectionState,negotiationState:this._negotiationState,meter:this.getMeter().toJSON()},void 0,2)}}class W extends q{constructor(e,t,n){super(e,t,n),this._meter=new F(this,t,n.payload.quality)}parentStateChanged(e){switch(e){case s.OPEN:this.onOpen(this);break;case s.CLOSED:this.onClose("parent connection closed");break;case s.ERROR:this.onError("parent connection error")}}closeClient(){this._parentSubscription.unsubscribe(),this.onClose("via connection close client")}openClient(){const e=this._options.payload.parent;!e||e.isInState(s.CLOSING,s.CLOSED)?this.onError("parent connection missing"):e.isInState(s.OPEN)&&this.onOpen(this),this._parentSubscription=e.observeStateChange().subscribe(this.parentStateChanged.bind(this))}send(e){throw new Error("via connection cannot send directly")}}class $ extends C{constructor(e,t,n){super(e,t,u.PING,n)}getBody(){return this._body}}class G extends C{constructor(e,t,n){super(e,t,u.PONG,n)}getBody(){return this._body}}class V{constructor(e){this._clock=e,this._timerPerSequence=new Map}getHighestSequence(){return Array.from(this._timerPerSequence.keys()).sort((e,t)=>e-t).pop()}cleanUpOldSequences(){const e=this.getHighestSequence();Array.from(this._timerPerSequence.keys()).filter(t=>e-t>=A.getDefault().LATENCY_WINDOW_SIZE).forEach(e=>{this._timerPerSequence.delete(e)})}start(e){this._timerPerSequence.get(e)||this._timerPerSequence.set(e,this._clock.timeIt()),this.cleanUpOldSequences()}stop(e){const t=this._timerPerSequence.get(e);"function"==typeof t&&this._timerPerSequence.set(e,t())}asArray(){return Array.from(this._timerPerSequence.entries()).filter(([e,t])=>"number"==typeof t&&t>0).map(([e,t])=>t)}}class H extends j{constructor(e,t,n,r){super(e,r),this._receiveSlidingWindow=new P,this._echoSlidingWindow=new P,this._originator=t,this._receiver=n,this._messageSubject=new h.a,this._latencyPerSequence=new V(r)}emitMessage(e){this._messageSubject.next(e)}sendPong(e,t){const n=new G(this._originator,e,t);b.getLogger(this._originator.getId()).debug(`send pong to ${e.getId()}`,n),this.emitMessage(n)}sendPing(){this._echoSlidingWindow.slide();const e=this._echoSlidingWindow.getSequenceNumber(),t=new $(this._originator,this._receiver,e);b.getLogger(this._originator.getId()).debug(`send ping to ${this._receiver.getId()}`,t),this.emitMessage(t),this._latencyPerSequence.start(e)}handlePing(e){b.getLogger(this._originator.getId()).debug(`handle ping from ${e.getSender().getId()}`,e,"receive sliding window:",`[${Array.from(this._receiveSlidingWindow.values()).join(", ")}]`),this.sendPong(e.getSender(),e.getBody()),this._receiveSlidingWindow.add(e.getBody())}handlePong(e){const t=e.getBody();this._echoSlidingWindow.add(t),this._latencyPerSequence.stop(t)}getEq(){return this._echoSlidingWindow.size/A.getDefault().SLIDING_WINDOW_SIZE}getRq(){return this._receiveSlidingWindow.size/A.getDefault().SLIDING_WINDOW_SIZE}getTq(){const e=this.getRq();if(0===e)return 0;{const t=this.getEq()/e;return t>1?A.getDefault().DEFAULT_QUALITY:t}}getLatencyQuality(e){const t=A.getDefault(),n=this.getAverageLatency();if(0===n)return t.DEFAULT_QUALITY;const r=e.aggregateConnections(e=>e.filterByProtocol(i.WEBRTC_DATA).filterByStates(s.OPEN)).map(e=>e.getMeter().getAverageLatency()).filter(e=>e>0);if(r.length<=1)return A.getDefault().DEFAULT_QUALITY;const o=r.reduce((e,t)=>t<e?t:e,Number.MAX_SAFE_INTEGER),a=r.reduce((e,t)=>t>e?t:e,0);switch(n){case o:return 1;case a:return 0;default:return 1-(n-o)/(a-o)}}getAverageLatency(){const e=A.getDefault(),t=this._latencyPerSequence.asArray();return 0===t.length?e.DEFAULT_QUALITY:Math.max(t.reduce((e,t)=>e+t,0)/t.length,e.DEFAULT_QUALITY)}getQuality(e){return(this.getTq()+this.getLatencyQuality(e))/2}onMessage(e){super.onMessage(e),e.getSubject()===u.PING?this.handlePing(e):e.getSubject()===u.PONG&&this.handlePong(e)}observeMessages(){return this._messageSubject}start(){super.start(),this._pingInterval=this._clock.setInterval(()=>{this.sendPing()},A.getDefault().TRANSMISSION_PING_INTERVAL)}stop(){super.stop(),this._pingInterval&&this._clock.clearInterval(this._pingInterval)}}class Y extends q{constructor(e,t,n){super(e,t,n),this._simplePeerOptions={trickle:!1}}createOffer(e){this._negotiationState=o.WAITING_FOR_OFFER,this._simplePeerOptions.initiator=!0,this._client=new d(this._simplePeerOptions),this._client.on("signal",t=>{const n=Object.assign(t,this.getAdditionalOfferPayload());b.getLogger(e).debug(`webrtc offer for ${this.getAddress().getId()} ready`,JSON.stringify(t)),this.onMessage(new C(this.getMyAddress(),new m(this.getAddress().getId()),u.CONNECTION_NEGOTIATION,n)),this._negotiationState=o.WAITING_FOR_ANSWER})}createAnswer(e,t){const n=t.payload;this._negotiationState=o.WAITING_FOR_ANSWER,this._simplePeerOptions.initiator=!1,this._client=new d(this._simplePeerOptions),this._client.signal(n),this._client.on("signal",t=>{b.getLogger(e).debug(`webrtc answer for ${this.getAddress().getId()} ready`,JSON.stringify(t)),this.onMessage(new C(this.getMyAddress(),new m(this.getAddress().getId()),u.CONNECTION_NEGOTIATION,t)),this._negotiationState=o.WAITING_FOR_ESTABLISH})}getMyAddress(){return new m(this._options.mitosisId,this.getAddress().getProtocol(),this.getId())}getRTCPeerConnection(){if(this._client)return this._client._pc}getStats(){const e=this.getRTCPeerConnection();return e?new Promise(t=>{e.getStats().then(e=>{const n=[];e.forEach(e=>{n.push(e)}),t(n)})}):Promise.reject(`no stats for missing connection to ${this.getMyAddress().getId()}`)}closeClient(){this._client?(this._client.destroy(),this._client=null):this.onClose("webrtc peer connection was closed and no client exists; probably other client has closed")}bindClientListeners(){this._client.on("connect",()=>{this.onOpen(this)}),this._client.on("data",e=>{this.onMessage(C.fromString(e))}),this._client.on("close",()=>{this.onClose("webrtc peer connection close")}),this._client.on("error",e=>{this.onError(e)})}openClient(){if(!this._options)throw new Error("webrtc cannot be opened without options");if(this._options.payload)switch(this._options.payload.type){case L.OFFER:this.createAnswer(this._options.mitosisId,this._options);break;case L.ANSWER:this.establish(this._options);break;default:throw new Error(`webrtc options unsupported ${this._options.payload.type}`)}else this.createOffer(this._options.mitosisId);this.bindClientListeners()}isInitiator(){return this._simplePeerOptions.initiator}send(e){if(!this._client)throw new Error("webrtc client not initialized");if(this.getState()!==s.OPEN)throw new Error(`webrtc cannot send to ${this.getState()} connection`);this._client.send(e.toString())}establish(e){const t=e.payload;b.getLogger(this._options.mitosisId).debug(`webrtc answer for ${this.getAddress().getId()} negotiating`,JSON.stringify(t)),this._client.signal(t)}}class Q extends Y{constructor(e,t,n){super(e,t,n),this._meter=new H(this,this.getMyAddress(),this.getAddress(),this._clock),this._meter.observeMessages().subscribe(this.sendMessageOverUnreliableChannel.bind(this))}sendMessageOverUnreliableChannel(e){this._unreliableChannel&&"open"===this._unreliableChannel.readyState&&this._unreliableChannel.send(e.toString())}listenOnUnreliableChannel(){this._unreliableChannel.onmessage=(e=>{const t=C.fromString(e.data);this._meter.onMessage(t)})}bindClientListeners(){super.bindClientListeners();const e=this.getRTCPeerConnection().ondatachannel;this.getRTCPeerConnection().ondatachannel=(t=>{t.channel.label===Q._statsDataChannelLabel?(this._unreliableChannel=t.channel,this.listenOnUnreliableChannel()):"function"==typeof e&&e.call(this._client,t)})}getAdditionalOfferPayload(){return{}}establish(e){super.establish(e),this._unreliableChannel=super.getRTCPeerConnection().createDataChannel(Q._statsDataChannelLabel,{ordered:!1,maxRetransmits:0}),this.listenOnUnreliableChannel()}}Q._statsDataChannelLabel="stats";class z extends j{getQuality(){return.1}isLastSeenExpired(){return!1}start(){}stop(){}}class K extends j{getQuality(){return 1}isLastSeenExpired(){return!1}start(){}stop(){}}class J extends q{constructor(e,t,n){super(e,t,n),this._meter=new K(this,t)}onSocketOpen(){this.onOpen(this)}onSocketClose(e){this.onClose(e)}onSocketMessage(e){this.onMessage(C.fromString(e.data))}onSocketError(e){this.onError(e)}closeClient(){this._client.close(),this._client=null}send(e){if(!this._client)throw new Error("socket client not initialized");if(this.getState()!==s.OPEN)throw new Error(`socket connection not in open state (${this.getState()})`);if(this._client.readyState!==WebSocket.OPEN)throw new Error(`socket client not in open state (${this._client.readyState})`);this._client.send(e.toString())}openClient(){this._client=new WebSocket(`${this._address.getProtocol()}://${this._address.getLocation()}`),this._client.onopen=this.onSocketOpen.bind(this),this._client.onclose=this.onSocketClose.bind(this),this._client.onmessage=this.onSocketMessage.bind(this),this._client.onerror=this.onSocketError.bind(this)}}const X=new Map;X.set(i.WEBSOCKET,J),X.set(i.WEBSOCKET_UNSECURE,J),X.set(i.WEBRTC_DATA,Q),X.set(i.WEBRTC_STREAM,class extends Y{constructor(e,t,n){super(e,t,n),this._meter=new z(this,t),this._streamSubject=new h.a,this.setStream(n.stream)}bindStreamListeners(){this._stream&&(this._stream.onactive=(()=>{this._streamSubject.next({type:a.ADDED,stream:this._stream,channelId:this._channelId})}),this._stream.oninactive=(()=>{this._streamSubject.next({type:a.REMOVED,stream:this._stream,channelId:this._channelId})}))}createAnswer(e,t){this._channelId=t.channelId,super.createAnswer(e,t)}getAdditionalOfferPayload(){return{channelId:this.getChannelId()||"any"}}closeClient(){this.removeStream(),super.closeClient()}bindClientListeners(){super.bindClientListeners(),this._client.on("track",(e,t)=>{this.setStream(t)}),this._client.on("stream",e=>{this.setStream(e)})}send(e){b.getLogger(this._address.getId()).error("stream connection can not send messages",e)}getChannelId(){return this._options.channelId||this._channelId}setStream(e){e?(this._stream=e,this._simplePeerOptions.stream=e,this.bindStreamListeners(),this._streamSubject.next({stream:this._stream,channelId:this._channelId,type:a.ADDED})):this.removeStream()}getStream(){return this._stream}removeStream(){if(this._stream){const e=this._stream;e.getTracks().forEach(e=>e.stop()),this._stream=null,this._streamSubject.next({stream:e,channelId:this._channelId,type:a.REMOVED})}}observeStreamChurn(){return this._streamSubject}}),X.set(i.VIA,W),X.set(i.VIA_MULTI,W);class Z{constructor(){this._rankPerSequenceMap=new Map}get length(){return this._rankPerSequenceMap.size}getHighestSequence(){return Array.from(this._rankPerSequenceMap.keys()).sort((e,t)=>e-t).pop()}cleanUpOldSequences(){const e=this.getHighestSequence();Array.from(this._rankPerSequenceMap.keys()).filter(t=>e-t>=A.getDefault().ROUTER_ALIVE_HIGHSCORE_WINDOW_SIZE).forEach(e=>{this._rankPerSequenceMap.delete(e)})}addSequence(e){this._rankPerSequenceMap.set(e,null),this.cleanUpOldSequences()}setRankForSequence(e,t){null===this._rankPerSequenceMap.get(e)&&this._rankPerSequenceMap.set(e,t)}hasReceivedSequence(e){return!!this._rankPerSequenceMap.get(e)}getAverageRanking(){const e=A.getDefault();if(0===this._rankPerSequenceMap.size)return 0;let t=0;const n=e.DIRECT_CONNECTIONS_MAX,r=this._rankPerSequenceMap.entries();let i=r.next();for(;!i.done;){const[e,s]=i.value;s&&(t+=(n-s+1)/n),i=r.next()}return Math.pow(t/this._rankPerSequenceMap.size||e.DEFAULT_ROUTER_RANK,2)}reset(){this._rankPerSequenceMap.clear()}}class ee{constructor(e,t,n){this._punishedConnections=0,this._protectedConnections=0,this._connectionsPerAddress=e,this._remotePeerId=t,this._clock=n,this._routerAliveHighScore=new Z,this.listenOnConnectionChurn()}listenOnConnectionChurn(){this._connectionsPerAddress.observe().pipe(Object(l.a)(e=>e.type===a.ADDED)).subscribe(e=>{e.value.getMeter().observe().subscribe(this.listenOnConnectionMeter.bind(this))})}listenOnConnectionMeter(e){switch(e.type){case k.PUNISHED:b.getLogger(e.connection.getAddress().getId()).info(`punish connection to ${e.connection.getAddress().getId()}`,e.connection),this._punishedConnections++,this._clock.setTimeout(()=>{this._punishedConnections--},A.getDefault().CONNECTION_METER_PUNISHMENT_TIME);break;case k.UNPUNISHED:break;case k.PROTECTED:this._protectedConnections++;break;case k.UNPROTECTED:this._protectedConnections--}}getConnectionTable(){return U.fromIterable(this._connectionsPerAddress.values())}getLastSeen(){return this.getConnectionTable().map(e=>e.getMeter().getLastSeen()).reduce((e,t)=>Math.min(e,t),0)}lastSeenIsExpired(){return!this.getConnectionTable().find(e=>!1===e.getMeter().isLastSeenExpired())}getAverageConnectionQuality(e){const t=this.getConnectionTable().filterByProtocol(i.WEBRTC_DATA,i.WEBSOCKET,i.WEBSOCKET_UNSECURE,i.VIA).filterByStates(s.OPEN);return 0===t.length?A.getDefault().DEFAULT_QUALITY:t.map(t=>t.getMeter().getQuality(e)).reduce((e,t)=>e+t,0)/t.length}getBestConnectionQuality(e){return this.getConnectionTable().map(t=>t.getMeter().getQuality(e)).reduce((e,t)=>Math.max(e,t),0)}getConnectionProtection(){return this.getConnectionTable().filterByProtocol(i.VIA).length<A.getDefault().DIRECT_CONNECTIONS_GOAL_MIN&&this._protectedConnections>0?1:0}getConnectionSaturation(e){const t=e.countConnections(e=>e.filterByProtocol(i.VIA).filterByLocation(this._remotePeerId))+e.filterById(this._remotePeerId).countConnections(e=>e.filterDirectData()),n=A.getDefault(),r=(n.DIRECT_CONNECTIONS_MAX-t)/n.DIRECT_CONNECTIONS_GOAL_MAX;return Math.min(Math.max(0,r),1)}getAverageConnectionPunishment(){const e=this._connectionsPerAddress.asTable().filter(e=>e.getAddress().isProtocol(i.WEBRTC_DATA,i.WEBSOCKET_UNSECURE,i.WEBSOCKET)),t=e.length-this._punishedConnections;return 0===e.length?0:t/e.length}getPeerUpdateQuality(e){return this.getBestConnectionQuality(e)*this.getConnectionSaturation(e)*this.getRouterLinkQuality()}getAverageRouterLinkQuality(e){const t=U.fromIterable(this._connectionsPerAddress.values());if(t.filterDirectData().length>0)return this.getRouterLinkQuality();const n=t.filterByProtocol(i.VIA);return 0===n.length?0:n.map(t=>t.getMeter().getRouterLinkQuality(e)).reduce((e,t)=>e+t,0)/n.length}getRouterLinkQuality(){const e=this.getRouterAliveHighScore().getAverageRanking();return 0===e?A.getDefault().DEFAULT_QUALITY:e}getAcquisitionQuality(e){return this.getAverageRouterLinkQuality(e)*this.getAverageConnectionQuality(e)*this.getConnectionSaturation(e)}getRouterAliveHighScore(){return this._routerAliveHighScore}getQuality(e){return this.getAverageConnectionQuality(e)*(this.getAverageConnectionPunishment()+this.getConnectionProtection())}start(){}stop(){this._clock.stop()}}class te extends x{}class ne extends Map{constructor(e){super(e),this._subject=new h.a}clear(){Array.from(this.values()).forEach(e=>this._subject.next({type:a.REMOVED,value:e})),super.clear()}delete(e){const t=this.get(e),n=super.delete(e);return n&&this._subject.next({type:a.REMOVED,value:t}),n}set(e,t){const n=super.set(e,t);return n&&this._subject.next({type:a.ADDED,value:t}),n}asTable(){return te.fromIterable(this.values())}keysAsList(){return Array.from(this.keys())}valuesAsList(){return Array.from(this.values())}entriesAsList(){return Array.from(this.entries())}observe(){return this._subject}destroy(){this._subject.complete()}}class re{constructor(e,t,n){this._id=e,this._mitosisId=t,this._clock=n,this._roleTypes=[w.PEER],this._connectionsPerAddress=new ne,this._openConnectionPromises=new Map,this._connectionChurnSubject=new h.a,this._meter=new ee(this._connectionsPerAddress,this._id,n.fork())}listenOnConnectionChanges(e){e.observeStateChange().subscribe(t=>{switch(t){case s.CLOSED:this.cleanUpRouterForLastDirect(e.getAddress()),this._connectionsPerAddress.delete(e.getAddress().toString()),this._connectionChurnSubject.next({connection:e,type:a.REMOVED})}b.getLogger(this._mitosisId).debug(`${e.getAddress().getProtocol()} connection to ${e.getAddress().getId()} ${t.toString()}`,e)})}cleanUpRouterForLastDirect(e){if(e.isProtocol(i.WEBRTC_DATA)){this.getConnectionTable().filterDirectData().length>0||this.getMeter().getRouterAliveHighScore().reset()}}openConnection(e){let t=this._openConnectionPromises.get(e);if(!t)switch(e.getState()){case s.OPEN:t=Promise.resolve(this);break;case s.CLOSING:case s.ERROR:t=Promise.reject(`will not connect to connection in ${e.getState()}`);break;case s.CLOSED:t=new Promise((t,n)=>{e.open().then(()=>{t(this)}).catch(e=>{n(e)}).finally(()=>{this._openConnectionPromises.delete(e)})}),this._openConnectionPromises.set(e,t);break;default:throw new Error("opening connection should be in map")}return t}createConnection(e,t){(t=t||{}).mitosisId=t.mitosisId||this._mitosisId;const n=X.get(e.getProtocol());if(!n)throw new Error(`unsupported protocol ${e.getProtocol()}`);const r=new n(e,this._clock.fork(),t);return this._connectionsPerAddress.set(e.toString(),r),this._connectionChurnSubject.next({connection:r,type:a.ADDED}),this.listenOnConnectionChanges(r),r}getId(){return this._id}getRoles(){return this._roleTypes}setRoles(e){this._roleTypes=e}getPublicKey(){return this._publicKey}getConnectionTable(){return U.fromIterable(this._connectionsPerAddress.values())}getMeter(){return this._meter}getQuality(e){return this._meter.getQuality(e)}getConnectionForAddress(e){return this._connectionsPerAddress.get(e.toString())}hasRole(...e){return this._roleTypes.filter(t=>e.indexOf(t)>=0).length>0}connect(e,t){const n=this.getMeter().getAverageConnectionPunishment();if(n<0)return b.getLogger(this._mitosisId).warn(`punish value of ${this.getId()} is ${n}`),Promise.reject(`can not connect to peer ${this.getId()} because its punish value is ${n}`);let r=this._connectionsPerAddress.get(e.toString());return r||(r=this.createConnection(e,t)),this.openConnection(r).catch(t=>(b.getLogger(this._mitosisId).error(`can not open connection to ${e.getId()}`,t),Promise.reject(t)))}observeChurn(){return this._connectionChurnSubject}toString(){return JSON.stringify({id:this._id,roles:this._roleTypes,connections:this._connectionsPerAddress.keysAsList()},void 0,2)}destroy(){this._meter.stop(),this._connectionsPerAddress.forEach(e=>e.close()),this.observeChurn().subscribe(()=>{0===this._connectionsPerAddress.size&&this._connectionChurnSubject.complete()}),this._clock.stop()}}class ie extends x{filterConnections(e){return new ie(this._values.filter(t=>e(t.getConnectionTable()).length>0))}aggregateConnections(e){return new U(this._values.map(e=>e.getConnectionTable()).map(t=>e(t).asArray()).reduce((e,t)=>e.concat(t),[]))}filterByRole(...e){return new ie(this._values.filter(t=>t.hasRole(...e)))}filterIsProtected(e){return new ie(this._values.filter(t=>t.getMeter().getConnectionProtection()===(e?1:0)))}filterById(e){return new ie(this._values.filter(t=>t.getId()===e))}sortByQuality(e=(e=>e.getQuality(this))){return this.sortBy(t=>e(t.getMeter()))}countConnections(e=(e=>e)){return this._values.map(t=>e(t.getConnectionTable()).length).reduce((e,t)=>e+t,0)}sortById(){return this.sortBy(e=>e.getId())}toString(){return JSON.stringify(this._values.map(e=>e.getId()),void 0,2)}}class se{constructor(e,t,n){this._myId=e,this._roleManager=t,this._acquisitionBoost=0,this._clock=n,this._peers=[],this._peerChurnSubject=new h.a,this._peerConnectionChurnSubject=new h.a}onConnectionRemoved(e,t){0===t.getConnectionTable().length&&(this.removePeer(t),this.sendUnknownPeerToDirectPeers(t.getId())),0===t.getConnectionTable().filterDirectData().length&&this.getPeerTable().forEach(e=>e.getConnectionTable().filterByProtocol(i.VIA,i.VIA_MULTI).filterByLocation(t.getId()).forEach(e=>{b.getLogger(this._myId).warn("close via connection because parent connection was closed",e),e.close()})),this._peerConnectionChurnSubject.next({connection:e,type:a.REMOVED})}onConnectionAdded(e,t){this._peerConnectionChurnSubject.next({connection:e,type:a.ADDED})}getConfiguration(){return this._roleManager.getConfiguration()}broadcastAllowed(e){switch(e.getSubject()){case u.ROUTER_ALIVE:return!this._roleManager.hasRole(w.SIGNAL);default:return!1}}sendUnknownPeerToDirectPeers(e){this.getPeerTable().filterConnections(e=>e.filterDirect().filterByStates(s.OPEN)).forEach(t=>{this.sendMessageToPeer(t,new M(new m(this.getMyId()),new m(t.getId()),e))}),b.getLogger(this.getMyId()).warn(`tell direct peers that peer ${e} does not exist anymore`)}broadcast(e){if(this.broadcastAllowed(e)){let t=this.getPeerTable().filterConnections(e=>e.filterDirectData().filterByStates(s.OPEN));e.getInboundAddress()&&(t=t.exclude(t=>t.filterById(e.getInboundAddress().getId()))),t.forEach(t=>this.sendMessageToPeer(t,e))}else b.getLogger(this.getMyId()).warn(`${e.getSubject()} is not allowed to be broadcast`)}updateViaPeer(e,t,n){e.getConnectionTable().filterByProtocol(i.VIA,i.VIA_MULTI).filterByLocation(t).forEach(e=>{const t=e.getMeter();t.updateLastSeen(),n&&t.setQuality(n)})}resolvePeer(e){if(!e){if(!this._roleManager.hasRole(w.ROUTER)){const e=this.getPeerTable().filterByRole(w.ROUTER).pop();if(e)return this.resolvePeer(e)}return}if(this.getPeerTable().filterById(e.getId()).countConnections(e=>e.filterDirectData().filterByStates(s.OPEN))>0)return e;if(e){let t;const n=e.getConnectionTable().filterByProtocol(i.VIA,i.VIA_MULTI);if(t=e.hasRole(w.ROUTER)?n.sortBy(e=>e.getMeter().getRouterLinkQuality(this.getPeerTable())).pop():n.sortByQuality(this.getPeerTable()).pop())return this.getPeerById(t.getAddress().getLocation())}}sendMessageToPeer(e,t){const n=e.getConnectionTable().filterByStates(s.OPEN).filterDirectData().sortByQuality(this.getPeerTable()).pop();if(!n)return b.getLogger(this.getMyId()).error(`sending failed because no connection to ${e.getId()}`,t,e),!1;try{return n.send(t),b.getLogger(this.getMyId()).debug(`sending ${t.getSubject()} to ${n.getAddress().getId()}`,t),!0}catch(e){return b.getLogger(this.getMyId()).error(`cannot send ${t.getSubject()} to ${n.getAddress().getId()}`,e),n.close(),!1}}getMyId(){return this._myId}connectTo(e,t){let n=this.getPeerById(e.getId());if(n&&n.getConnectionForAddress(e))return Promise.resolve(n);const r=this.getPeerTable().filterConnections(e=>e.filterDirect());if(!e.isProtocol(i.VIA,i.VIA_MULTI)&&r.length>=this.getConfiguration().DIRECT_CONNECTIONS_MAX){const t=`rejecting ${e.getId()} because max connections reached`;return b.getLogger(this.getMyId()).error(t),Promise.reject(t)}return n||((n=new re(e.getId(),this._myId,this._clock.fork())).observeChurn().pipe(Object(l.a)(e=>e.type===a.REMOVED)).subscribe(e=>this.onConnectionRemoved(e.connection,n)),n.observeChurn().pipe(Object(l.a)(e=>e.type===a.ADDED)).subscribe(e=>this.onConnectionAdded(e.connection,n)),this._peers.push(n),this._peerChurnSubject.next({peer:n,type:a.ADDED})),n.connect(e,t).then(()=>n).catch(t=>(b.getLogger(this._myId).warn(`cannot open connection to ${e.getId()}`,t),Promise.reject(t)))}connectToVia(e,t){const n=this.getPeerById(e.getLocation());if(n){b.getLogger(this.getMyId()).info(`connect to via ${e.getId()}`,e);const r=n.getConnectionTable().filterDirectData().filterByStates(s.OPEN).shift();if(!r){const t=`cannot connect to ${e.getId()} because parent has no open direct connection`;return b.getLogger(this._myId).error(t),Promise.reject(t)}return(t=t||{payload:{}}).payload.quality=r.getMeter().getQuality(this.getPeerTable()),t.payload.parent=r,this.connectTo(e,t)}{const t=`cannot connect to ${e.getId()} because via ${e.getLocation()} is missing`;return b.getLogger(this._myId).error(t),Promise.reject(t)}}ensureConnection(e,t){const n=this.getPeerById(e.getId());if(!n)return e.getId()===e.getLocation()?Promise.reject(`direct connection to ${e.getId()} disappeared`):(b.getLogger(this.getMyId()).info(`ensure connection to new peer ${e.getId()}`,e),this.connectToVia(e,t));if(n.getId()===this._myId)return Promise.reject("will not connect to myself");if(n.getConnectionForAddress(e)){if(e.isProtocol(i.VIA,i.VIA_MULTI)){let r;t&&t.payload.quality&&(r=t.payload.quality),this.updateViaPeer(n,e.getLocation(),r),b.getLogger(this._myId).debug(`update ${e.getProtocol()} connection ${n.getId()}`,n)}return Promise.resolve(n)}return b.getLogger(this.getMyId()).info(`add new via connection to existing peer ${e.getId()}`,e),this.connectToVia(e,t)}getAcquisitionBoost(){return this._acquisitionBoost}activateAcquisitionBoost(){this._acquisitionBoost=this.getConfiguration().DIRECT_CONNECTION_BOOST_AMOUNT,this._clock.setTimeout(()=>{this._acquisitionBoost=0},this.getConfiguration().DIRECT_CONNECTION_BOOST_TIMEOUT)}sendPeerUpdate(e){const t=this.getPeerTable().filterByRole(w.PEER).filterConnections(e=>e.filterDirectData().filterByStates(s.OPEN)),n=new B(new m(this.getMyId()),new m(e),t,this.getPeerTable());this.sendMessage(n)}sendPeerSuggestion(e){const t=this.getPeerTable().filterByRole(w.PEER).filterConnections(e=>e.filterDirectData().filterByStates(s.OPEN)),n=new D(new m(this.getMyId()),new m(e),t,this.getPeerTable());b.getLogger(this.getMyId()).debug(`send peer suggestion to ${e}`),this.sendMessage(n)}handleRouterAlive(e,t){const n=e.getBody().sequence,r=this.getPeerById(e.getInboundAddress().getId()),i=this.getPeerTable().filterConnections(e=>e.filterDirectData());if(t){const t=this.getPeerById(e.getSender().getId());t&&t.setRoles([w.PEER,w.ROUTER]),i.forEach(e=>e.getMeter().getRouterAliveHighScore().addSequence(n)),r.getMeter().getRouterAliveHighScore().setRankForSequence(n,1)}else{const e=i.filter(e=>e.getMeter().getRouterAliveHighScore().hasReceivedSequence(n));r.getMeter().getRouterAliveHighScore().setRankForSequence(n,e.length+1)}}updateSuggestedPeers(e,t){const n=e.getSender().getId(),r=[];e.getBody().filter(e=>e.peerId!==this._myId).forEach(e=>{r.push(e.peerId);const n=!!this.getPeerById(e.peerId);this.ensureConnection(new m(e.peerId,i.VIA_MULTI,t)).then(t=>{n||t.setRoles(e.roles)}).catch(e=>b.getLogger(this.getMyId()).debug(e))}),this.getPeerTable().forEach(e=>e.getConnectionTable().filterByProtocol(i.VIA).filterByLocation(n).filter(e=>-1===r.indexOf(e.getAddress().getId())).forEach(e=>e.close()))}updatePeers(e,t){const n=e.getSender().getId(),r=[];n===t?(e.getBody().filter(e=>e.peerId!==this._myId).forEach(e=>{r.push(e.peerId);this.getPeerById(e.peerId);this.ensureConnection(new m(e.peerId,i.VIA,n),{payload:{quality:e.quality}}).then(t=>{t.setRoles(e.roles)}).catch(e=>b.getLogger(this.getMyId()).debug(e))}),this.getPeerTable().forEach(e=>e.getConnectionTable().filterByProtocol(i.VIA).filterByLocation(n).filter(e=>-1===r.indexOf(e.getAddress().getId())).forEach(e=>e.close()))):b.getLogger(this.getMyId()).error(`will not accept peer-update from ${n} via ${t}`,e)}negotiateConnection(e){const t=b.getLogger(this._myId),n=e.getSender(),r=e.getReceiver(),o=e.getBody(),a=(this.getPeerById(e.getInboundAddress().getId()),this.getPeerTable().countConnections(e=>e.filterDirect().filterByStates(s.OPEN)));let c=a>=this.getConfiguration().DIRECT_CONNECTIONS_MAX;if(this._roleManager.hasRole(w.ROUTER)&&(c=a>=this.getConfiguration().DIRECT_CONNECTIONS_GOAL_MAX),c&&o.type===L.OFFER){t.debug(`i have ${a} connections`),t.info("too many connections already",e);const i=new C(r,new m(n.getId()),u.CONNECTION_NEGOTIATION,{type:L.REJECTION});return this.sendMessage(i),void this.sendPeerSuggestion(n.getId())}const h={mitosisId:this._myId,payload:{type:o.type,sdp:o.sdp}};switch(o.type){case L.OFFER:this.connectTo(n,h).catch(e=>t.warn(`${n.getProtocol()} offer connection to ${n} failed`,e));break;case L.ANSWER:this.connectTo(n).then(r=>{const i=r.getConnectionForAddress(n);i?i.establish(h):t.error(`${n.getProtocol()} connection ${n.getLocation()} not found`,e)}).catch(e=>t.warn(`${n.getProtocol()} answer connection to ${n} failed`,e));break;case L.REJECTION:this.getPeerById(n.getId()).getConnectionTable().filterByProtocol(i.WEBRTC_DATA).filterByStates(s.OPENING).forEach(e=>{t.warn(`${n.getProtocol()} connection negotiation rejected by ${n}`,e),e.close()});break;default:throw new Error(`unsupported ${n.getProtocol()} connection negotiation type ${o.type}`)}}sendMessage(e){if(e.getTtl()<1)return b.getLogger(this._myId).warn(`message ${e.getId()} from ${e.getSender().getId()} timed out`,e),!1;if(e.decreaseTtl(),e.getReceiver().getId()===A.getDefault().BROADCAST_ADDRESS)return void this.broadcast(e);let t;const n=e.getReceiver().getProtocol();return(t=n?n===i.VIA||n===i.VIA_MULTI?this.getPeerById(e.getReceiver().getLocation()):this.getPeerById(e.getReceiver().getId()):this.resolvePeer(this.getPeerById(e.getReceiver().getId())))?this.sendMessageToPeer(t,e):(b.getLogger(this._myId).warn(`failed to send message to ${e.getReceiver().getId()}`,e),!1)}getPeerTable(){return new ie(this._peers)}getPeerById(e){return this._peers.find(t=>t.getId()===e)}removePeer(e){const t=this._peers.indexOf(e);t>-1&&this._peers.splice(t,1),this._peerChurnSubject.next({peer:e,type:a.REMOVED}),e.destroy()}observePeerChurn(){return this._peerChurnSubject}observePeerConnectionChurn(){return this._peerConnectionChurnSubject}toString(){return JSON.stringify({count:this._peers.length,remotePeers:this._peers},void 0,2)}destroy(){this._peerChurnSubject.complete(),this._peers.forEach(e=>this.removePeer(e)),this._clock.stop()}}class oe{constructor(){this._initialized=!1}isInitialized(){return this._initialized}onInit(e){}onConnectionClose(e,t){}onConnectionOpen(e,t){}onMessage(e,t){}requiresPeer(e){return!1}}class ae extends C{constructor(e,t){super(e,t,u.INTRODUCTION,null)}getBody(){return this._body}}function ce(e){const t=new ae(e.getMyAddress(),e.getSignalAddress());b.getLogger(e.getMyAddress().getId()).debug("connecting to signal"),e.getPeerManager().connectTo(e.getSignalAddress()).then(n=>{n.setRoles([w.SIGNAL]),e.getPeerManager().sendMessage(t)}).catch(t=>b.getLogger(e.getMyAddress().getId()).warn("connecting to signal failed",t))}function ue(e){e.getPeerTable().forEach(e=>{const t=e.getConnectionTable().filterDirect().filterByStates(s.OPEN);t.length<=1||Object.values(i).forEach(e=>{t.filter(t=>t.getAddress().isProtocol(e)).sortBy(e=>e.getAddress().getLocation()).slice(1).forEach(e=>e.close())})})}function he(e){const t=e.getRoleManager();t.hasRole(w.ROUTER,w.NEWBIE)||0===e.getPeerManager().getPeerTable().filterByRole(w.ROUTER).countConnections()&&(b.getLogger(e.getMyAddress().getId()).info("lost all connections to router, becoming a newbie again"),t.getRoles().forEach(e=>t.removeRole(e)),t.addRole(w.NEWBIE),e.getPeerManager().getPeerTable().forEach(e=>e.getMeter().getRouterAliveHighScore().reset()))}function le(e){if(e.getRoleManager().hasRole(w.ROUTER))return;0===e.getPeerManager().getPeerTable().filterByRole(w.ROUTER).countConnections()&&(b.getLogger(e.getMyAddress().getId()).debug("lost all connections to router"),e.getRoleManager().addRole(w.NEWBIE))}class de extends C{constructor(e,t,n){super(e,t,u.CHANNEL_ANNOUNCEMENT,n)}getBody(){return this._body}}function fe(e){const t=e.getStreamManager().getChannelTable().filter(e=>e.getProviderTable().has(e=>e.isSource()&&e.isLive()&&e.isActive())).map(t=>{const n=t.asAnnouncement(),r=e.getMyAddress().getId(),i=n.providers.find(e=>e.peerId===r),s=e.getStreamManager().getMyCapacity();return i?i.capacity=s:n.providers.push({peerId:r,capacity:s}),n});0!==t.length&&e.getPeerManager().getPeerTable().filterByRole(w.PEER).filterConnections(e=>e.filterDirect().filterByStates(s.OPEN)).forEach(n=>{const r=new de(e.getMyAddress(),new m(n.getId()),t);e.getPeerManager().sendMessage(r)})}class ge extends C{constructor(e,t){super(e,t,u.PEER_ALIVE,null)}getBody(){return this._body}}function pe(e){if(e.getRoleManager().hasRole(w.ROUTER))return;e.getPeerManager().getPeerTable().filterByRole(w.ROUTER).filterConnections(e=>e.filterByStates(s.OPEN)).exclude(e=>e.filterConnections(e=>e.filterByProtocol(i.VIA,i.WEBRTC_DATA,i.WEBSOCKET,i.WEBSOCKET_UNSECURE))).forEach(t=>e.getPeerManager().sendMessage(new ge(e.getMyAddress(),new m(t.getId()))))}function _e(e){e.getPeerManager().getPeerTable().filterByRole(w.PEER).filterConnections(e=>e.filterDirectData().filterByStates(s.OPEN)).forEach(t=>e.getPeerManager().sendPeerUpdate(t.getId()))}function ye(e){e.getPeerManager().getPeerTable().aggregateConnections(e=>e.filterByMeter(e=>e.isLastSeenExpired())).forEach(t=>{b.getLogger(e.getMyAddress().getId()).debug(`removing expired connection ${t.getAddress().getId()}`,t),t.close()})}function be(e){if(e.getRoleManager().hasRole(w.ROUTER))return;const t=e.getPeerManager().getPeerTable(),n=t.filterByRole(w.SIGNAL).filterConnections(e=>e.filterDirect().filterByStates(s.OPEN));if(0===n.length)return;if(e.getRoleManager().hasRole(w.NEWBIE))return;const r=t.filterByRole(w.ROUTER).aggregateConnections(e=>e.filterByStates(s.OPEN).exclude(e=>e.filterByLocation(...n.map(e=>e.getId())))),i=t.exclude(e=>e.filterByRole(w.SIGNAL)).aggregateConnections(e=>e.filterDirectData().filterByStates(s.OPEN));0===r.length||i.length<2||(b.getLogger(e.getMyAddress().getId()).info("close connection to signals",`routers: ${r.length}`,`connections: ${i.length}`,...n),n.forEach(e=>e.getConnectionTable().filterDirectData().forEach(e=>e.close())))}function me(e,t){if(t<1)return;const n=e.getRoleManager().getConfiguration(),r=n.DIRECT_CONNECTIONS_GOAL_MAX,i=n.DIRECT_CONNECTIONS_GOAL_MIN,o=e.getPeerManager().getPeerTable().filterConnections(e=>e.filterDirectData().filterByStates(s.OPEN)),a=o.aggregateConnections(e=>e.filterDirectData().filterByStates(s.OPEN));let c=o.filter(t=>0===e.getRoleManager().getRolesRequiringPeer(t).length).filterIsProtected(!1);const u=o.filter(e=>1===e.getMeter().getRouterLinkQuality()).pop();u&&(c=c.filter(e=>e.getId()!==u.getId()));const h=c.aggregateConnections(e=>e.filterDirectData().filterByStates(s.OPEN)).sortBy(t=>t.getMeter().isProtected()?1:t.getMeter().getQuality(e.getPeerManager().getPeerTable())),l=Math.max(h.length-i,0),d=Math.max(a.length-r,0),f=Math.min(l,d,t);f>0?h.slice(0,f).forEach(t=>{b.getLogger(e.getMyAddress().getId()).debug(`loosing worst connection ${t.getAddress().getId()}`,t),t.close()}):b.getLogger(e.getMyAddress().getId()).warn("can not loose peers because no closable connection is available")}function ve(e){const t=e.getRoleManager().getConfiguration(),n=e.getPeerManager().getPeerTable().countConnections(e=>e.filterDirectData().filterByStates(s.OPEN));me(e,n-t.DIRECT_CONNECTIONS_GOAL_MAX)}function Ee(e){e.getStreamManager().getChannelTable().has(e=>e.isActive())||e.getStreamManager().getChannelTable().map(t=>t.getProviderTable().filter(t=>t.getCapacity()>0&&t.getPeerId()!==e.getMyAddress().getId()).map(e=>({peerId:e.getPeerId(),channelId:t.getId()}))).reduce((e,t)=>e.concat(t),[]).forEach(t=>{const n=new C(new m(e.getMyAddress().getId(),i.WEBRTC_STREAM),new m(t.peerId),u.CONNECTION_NEGOTIATION,{type:L.REQUEST,channelId:t.channelId});e.getPeerManager().sendMessage(n)})}function Ce(e,t){if(t<1)return[];const n=e.getPeerManager().getPeerTable();let r=n.filterConnections(e=>e.filterByProtocol(i.VIA)).filterByRole(w.PEER).exclude(e=>e.filterConnections(e=>e.filterDirectData()));return r.length<=1&&(r=n.filterConnections(e=>e.filterByProtocol(i.VIA,i.VIA_MULTI)).filterByRole(w.PEER).exclude(e=>e.filterConnections(e=>e.filterDirectData()))),r.exclude(e=>e.filter(e=>e.getMeter().getAverageConnectionPunishment()<0)),r.sortBy(e=>e.getMeter().getAcquisitionQuality(n)).reverse().slice(0,t).map(t=>{const n=new m(t.getId(),i.WEBRTC_DATA);return b.getLogger(e.getMyAddress().getId()).debug(`connecting to ${t.getId()} with quality ${t.getMeter().getQuality(e.getPeerManager().getPeerTable())}`,t),e.getPeerManager().connectTo(n).catch(n=>b.getLogger(e.getMyAddress().getId()).debug(`can not acquire ${t.getId()}`,n))})}function Se(e){const t=e.getRoleManager().getConfiguration(),n=e.getPeerManager().getPeerTable().countConnections(e=>e.filterDirectData().filterByStates(s.OPEN,s.OPENING)),r=e.getPeerManager().getAcquisitionBoost(),i=t.DIRECT_CONNECTIONS_GOAL_MIN-n+r;if(i>0){b.getLogger(e.getMyAddress().getId()).debug(`need to acquire ${i} peers`,`min goal is ${t.DIRECT_CONNECTIONS_GOAL_MIN}`,`boost is ${r}`,`already have ${n} connections`);const s=Ce(e,i);Promise.all(s).catch(t=>b.getLogger(e.getMyAddress().getId()).warn("could not satisfy connection goal",t))}}function we(e){const t=e.getRoleManager().getConfiguration(),n=e.getPeerManager().getPeerTable(),r=n.aggregateConnections(e=>e.filterDirectData().filterByStates(s.OPEN,s.OPENING)),i=r.length,o=r.filterByStates(s.OPENING).length;if(i<t.DIRECT_CONNECTIONS_GOAL_MIN||o>0)return;const a=Math.min(t.TRY_OTHER_PEERS_COUNT+e.getPeerManager().getAcquisitionBoost(),t.DIRECT_CONNECTIONS_MAX-i);Ce(e,a).forEach(t=>t.then(()=>{n.countConnections(e=>e.filterDirectData().filterByStates(s.OPEN,s.OPENING))>i&&me(e,1)}).catch(t=>b.getLogger(e.getMyAddress().getId()).warn("could not try new peers",t)))}function Ie(e){const t=e.getRoleManager(),n=0===e.getPeerTable().filterByRole(w.SIGNAL).length;t.hasRole(w.ROUTER)&&n&&(b.getLogger(e.getMyAddress().getId()).debug("lost signal connection"),t.removeRole(w.ROUTER))}function Te(e){const t=e.getPeerManager().getPeerTable().filterByRole(w.SIGNAL,w.ROUTER).filterConnections(e=>e.filterDirectData().filterByStates(s.OPEN));t.forEach(n=>e.getPeerManager().sendMessage(new B(e.getMyAddress(),new m(n.getId()),t,e.getPeerManager().getPeerTable())))}class Re extends C{constructor(e,t,n){super(e,t,u.ROUTER_ALIVE,null),this._body=n}getBody(){return this._body}}function Ae(e){const t=e.getRoleManager().getRole(w.ROUTER);if(!t)return;const n=t.nextSequenceNumber();e.getPeerManager().sendMessage(new Re(e.getMyAddress(),new m(A.getDefault().BROADCAST_ADDRESS),{sequence:n}))}class Pe extends C{constructor(e,t,n){super(e,t,u.ROLE_UPDATE,n)}getBody(){return this._body}}function Oe(e,t,n){n.getPeerManager().getPeerById(e.getId()).setRoles(t);const r=new Pe(n.getMyAddress(),e,t);n.getPeerManager().sendMessage(r)}function Me(e,t){const n=t.getSender(),r=e.getPeerManager().getPeerTable().filterByRole(w.ROUTER).filterConnections(e=>e.filterDirect().filterByStates(s.OPEN,s.OPENING)),i=r.filter(e=>e.getId()===n.getId()).length;t.getSubject()===u.INTRODUCTION&&(i||r.length<A.getDefault().MAX_ROUTERS_PER_SIGNAL?Oe(n,[w.PEER,w.ROUTER],e):Oe(n,[w.PEER],e),function(e,t,n){const r=new B(n.getMyAddress(),e,t,n.getPeerManager().getPeerTable());n.getPeerManager().sendMessage(r)}(n,r,e))}const Ne=new Map;Ne.set(w.PEER,class extends oe{getTaskSchedule(){return[{phase:I.CLEAN,interval:1,task:be},{phase:I.CLEAN,interval:1,task:ue},{phase:I.CLEAN,interval:1,task:ye},{phase:I.CLEAN,interval:1,task:ve},{phase:I.CLEAN,interval:1,task:he},{phase:I.CLEAN,interval:1,task:le},{phase:I.ACQUIRE,interval:1,task:Se},{phase:I.ACQUIRE,interval:1,task:Ee},{phase:I.ACQUIRE,interval:60,task:we},{phase:I.PUBLISH,interval:4,task:_e},{phase:I.PUBLISH,interval:2,task:fe},{phase:I.PUBLISH,interval:4,task:pe}]}onInit(e){e.getPeerManager().activateAcquisitionBoost()}onMessage(e,t){!function(e,t){const n=e.getRoleManager().getConfiguration(),r=e.getPeerManager();t.getSubject()===u.CONNECTION_NEGOTIATION&&t.getReceiver().getId()===r.getMyId()&&r.getPeerTable().countConnections(e=>e.filterDirectData().filterByStates(s.OPEN))>=n.DIRECT_CONNECTIONS_MAX&&r.getPeerTable().filterById(t.getSender().getId()).exclude(e=>e.filterConnections(e=>e.filterDirectData().filterByStates(s.OPEN))).forEach(e=>r.sendPeerSuggestion(e.getId()))}(e,t)}}),Ne.set(w.NEWBIE,class extends oe{getTaskSchedule(){return[{phase:I.PUBLISH,interval:1,task:ce}]}requiresPeer(e){return e.hasRole(w.SIGNAL)}}),Ne.set(w.ROUTER,class extends oe{constructor(){super(...arguments),this._sequenceNumber=1}getTaskSchedule(){return[{phase:I.CLEAN,interval:1,task:Ie},{phase:I.PUBLISH,interval:4,task:Te},{phase:I.PUBLISH,interval:4,task:Ae}]}requiresPeer(e){return e.hasRole(w.SIGNAL)}nextSequenceNumber(){return this._sequenceNumber++}}),Ne.set(w.SIGNAL,class extends oe{getTaskSchedule(){return[{phase:I.PUBLISH,interval:4,task:Te}]}onMessage(e,t){Me(e,t)}requiresPeer(e){return e.hasRole(w.ROUTER)}});class Le{constructor(e,t){this._myId=e,this._roles=new ne,this._roleChurnSubject=new h.a,t.forEach(e=>this.addRole(e))}static getConfigurationForRoles(e){return e.map(e=>({priority:T.get(e),config:A.get(e)})).reduce((e,t)=>e.priority<t.priority?t:e,{priority:0,config:A.getDefault()}).config}addRole(e){if(!this._roles.has(e)){const t=new(Ne.get(e));this._roles.set(e,t),this._roleChurnSubject.next({type:a.ADDED,role:e}),b.getLogger(this._myId).info(`added role ${e}`,`now have roles: ${this.getRoles()}`)}}removeRole(e){this._roles.delete(e),this._roleChurnSubject.next({type:a.REMOVED,role:e}),b.getLogger(this._myId).info(`removed role ${e}`,`left with roles: ${this.getRoles()}`)}updateRoles(e){const t=e.getBody();this._roles.forEach((e,n)=>{-1===t.indexOf(n)&&this.removeRole(n)}),t.forEach(e=>{this.addRole(e)})}onTick(e){this._roles.valuesAsList().forEach(t=>{t.isInitialized()||t.onInit(e)}),this._roles.entriesAsList().map(e=>e[1].getTaskSchedule().map(t=>Object.assign({type:e[0],role:e[1]},t))).reduce((e,t)=>e.concat(t),[]).filter(t=>e.getClock().getTick()%t.interval==0).sort(e=>{const t=T.get(e.type);return 100*e.phase+t}).reverse().forEach(t=>t.task(e))}onMessage(e,t){this._roles.forEach(n=>n.onMessage(e,t))}onConnectionOpen(e,t){this._roles.forEach(n=>n.onConnectionOpen(e,t))}onConnectionClose(e,t){this._roles.forEach(n=>n.onConnectionClose(e,t))}getConfiguration(){return Le.getConfigurationForRoles(Array.from(this._roles.keys()))}getRolesRequiringPeer(e){return this.getRoles().filter(t=>this._roles.get(t).requiresPeer(e))}getRoles(){return Array.from(this._roles.keys())}hasRole(...e){return this.getRoles().filter(t=>e.indexOf(t)>=0).length>0}getRole(e){return this._roles.get(e)}observeRoleChurn(){return this._roleChurnSubject}toString(){return JSON.stringify({count:this._roles.size,roleTypes:Array.from(this._roles.keys())},void 0,2)}destroy(){this._roles.clear(),this._roleChurnSubject.complete()}}class ke{constructor(e,t=0){this._peerId=e,this._capacity=t,this._streamChurnSubject=new h.a}isActive(){return!!this._stream&&this._stream.active}setIsSource(){this._isSource=!0}setIsSink(){this._isSource=!1}isSource(){return!!this._stream&&this._isSource}isSink(){return!!this._stream&&!this._isSource}isLive(){return!!this._stream&&this._stream.getTracks().map(e=>"live"===e.readyState).includes(!0)}isLocal(){return!!this._stream&&this._stream.getTracks().map(e=>!e.remote).includes(!0)}getPeerId(){return this._peerId}getStreamId(){if(this._stream)return this._stream.id}getStream(){return this._stream}setStream(e){this._streamChurnSubject.next({type:a.ADDED,stream:e,channelId:null}),this._stream=e}getCapacity(){return this._capacity}setCapacity(e){this._capacity=e}observeStreamChurn(){return this._streamChurnSubject}destroy(){this._stream&&(this._stream.getTracks().forEach(e=>e.stop()),this._streamChurnSubject.next({type:a.REMOVED,stream:this._stream,channelId:null}),this._stream=null),this._streamChurnSubject.complete()}toString(){return JSON.stringify({id:this._peerId,capacity:this._capacity,stream:this.getStreamId(),active:this.isActive(),live:this.isLive(),local:this.isLocal()},void 0,2)}}class De{constructor(e){this._id=e,this._providerPerId=new ne,this._streamChurnSubject=new h.a}isActive(){return this._providerPerId.asTable().has(e=>e.isActive())}getId(){return this._id}isLive(){return this._providerPerId.asTable().has(e=>e.isLive())}addProvider(e){e.observeStreamChurn().subscribe(e=>this._streamChurnSubject.next({type:e.type,stream:e.stream,channelId:this._id})),this._providerPerId.set(e.getPeerId(),e)}removeProvider(e){const t=this.getProvider(e);return t&&t.destroy(),this._providerPerId.delete(e)}getOrSetProvider(e){let t=this.getProvider(e);return t||(t=new ke(e),this.addProvider(t)),t}getProvider(e){return this._providerPerId.get(e)}getProviderTable(){return this._providerPerId.asTable()}getMediaStream(){const e=this._providerPerId.asTable().find(e=>e.isActive()&&e.isLive()&&e.isSource());if(e)return e.getStream()}asAnnouncement(){return{channelId:this._id,providers:this._providerPerId.asTable().map(e=>({peerId:e.getPeerId(),capacity:e.getCapacity()}))}}observeProviderChurn(){return this._providerPerId.observe()}observeStreamChurn(){return this._streamChurnSubject}destroy(){this._providerPerId.forEach(e=>e.destroy()),this._providerPerId.destroy(),this._streamChurnSubject.complete()}toString(){return JSON.stringify({id:this._id,providers:this._providerPerId.keysAsList()},void 0,2)}}class Be{constructor(e,t){this._myId=e,this._peerManager=t,this._channelPerId=new ne,this.listenOnChannelChurn()}cleanUpEmptyChannels(){this._channelPerId.observe().pipe(Object(l.a)(e=>e.type===a.ADDED)).subscribe(e=>{const t=e.value;t.observeProviderChurn().pipe(Object(l.a)(e=>e.type===a.REMOVED)).subscribe(()=>{0===t.getProviderTable().length&&this.removeChannel(t.getId())})})}pushMyOwnChannelsOut(){this._channelPerId.observe().pipe(Object(l.a)(e=>e.type===a.ADDED&&e.value.getProviderTable().has(e=>e.getPeerId()===this._myId&&e.isActive()&&e.isLive()&&e.isSource()))).subscribe(e=>this.pushStream(e.value.getId(),e.value.getMediaStream()))}listenOnChannelChurn(){this.cleanUpEmptyChannels(),this.pushMyOwnChannelsOut()}setCapacityForPeer(e,t){this._channelPerId.asTable().forEach(n=>{n.getOrSetProvider(e).setCapacity(t)})}pushStreamTo(e,t,n){const r=new m(n,i.WEBRTC_STREAM),s=t.clone(),o={mitosisId:this._myId,channelId:e,stream:s};this._peerManager.connectTo(r,o).then(t=>{b.getLogger(this._myId).info(`pushing stream to ${t.getId()}`,t);const r=this.getOrSetChannel(e).getOrSetProvider(n);r.setStream(s),r.setIsSink()}).catch(e=>{b.getLogger(this._myId).info(`can not open stream to ${n}`,e)})}pushStream(e,t){this._peerManager.getPeerTable().filterByRole(w.PEER).filter(t=>!this.getOrSetChannel(e).getProvider(t.getId())&&!this.amIAlreadyStreamingTo(t.getId())).exclude(e=>e.filterConnections(e=>e.filterByProtocol(i.WEBRTC_STREAM))).filterConnections(e=>e.filterDirect().filterByStates(s.OPEN)).sortByQuality().reverse().slice(0,this.getMyCapacity()).forEach(n=>this.pushStreamTo(e,t,n.getId()))}onConnectionAddedStream(e,t){const n=this.getOrSetChannel(e.getChannelId()),r=e.getAddress().getId(),i=n.getOrSetProvider(r);i.setStream(t),i.setIsSource(),e.isInitiator()||this.pushStream(n.getId(),t)}onConnectionRemovedStream(e){const t=this._channelPerId.get(e.getChannelId());if(t){const n=e.getAddress().getId();t.removeProvider(n)}}amIAlreadyStreamingTo(e){const t=this._peerManager.getPeerById(e);return!!t&&t.getConnectionTable().filterByProtocol(i.WEBRTC_STREAM).length>0}getOrSetChannel(e){let t=this._channelPerId.get(e);return t||(t=new De(e),this._channelPerId.set(t.getId(),t),b.getLogger(this._myId).info(`adding channel ${t.getId()}`,t)),t}removeChannel(e){const t=this._channelPerId.get(e);return t&&(t.destroy(),b.getLogger(this._myId).info(`removing channel ${t.getId()}`,t)),this._channelPerId.delete(e)}getMyCapacity(){const e=this._peerManager.getPeerTable().countConnections(e=>e.filterByStates(s.OPENING,s.OPEN).filterByProtocol(i.WEBRTC_STREAM).filter(e=>e.isInitiator())),t=A.getDefault();return Math.max(0,t.OUTBOUND_STREAM_CONNECTIONS-e)}onConnectionOpen(e){if(e.getAddress().getProtocol()===i.WEBRTC_STREAM){const t=e,n=t.getStream();n&&this.onConnectionAddedStream(t,n),t.observeStreamChurn().subscribe(e=>{switch(e.type){case a.ADDED:this.onConnectionAddedStream(t,e.stream);break;case a.REMOVED:this.onConnectionRemovedStream(t)}})}}onConnectionClose(e){if(e.getAddress().getProtocol()===i.WEBRTC_STREAM){const t=e;this.onConnectionRemovedStream(t)}}negotiateConnection(e){const t=b.getLogger(this._myId),n=e.getSender(),r=e.getReceiver(),a=e.getBody(),c=new C(r,n,u.CONNECTION_NEGOTIATION,{type:L.REJECTION,channelId:a.channelId});if(a.type===L.OFFER){if(!a.channelId)return void t.error("got stream offer without channel id",e);{const n=this.getLocalChannel();if(n&&n.getId()===a.channelId)return t.info("will not accept offer for my own channel",e),void this._peerManager.sendMessage(c);const r=this._peerManager.getPeerTable().aggregateConnections(e=>e.filterByProtocol(i.WEBRTC_STREAM).filterByStates(s.OPENING,s.OPEN).filter(e=>e.getChannelId()===a.channelId).filter(e=>!e.isInitiator()).filter(e=>e.getNegotiationState()>=o.WAITING_FOR_ANSWER));if(r.length>0){if(r.count(e=>e.getNegotiationState()<o.ESTABLISHED)>0)return t.info("already got pending providers for this channel offer",e),void this._peerManager.sendMessage(c);if(this.getOrSetChannel(a.channelId).getProviderTable().count(e=>e.isActive()&&e.isLive()&&e.isSource())>0)return t.info("already got active provider for this channel offer",e),void this._peerManager.sendMessage(c)}}}const h={mitosisId:this._myId,channelId:a.channelId,payload:{type:a.type,sdp:a.sdp}};switch(a.type){case L.REQUEST:if(this.getMyCapacity()>0)if(this.amIAlreadyStreamingTo(n.getId()))t.info(`already streaming to ${n.getId()}, ignoring request`,e);else{const r=a.channelId,i=this.getOrSetChannel(r);i.getProviderTable().has(e=>e.isSource()&&e.isLive()&&e.isActive())?this.pushStreamTo(r,i.getMediaStream(),n.getId()):t.info(`no active stream for this channel, ignoring request from ${n.getId()}`,e)}else t.info(`no capacity to fulfill stream request from ${n.getId()}`,e);break;case L.OFFER:n.getProtocol()===i.WEBRTC_STREAM&&(h.channelId=e.getBody().channelId),this._peerManager.connectTo(n,h).catch(e=>t.warn(`stream offer connection to ${n} failed`,e));break;case L.ANSWER:this._peerManager.connectTo(n).then(r=>{const i=r.getConnectionForAddress(n);i?i.establish(h):t.error(`stream connection ${n.getLocation()} not found`,e)}).catch(e=>t.warn(`stream answer connection to ${n} failed`,e));break;case L.REJECTION:this.setCapacityForPeer(n.getId(),0),t.info(`got stream rejection from ${n.getId()}, setting capacity 0`,e),this._peerManager.getPeerById(n.getId()).getConnectionTable().filterByLocation(r.getLocation()).forEach(e=>{t.warn(`stream connection negotiation rejected by ${n}`,e),e.close()});break;default:throw new Error(`unsupported stream connection negotiation type ${a.type}`)}}getChannelTable(){return this._channelPerId.asTable()}getLocalChannel(){return this.getChannelTable().find(e=>e.getProviderTable().has(e=>e.getPeerId()===this._myId))}getLocalStream(){const e=this.getLocalChannel();if(e)return e.getMediaStream()}setLocalStream(e){this.unsetLocalStream();const t=this.getOrSetChannel(function(){if("undefined"==typeof crypto){let e=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})}return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}()),n=t.getOrSetProvider(this._myId);n.setStream(e),n.setIsSource(),b.getLogger(this._myId).info(`adding local channel ${t.getId()}`,t)}unsetLocalStream(){const e=this.getLocalChannel();e&&this.removeChannel(e.getId())}updateProviders(e){e.forEach(e=>{const t=this.getOrSetChannel(e.channelId);e.providers.forEach(e=>{e.peerId!==this._myId&&this._peerManager.getPeerById(e.peerId)&&(t.getOrSetProvider(e.peerId),this.setCapacityForPeer(e.peerId,e.capacity))})})}observeChannelChurn(){return this._channelPerId.observe()}destroy(){this._channelPerId.forEach(e=>e.destroy()),this._channelPerId.destroy()}}class xe{constructor(e=null,t=null,n=null,r=null,i=null){e||(e=new p).start(),this._clock=e,t||(t=new y),this._enclave=t,n?(this._myAddress=m.fromString(n),this._myId=this._myAddress.getId()):(this._myId=`p${Math.round(1e3+8999*Math.random())}`,this._myAddress=new m(this._myId)),i&&i.length||(i=[w.NEWBIE]),this._roleManager=new Le(this._myId,i),r||(r=this._roleManager.getConfiguration().DEFAULT_SIGNAL_ADDRESS),this._signalAddress=m.fromString(r),this._peerManager=new se(this._myId,this._roleManager,this._clock.fork()),this._streamManager=new Be(this._myId,this._peerManager),this._messageBroker=new N(this._peerManager,this._roleManager,this._streamManager),this._inbox=new h.a,this._internalMessages=new h.a,this.listenOnMessages(),this.listenOnAppContentMessages(),this.listenOnConnectionChurn(),this._clock.setInterval(this.onTick.bind(this)),this._logger=b.getLogger(this._myId),this._logger.setClock(this._clock),this._logger.info(`i am a ${i.join(" and a ")}`)}listenOnAppContentMessages(){this._messageBroker.observeAppContentMessages().subscribe(e=>this._inbox.next(e))}listenOnMessages(){this._messageBroker.observeMessages().subscribe(e=>{this._roleManager.onMessage(this,e)}),this._messageBroker.observeIncomingMessages().subscribe(e=>this._internalMessages.next(e))}listenOnConnectionChurn(){this._peerManager.observePeerConnectionChurn().subscribe(e=>{switch(e.type){case a.ADDED:this.listenOnConnectionStateChange(e.connection);break;case a.REMOVED:}})}listenOnConnectionStateChange(e){e.observeStateChange().subscribe(t=>{switch(t){case s.OPEN:this._streamManager.onConnectionOpen(e),this._roleManager.onConnectionOpen(this,e);break;case s.CLOSED:this._streamManager.onConnectionClose(e),this._roleManager.onConnectionClose(this,e)}})}onTick(){try{this._roleManager.onTick(this)}catch(e){throw this._logger.error(e.message,e),e}}getMyAddress(){return this._myAddress}getSignalAddress(){return this._signalAddress}getPeerTable(){return this._peerManager.getPeerTable()}getPeerManager(){return this._peerManager}getInbox(){return this._inbox}observeInternalMessages(){return this._internalMessages}getRoleManager(){return this._roleManager}getStreamManager(){return this._streamManager}getClock(){return this._clock}sendMessageTo(e,t){const n=new S(this.getMyAddress(),new m(e),t);this._peerManager.sendMessage(n)}destroy(){this._inbox.complete(),this._internalMessages.complete(),this._peerManager.destroy(),this._streamManager.destroy(),this._roleManager.destroy(),this._messageBroker.destroy(),this._clock.stop()}toJSON(){const e=this.getPeerManager().getPeerTable(),t=t=>({id:t.getAddress().getId(),quality:t.getMeter().getQuality(e),state:t.getState()}),n=e.aggregateConnections(e=>e.filterByProtocol(i.WEBSOCKET,i.WEBSOCKET_UNSECURE)).map(t),r=e.aggregateConnections(e=>e.filterByProtocol(i.WEBRTC_DATA)).map(t),s=e.aggregateConnections(e=>e.filterByProtocol(i.WEBRTC_STREAM)).filter(e=>e.isInitiator()).map(t),o=this.getStreamManager().getChannelTable().map(e=>({id:e.getId(),providers:e.getProviderTable().map(e=>({peerId:e.getPeerId(),isActive:e.isActive(),isLocal:e.isLocal(),capacity:e.getCapacity()}))}));return{id:this.getMyAddress().getId(),roles:this.getRoleManager().getRoles(),connections:{wss:n,"webrtc-data":r,"webrtc-stream":s},channels:o}}}}).call(this,n(6),n(13).Buffer)},function(e,t,n){e.exports=n(28)},function(e,t,n){"use strict";n.r(t);var r=n(26);const i=document.querySelector("video"),s=document.querySelector("button"),o=new r.a,a=e=>{"added"===e.type&&(i.srcObject=e.stream,i.play())};o.getStreamManager().observeChannelChurn().subscribe(e=>e.value.observeStreamChurn().subscribe(a)),s.addEventListener("click",()=>{navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(e=>{o.getStreamManager().setLocalStream(e)})})},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=u(e),r=n[0],o=n[1],a=new s(function(e,t,n){return 3*(t+n)/4-n}(0,r,o)),c=0,h=o>0?r-4:r,l=0;l<h;l+=4)t=i[e.charCodeAt(l)]<<18|i[e.charCodeAt(l+1)]<<12|i[e.charCodeAt(l+2)]<<6|i[e.charCodeAt(l+3)],a[c++]=t>>16&255,a[c++]=t>>8&255,a[c++]=255&t;2===o&&(t=i[e.charCodeAt(l)]<<2|i[e.charCodeAt(l+1)]>>4,a[c++]=255&t);1===o&&(t=i[e.charCodeAt(l)]<<10|i[e.charCodeAt(l+1)]<<4|i[e.charCodeAt(l+2)]>>2,a[c++]=t>>8&255,a[c++]=255&t);return a},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],o=0,a=n-i;o<a;o+=16383)s.push(h(e,o,o+16383>a?a:o+16383));1===i?(t=e[n-1],s.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return s.join("")};for(var r=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=o.length;a<c;++a)r[a]=o[a],i[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function h(e,t,n){for(var i,s,o=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var s,o,a=8*i-r-1,c=(1<<a)-1,u=c>>1,h=-7,l=n?i-1:0,d=n?-1:1,f=e[t+l];for(l+=d,s=f&(1<<-h)-1,f>>=-h,h+=a;h>0;s=256*s+e[t+l],l+=d,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=r;h>0;o=256*o+e[t+l],l+=d,h-=8);if(0===s)s=1-u;else{if(s===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),s-=u}return(f?-1:1)*o*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var o,a,c,u=8*s-i-1,h=(1<<u)-1,l=h>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:s-1,g=r?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+l>=1?d/c:d*Math.pow(2,1-l))*c>=2&&(o++,c/=2),o+l>=h?(a=0,o=h):o+l>=1?(a=(t*c-1)*Math.pow(2,i),o+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&a,f+=g,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[n+f]=255&o,f+=g,o/=256,u-=8);e[n+f-g]|=128*p}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(r){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(33)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(6))},function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function o(...e){if(!o.enabled)return;const t=o,i=Number(new Date),s=i-(n||i);t.diff=s,t.prev=n,t.curr=i,n=i,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;a++;const s=r.formatters[i];if("function"==typeof s){const r=e[a];n=s.call(t,r),e.splice(a,1),a--}return n}),r.formatArgs.call(t,e),(t.log||r.log).apply(t,e)}return o.namespace=e,o.enabled=r.enabled(e),o.useColors=r.useColors(),o.color=t(e),o.destroy=i,o.extend=s,"function"==typeof r.init&&r.init(o),r.instances.push(o),o}function i(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function s(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){const e=[...r.names.map(o),...r.skips.map(o).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(34),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t){var n=1e3,r=60*n,i=60*r,s=24*i,o=7*s,a=365.25*s;function c(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*o;case"days":case"day":case"d":return c*s;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return c(e,t,s,"day");if(t>=i)return c(e,t,i,"hour");if(t>=r)return c(e,t,r,"minute");if(t>=n)return c(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){e.exports=function(){if("undefined"==typeof window)return null;var e={RTCPeerConnection:window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,RTCSessionDescription:window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription,RTCIceCandidate:window.RTCIceCandidate||window.mozRTCIceCandidate||window.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}},function(e,t,n){"use strict";(function(t,r){var i=n(16).Buffer,s=t.crypto||t.msCrypto;s&&s.getRandomValues?e.exports=function(e,n){if(e>65536)throw new Error("requested too many random bytes");var o=new t.Uint8Array(e);e>0&&s.getRandomValues(o);var a=i.from(o.buffer);if("function"==typeof n)return r.nextTick(function(){n(null,a)});return a}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n(7),n(6))},function(e,t,n){(t=e.exports=n(19)).Stream=t,t.Readable=t,t.Writable=n(23),t.Duplex=n(11),t.Transform=n(25),t.PassThrough=n(46)},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){},function(e,t,n){"use strict";var r=n(16).Buffer,i=n(41);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,s=r.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,n=s,i=a,t.copy(n,i),a+=o.data.length,o=o.next;return s},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function s(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new s(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new s(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(43),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(7))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,s,o,a,c=1,u={},h=!1,l=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){g(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){g(e.data)},r=function(e){s.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,r=function(e){var t=l.createElement("script");t.onreadystatechange=function(){g(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(g,0,e)}:(o="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&g(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),r=function(t){e.postMessage(o+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[c]=i,r(c),c++},d.clearImmediate=f}function f(e){delete u[e]}function g(e){if(h)setTimeout(g,0,e);else{var t=u[e];if(t){h=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{f(e),h=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(7),n(6))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(7))},function(e,t,n){var r=n(13),i=r.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=o),s(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";e.exports=s;var r=n(25),i=n(14);function s(e){if(!(this instanceof s))return new s(e);r.call(this,e)}i.inherits=n(10),i.inherits(s,r),s.prototype._transform=function(e,t,n){n(null,e)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvcGlwZS50cyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvT2JzZXJ2YWJsZS50cyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC90b1N1YnNjcmliZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvY2FuUmVwb3J0RXJyb3IudHMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IudHMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL1N1YmplY3RTdWJzY3JpcHRpb24udHMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL1N1YmplY3QudHMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL2NvbmZpZy50cyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9TdWJzY3JpYmVyLnRzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL3RyeUNhdGNoLnRzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IudHMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL1N1YnNjcmlwdGlvbi50cyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9pc09iamVjdC50cyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbHRlci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvaG9zdFJlcG9ydEVycm9yLnRzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9pbmhlcml0cy9pbmhlcml0c19icm93c2VyLmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fZHVwbGV4LmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9PYnNlcnZlci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9jb3JlLXV0aWwtaXMvbGliL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvaXNGdW5jdGlvbi50cyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvc2FmZS1idWZmZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3Byb2Nlc3MtbmV4dGljay1hcmdzL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9zaW1wbGUtcGVlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX3JlYWRhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvc3RyZWFtLWJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9kZXN0cm95LmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fd3JpdGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0cmluZ19kZWNvZGVyL2xpYi9zdHJpbmdfZGVjb2Rlci5qcyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX3RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nvbm5lY3Rpb24vaW50ZXJmYWNlLnRzIiwid2VicGFjazovLy8uLi9zcmMvaW50ZXJmYWNlLnRzIiwid2VicGFjazovLy8uLi9zcmMvbG9nZ2VyL2ludGVyZmFjZS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21lc3NhZ2UvaW50ZXJmYWNlLnRzIiwid2VicGFjazovLy8uLi9zcmMvY2xvY2svY2xvY2sudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jbG9jay9mb3JrZWQudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jbG9jay9tYXN0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9lbmNsYXZlL2VuY2xhdmUudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9lbmNsYXZlL3NlY3VyZS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2xvZ2dlci9sb2dnZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tZXNzYWdlL2FkZHJlc3MudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy91dGlsL2RlZmF1bHQtbWFwLnRzIiwid2VicGFjazovLy8uLi9zcmMvbWVzc2FnZS9tZXNzYWdlLnRzIiwid2VicGFjazovLy8uLi9zcmMvdXRpbC9zdHJpbmctZnVuY3Rpb25zLnRzIiwid2VicGFjazovLy8uLi9zcmMvbWVzc2FnZS9hcHAtY29udGVudC50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JvbGUvaW50ZXJmYWNlLnRzIiwid2VicGFjazovLy8uLi9zcmMvY29uZmlndXJhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21ldGVyaW5nL3NsaWRpbmctd2luZG93LnRzIiwid2VicGFjazovLy8uLi9zcmMvbWVzc2FnZS9mbG9vZGluZy1oYW5kbGVyLnRzIiwid2VicGFjazovLy8uLi9zcmMvbWVzc2FnZS91bmtub3duLXBlZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tZXNzYWdlL21lc3NhZ2UtYnJva2VyLnRzIiwid2VicGFjazovLy8uLi9zcmMvbWVzc2FnZS9jb25uZWN0aW9uLW5lZ290aWF0aW9uLnRzIiwid2VicGFjazovLy8uLi9zcmMvbWV0ZXJpbmcvY29ubmVjdGlvbi1tZXRlci9pbnRlcmZhY2UudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tZXNzYWdlL3BlZXItc3VnZ2VzdGlvbi50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21lc3NhZ2UvcGVlci11cGRhdGUudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy91dGlsL3RhYmxlLnRzIiwid2VicGFjazovLy8uLi9zcmMvY29ubmVjdGlvbi9jb25uZWN0aW9uLXRhYmxlLnRzIiwid2VicGFjazovLy8uLi9zcmMvbWV0ZXJpbmcvY29ubmVjdGlvbi1tZXRlci9jb25uZWN0aW9uLW1ldGVyLnRzIiwid2VicGFjazovLy8uLi9zcmMvbWV0ZXJpbmcvY29ubmVjdGlvbi1tZXRlci92aWEtY29ubmVjdGlvbi1tZXRlci50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nvbm5lY3Rpb24vY29ubmVjdGlvbi50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nvbm5lY3Rpb24vdmlhLnRzIiwid2VicGFjazovLy8uLi9zcmMvbWVzc2FnZS9waW5nLnRzIiwid2VicGFjazovLy8uLi9zcmMvbWVzc2FnZS9wb25nLnRzIiwid2VicGFjazovLy8uLi9zcmMvbWV0ZXJpbmcvY29ubmVjdGlvbi1tZXRlci9sYXRlbmN5LXN0b3B3YXRjaC50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21ldGVyaW5nL2Nvbm5lY3Rpb24tbWV0ZXIvdHJhbnNtaXNzaW9uLWNvbm5lY3Rpb24tbWV0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb25uZWN0aW9uL3dlYnJ0Yy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nvbm5lY3Rpb24vd2VicnRjLWRhdGEudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tZXRlcmluZy9jb25uZWN0aW9uLW1ldGVyL3N0cmVhbS1jb25uZWN0aW9uLW1ldGVyLnRzIiwid2VicGFjazovLy8uLi9zcmMvbWV0ZXJpbmcvY29ubmVjdGlvbi1tZXRlci9ub29wLWNvbm5lY3Rpb24tbWV0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb25uZWN0aW9uL3dlYnNvY2tldC50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nvbm5lY3Rpb24vcHJvdG9jb2wtbWFwLnRzIiwid2VicGFjazovLy8uLi9zcmMvY29ubmVjdGlvbi93ZWJydGMtc3RyZWFtLnRzIiwid2VicGFjazovLy8uLi9zcmMvbWV0ZXJpbmcvcm91dGVyLWFsaXZlLWhpZ2hzY29yZS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21ldGVyaW5nL3JlbW90ZS1wZWVyLW1ldGVyLnRzIiwid2VicGFjazovLy8uLi9zcmMvdXRpbC90YWJsZS12aWV3LnRzIiwid2VicGFjazovLy8uLi9zcmMvdXRpbC9vYnNlcnZhYmxlLW1hcC50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BlZXIvcmVtb3RlLXBlZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9wZWVyL3JlbW90ZS1wZWVyLXRhYmxlLnRzIiwid2VicGFjazovLy8uLi9zcmMvcGVlci9wZWVyLW1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL3JvbGUudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tZXNzYWdlL2ludHJvZHVjdGlvbi50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JvbGUvdGFzay9zZW5kLWludHJvZHVjdGlvbi50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JvbGUvdGFzay9jbG9zZS1kdXBsaWNhdGUtY29ubmVjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL3Rhc2svZGVncmFkZS10by1uZXdiaWUudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL3Rhc2svZW5zdXJlLXJvdXRlci1jb25uZWN0aW9uLnRzIiwid2VicGFjazovLy8uLi9zcmMvbWVzc2FnZS9jaGFubmVsLWFubm91bmNlbWVudC50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JvbGUvdGFzay9wdWJsaXNoLWNoYW5uZWwtYW5ub3VuY2VtZW50LnRzIiwid2VicGFjazovLy8uLi9zcmMvbWVzc2FnZS9wZWVyLWFsaXZlLnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS90YXNrL3B1Ymxpc2gtcGVlci1hbGl2ZS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JvbGUvdGFzay9wdWJsaXNoLXBlZXItdXBkYXRlLnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS90YXNrL3JlbW92ZS1leHBpcmVkLWNvbm5lY3Rpb25zLnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS90YXNrL3JlbW92ZS1zaWduYWwudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL3Rhc2svbG9vc2UtZGlyZWN0LWNvbm5lY3Rpb25zLnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS90YXNrL3JlbW92ZS1zdXBlcmZsdW91cy1jb25uZWN0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JvbGUvdGFzay9yZXF1ZXN0LXN0cmVhbS1jb25uZWN0aW9uLnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS90YXNrL2FjcXVpcmUtZGlyZWN0LWNvbm5lY3Rpb25zLnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS90YXNrL3NhdGlzZnktY29ubmVjdGlvbi1nb2FsLnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS90YXNrL3RyeS1vdGhlci1wZWVycy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JvbGUvdGFzay9kZWdyYWRlLXRvLXBlZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL3Rhc2svcHVibGlzaC1zaWduYWwtYW5kLXJvdXRlci11cGRhdGUudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tZXNzYWdlL3JvdXRlci1hbGl2ZS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JvbGUvdGFzay9zZW5kLXJvdXRlci1hbGl2ZS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21lc3NhZ2Uvcm9sZS11cGRhdGUudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL3Rhc2svb25ib2FyZC1uZXdiaWUudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL3JvbGUtbWFwLnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS9wZWVyLnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS90YXNrL3NlbmQtYWx0ZXJuYXRpdmVzLnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS9uZXdiaWUudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yb2xlL3JvdXRlci50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JvbGUvc2lnbmFsLnRzIiwid2VicGFjazovLy8uLi9zcmMvcm9sZS9yb2xlLW1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zdHJlYW0vcHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zdHJlYW0vY2hhbm5lbC50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3N0cmVhbS9zdHJlYW0tbWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3V0aWwvdXVpZC50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL21pdG9zaXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYXNlNjQtanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2llZWU3NTQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9icm93c2VyLmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvY29tbW9uLmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9tcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvZ2V0LWJyb3dzZXItcnRjL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9yYW5kb21ieXRlcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vcmVhZGFibGUtYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvaXNhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vbWl0b3Npcy9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL0J1ZmZlckxpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RpbWVycy1icm93c2VyaWZ5L21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NldGltbWVkaWF0ZS9zZXRJbW1lZGlhdGUuanMiLCJ3ZWJwYWNrOi8vLy4uL21pdG9zaXMvbm9kZV9tb2R1bGVzL3V0aWwtZGVwcmVjYXRlL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NhZmUtYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9taXRvc2lzL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fcGFzc3Rocm91Z2guanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJwaXBlRnJvbUFycmF5IiwiZm5zIiwibGVuZ3RoIiwiaW5wdXQiLCJyZWR1Y2UiLCJwcmV2IiwiZm4iLCJub29wIiwiT2JzZXJ2YWJsZV9PYnNlcnZhYmxlIiwiT2JzZXJ2YWJsZSIsInN1YnNjcmliZSIsInRoaXMiLCJfaXNTY2FsYXIiLCJfc3Vic2NyaWJlIiwibGlmdCIsIm9wZXJhdG9yIiwib2JzZXJ2YWJsZSIsInNvdXJjZSIsIm9ic2VydmVyT3JOZXh0IiwiZXJyb3IiLCJjb21wbGV0ZSIsInNpbmsiLCJuZXh0T3JPYnNlcnZlciIsIlN1YnNjcmliZXIiLCJyeFN1YnNjcmliZXIiLCJPYnNlcnZlciIsInRvU3Vic2NyaWJlciIsImFkZCIsImNvbmZpZyIsInVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmciLCJzeW5jRXJyb3JUaHJvd2FibGUiLCJfdHJ5U3Vic2NyaWJlIiwic3luY0Vycm9yVGhyb3duIiwic3luY0Vycm9yVmFsdWUiLCJlcnIiLCJvYnNlcnZlciIsIl9hIiwiY2xvc2VkXzEiLCJjbG9zZWQiLCJkZXN0aW5hdGlvbiIsImlzU3RvcHBlZCIsImNhblJlcG9ydEVycm9yIiwiY29uc29sZSIsIndhcm4iLCJmb3JFYWNoIiwibmV4dCIsInByb21pc2VDdG9yIiwiX3RoaXMiLCJnZXRQcm9taXNlQ3RvciIsInJlc29sdmUiLCJyZWplY3QiLCJzdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZSIsInN1YnNjcmliZXIiLCJvYnNlcnZhYmxlX29ic2VydmFibGUiLCJwaXBlIiwiX2kiLCJhcmd1bWVudHMiLCJvcGVyYXRpb25zIiwidG9Qcm9taXNlIiwieCIsIlByb21pc2UiLCJFcnJvciIsIk9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbCIsIm1lc3NhZ2UiLCJTdWJqZWN0U3Vic2NyaXB0aW9uX1N1YmplY3RTdWJzY3JpcHRpb24iLCJfc3VwZXIiLCJTdWJqZWN0U3Vic2NyaXB0aW9uIiwic3ViamVjdCIsInRzbGliX2VzNiIsIm9ic2VydmVycyIsInN1YnNjcmliZXJJbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJTdWJqZWN0X1N1YmplY3RTdWJzY3JpYmVyIiwiU3ViamVjdFN1YnNjcmliZXIiLCJTdWJqZWN0X1N1YmplY3QiLCJTdWJqZWN0IiwiaGFzRXJyb3IiLCJTdWJqZWN0X0Fub255bW91c1N1YmplY3QiLCJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsImxlbiIsImNvcHkiLCJzbGljZSIsInRocm93bkVycm9yIiwiU3Vic2NyaXB0aW9uIiwiRU1QVFkiLCJwdXNoIiwiYXNPYnNlcnZhYmxlIiwiQW5vbnltb3VzU3ViamVjdCIsIl9fd2VicGFja19leHBvcnRzX18iLCJfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MiLCJ1bmRlZmluZWQiLCJzdGFjayIsIl9fZXh0ZW5kcyIsImV4dGVuZFN0YXRpY3MiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsIl9fIiwiY29uc3RydWN0b3IiLCJkZXN0aW5hdGlvbk9yTmV4dCIsIl9wYXJlbnRTdWJzY3JpcHRpb24iLCJfT2JzZXJ2ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsIlNhZmVTdWJzY3JpYmVyIiwidHNsaWJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIl9pbnRlcm5hbF9zeW1ib2xfcnhTdWJzY3JpYmVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18iLCJfbmV4dCIsIl9lcnJvciIsIl9jb21wbGV0ZSIsIl91bnN1YnNjcmliZUFuZFJlY3ljbGUiLCJfcGFyZW50IiwiX3BhcmVudHMiLCJfcGFyZW50U3Vic2NyaWJlciIsImNvbnRleHQiLCJfdXRpbF9pc0Z1bmN0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJfY29udGV4dCIsIl9jb25maWdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyIsIl9fdHJ5T3JTZXRFcnJvciIsIl9fdHJ5T3JVbnN1YiIsIl91dGlsX2hvc3RSZXBvcnRFcnJvcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fIiwid3JhcHBlZENvbXBsZXRlIiwicGFyZW50IiwiX3Vuc3Vic2NyaWJlIiwidHJ5Q2F0Y2hUYXJnZXQiLCJ0cnlDYXRjaGVyIiwiYXBwbHkiLCJlIiwiZXJyb3JPYmplY3QiLCJ0cnlDYXRjaCIsIlVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsIiwiZXJyb3JzIiwibWFwIiwidG9TdHJpbmciLCJqb2luIiwiU3Vic2NyaXB0aW9uX1N1YnNjcmlwdGlvbiIsIl9zdWJzY3JpcHRpb25zIiwiZW1wdHkiLCJoYXNFcnJvcnMiLCJpbmRleCIsInJlbW92ZSIsImlzRnVuY3Rpb24iLCJVbnN1YnNjcmlwdGlvbkVycm9yIiwiZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzIiwiaXNBcnJheSIsInN1YiIsImNvbmNhdCIsInRlYXJkb3duIiwiX2FkZFBhcmVudCIsInRtcCIsInN1YnNjcmlwdGlvbnMiLCJzdWJzY3JpcHRpb25JbmRleCIsImVycnMiLCJmaWx0ZXIiLCJwcmVkaWNhdGUiLCJ0aGlzQXJnIiwiRmlsdGVyT3BlcmF0b3IiLCJGaWx0ZXJTdWJzY3JpYmVyIiwicmVzdWx0IiwiY291bnQiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwicHJvY2VzcyIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImFycmF5IiwibmV4dFRpY2siLCJhcmdzIiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiZyIsIkZ1bmN0aW9uIiwid2luZG93IiwiTWF0aCIsInJhbmRvbSIsImhvc3RSZXBvcnRFcnJvciIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsIlRlbXBDdG9yIiwicG5hIiwib2JqZWN0S2V5cyIsImtleXMiLCJvYmoiLCJEdXBsZXgiLCJ1dGlsIiwiaW5oZXJpdHMiLCJSZWFkYWJsZSIsIldyaXRhYmxlIiwidiIsIm1ldGhvZCIsIm9wdGlvbnMiLCJyZWFkYWJsZSIsImFsbG93SGFsZk9wZW4iLCJvbmVuZCIsIl93cml0YWJsZVN0YXRlIiwiZW5kZWQiLCJvbkVuZE5UIiwic2VsZiIsImVuZCIsImhpZ2hXYXRlck1hcmsiLCJfcmVhZGFibGVTdGF0ZSIsImRlc3Ryb3llZCIsInNldCIsIl9kZXN0cm95IiwiY2IiLCJfY29uZmlnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfdXRpbF9ob3N0UmVwb3J0RXJyb3JfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsImdsb2JhbCIsImJhc2U2NCIsImllZWU3NTQiLCJrTWF4TGVuZ3RoIiwiQnVmZmVyIiwiVFlQRURfQVJSQVlfU1VQUE9SVCIsImNyZWF0ZUJ1ZmZlciIsInRoYXQiLCJSYW5nZUVycm9yIiwiVWludDhBcnJheSIsImFyZyIsImVuY29kaW5nT3JPZmZzZXQiLCJhbGxvY1Vuc2FmZSIsImZyb20iLCJUeXBlRXJyb3IiLCJBcnJheUJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJieXRlTGVuZ3RoIiwiZnJvbUFycmF5TGlrZSIsImZyb21BcnJheUJ1ZmZlciIsInN0cmluZyIsImVuY29kaW5nIiwiaXNFbmNvZGluZyIsImFjdHVhbCIsIndyaXRlIiwiZnJvbVN0cmluZyIsImlzQnVmZmVyIiwiY2hlY2tlZCIsImJ1ZmZlciIsInZhbCIsInR5cGUiLCJkYXRhIiwiZnJvbU9iamVjdCIsImFzc2VydFNpemUiLCJzaXplIiwiaXNWaWV3IiwibG93ZXJlZENhc2UiLCJ1dGY4VG9CeXRlcyIsImJhc2U2NFRvQnl0ZXMiLCJ0b0xvd2VyQ2FzZSIsInN3YXAiLCJiaWRpcmVjdGlvbmFsSW5kZXhPZiIsImlzTmFOIiwiYXJyYXlJbmRleE9mIiwibGFzdEluZGV4T2YiLCJhcnIiLCJpbmRleFNpemUiLCJhcnJMZW5ndGgiLCJ2YWxMZW5ndGgiLCJTdHJpbmciLCJyZWFkIiwiYnVmIiwicmVhZFVJbnQxNkJFIiwiZm91bmRJbmRleCIsImZvdW5kIiwiaiIsImhleFdyaXRlIiwib2Zmc2V0IiwiTnVtYmVyIiwicmVtYWluaW5nIiwic3RyTGVuIiwicGFyc2VkIiwicGFyc2VJbnQiLCJzdWJzdHIiLCJ1dGY4V3JpdGUiLCJibGl0QnVmZmVyIiwiYXNjaWlXcml0ZSIsInN0ciIsImJ5dGVBcnJheSIsImNoYXJDb2RlQXQiLCJhc2NpaVRvQnl0ZXMiLCJsYXRpbjFXcml0ZSIsImJhc2U2NFdyaXRlIiwidWNzMldyaXRlIiwidW5pdHMiLCJoaSIsImxvIiwidXRmMTZsZVRvQnl0ZXMiLCJiYXNlNjRTbGljZSIsInN0YXJ0IiwiZnJvbUJ5dGVBcnJheSIsInV0ZjhTbGljZSIsIm1pbiIsInJlcyIsInNlY29uZEJ5dGUiLCJ0aGlyZEJ5dGUiLCJmb3VydGhCeXRlIiwidGVtcENvZGVQb2ludCIsImZpcnN0Qnl0ZSIsImNvZGVQb2ludCIsImJ5dGVzUGVyU2VxdWVuY2UiLCJjb2RlUG9pbnRzIiwiTUFYX0FSR1VNRU5UU19MRU5HVEgiLCJmcm9tQ2hhckNvZGUiLCJkZWNvZGVDb2RlUG9pbnRzQXJyYXkiLCJTbG93QnVmZmVyIiwiYWxsb2MiLCJJTlNQRUNUX01BWF9CWVRFUyIsImZvbyIsInN1YmFycmF5IiwidHlwZWRBcnJheVN1cHBvcnQiLCJwb29sU2l6ZSIsIl9hdWdtZW50Iiwic3BlY2llcyIsImZpbGwiLCJhbGxvY1Vuc2FmZVNsb3ciLCJfaXNCdWZmZXIiLCJjb21wYXJlIiwiYSIsInkiLCJsaXN0IiwicG9zIiwic3dhcDE2Iiwic3dhcDMyIiwic3dhcDY0IiwiaGV4U2xpY2UiLCJhc2NpaVNsaWNlIiwibGF0aW4xU2xpY2UiLCJ1dGYxNmxlU2xpY2UiLCJlcXVhbHMiLCJpbnNwZWN0IiwibWF4IiwibWF0Y2giLCJ0YXJnZXQiLCJ0aGlzU3RhcnQiLCJ0aGlzRW5kIiwidGhpc0NvcHkiLCJ0YXJnZXRDb3B5IiwiaW5jbHVkZXMiLCJpc0Zpbml0ZSIsInRvSlNPTiIsIl9hcnIiLCJyZXQiLCJvdXQiLCJ0b0hleCIsImJ5dGVzIiwiY2hlY2tPZmZzZXQiLCJleHQiLCJjaGVja0ludCIsIm9iamVjdFdyaXRlVUludDE2IiwibGl0dGxlRW5kaWFuIiwib2JqZWN0V3JpdGVVSW50MzIiLCJjaGVja0lFRUU3NTQiLCJ3cml0ZUZsb2F0Iiwibm9Bc3NlcnQiLCJ3cml0ZURvdWJsZSIsIm5ld0J1ZiIsInNsaWNlTGVuIiwicmVhZFVJbnRMRSIsIm11bCIsInJlYWRVSW50QkUiLCJyZWFkVUludDgiLCJyZWFkVUludDE2TEUiLCJyZWFkVUludDMyTEUiLCJyZWFkVUludDMyQkUiLCJyZWFkSW50TEUiLCJwb3ciLCJyZWFkSW50QkUiLCJyZWFkSW50OCIsInJlYWRJbnQxNkxFIiwicmVhZEludDE2QkUiLCJyZWFkSW50MzJMRSIsInJlYWRJbnQzMkJFIiwicmVhZEZsb2F0TEUiLCJyZWFkRmxvYXRCRSIsInJlYWREb3VibGVMRSIsInJlYWREb3VibGVCRSIsIndyaXRlVUludExFIiwid3JpdGVVSW50QkUiLCJ3cml0ZVVJbnQ4IiwiZmxvb3IiLCJ3cml0ZVVJbnQxNkxFIiwid3JpdGVVSW50MTZCRSIsIndyaXRlVUludDMyTEUiLCJ3cml0ZVVJbnQzMkJFIiwid3JpdGVJbnRMRSIsImxpbWl0Iiwid3JpdGVJbnRCRSIsIndyaXRlSW50OCIsIndyaXRlSW50MTZMRSIsIndyaXRlSW50MTZCRSIsIndyaXRlSW50MzJMRSIsIndyaXRlSW50MzJCRSIsIndyaXRlRmxvYXRMRSIsIndyaXRlRmxvYXRCRSIsIndyaXRlRG91YmxlTEUiLCJ3cml0ZURvdWJsZUJFIiwidGFyZ2V0U3RhcnQiLCJjb2RlIiwiSU5WQUxJRF9CQVNFNjRfUkUiLCJJbmZpbml0eSIsImxlYWRTdXJyb2dhdGUiLCJ0b0J5dGVBcnJheSIsInRyaW0iLCJyZXBsYWNlIiwic3RyaW5ndHJpbSIsImJhc2U2NGNsZWFuIiwic3JjIiwiZHN0Iiwib2JqZWN0VG9TdHJpbmciLCJpc0Jvb2xlYW4iLCJpc051bGwiLCJpc051bGxPclVuZGVmaW5lZCIsImlzTnVtYmVyIiwiaXNTdHJpbmciLCJpc1N5bWJvbCIsImlzVW5kZWZpbmVkIiwiaXNSZWdFeHAiLCJyZSIsImlzT2JqZWN0IiwiaXNEYXRlIiwiaXNFcnJvciIsImlzUHJpbWl0aXZlIiwiY29weVByb3BzIiwiU2FmZUJ1ZmZlciIsImFyZzEiLCJhcmcyIiwiYXJnMyIsIlBlZXIiLCJkZWJ1ZyIsImdldEJyb3dzZXJSVEMiLCJyYW5kb21ieXRlcyIsInN0cmVhbSIsIklDRUNPTVBMRVRFX1RJTUVPVVQiLCJvcHRzIiwiUlRDUGVlckNvbm5lY3Rpb24iLCJwYyIsIl9pZCIsIl9kZWJ1ZyIsImFzc2lnbiIsImNoYW5uZWxOYW1lIiwiaW5pdGlhdG9yIiwiX2lzQ2hyb21pdW0iLCJ3ZWJraXRSVENQZWVyQ29ubmVjdGlvbiIsImNoYW5uZWxDb25maWciLCJjb25zdHJhaW50cyIsIl90cmFuc2Zvcm1Db25zdHJhaW50cyIsIm9mZmVyQ29uc3RyYWludHMiLCJhbnN3ZXJDb25zdHJhaW50cyIsInNkcFRyYW5zZm9ybSIsInNkcCIsInN0cmVhbXMiLCJ0cmlja2xlIiwiYWxsb3dIYWxmVHJpY2tsZSIsImljZUNvbXBsZXRlVGltZW91dCIsImNvbm5lY3RlZCIsInJlbW90ZUFkZHJlc3MiLCJyZW1vdGVGYW1pbHkiLCJyZW1vdGVQb3J0IiwibG9jYWxBZGRyZXNzIiwibG9jYWxQb3J0IiwiX3dydGMiLCJ3cnRjIiwibWFrZUVycm9yIiwiX3BjUmVhZHkiLCJfY2hhbm5lbFJlYWR5IiwiX2ljZUNvbXBsZXRlIiwiX2ljZUNvbXBsZXRlVGltZXIiLCJfY2hhbm5lbCIsIl9wZW5kaW5nQ2FuZGlkYXRlcyIsIl9pc05lZ290aWF0aW5nIiwiX2JhdGNoZWROZWdvdGlhdGlvbiIsIl9xdWV1ZWROZWdvdGlhdGlvbiIsIl9zZW5kZXJzQXdhaXRpbmdTdGFibGUiLCJfc2VuZGVyTWFwIiwiV2Vha01hcCIsIl9maXJzdFN0YWJsZSIsIl9jbG9zaW5nSW50ZXJ2YWwiLCJfcmVtb3RlVHJhY2tzIiwiX3JlbW90ZVN0cmVhbXMiLCJfY2h1bmsiLCJfY2IiLCJfaW50ZXJ2YWwiLCJfcGMiLCJlbGVjdHJvbkRhZW1vbiIsImNyZWF0ZU9mZmVyIiwiY3JlYXRlQW5zd2VyIiwic2V0TG9jYWxEZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwic2V0UmVtb3RlRGVzY3JpcHRpb24iLCJfaXNSZWFjdE5hdGl2ZVdlYnJ0YyIsIl9wZWVyQ29ubmVjdGlvbklkIiwib25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UiLCJfb25JY2VTdGF0ZUNoYW5nZSIsIm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UiLCJvbnNpZ25hbGluZ3N0YXRlY2hhbmdlIiwiX29uU2lnbmFsaW5nU3RhdGVDaGFuZ2UiLCJvbmljZWNhbmRpZGF0ZSIsImV2ZW50IiwiX29uSWNlQ2FuZGlkYXRlIiwiX3NldHVwRGF0YSIsImNoYW5uZWwiLCJjcmVhdGVEYXRhQ2hhbm5lbCIsIm9uZGF0YWNoYW5uZWwiLCJhZGRTdHJlYW0iLCJvbnRyYWNrIiwiX29uVHJhY2siLCJfbmVlZHNOZWdvdGlhdGlvbiIsIl9vbkZpbmlzaEJvdW5kIiwiX29uRmluaXNoIiwiZmlsdGVyVHJpY2tsZSIsIldFQlJUQ19TVVBQT1JUIiwiaWNlU2VydmVycyIsInVybHMiLCJidWZmZXJlZEFtb3VudCIsImFkZHJlc3MiLCJwb3J0IiwiZmFtaWx5Iiwic2lnbmFsIiwiSlNPTiIsInBhcnNlIiwicmVuZWdvdGlhdGUiLCJjYW5kaWRhdGUiLCJyZW1vdGVEZXNjcmlwdGlvbiIsIl9hZGRJY2VDYW5kaWRhdGUiLCJ0aGVuIiwiX2NyZWF0ZUFuc3dlciIsImNhdGNoIiwiZGVzdHJveSIsImFkZEljZUNhbmRpZGF0ZSIsIlJUQ0ljZUNhbmRpZGF0ZSIsInNlbmQiLCJjaHVuayIsImdldFRyYWNrcyIsInRyYWNrIiwiYWRkVHJhY2siLCJzZW5kZXIiLCJzdWJtYXAiLCJyZXBsYWNlVHJhY2siLCJhc3luYyIsIm9sZFRyYWNrIiwibmV3VHJhY2siLCJyZW1vdmVUcmFjayIsInJlbW92ZVN0cmVhbSIsIm5lZ290aWF0ZSIsIl9jcmVhdGVPZmZlciIsImZpbmlzaGVkIiwiY2xlYXJJbnRlcnZhbCIsImNsb3NlIiwib25tZXNzYWdlIiwib25vcGVuIiwib25jbG9zZSIsIm9uZXJyb3IiLCJiaW5hcnlUeXBlIiwiYnVmZmVyZWRBbW91bnRMb3dUaHJlc2hvbGQiLCJsYWJlbCIsIl9vbkNoYW5uZWxNZXNzYWdlIiwib25idWZmZXJlZGFtb3VudGxvdyIsIl9vbkNoYW5uZWxCdWZmZXJlZEFtb3VudExvdyIsIl9vbkNoYW5uZWxPcGVuIiwiX29uQ2hhbm5lbENsb3NlIiwiaXNDbG9zaW5nIiwic2V0SW50ZXJ2YWwiLCJyZWFkeVN0YXRlIiwiX3JlYWQiLCJfd3JpdGUiLCJkZXN0cm95U29vbiIsIl9zdGFydEljZUNvbXBsZXRlVGltZW91dCIsIm9mZmVyIiwic2VuZE9mZmVyIiwibG9jYWxEZXNjcmlwdGlvbiIsImFuc3dlciIsInNlbmRBbnN3ZXIiLCJpY2VDb25uZWN0aW9uU3RhdGUiLCJpY2VHYXRoZXJpbmdTdGF0ZSIsIl9tYXliZVJlYWR5IiwiZ2V0U3RhdHMiLCJyZXBvcnRzIiwicmVwb3J0IiwibmFtZXMiLCJzdGF0IiwiaWQiLCJ0aW1lc3RhbXAiLCJfY29ubmVjdGluZyIsImZpbmRDYW5kaWRhdGVQYWlyIiwiaXRlbXMiLCJyZW1vdGVDYW5kaWRhdGVzIiwibG9jYWxDYW5kaWRhdGVzIiwiY2FuZGlkYXRlUGFpcnMiLCJmb3VuZFNlbGVjdGVkQ2FuZGlkYXRlUGFpciIsIml0ZW0iLCJzZWxlY3RlZENhbmRpZGF0ZVBhaXJJZCIsInNldFNlbGVjdGVkQ2FuZGlkYXRlUGFpciIsImdvb2dBY3RpdmVDb25uZWN0aW9uIiwic2VsZWN0ZWQiLCJfb25JbnRlcnZhbCIsInVucmVmIiwic2VsZWN0ZWRDYW5kaWRhdGVQYWlyIiwibG9jYWwiLCJsb2NhbENhbmRpZGF0ZUlkIiwiaXAiLCJpcEFkZHJlc3MiLCJwb3J0TnVtYmVyIiwiZ29vZ0xvY2FsQWRkcmVzcyIsInNwbGl0IiwicmVtb3RlIiwicmVtb3RlQ2FuZGlkYXRlSWQiLCJnb29nUmVtb3RlQWRkcmVzcyIsInNpZ25hbGluZ1N0YXRlIiwic2RwTUxpbmVJbmRleCIsInNkcE1pZCIsImV2ZW50U3RyZWFtIiwic29tZSIsInJlbW90ZVN0cmVhbSIsInNldENvbnN0cmFpbnRzIiwibWFuZGF0b3J5Iiwib3B0aW9uYWwiLCJuZXdDb25zdHJhaW50cyIsIk9mZmVyVG9SZWNlaXZlVmlkZW8iLCJvZmZlclRvUmVjZWl2ZVZpZGVvIiwiT2ZmZXJUb1JlY2VpdmVBdWRpbyIsIm9mZmVyVG9SZWNlaXZlQXVkaW8iLCJSZWFkYWJsZVN0YXRlIiwiRXZlbnRFbWl0dGVyIiwiRUVsaXN0ZW5lckNvdW50IiwiZW1pdHRlciIsIlN0cmVhbSIsIk91clVpbnQ4QXJyYXkiLCJkZWJ1Z1V0aWwiLCJkZWJ1Z2xvZyIsIlN0cmluZ0RlY29kZXIiLCJCdWZmZXJMaXN0IiwiZGVzdHJveUltcGwiLCJrUHJveHlFdmVudHMiLCJpc0R1cGxleCIsIm9iamVjdE1vZGUiLCJyZWFkYWJsZU9iamVjdE1vZGUiLCJod20iLCJyZWFkYWJsZUh3bSIsInJlYWRhYmxlSGlnaFdhdGVyTWFyayIsImRlZmF1bHRId20iLCJwaXBlcyIsInBpcGVzQ291bnQiLCJmbG93aW5nIiwiZW5kRW1pdHRlZCIsInJlYWRpbmciLCJzeW5jIiwibmVlZFJlYWRhYmxlIiwiZW1pdHRlZFJlYWRhYmxlIiwicmVhZGFibGVMaXN0ZW5pbmciLCJyZXN1bWVTY2hlZHVsZWQiLCJkZWZhdWx0RW5jb2RpbmciLCJhd2FpdERyYWluIiwicmVhZGluZ01vcmUiLCJkZWNvZGVyIiwicmVhZGFibGVBZGRDaHVuayIsImFkZFRvRnJvbnQiLCJza2lwQ2h1bmtDaGVjayIsImVyIiwic3RhdGUiLCJlbWl0UmVhZGFibGUiLCJvbkVvZkNodW5rIiwiY2h1bmtJbnZhbGlkIiwiZ2V0UHJvdG90eXBlT2YiLCJfdWludDhBcnJheVRvQnVmZmVyIiwiYWRkQ2h1bmsiLCJtYXliZVJlYWRNb3JlIiwibmVlZE1vcmVEYXRhIiwidW5zaGlmdCIsIl91bmRlc3Ryb3kiLCJ1bmRlc3Ryb3kiLCJpc1BhdXNlZCIsInNldEVuY29kaW5nIiwiZW5jIiwiTUFYX0hXTSIsImhvd011Y2hUb1JlYWQiLCJoZWFkIiwiY29tcHV0ZU5ld0hpZ2hXYXRlck1hcmsiLCJlbWl0UmVhZGFibGVfIiwiZmxvdyIsIm1heWJlUmVhZE1vcmVfIiwiblJlYWRpbmdOZXh0VGljayIsInJlc3VtZV8iLCJmcm9tTGlzdCIsInNoaWZ0IiwiY2xlYXIiLCJoYXNTdHJpbmdzIiwibmIiLCJ0YWlsIiwiY29weUZyb21CdWZmZXJTdHJpbmciLCJjb3B5RnJvbUJ1ZmZlciIsImZyb21MaXN0UGFydGlhbCIsImVuZFJlYWRhYmxlIiwiZW5kUmVhZGFibGVOVCIsInhzIiwibk9yaWciLCJkb1JlYWQiLCJkZXN0IiwicGlwZU9wdHMiLCJlbmRGbiIsInN0ZG91dCIsInN0ZGVyciIsInVucGlwZSIsIm9udW5waXBlIiwidW5waXBlSW5mbyIsImhhc1VucGlwZWQiLCJvbmZpbmlzaCIsIm9uZHJhaW4iLCJvbmRhdGEiLCJjbGVhbmVkVXAiLCJuZWVkRHJhaW4iLCJwaXBlT25EcmFpbiIsImluY3JlYXNlZEF3YWl0RHJhaW4iLCJwYXVzZSIsIl9ldmVudHMiLCJyZXN1bWUiLCJkZXN0cyIsImV2Iiwid3JhcCIsInBhdXNlZCIsIl9mcm9tTGlzdCIsIlJlZmxlY3RPd25LZXlzIiwiUiIsIlJlZmxlY3QiLCJSZWZsZWN0QXBwbHkiLCJyZWNlaXZlciIsIm93bktleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiTnVtYmVySXNOYU4iLCJpbml0IiwiX2V2ZW50c0NvdW50IiwiX21heExpc3RlbmVycyIsImRlZmF1bHRNYXhMaXN0ZW5lcnMiLCIkZ2V0TWF4TGlzdGVuZXJzIiwiX2FkZExpc3RlbmVyIiwibGlzdGVuZXIiLCJwcmVwZW5kIiwiZXZlbnRzIiwiZXhpc3RpbmciLCJ3YXJuaW5nIiwibmV3TGlzdGVuZXIiLCJ3YXJuZWQiLCJ3IiwiX29uY2VXcmFwIiwiZmlyZWQiLCJ3cmFwRm4iLCJ3cmFwcGVkIiwiX2xpc3RlbmVycyIsInVud3JhcCIsImV2bGlzdGVuZXIiLCJ1bndyYXBMaXN0ZW5lcnMiLCJhcnJheUNsb25lIiwibGlzdGVuZXJDb3VudCIsInNldE1heExpc3RlbmVycyIsImdldE1heExpc3RlbmVycyIsImRvRXJyb3IiLCJoYW5kbGVyIiwicG9zaXRpb24iLCJvcmlnaW5hbExpc3RlbmVyIiwicG9wIiwic3BsaWNlT25lIiwicmF3TGlzdGVuZXJzIiwiZXZlbnROYW1lcyIsImVtaXRFcnJvck5UIiwicmVhZGFibGVEZXN0cm95ZWQiLCJ3cml0YWJsZURlc3Ryb3llZCIsImVycm9yRW1pdHRlZCIsImVuZGluZyIsInNldEltbWVkaWF0ZSIsIkNvcmtlZFJlcXVlc3QiLCJlbnRyeSIsImZpbmlzaCIsImNvcmtSZXEiLCJjYWxsYmFjayIsInBlbmRpbmdjYiIsImNvcmtlZFJlcXVlc3RzRnJlZSIsIm9uQ29ya2VkRmluaXNoIiwiYXN5bmNXcml0ZSIsIldyaXRhYmxlU3RhdGUiLCJpbnRlcm5hbFV0aWwiLCJkZXByZWNhdGUiLCJyZWFsSGFzSW5zdGFuY2UiLCJub3AiLCJ3cml0YWJsZU9iamVjdE1vZGUiLCJ3cml0YWJsZUh3bSIsIndyaXRhYmxlSGlnaFdhdGVyTWFyayIsImZpbmFsQ2FsbGVkIiwibm9EZWNvZGUiLCJkZWNvZGVTdHJpbmdzIiwid3JpdGluZyIsImNvcmtlZCIsImJ1ZmZlclByb2Nlc3NpbmciLCJvbndyaXRlIiwid3JpdGVjYiIsIndyaXRlbGVuIiwib253cml0ZVN0YXRlVXBkYXRlIiwiZmluaXNoTWF5YmUiLCJvbndyaXRlRXJyb3IiLCJuZWVkRmluaXNoIiwiYnVmZmVyZWRSZXF1ZXN0IiwiY2xlYXJCdWZmZXIiLCJhZnRlcldyaXRlIiwibGFzdEJ1ZmZlcmVkUmVxdWVzdCIsInByZWZpbmlzaGVkIiwiYnVmZmVyZWRSZXF1ZXN0Q291bnQiLCJ3cml0ZXYiLCJfd3JpdGV2IiwiZmluYWwiLCJfZmluYWwiLCJkb1dyaXRlIiwib253cml0ZURyYWluIiwiaG9sZGVyIiwiYWxsQnVmZmVycyIsImlzQnVmIiwiY2FsbEZpbmFsIiwibmVlZCIsInByZWZpbmlzaCIsImdldEJ1ZmZlciIsImN1cnJlbnQiLCJfIiwiaGFzSW5zdGFuY2UiLCJ3cml0ZUFmdGVyRW5kIiwidmFsaWQiLCJ2YWxpZENodW5rIiwibmV3Q2h1bmsiLCJkZWNvZGVDaHVuayIsImxhc3QiLCJ3cml0ZU9yQnVmZmVyIiwiY29yayIsInVuY29yayIsInNldERlZmF1bHRFbmNvZGluZyIsImVuZFdyaXRhYmxlIiwibmVuYyIsInJldHJpZWQiLCJfbm9ybWFsaXplRW5jb2RpbmciLCJub3JtYWxpemVFbmNvZGluZyIsInRleHQiLCJ1dGYxNlRleHQiLCJ1dGYxNkVuZCIsImZpbGxMYXN0IiwidXRmOEZpbGxMYXN0IiwiYmFzZTY0VGV4dCIsImJhc2U2NEVuZCIsInNpbXBsZVdyaXRlIiwic2ltcGxlRW5kIiwibGFzdE5lZWQiLCJsYXN0VG90YWwiLCJsYXN0Q2hhciIsInV0ZjhDaGVja0J5dGUiLCJieXRlIiwidXRmOENoZWNrRXh0cmFCeXRlcyIsInRvdGFsIiwidXRmOENoZWNrSW5jb21wbGV0ZSIsIlRyYW5zZm9ybSIsImFmdGVyVHJhbnNmb3JtIiwidHMiLCJfdHJhbnNmb3JtU3RhdGUiLCJ0cmFuc2Zvcm1pbmciLCJ3cml0ZWNodW5rIiwicnMiLCJuZWVkVHJhbnNmb3JtIiwid3JpdGVlbmNvZGluZyIsInRyYW5zZm9ybSIsIl90cmFuc2Zvcm0iLCJmbHVzaCIsIl9mbHVzaCIsImRvbmUiLCJfdGhpczIiLCJlcnIyIiwiUHJvdG9jb2wiLCJDb25uZWN0aW9uU3RhdGUiLCJOZWdvdGlhdGlvblN0YXRlIiwiQ2h1cm5UeXBlIiwiTG9nTGV2ZWwiLCJNZXNzYWdlU3ViamVjdCIsIkFic3RyYWN0Q2xvY2siLCJbb2JqZWN0IE9iamVjdF0iLCJfbWF4Q2FuY2VsSWQiLCJNQVhfU0FGRV9JTlRFR0VSIiwiX2xhc3RDYW5jZWxJZCIsIl90aWNrQ291bnRlciIsIl9pc1J1bm5pbmciLCJfaW50ZXJ2YWxzIiwiX3RpbWVvdXRzIiwidGljayIsImRvVGljayIsInN0YXJ0Q2xvY2siLCJwYXVzZUNsb2NrIiwiaW50ZXJ2YWwiLCJzY2hlZHVsZWRDYWxsYmFjayIsImNhbmNlbElkIiwiZ2V0UHJlY2lzaW9uVGltZXN0YW1wIiwiRm9ya2VkQ2xvY2siLCJtYXN0ZXJDbG9jayIsInN1cGVyIiwiX21hc3RlckNsb2NrIiwiZm9ya2VkIiwic3BlZWQiLCJfY2FuY2VsSWQiLCJNYXN0ZXJDbG9jayIsIl9zcGVlZCIsImlzUnVubmluZyIsIl9tYXN0ZXJDYW5jZWxJZCIsInBlcmZvcm1hbmNlIiwibm93IiwiRGF0ZSIsImdldFRpY2siLCJFbmNsYXZlIiwiX3B1YmxpY0tleSIsIl9wcml2YXRlS2V5IiwiX2dlbmVyYXRlS2V5UGFpciIsIlNlY3VyZUVuY2xhdmUiLCJwdWJsaWNLZXkiLCJMb2dnZXIiLCJfbG9nTGV2ZWwiLCJfbG9nU3ViamVjdCIsInJ4anNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIl9sb2dnZXJNYXAiLCJoYXMiLCJsZXZlbCIsInZlcmJvc2UiLCJfdmVyYm9zZSIsImxvZ0ZuIiwicHJlZml4IiwiY3VycmVudFRpY2siLCJfY2xvY2siLCJnZXRMZXZlbCIsInRhZyIsImNsb2NrIiwiZG9Mb2ciLCJMT0ciLCJsb2ciLCJERUJVRyIsIklORk8iLCJpbmZvIiwiV0FSTiIsIkVSUk9SIiwiRkFUQUwiLCJNYXAiLCJBZGRyZXNzIiwicHJvdG9jb2wiLCJsb2NhdGlvbiIsIl9wcm90b2NvbCIsIl9sb2NhdGlvbiIsIl92ZXJzaW9uIiwiYWRkcmVzc1N0cmluZyIsInNlZ21lbnRzIiwicHJvdG9jb2xzIiwiZ2V0VmVyc2lvbiIsImdldElkIiwiZ2V0UHJvdG9jb2wiLCJnZXRMb2NhdGlvbiIsIkRlZmF1bHRNYXAiLCJmYWN0b3J5IiwiX2ZhY3RvcnkiLCJfZGVmYXVsdCIsIk1lc3NhZ2VUdGxzIiwiUEVFUl9VUERBVEUiLCJQRUVSX1NVR0dFU1RJT04iLCJBUFBfQ09OVEVOVCIsIkNPTk5FQ1RJT05fTkVHT1RJQVRJT04iLCJST1VURVJfQUxJVkUiLCJQRUVSX0FMSVZFIiwiTWVzc2FnZSIsImJvZHkiLCJ0dGwiLCJfc2VuZGVyIiwiX3JlY2VpdmVyIiwiX3N1YmplY3QiLCJfYm9keSIsInJvdW5kIiwiX3R0bCIsImlzSW50ZWdlciIsIm1lc3NhZ2VTdHJpbmciLCJtZXNzYWdlSlNPTiIsIkJsb2IiLCJfaW5ib3VuZEFkZHJlc3MiLCJzdHJpbmdpZnkiLCJnZXRSZWNlaXZlciIsImdldFNlbmRlciIsImdldFN1YmplY3QiLCJnZXRUdGwiLCJnZXRCb2R5IiwiQXBwQ29udGVudCIsIlJvbGVUeXBlIiwiVGFza1BoYXNlIiwiUm9sZVByaW9yaXR5TWFwIiwiTkVXQklFIiwiUEVFUiIsIlJPVVRFUiIsIlNJR05BTCIsIkNvbmZpZ3VyYXRpb24iLCJCUk9BRENBU1RfQUREUkVTUyIsIkRFRkFVTFRfU0lHTkFMX0FERFJFU1MiLCJESVJFQ1RfQ09OTkVDVElPTlNfR09BTF9NSU4iLCJESVJFQ1RfQ09OTkVDVElPTlNfR09BTF9NQVgiLCJESVJFQ1RfQ09OTkVDVElPTlNfTUFYIiwiVFJZX09USEVSX1BFRVJTX0NPVU5UIiwiRElSRUNUX0NPTk5FQ1RJT05fQk9PU1RfQU1PVU5UIiwiRElSRUNUX0NPTk5FQ1RJT05fQk9PU1RfVElNRU9VVCIsIlNMSURJTkdfV0lORE9XX1NJWkUiLCJUUkFOU01JU1NJT05fUElOR19JTlRFUlZBTCIsIk1BWF9ST1VURVJTX1BFUl9TSUdOQUwiLCJMQVNUX1NFRU5fVElNRU9VVCIsIkxBVEVOQ1lfV0lORE9XX1NJWkUiLCJERUZBVUxUX1FVQUxJVFkiLCJERUZBVUxUX1JPVVRFUl9SQU5LIiwiQ09OTkVDVElPTl9NRVRFUl9PUEVOX0dSQUNFX1BFUklPRF9USU1FIiwiQ09OTkVDVElPTl9NRVRFUl9QUk9URUNUSU9OX1RJTUUiLCJDT05ORUNUSU9OX01FVEVSX1BVTklTSE1FTlRfVElNRSIsIk9VVEJPVU5EX1NUUkVBTV9DT05ORUNUSU9OUyIsIlJPVVRFUl9BTElWRV9ISUdIU0NPUkVfV0lORE9XX1NJWkUiLCJDb25maWd1cmF0aW9uTWFwIiwiU2xpZGluZ1dpbmRvdyIsIlNldCIsIl9zZXF1ZW5jZSIsIml0ZXJhYmxlIiwidmFsdWVzIiwic2VxdWVuY2UiLCJpc1NlcXVlbmNlT3V0T2ZXaW5kb3ciLCJkZWxldGUiLCJnZXREZWZhdWx0Iiwic2V0U2VxdWVuY2UiLCJuZXh0U2VxdWVuY2UiLCJyZW1vdmVPdXREYXRlZCIsIkZsb29kaW5nSGFuZGxlciIsInBlZXJNYW5nZXIiLCJfcGVlck1hbmFnZXIiLCJfc2xpZGluZ1dpbmRvdyIsImdldEluYm91bmRBZGRyZXNzIiwiaXNEaXJlY3RQZWVyTWVzc2FnZSIsInNsaWRpbmdXaW5kb3dTYXlZZXMiLCJjYW5Gb3J3YXJkTWVzc2FnZSIsImdldExvZ2dlciIsImdldE15SWQiLCJnZXRTZXF1ZW5jZU51bWJlciIsInNlbmRNZXNzYWdlIiwib3V0T2ZXaW5kb3ciLCJVbmtub3duUGVlciIsInJlbW90ZVBlZXJJZCIsIlVOS05PV05fUEVFUiIsIk1lc3NhZ2VCcm9rZXIiLCJwZWVyTWFuYWdlciIsInJvbGVNYW5hZ2VyIiwic3RyZWFtTWFuYWdlciIsImxpc3Rlbk9uUGVlckNodXJuIiwiX3JvbGVNYW5hZ2VyIiwiX3N0cmVhbU1hbmFnZXIiLCJfYXBwQ29udGVudE1lc3NhZ2VzU3ViamVjdCIsIl9tZXNzYWdlc1N1YmplY3QiLCJfaW5jb21pbmdNZXNzYWdlU3ViamVjdCIsIl9yb3V0ZXJBbGl2ZUZsb29kaW5nSGFuZGxlciIsIm9ic2VydmVQZWVyQ2h1cm4iLCJyeGpzX29wZXJhdG9yc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiQURERUQiLCJsaXN0ZW5PbkNvbm5lY3Rpb25DaHVybiIsInBlZXIiLCJyZW1vdGVQZWVyIiwib2JzZXJ2ZUNodXJuIiwibGlzdGVuT25Db25uZWN0aW9uQWRkZWQiLCJjb25uZWN0aW9uIiwib2JzZXJ2ZU1lc3NhZ2VSZWNlaXZlZCIsImhhbmRsZU1lc3NhZ2UiLCJzZXRJbmJvdW5kQWRkcmVzcyIsImdldEFkZHJlc3MiLCJ2aWFQZWVySWQiLCJzZW5kZXJJZCIsImVuc3VyZUNvbm5lY3Rpb24iLCJWSUFfTVVMVEkiLCJyZWFzb24iLCJyZWNlaXZlTWVzc2FnZSIsImJyb2FkY2FzdE1lc3NhZ2UiLCJmb3J3YXJkTWVzc2FnZSIsIlJPTEVfVVBEQVRFIiwidXBkYXRlUm9sZXMiLCJ1cGRhdGVQZWVycyIsInVwZGF0ZVN1Z2dlc3RlZFBlZXJzIiwiZXhpc3RpbmdQZWVyIiwiZ2V0UGVlckJ5SWQiLCJnZXRDb25uZWN0aW9uVGFibGUiLCJmaWx0ZXJCeUxvY2F0aW9uIiwiV0VCUlRDX1NUUkVBTSIsIm5lZ290aWF0ZUNvbm5lY3Rpb24iLCJJTlRST0RVQ1RJT04iLCJhbGl2ZU1lc3NhZ2UiLCJmaXJzdEFsaXZlRm9yU2VxdWVuY2UiLCJpc0ZpcnN0TWVzc2FnZSIsImhhbmRsZVJvdXRlckFsaXZlIiwiaGFzUm9sZSIsIkNIQU5ORUxfQU5OT1VOQ0VNRU5UIiwidXBkYXRlUHJvdmlkZXJzIiwiZmxvb2RNZXNzYWdlIiwicGVlcklkIiwiaW5ib3VuZEFkZHJlc3MiLCJDb25uZWN0aW9uTmVnb3RpYXRpb25UeXBlIiwiSUNvbm5lY3Rpb25FdmVudFR5cGUiLCJQZWVyU3VnZ2VzdGlvbiIsInJlbW90ZVBlZXJzIiwiYWxsUmVtb3RlUGVlcnMiLCJyb2xlcyIsImdldFJvbGVzIiwicXVhbGl0eSIsImdldE1ldGVyIiwiZ2V0UGVlclVwZGF0ZVF1YWxpdHkiLCJzb3J0IiwicmV2ZXJzZSIsIlBlZXJVcGRhdGUiLCJUYWJsZSIsIl92YWx1ZXMiLCJjYWxsYmFja2ZuIiwiZmluZCIsImZyb21BcnJheSIsImV4Y2x1ZGVkIiwiYVZhbHVlIiwiYlZhbHVlIiwiYXJyYXlWYWx1ZSIsImFycmF5SW5kZXgiLCJpdGVyYXRvciIsInRhYmxlIiwiQ29ubmVjdGlvblRhYmxlIiwic3RhdGVzIiwiZ2V0U3RhdGUiLCJleGNsdWRlIiwiZmlsdGVyQnlQcm90b2NvbCIsIlZJQSIsIldFQlNPQ0tFVCIsIldFQlNPQ0tFVF9VTlNFQ1VSRSIsIldFQlJUQ19EQVRBIiwiaXNQcm90b2NvbCIsImxvY2F0aW9ucyIsIm1ldGVyIiwiZ2V0UXVhbGl0eSIsInNvcnRCeSIsIkNvbm5lY3Rpb25NZXRlciIsIl9wdW5pc2hlZCIsIl9wcm90ZWN0ZWQiLCJfbGFzdFNlZW5UaWNrIiwiX2Nvbm5lY3Rpb24iLCJmb3JrIiwibGlzdGVuT25NZXNzYWdlcyIsIm9uTWVzc2FnZSIsImlzUHVuaXNoZWQiLCJ3YXNQdW5pc2hlZCIsIlBVTklTSEVEIiwiVU5QVU5JU0hFRCIsImlzUHJvdGVjdGVkIiwid2FzUHJvdGVjdGVkIiwiUFJPVEVDVEVEIiwiVU5QUk9URUNURUQiLCJzZXRQcm90ZWN0ZWQiLCJyZXdpbmQiLCJzZXRQdW5pc2hlZCIsInByZW1hdHVyZUNsb3NlIiwibGFzdFNlZW4iLCJnZXRMYXN0U2VlbiIsInByb3RlY3RlZCIsInB1bmlzaGVkIiwiaXNFeHBpcmVkIiwiaXNMYXN0U2VlbkV4cGlyZWQiLCJWaWFDb25uZWN0aW9uTWV0ZXIiLCJfcXVhbGl0eSIsInVwZGF0ZUxhc3RTZWVuIiwidmlhQWRyZXNzIiwiZGlyZWN0UGVlciIsImZpbHRlckJ5SWQiLCJnZXRSb3V0ZXJMaW5rUXVhbGl0eSIsIkFic3RyYWN0Q29ubmVjdGlvbiIsInNldExvY2F0aW9uIiwiX29wdGlvbnMiLCJfYWRkcmVzcyIsIl9jb25uZWN0aW9uU3RhdGUiLCJDTE9TRUQiLCJfc3RhdGVDaGFuZ2VTdWJqZWN0IiwiX21lc3NhZ2VSZWNlaXZlZFN1YmplY3QiLCJfbWV0ZXIiLCJfb25PcGVuUmVzb2x2ZXIiLCJfb25PcGVuUmVqZWN0b3IiLCJPUEVOIiwiX25lZ290aWF0aW9uU3RhdGUiLCJFU1RBQkxJU0hFRCIsInN0b3AiLCJvbkNsb3NlIiwiQ0xPU0lORyIsImNsb3NlQ2xpZW50IiwiT1BFTklORyIsIklOSVRJQUxJWklORyIsIm9wZW5DbGllbnQiLCJjb25uZWN0aW9uU3RhdGUiLCJuZWdvdGlhdGlvblN0YXRlIiwiVmlhQ29ubmVjdGlvbiIsInBheWxvYWQiLCJvbk9wZW4iLCJvbkVycm9yIiwiaXNJblN0YXRlIiwib2JzZXJ2ZVN0YXRlQ2hhbmdlIiwicGFyZW50U3RhdGVDaGFuZ2VkIiwiUGluZyIsIlBJTkciLCJQb25nIiwiUE9ORyIsIkxhdGVuY3lTdG9wd2F0Y2giLCJfdGltZXJQZXJTZXF1ZW5jZSIsImhpZ2hlc3RTZXF1ZW5jZSIsImdldEhpZ2hlc3RTZXF1ZW5jZSIsInRpbWVJdCIsImNsZWFuVXBPbGRTZXF1ZW5jZXMiLCJleGlzdGluZ1RpbWVyIiwiZW50cmllcyIsIlRyYW5zbWlzc2lvbkNvbm5lY3Rpb25NZXRlciIsIm9yaWdpbmF0b3IiLCJfcmVjZWl2ZVNsaWRpbmdXaW5kb3ciLCJfZWNob1NsaWRpbmdXaW5kb3ciLCJfb3JpZ2luYXRvciIsIl9tZXNzYWdlU3ViamVjdCIsIl9sYXRlbmN5UGVyU2VxdWVuY2UiLCJwb25nIiwiZW1pdE1lc3NhZ2UiLCJzbGlkZSIsInBpbmciLCJzZW5kUG9uZyIsInJxIiwiZ2V0UnEiLCJ0cSIsImdldEVxIiwiY29uZmlndXJhdGlvbiIsIm15TGF0ZW5jeSIsImdldEF2ZXJhZ2VMYXRlbmN5IiwiYWxsTGF0ZW5jaWVzIiwiYWdncmVnYXRlQ29ubmVjdGlvbnMiLCJmaWx0ZXJCeVN0YXRlcyIsImJlc3RMYXRlbmN5IiwicHJldmlvdXMiLCJ3b3JzdExhdGVuY3kiLCJsYXRlbmN5VmFsdWVzIiwiYXNBcnJheSIsImdldFRxIiwiZ2V0TGF0ZW5jeVF1YWxpdHkiLCJoYW5kbGVQaW5nIiwiaGFuZGxlUG9uZyIsIl9waW5nSW50ZXJ2YWwiLCJzZW5kUGluZyIsIldlYlJUQ0Nvbm5lY3Rpb24iLCJfc2ltcGxlUGVlck9wdGlvbnMiLCJtaXRvc2lzSWQiLCJXQUlUSU5HX0ZPUl9PRkZFUiIsIl9jbGllbnQiLCJzaW1wbGVfcGVlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fIiwiZ2V0QWRkaXRpb25hbE9mZmVyUGF5bG9hZCIsImdldE15QWRkcmVzcyIsIldBSVRJTkdfRk9SX0FOU1dFUiIsIldBSVRJTkdfRk9SX0VTVEFCTElTSCIsInJ0Y3BjIiwiZ2V0UlRDUGVlckNvbm5lY3Rpb24iLCJzdGF0c0FycmF5Iiwic3RhdHMiLCJPRkZFUiIsIkFOU1dFUiIsImVzdGFibGlzaCIsImJpbmRDbGllbnRMaXN0ZW5lcnMiLCJXZWJSVENEYXRhQ29ubmVjdGlvbiIsIm9ic2VydmVNZXNzYWdlcyIsInNlbmRNZXNzYWdlT3ZlclVucmVsaWFibGVDaGFubmVsIiwiX3VucmVsaWFibGVDaGFubmVsIiwic3VwZXJPbkRhdGFDaGFubmVsIiwiX3N0YXRzRGF0YUNoYW5uZWxMYWJlbCIsImxpc3Rlbk9uVW5yZWxpYWJsZUNoYW5uZWwiLCJvcmRlcmVkIiwibWF4UmV0cmFuc21pdHMiLCJTdHJlYW1Db25uZWN0aW9uTWV0ZXIiLCJOb29wQ29ubmVjdGlvbk1ldGVyIiwiV2ViU29ja2V0Q29ubmVjdGlvbiIsIldlYlNvY2tldCIsIm9uU29ja2V0T3BlbiIsIm9uU29ja2V0Q2xvc2UiLCJvblNvY2tldE1lc3NhZ2UiLCJvblNvY2tldEVycm9yIiwiUHJvdG9jb2xDb25uZWN0aW9uTWFwIiwiX3N0cmVhbVN1YmplY3QiLCJzZXRTdHJlYW0iLCJfc3RyZWFtIiwib25hY3RpdmUiLCJjaGFubmVsSWQiLCJfY2hhbm5lbElkIiwib25pbmFjdGl2ZSIsIlJFTU9WRUQiLCJnZXRDaGFubmVsSWQiLCJiaW5kU3RyZWFtTGlzdGVuZXJzIiwiUm91dGVyQWxpdmVIaWdoc2NvcmUiLCJfcmFua1BlclNlcXVlbmNlTWFwIiwicmFuayIsIm1heENvbm5lY3Rpb25zIiwiUmVtb3RlUGVlck1ldGVyIiwiY29ubmVjdGlvbnNQZXJBZGRyZXNzIiwiX3B1bmlzaGVkQ29ubmVjdGlvbnMiLCJfcHJvdGVjdGVkQ29ubmVjdGlvbnMiLCJfY29ubmVjdGlvbnNQZXJBZGRyZXNzIiwiX3JlbW90ZVBlZXJJZCIsIl9yb3V0ZXJBbGl2ZUhpZ2hTY29yZSIsIm9ic2VydmUiLCJsaXN0ZW5PbkNvbm5lY3Rpb25NZXRlciIsImZyb21JdGVyYWJsZSIsIm1lYXN1cmVkQ29ubmVjdGlvbnMiLCJjb25uZWN0aW9uQ291bnQiLCJjb3VudENvbm5lY3Rpb25zIiwiZmlsdGVyRGlyZWN0RGF0YSIsInNhdHVyYXRpb24iLCJkaXJlY3RDb25uZWN0aW9ucyIsImFzVGFibGUiLCJwdW5pc2hlZENvbm5lY3Rpb25Db3VudCIsImdldEJlc3RDb25uZWN0aW9uUXVhbGl0eSIsImdldENvbm5lY3Rpb25TYXR1cmF0aW9uIiwiY29ubmVjdGlvblRhYmxlIiwidmlhQ29ubmVjdGlvbnMiLCJyb3V0ZXJMaW5rUXVhbGl0eSIsImdldFJvdXRlckFsaXZlSGlnaFNjb3JlIiwiZ2V0QXZlcmFnZVJhbmtpbmciLCJnZXRBdmVyYWdlUm91dGVyTGlua1F1YWxpdHkiLCJnZXRBdmVyYWdlQ29ubmVjdGlvblF1YWxpdHkiLCJnZXRBdmVyYWdlQ29ubmVjdGlvblB1bmlzaG1lbnQiLCJnZXRDb25uZWN0aW9uUHJvdGVjdGlvbiIsIlRhYmxlVmlldyIsIk9ic2VydmFibGVNYXAiLCJzdWNjZXNzIiwiUmVtb3RlUGVlciIsIl9taXRvc2lzSWQiLCJfcm9sZVR5cGVzIiwiX29wZW5Db25uZWN0aW9uUHJvbWlzZXMiLCJfY29ubmVjdGlvbkNodXJuU3ViamVjdCIsImNsZWFuVXBSb3V0ZXJGb3JMYXN0RGlyZWN0IiwicmVzZXQiLCJwcm9taXNlIiwib3BlbiIsImZpbmFsbHkiLCJjb25uZWN0aW9uQ2xhc3MiLCJsaXN0ZW5PbkNvbm5lY3Rpb25DaGFuZ2VzIiwicm9sZVR5cGVzIiwicm9sZVR5cGUiLCJwdW5pc2hWYWx1ZSIsImNyZWF0ZUNvbm5lY3Rpb24iLCJvcGVuQ29ubmVjdGlvbiIsImNvbm5lY3Rpb25zIiwia2V5c0FzTGlzdCIsIlJlbW90ZVBlZXJUYWJsZSIsIlBlZXJNYW5hZ2VyIiwibXlJZCIsIl9teUlkIiwiX2FjcXVpc2l0aW9uQm9vc3QiLCJfcGVlcnMiLCJfcGVlckNodXJuU3ViamVjdCIsIl9wZWVyQ29ubmVjdGlvbkNodXJuU3ViamVjdCIsInJlbW92ZVBlZXIiLCJzZW5kVW5rbm93blBlZXJUb0RpcmVjdFBlZXJzIiwiZ2V0UGVlclRhYmxlIiwidmlhQ29ubmVjdGlvbiIsImdldENvbmZpZ3VyYXRpb24iLCJ1bmtub3duUGVlcklkIiwiZmlsdGVyQ29ubmVjdGlvbnMiLCJmaWx0ZXJEaXJlY3QiLCJzZW5kTWVzc2FnZVRvUGVlciIsImJyb2FkY2FzdEFsbG93ZWQiLCJmb3J3YXJkUGVlcnMiLCJzZXRRdWFsaXR5Iiwicm91dGVyIiwiZmlsdGVyQnlSb2xlIiwicmVzb2x2ZVBlZXIiLCJiZXN0VmlhQ29ubmVjdG9yIiwidmlhUGVlcnMiLCJzb3J0QnlRdWFsaXR5IiwiZ2V0Q29ubmVjdGlvbkZvckFkZHJlc3MiLCJkaXJlY3RQZWVycyIsInJlamVjdFJlYXNvbiIsIm9uQ29ubmVjdGlvblJlbW92ZWQiLCJvbkNvbm5lY3Rpb25BZGRlZCIsImNvbm5lY3QiLCJ2aWFQZWVyIiwiY29ubmVjdFRvIiwiZXhpc3RpbmdSZW1vdGVQZWVyIiwiY29ubmVjdFRvVmlhIiwidXBkYXRlVmlhUGVlciIsInJlY2VpdmVySWQiLCJwZWVyVXBkYXRlIiwiaXNGaXJzdEFsaXZlRm9yU2VxdWVuY2UiLCJhbGl2ZVNlcXVlbmNlIiwiaW5Cb3VuZFBlZXIiLCJyb3V0ZXJQZWVyIiwic2V0Um9sZXMiLCJhZGRTZXF1ZW5jZSIsInNldFJhbmtGb3JTZXF1ZW5jZSIsImRpcmVjdFBlZXJzVGhhdEhhdmVBbHJlYWR5UmVjZWl2ZWRBbGl2ZVNlcXVlbmNlIiwiaGFzUmVjZWl2ZWRTZXF1ZW5jZSIsInBlZXJTdWdnZXN0aW9uIiwidXBkYXRlZFBlZXJJZHMiLCJwZWVyRXhpc3RlZEJlZm9yZSIsImNvbm5lY3Rpb25OZWdvdGlhdGlvbiIsImxvZ2dlciIsInNlbmRlckFkZHJlc3MiLCJyZWNlaXZlckFkZHJlc3MiLCJuZWdvdGlhdGlvbiIsImRpcmVjdENvbm5lY3Rpb25Db3VudCIsImhhc1JlYWNoZWRNYXhDb25uZWN0aW9ucyIsInJlamVjdGlvbiIsIlJFSkVDVElPTiIsInNlbmRQZWVyU3VnZ2VzdGlvbiIsIndlYlJUQ0Nvbm5lY3Rpb24iLCJkZWNyZWFzZVR0bCIsImJyb2FkY2FzdCIsIkFic3RyYWN0Um9sZSIsIl9pbml0aWFsaXplZCIsIm1pdG9zaXMiLCJJbnRyb2R1Y3Rpb24iLCJzZW5kSW50cm9kdWN0aW9uIiwiaW50cm9kdWN0aW9uIiwiZ2V0U2lnbmFsQWRkcmVzcyIsImdldFBlZXJNYW5hZ2VyIiwiY2xvc2VEdXBsaWNhdGVDb25uZWN0aW9ucyIsImRpcmVjdCIsImRlZ3JhZGVUb05ld2JpZSIsImdldFJvbGVNYW5hZ2VyIiwicmVtb3ZlUm9sZSIsImFkZFJvbGUiLCJlbnN1cmVSb3V0ZXJDb25uZWN0aW9uIiwiQ2hhbm5lbEFubm91bmNlbWVudCIsInB1Ymxpc2hDaGFubmVsQW5ub3VuY2VtZW50IiwiYW5ub3VuY2VtZW50cyIsImdldFN0cmVhbU1hbmFnZXIiLCJnZXRDaGFubmVsVGFibGUiLCJnZXRQcm92aWRlclRhYmxlIiwicHJvdmlkZXIiLCJpc1NvdXJjZSIsImlzTGl2ZSIsImlzQWN0aXZlIiwiYW5ub3VuY2VtZW50IiwiYXNBbm5vdW5jZW1lbnQiLCJpQW1Qcm92aWRlciIsInByb3ZpZGVycyIsImNhcGFjaXR5IiwiZ2V0TXlDYXBhY2l0eSIsImNoYW5uZWxBbm5vdW5jZW1lbnQiLCJQZWVyQWxpdmUiLCJwdWJsaXNoUGVlckFsaXZlIiwicGVlclRhYmxlIiwicHVibGlzaFBlZXJVcGRhdGUiLCJzZW5kUGVlclVwZGF0ZSIsInJlbW92ZUV4cGlyZWRDb25uZWN0aW9ucyIsImZpbHRlckJ5TWV0ZXIiLCJyZW1vdmVTaWduYWwiLCJzaWduYWxzIiwicm91dGVyQ29ubmVjdGlvbnMiLCJleGNsdWRlVGFibGUiLCJsb29zZURpcmVjdENvbm5lY3Rpb25zIiwibWF4R29hbCIsIm1pbkdvYWwiLCJjbG9zYWJsZVBlZXJzIiwiZ2V0Um9sZXNSZXF1aXJpbmdQZWVyIiwiZmlsdGVySXNQcm90ZWN0ZWQiLCJiZXN0Um91dGVyTGluayIsImNsb3NhYmxlQ29ubmVjdGlvbnMiLCJvdmVyTWluR29hbCIsIm92ZXJNYXhHb2FsIiwic2FmZUNsb3NhYmxlQ29ubmVjdGlvbkNvdW50IiwicmVtb3ZlU3VwZXJmbHVvdXNDb25uZWN0aW9ucyIsInJlcXVlc3RTdHJlYW1Db25uZWN0aW9uIiwiZ2V0Q2FwYWNpdHkiLCJnZXRQZWVySWQiLCJpbnRlcmVzdCIsInJlcXVlc3QiLCJSRVFVRVNUIiwiYWNxdWlyZURpcmVjdENvbm5lY3Rpb25zIiwiZ2V0QWNxdWlzaXRpb25RdWFsaXR5Iiwic2F0aXNmeUNvbm5lY3Rpb25Hb2FsIiwiYm9vc3QiLCJnZXRBY3F1aXNpdGlvbkJvb3N0IiwiYWNxdWlzaXRpb25Hb2FsIiwicHJvbWlzZXMiLCJhbGwiLCJ0cnlPdGhlclBlZXJzIiwib3BlbmluZ0Nvbm5lY3Rpb25Db3VudCIsImRlZ3JhZGVUb1BlZXIiLCJub1NpZ25hbCIsInB1Ymxpc2hTaWduYWxBbmRSb3V0ZXJVcGRhdGUiLCJzaWduYWxzQW5kUm91dGVycyIsIlJvdXRlckFsaXZlIiwic2VuZFJvdXRlckFsaXZlIiwiZ2V0Um9sZSIsInNlcXVlbmNlTnVtYmVyIiwibmV4dFNlcXVlbmNlTnVtYmVyIiwiUm9sZVVwZGF0ZSIsInByb21vdGVUb1JvbGVzIiwicm9sZVVwZGF0ZSIsIm9uYm9hcmROZXdiaWUiLCJyb3V0ZXJzIiwic2VuZGVySXNSb3V0ZXIiLCJ0YWJsZVVwZGF0ZSIsInNlbmRFeGlzdGluZ1JvdXRlcnMiLCJSb2xlVHlwZU1hcCIsInBoYXNlIiwiQ0xFQU4iLCJ0YXNrIiwiQUNRVUlSRSIsIlBVQkxJU0giLCJhY3RpdmF0ZUFjcXVpc2l0aW9uQm9vc3QiLCJzZW5kQWx0ZXJuYXRpdmVzIiwiX3NlcXVlbmNlTnVtYmVyIiwiUm9sZU1hbmFnZXIiLCJfcm9sZXMiLCJfcm9sZUNodXJuU3ViamVjdCIsInByaW9yaXR5Iiwicm9sZSIsInZhbHVlc0FzTGlzdCIsImlzSW5pdGlhbGl6ZWQiLCJvbkluaXQiLCJlbnRyaWVzQXNMaXN0IiwiZ2V0VGFza1NjaGVkdWxlIiwic2NoZWR1bGUiLCJnZXRDbG9jayIsInJvbGVQcmlvcml0eSIsIm9uQ29ubmVjdGlvbk9wZW4iLCJvbkNvbm5lY3Rpb25DbG9zZSIsImdldENvbmZpZ3VyYXRpb25Gb3JSb2xlcyIsInJlcXVpcmVzUGVlciIsIlByb3ZpZGVyIiwiX3BlZXJJZCIsIl9jYXBhY2l0eSIsIl9zdHJlYW1DaHVyblN1YmplY3QiLCJhY3RpdmUiLCJfaXNTb3VyY2UiLCJnZXRTdHJlYW1JZCIsImxpdmUiLCJpc0xvY2FsIiwiQ2hhbm5lbCIsIl9wcm92aWRlclBlcklkIiwib2JzZXJ2ZVN0cmVhbUNodXJuIiwiZ2V0UHJvdmlkZXIiLCJhZGRQcm92aWRlciIsImdldFN0cmVhbSIsIlN0cmVhbU1hbmFnZXIiLCJfY2hhbm5lbFBlcklkIiwibGlzdGVuT25DaGFubmVsQ2h1cm4iLCJjaGFubmVsRXZlbnQiLCJvYnNlcnZlUHJvdmlkZXJDaHVybiIsInByb3ZpZGVyRXZlbnQiLCJyZW1vdmVDaGFubmVsIiwicHVzaFN0cmVhbSIsImdldE1lZGlhU3RyZWFtIiwiY2xlYW5VcEVtcHR5Q2hhbm5lbHMiLCJwdXNoTXlPd25DaGFubmVsc091dCIsImdldE9yU2V0UHJvdmlkZXIiLCJzZXRDYXBhY2l0eSIsImNsb25lZFN0cmVhbSIsImNsb25lIiwiZ2V0T3JTZXRDaGFubmVsIiwic2V0SXNTaW5rIiwiYW1JQWxyZWFkeVN0cmVhbWluZ1RvIiwicGVlcnMiLCJwdXNoU3RyZWFtVG8iLCJzZXRJc1NvdXJjZSIsImlzSW5pdGlhdG9yIiwicmVtb3ZlUHJvdmlkZXIiLCJyZXF1ZXN0ZXIiLCJvdXRib3VuZFN0cmVhbUNvdW50Iiwic3RyZWFtQ29ubmVjdGlvbiIsIm9uQ29ubmVjdGlvbkFkZGVkU3RyZWFtIiwib25Db25uZWN0aW9uUmVtb3ZlZFN0cmVhbSIsImxvY2FsQ2hhbm5lbCIsImdldExvY2FsQ2hhbm5lbCIsImluYm91bmRDb25uZWN0aW9uc0ZvckNoYW5uZWwiLCJnZXROZWdvdGlhdGlvblN0YXRlIiwic2V0Q2FwYWNpdHlGb3JQZWVyIiwidW5zZXRMb2NhbFN0cmVhbSIsImNyeXB0byIsImdldFRpbWUiLCJnZXRSYW5kb21WYWx1ZXMiLCJ1dWlkIiwiY2hhbm5lbFByb3ZpZGVyIiwiTWl0b3NpcyIsImVuY2xhdmUiLCJfZW5jbGF2ZSIsIl9teUFkZHJlc3MiLCJfc2lnbmFsQWRkcmVzcyIsIl9tZXNzYWdlQnJva2VyIiwiX2luYm94IiwiX2ludGVybmFsTWVzc2FnZXMiLCJsaXN0ZW5PbkFwcENvbnRlbnRNZXNzYWdlcyIsIm9uVGljayIsIl9sb2dnZXIiLCJzZXRDbG9jayIsIm9ic2VydmVBcHBDb250ZW50TWVzc2FnZXMiLCJvYnNlcnZlSW5jb21pbmdNZXNzYWdlcyIsIm9ic2VydmVQZWVyQ29ubmVjdGlvbkNodXJuIiwibGlzdGVuT25Db25uZWN0aW9uU3RhdGVDaGFuZ2UiLCJhcHBNZXNzYWdlIiwiY29ubmVjdGlvblRvSlNPTiIsIndzc0Nvbm5lY3Rpb25zIiwid2VicnRjRGF0YUNvbm5lY3Rpb25zIiwid2VicnRjU3RyZWFtQ29ubmVjdGlvbnMiLCJjaGFubmVscyIsIndzcyIsIndlYnJ0Yy1kYXRhIiwid2VicnRjLXN0cmVhbSIsIm1pdG9zaXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsInZpZGVvRWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJyZWNvcmRFbCIsIm9uU3RyZWFtQWRkZWQiLCJzdHJlYW1FdiIsInNyY09iamVjdCIsInBsYXkiLCJvYnNlcnZlQ2hhbm5lbENodXJuIiwiY2hhbm5lbEV2IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsInZpZGVvIiwiYXVkaW8iLCJzZXRMb2NhbFN0cmVhbSIsImI2NCIsImxlbnMiLCJnZXRMZW5zIiwidmFsaWRMZW4iLCJwbGFjZUhvbGRlcnNMZW4iLCJBcnIiLCJfYnl0ZUxlbmd0aCIsImN1ckJ5dGUiLCJyZXZMb29rdXAiLCJ1aW50OCIsImV4dHJhQnl0ZXMiLCJwYXJ0cyIsImxlbjIiLCJlbmNvZGVDaHVuayIsImxvb2t1cCIsIm51bSIsIm91dHB1dCIsImlzTEUiLCJtTGVuIiwibkJ5dGVzIiwiZUxlbiIsImVNYXgiLCJlQmlhcyIsIm5CaXRzIiwiTmFOIiwicnQiLCJhYnMiLCJMTjIiLCJmb3JtYXRBcmdzIiwidXNlQ29sb3JzIiwibmFtZXNwYWNlIiwiaHVtYW5pemUiLCJkaWZmIiwiY29sb3IiLCJsYXN0QyIsInNhdmUiLCJuYW1lc3BhY2VzIiwic3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwibG9hZCIsImdldEl0ZW0iLCJfX253anMiLCJ1c2VyQWdlbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJzdHlsZSIsIldlYmtpdEFwcGVhcmFuY2UiLCJmaXJlYnVnIiwiZXhjZXB0aW9uIiwiUmVnRXhwIiwiJDEiLCJsb2NhbFN0b3JhZ2UiLCJsb2NhbHN0b3JhZ2UiLCJjb2xvcnMiLCJmb3JtYXR0ZXJzIiwic2VsZWN0Q29sb3IiLCJoYXNoIiwiY3JlYXRlRGVidWciLCJwcmV2VGltZSIsImVuYWJsZWQiLCJjdXJyIiwibXMiLCJjb2VyY2UiLCJmb3JtYXQiLCJmb3JtYXR0ZXIiLCJleHRlbmQiLCJpbnN0YW5jZXMiLCJkZWxpbWl0ZXIiLCJuZXdEZWJ1ZyIsInRvTmFtZXNwYWNlIiwicmVnZXhwIiwic3Vic3RyaW5nIiwiZGVmYXVsdCIsImRpc2FibGUiLCJza2lwcyIsImVuYWJsZSIsImluc3RhbmNlIiwidGVzdCIsImgiLCJwbHVyYWwiLCJtc0FicyIsImlzUGx1cmFsIiwiZXhlYyIsInBhcnNlRmxvYXQiLCJsb25nIiwiZm10TG9uZyIsImZtdFNob3J0IiwibW96UlRDUGVlckNvbm5lY3Rpb24iLCJSVENTZXNzaW9uRGVzY3JpcHRpb24iLCJtb3pSVENTZXNzaW9uRGVzY3JpcHRpb24iLCJ3ZWJraXRSVENTZXNzaW9uRGVzY3JpcHRpb24iLCJtb3pSVENJY2VDYW5kaWRhdGUiLCJ3ZWJraXRSVENJY2VDYW5kaWRhdGUiLCJtc0NyeXB0byIsInJhd0J5dGVzIiwiUGFzc1Rocm91Z2giLCJDb25zdHJ1Y3RvciIsIl9jbGFzc0NhbGxDaGVjayIsImN1c3RvbSIsInNjb3BlIiwiVGltZW91dCIsImNsZWFyRm4iLCJfY2xlYXJGbiIsInJlZiIsImVucm9sbCIsIm1zZWNzIiwiX2lkbGVUaW1lb3V0SWQiLCJfaWRsZVRpbWVvdXQiLCJ1bmVucm9sbCIsIl91bnJlZkFjdGl2ZSIsIl9vblRpbWVvdXQiLCJjbGVhckltbWVkaWF0ZSIsInJlZ2lzdGVySW1tZWRpYXRlIiwiaHRtbCIsIm1lc3NhZ2VQcmVmaXgiLCJvbkdsb2JhbE1lc3NhZ2UiLCJuZXh0SGFuZGxlIiwidGFza3NCeUhhbmRsZSIsImN1cnJlbnRseVJ1bm5pbmdBVGFzayIsImRvYyIsImF0dGFjaFRvIiwiaGFuZGxlIiwicnVuSWZQcmVzZW50IiwicG9zdE1lc3NhZ2UiLCJpbXBvcnRTY3JpcHRzIiwicG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyIsIm9sZE9uTWVzc2FnZSIsImNhblVzZVBvc3RNZXNzYWdlIiwiTWVzc2FnZUNoYW5uZWwiLCJwb3J0MSIsInBvcnQyIiwiY3JlYXRlRWxlbWVudCIsInNjcmlwdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJhdHRhY2hFdmVudCIsIm1zZyIsInRyYWNlIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMs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OEIsSUFHQW9MLEVBQUE3RyxnQkFBQSxTQUFBdkUsR0FDQSxvQkFBQUEsRUFDQSxVQUFBcEIsVUFBQSw2QkFFQSxPQUFBYyxFQUFBbUUsV0FBQTdELGtDQ2pDQXhULEVBQUFELFFBQUFzdkQsRUFFQSxJQUFBMzFCLEVBQWdCNzVCLEVBQVEsSUFHeEJrUSxFQUFXbFEsRUFBUSxJQU1uQixTQUFBd3ZELEVBQUFoL0MsR0FDQSxLQUFBek4sZ0JBQUF5c0QsR0FBQSxXQUFBQSxFQUFBaC9DLEdBRUFxcEIsRUFBQXQ1QixLQUFBd0MsS0FBQXlOLEdBUkFOLEVBQUFDLFNBQWdCblEsRUFBUSxJQUd4QmtRLEVBQUFDLFNBQUFxL0MsRUFBQTMxQixHQVFBMjFCLEVBQUF4dEQsVUFBQXU0QixXQUFBLFNBQUE1VSxFQUFBN1MsRUFBQXhCLEdBQ0FBLEVBQUEsS0FBQXFVIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMjcpO1xuIiwiaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4vbm9vcCc7XG5pbXBvcnQgeyBVbmFyeUZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQ+KCk6IFVuYXJ5RnVuY3Rpb248VCwgVD47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBPihmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4pOiBVbmFyeUZ1bmN0aW9uPFQsIEE+O1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VCwgQSwgQj4oZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+LCBmbjI6IFVuYXJ5RnVuY3Rpb248QSwgQj4pOiBVbmFyeUZ1bmN0aW9uPFQsIEI+O1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VCwgQSwgQiwgQz4oZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+LCBmbjI6IFVuYXJ5RnVuY3Rpb248QSwgQj4sIGZuMzogVW5hcnlGdW5jdGlvbjxCLCBDPik6IFVuYXJ5RnVuY3Rpb248VCwgQz47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCLCBDLCBEPihmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPiwgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LCBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4pOiBVbmFyeUZ1bmN0aW9uPFQsIEQ+O1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VCwgQSwgQiwgQywgRCwgRT4oZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+LCBmbjI6IFVuYXJ5RnVuY3Rpb248QSwgQj4sIGZuMzogVW5hcnlGdW5jdGlvbjxCLCBDPiwgZm40OiBVbmFyeUZ1bmN0aW9uPEMsIEQ+LCBmbjU6IFVuYXJ5RnVuY3Rpb248RCwgRT4pOiBVbmFyeUZ1bmN0aW9uPFQsIEU+O1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VCwgQSwgQiwgQywgRCwgRSwgRj4oZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+LCBmbjI6IFVuYXJ5RnVuY3Rpb248QSwgQj4sIGZuMzogVW5hcnlGdW5jdGlvbjxCLCBDPiwgZm40OiBVbmFyeUZ1bmN0aW9uPEMsIEQ+LCBmbjU6IFVuYXJ5RnVuY3Rpb248RCwgRT4sIGZuNjogVW5hcnlGdW5jdGlvbjxFLCBGPik6IFVuYXJ5RnVuY3Rpb248VCwgRj47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCLCBDLCBELCBFLCBGLCBHPihmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPiwgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LCBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4sIGZuNTogVW5hcnlGdW5jdGlvbjxELCBFPiwgZm42OiBVbmFyeUZ1bmN0aW9uPEUsIEY+LCBmbjc6IFVuYXJ5RnVuY3Rpb248RiwgRz4pOiBVbmFyeUZ1bmN0aW9uPFQsIEc+O1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VCwgQSwgQiwgQywgRCwgRSwgRiwgRywgSD4oZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+LCBmbjI6IFVuYXJ5RnVuY3Rpb248QSwgQj4sIGZuMzogVW5hcnlGdW5jdGlvbjxCLCBDPiwgZm40OiBVbmFyeUZ1bmN0aW9uPEMsIEQ+LCBmbjU6IFVuYXJ5RnVuY3Rpb248RCwgRT4sIGZuNjogVW5hcnlGdW5jdGlvbjxFLCBGPiwgZm43OiBVbmFyeUZ1bmN0aW9uPEYsIEc+LCBmbjg6IFVuYXJ5RnVuY3Rpb248RywgSD4pOiBVbmFyeUZ1bmN0aW9uPFQsIEg+O1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VCwgQSwgQiwgQywgRCwgRSwgRiwgRywgSCwgST4oZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+LCBmbjI6IFVuYXJ5RnVuY3Rpb248QSwgQj4sIGZuMzogVW5hcnlGdW5jdGlvbjxCLCBDPiwgZm40OiBVbmFyeUZ1bmN0aW9uPEMsIEQ+LCBmbjU6IFVuYXJ5RnVuY3Rpb248RCwgRT4sIGZuNjogVW5hcnlGdW5jdGlvbjxFLCBGPiwgZm43OiBVbmFyeUZ1bmN0aW9uPEYsIEc+LCBmbjg6IFVuYXJ5RnVuY3Rpb248RywgSD4sIGZuOTogVW5hcnlGdW5jdGlvbjxILCBJPik6IFVuYXJ5RnVuY3Rpb248VCwgST47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCLCBDLCBELCBFLCBGLCBHLCBILCBJPihmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPiwgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LCBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4sIGZuNTogVW5hcnlGdW5jdGlvbjxELCBFPiwgZm42OiBVbmFyeUZ1bmN0aW9uPEUsIEY+LCBmbjc6IFVuYXJ5RnVuY3Rpb248RiwgRz4sIGZuODogVW5hcnlGdW5jdGlvbjxHLCBIPiwgZm45OiBVbmFyeUZ1bmN0aW9uPEgsIEk+LCAuLi5mbnM6IFVuYXJ5RnVuY3Rpb248YW55LCBhbnk+W10pOiBVbmFyeUZ1bmN0aW9uPFQsIHt9Pjtcbi8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwaXBlKC4uLmZuczogQXJyYXk8VW5hcnlGdW5jdGlvbjxhbnksIGFueT4+KTogVW5hcnlGdW5jdGlvbjxhbnksIGFueT4ge1xuICByZXR1cm4gcGlwZUZyb21BcnJheShmbnMpO1xufVxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgZnVuY3Rpb24gcGlwZUZyb21BcnJheTxULCBSPihmbnM6IEFycmF5PFVuYXJ5RnVuY3Rpb248VCwgUj4+KTogVW5hcnlGdW5jdGlvbjxULCBSPiB7XG4gIGlmICghZm5zKSB7XG4gICAgcmV0dXJuIG5vb3AgYXMgVW5hcnlGdW5jdGlvbjxhbnksIGFueT47XG4gIH1cblxuICBpZiAoZm5zLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBmbnNbMF07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gcGlwZWQoaW5wdXQ6IFQpOiBSIHtcbiAgICByZXR1cm4gZm5zLnJlZHVjZSgocHJldjogYW55LCBmbjogVW5hcnlGdW5jdGlvbjxULCBSPikgPT4gZm4ocHJldiksIGlucHV0IGFzIGFueSk7XG4gIH07XG59XG4iLCJpbXBvcnQgeyBPcGVyYXRvciB9IGZyb20gJy4vT3BlcmF0b3InO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBUZWFyZG93bkxvZ2ljLCBPcGVyYXRvckZ1bmN0aW9uLCBQYXJ0aWFsT2JzZXJ2ZXIsIFN1YnNjcmliYWJsZSB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgY2FuUmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvY2FuUmVwb3J0RXJyb3InO1xuaW1wb3J0IHsgdG9TdWJzY3JpYmVyIH0gZnJvbSAnLi91dGlsL3RvU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpaWYgfSBmcm9tICcuL29ic2VydmFibGUvaWlmJztcbmltcG9ydCB7IHRocm93RXJyb3IgfSBmcm9tICcuL29ic2VydmFibGUvdGhyb3dFcnJvcic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL29ic2VydmFibGUnO1xuaW1wb3J0IHsgcGlwZUZyb21BcnJheSB9IGZyb20gJy4vdXRpbC9waXBlJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcblxuLyoqXG4gKiBBIHJlcHJlc2VudGF0aW9uIG9mIGFueSBzZXQgb2YgdmFsdWVzIG92ZXIgYW55IGFtb3VudCBvZiB0aW1lLiBUaGlzIGlzIHRoZSBtb3N0IGJhc2ljIGJ1aWxkaW5nIGJsb2NrXG4gKiBvZiBSeEpTLlxuICpcbiAqIEBjbGFzcyBPYnNlcnZhYmxlPFQ+XG4gKi9cbmV4cG9ydCBjbGFzcyBPYnNlcnZhYmxlPFQ+IGltcGxlbWVudHMgU3Vic2NyaWJhYmxlPFQ+IHtcblxuICAvKiogSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlIGRpcmVjdGx5LiAqL1xuICBwdWJsaWMgX2lzU2NhbGFyOiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqIEBkZXByZWNhdGVkIFRoaXMgaXMgYW4gaW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlLiAqL1xuICBzb3VyY2U6IE9ic2VydmFibGU8YW55PjtcblxuICAvKiogQGRlcHJlY2F0ZWQgVGhpcyBpcyBhbiBpbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UuICovXG4gIG9wZXJhdG9yOiBPcGVyYXRvcjxhbnksIFQ+O1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3Vic2NyaWJlIHRoZSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSBPYnNlcnZhYmxlIGlzXG4gICAqIGluaXRpYWxseSBzdWJzY3JpYmVkIHRvLiBUaGlzIGZ1bmN0aW9uIGlzIGdpdmVuIGEgU3Vic2NyaWJlciwgdG8gd2hpY2ggbmV3IHZhbHVlc1xuICAgKiBjYW4gYmUgYG5leHRgZWQsIG9yIGFuIGBlcnJvcmAgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmFpc2UgYW4gZXJyb3IsIG9yXG4gICAqIGBjb21wbGV0ZWAgY2FuIGJlIGNhbGxlZCB0byBub3RpZnkgb2YgYSBzdWNjZXNzZnVsIGNvbXBsZXRpb24uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihzdWJzY3JpYmU/OiAodGhpczogT2JzZXJ2YWJsZTxUPiwgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPikgPT4gVGVhcmRvd25Mb2dpYykge1xuICAgIGlmIChzdWJzY3JpYmUpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICB9XG4gIH1cblxuICAvLyBIQUNLOiBTaW5jZSBUeXBlU2NyaXB0IGluaGVyaXRzIHN0YXRpYyBwcm9wZXJ0aWVzIHRvbywgd2UgaGF2ZSB0b1xuICAvLyBmaWdodCBhZ2FpbnN0IFR5cGVTY3JpcHQgaGVyZSBzbyBTdWJqZWN0IGNhbiBoYXZlIGEgZGlmZmVyZW50IHN0YXRpYyBjcmVhdGUgc2lnbmF0dXJlXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGNvbGQgT2JzZXJ2YWJsZSBieSBjYWxsaW5nIHRoZSBPYnNlcnZhYmxlIGNvbnN0cnVjdG9yXG4gICAqIEBzdGF0aWMgdHJ1ZVxuICAgKiBAb3duZXIgT2JzZXJ2YWJsZVxuICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdWJzY3JpYmU/IHRoZSBzdWJzY3JpYmVyIGZ1bmN0aW9uIHRvIGJlIHBhc3NlZCB0byB0aGUgT2JzZXJ2YWJsZSBjb25zdHJ1Y3RvclxuICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSBhIG5ldyBjb2xkIG9ic2VydmFibGVcbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHN0YXRpYyBjcmVhdGU6IEZ1bmN0aW9uID0gPFQ+KHN1YnNjcmliZT86IChzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KSA9PiBUZWFyZG93bkxvZ2ljKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPFQ+KHN1YnNjcmliZSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBPYnNlcnZhYmxlLCB3aXRoIHRoaXMgT2JzZXJ2YWJsZSBhcyB0aGUgc291cmNlLCBhbmQgdGhlIHBhc3NlZFxuICAgKiBvcGVyYXRvciBkZWZpbmVkIGFzIHRoZSBuZXcgb2JzZXJ2YWJsZSdzIG9wZXJhdG9yLlxuICAgKiBAbWV0aG9kIGxpZnRcbiAgICogQHBhcmFtIHtPcGVyYXRvcn0gb3BlcmF0b3IgdGhlIG9wZXJhdG9yIGRlZmluaW5nIHRoZSBvcGVyYXRpb24gdG8gdGFrZSBvbiB0aGUgb2JzZXJ2YWJsZVxuICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSBhIG5ldyBvYnNlcnZhYmxlIHdpdGggdGhlIE9wZXJhdG9yIGFwcGxpZWRcbiAgICovXG4gIGxpZnQ8Uj4ob3BlcmF0b3I6IE9wZXJhdG9yPFQsIFI+KTogT2JzZXJ2YWJsZTxSPiB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPFI+KCk7XG4gICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgIG9ic2VydmFibGUub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgfVxuXG4gIHN1YnNjcmliZShvYnNlcnZlcj86IFBhcnRpYWxPYnNlcnZlcjxUPik6IFN1YnNjcmlwdGlvbjtcbiAgc3Vic2NyaWJlKG5leHQ/OiAodmFsdWU6IFQpID0+IHZvaWQsIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIGNvbXBsZXRlPzogKCkgPT4gdm9pZCk6IFN1YnNjcmlwdGlvbjtcbiAgLyoqXG4gICAqIEludm9rZXMgYW4gZXhlY3V0aW9uIG9mIGFuIE9ic2VydmFibGUgYW5kIHJlZ2lzdGVycyBPYnNlcnZlciBoYW5kbGVycyBmb3Igbm90aWZpY2F0aW9ucyBpdCB3aWxsIGVtaXQuXG4gICAqXG4gICAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5Vc2UgaXQgd2hlbiB5b3UgaGF2ZSBhbGwgdGhlc2UgT2JzZXJ2YWJsZXMsIGJ1dCBzdGlsbCBub3RoaW5nIGlzIGhhcHBlbmluZy48L3NwYW4+XG4gICAqXG4gICAqIGBzdWJzY3JpYmVgIGlzIG5vdCBhIHJlZ3VsYXIgb3BlcmF0b3IsIGJ1dCBhIG1ldGhvZCB0aGF0IGNhbGxzIE9ic2VydmFibGUncyBpbnRlcm5hbCBgc3Vic2NyaWJlYCBmdW5jdGlvbi4gSXRcbiAgICogbWlnaHQgYmUgZm9yIGV4YW1wbGUgYSBmdW5jdGlvbiB0aGF0IHlvdSBwYXNzZWQgdG8gT2JzZXJ2YWJsZSdzIGNvbnN0cnVjdG9yLCBidXQgbW9zdCBvZiB0aGUgdGltZSBpdCBpc1xuICAgKiBhIGxpYnJhcnkgaW1wbGVtZW50YXRpb24sIHdoaWNoIGRlZmluZXMgd2hhdCB3aWxsIGJlIGVtaXR0ZWQgYnkgYW4gT2JzZXJ2YWJsZSwgYW5kIHdoZW4gaXQgYmUgd2lsbCBlbWl0dGVkLiBUaGlzIG1lYW5zXG4gICAqIHRoYXQgY2FsbGluZyBgc3Vic2NyaWJlYCBpcyBhY3R1YWxseSB0aGUgbW9tZW50IHdoZW4gT2JzZXJ2YWJsZSBzdGFydHMgaXRzIHdvcmssIG5vdCB3aGVuIGl0IGlzIGNyZWF0ZWQsIGFzIGl0IGlzIG9mdGVuXG4gICAqIHRoZSB0aG91Z2h0LlxuICAgKlxuICAgKiBBcGFydCBmcm9tIHN0YXJ0aW5nIHRoZSBleGVjdXRpb24gb2YgYW4gT2JzZXJ2YWJsZSwgdGhpcyBtZXRob2QgYWxsb3dzIHlvdSB0byBsaXN0ZW4gZm9yIHZhbHVlc1xuICAgKiB0aGF0IGFuIE9ic2VydmFibGUgZW1pdHMsIGFzIHdlbGwgYXMgZm9yIHdoZW4gaXQgY29tcGxldGVzIG9yIGVycm9ycy4gWW91IGNhbiBhY2hpZXZlIHRoaXMgaW4gdHdvXG4gICAqIG9mIHRoZSBmb2xsb3dpbmcgd2F5cy5cbiAgICpcbiAgICogVGhlIGZpcnN0IHdheSBpcyBjcmVhdGluZyBhbiBvYmplY3QgdGhhdCBpbXBsZW1lbnRzIHtAbGluayBPYnNlcnZlcn0gaW50ZXJmYWNlLiBJdCBzaG91bGQgaGF2ZSBtZXRob2RzXG4gICAqIGRlZmluZWQgYnkgdGhhdCBpbnRlcmZhY2UsIGJ1dCBub3RlIHRoYXQgaXQgc2hvdWxkIGJlIGp1c3QgYSByZWd1bGFyIEphdmFTY3JpcHQgb2JqZWN0LCB3aGljaCB5b3UgY2FuIGNyZWF0ZVxuICAgKiB5b3Vyc2VsZiBpbiBhbnkgd2F5IHlvdSB3YW50IChFUzYgY2xhc3MsIGNsYXNzaWMgZnVuY3Rpb24gY29uc3RydWN0b3IsIG9iamVjdCBsaXRlcmFsIGV0Yy4pLiBJbiBwYXJ0aWN1bGFyIGRvXG4gICAqIG5vdCBhdHRlbXB0IHRvIHVzZSBhbnkgUnhKUyBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIHRvIGNyZWF0ZSBPYnNlcnZlcnMgLSB5b3UgZG9uJ3QgbmVlZCB0aGVtLiBSZW1lbWJlciBhbHNvXG4gICAqIHRoYXQgeW91ciBvYmplY3QgZG9lcyBub3QgaGF2ZSB0byBpbXBsZW1lbnQgYWxsIG1ldGhvZHMuIElmIHlvdSBmaW5kIHlvdXJzZWxmIGNyZWF0aW5nIGEgbWV0aG9kIHRoYXQgZG9lc24ndFxuICAgKiBkbyBhbnl0aGluZywgeW91IGNhbiBzaW1wbHkgb21pdCBpdC4gTm90ZSBob3dldmVyLCBpZiB0aGUgYGVycm9yYCBtZXRob2QgaXMgbm90IHByb3ZpZGVkLCBhbGwgZXJyb3JzIHdpbGxcbiAgICogYmUgbGVmdCB1bmNhdWdodC5cbiAgICpcbiAgICogVGhlIHNlY29uZCB3YXkgaXMgdG8gZ2l2ZSB1cCBvbiBPYnNlcnZlciBvYmplY3QgYWx0b2dldGhlciBhbmQgc2ltcGx5IHByb3ZpZGUgY2FsbGJhY2sgZnVuY3Rpb25zIGluIHBsYWNlIG9mIGl0cyBtZXRob2RzLlxuICAgKiBUaGlzIG1lYW5zIHlvdSBjYW4gcHJvdmlkZSB0aHJlZSBmdW5jdGlvbnMgYXMgYXJndW1lbnRzIHRvIGBzdWJzY3JpYmVgLCB3aGVyZSB0aGUgZmlyc3QgZnVuY3Rpb24gaXMgZXF1aXZhbGVudFxuICAgKiBvZiBhIGBuZXh0YCBtZXRob2QsIHRoZSBzZWNvbmQgb2YgYW4gYGVycm9yYCBtZXRob2QgYW5kIHRoZSB0aGlyZCBvZiBhIGBjb21wbGV0ZWAgbWV0aG9kLiBKdXN0IGFzIGluIGNhc2Ugb2YgT2JzZXJ2ZXIsXG4gICAqIGlmIHlvdSBkbyBub3QgbmVlZCB0byBsaXN0ZW4gZm9yIHNvbWV0aGluZywgeW91IGNhbiBvbWl0IGEgZnVuY3Rpb24sIHByZWZlcmFibHkgYnkgcGFzc2luZyBgdW5kZWZpbmVkYCBvciBgbnVsbGAsXG4gICAqIHNpbmNlIGBzdWJzY3JpYmVgIHJlY29nbml6ZXMgdGhlc2UgZnVuY3Rpb25zIGJ5IHdoZXJlIHRoZXkgd2VyZSBwbGFjZWQgaW4gZnVuY3Rpb24gY2FsbC4gV2hlbiBpdCBjb21lc1xuICAgKiB0byBgZXJyb3JgIGZ1bmN0aW9uLCBqdXN0IGFzIGJlZm9yZSwgaWYgbm90IHByb3ZpZGVkLCBlcnJvcnMgZW1pdHRlZCBieSBhbiBPYnNlcnZhYmxlIHdpbGwgYmUgdGhyb3duLlxuICAgKlxuICAgKiBXaGljaGV2ZXIgc3R5bGUgb2YgY2FsbGluZyBgc3Vic2NyaWJlYCB5b3UgdXNlLCBpbiBib3RoIGNhc2VzIGl0IHJldHVybnMgYSBTdWJzY3JpcHRpb24gb2JqZWN0LlxuICAgKiBUaGlzIG9iamVjdCBhbGxvd3MgeW91IHRvIGNhbGwgYHVuc3Vic2NyaWJlYCBvbiBpdCwgd2hpY2ggaW4gdHVybiB3aWxsIHN0b3AgdGhlIHdvcmsgdGhhdCBhbiBPYnNlcnZhYmxlIGRvZXMgYW5kIHdpbGwgY2xlYW5cbiAgICogdXAgYWxsIHJlc291cmNlcyB0aGF0IGFuIE9ic2VydmFibGUgdXNlZC4gTm90ZSB0aGF0IGNhbmNlbGxpbmcgYSBzdWJzY3JpcHRpb24gd2lsbCBub3QgY2FsbCBgY29tcGxldGVgIGNhbGxiYWNrXG4gICAqIHByb3ZpZGVkIHRvIGBzdWJzY3JpYmVgIGZ1bmN0aW9uLCB3aGljaCBpcyByZXNlcnZlZCBmb3IgYSByZWd1bGFyIGNvbXBsZXRpb24gc2lnbmFsIHRoYXQgY29tZXMgZnJvbSBhbiBPYnNlcnZhYmxlLlxuICAgKlxuICAgKiBSZW1lbWJlciB0aGF0IGNhbGxiYWNrcyBwcm92aWRlZCB0byBgc3Vic2NyaWJlYCBhcmUgbm90IGd1YXJhbnRlZWQgdG8gYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5LlxuICAgKiBJdCBpcyBhbiBPYnNlcnZhYmxlIGl0c2VsZiB0aGF0IGRlY2lkZXMgd2hlbiB0aGVzZSBmdW5jdGlvbnMgd2lsbCBiZSBjYWxsZWQuIEZvciBleGFtcGxlIHtAbGluayBvZn1cbiAgICogYnkgZGVmYXVsdCBlbWl0cyBhbGwgaXRzIHZhbHVlcyBzeW5jaHJvbm91c2x5LiBBbHdheXMgY2hlY2sgZG9jdW1lbnRhdGlvbiBmb3IgaG93IGdpdmVuIE9ic2VydmFibGVcbiAgICogd2lsbCBiZWhhdmUgd2hlbiBzdWJzY3JpYmVkIGFuZCBpZiBpdHMgZGVmYXVsdCBiZWhhdmlvciBjYW4gYmUgbW9kaWZpZWQgd2l0aCBhIGBzY2hlZHVsZXJgLlxuICAgKlxuICAgKiAjIyBFeGFtcGxlXG4gICAqICMjIyBTdWJzY3JpYmUgd2l0aCBhbiBPYnNlcnZlclxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIGNvbnN0IHN1bU9ic2VydmVyID0ge1xuICAgKiAgIHN1bTogMCxcbiAgICogICBuZXh0KHZhbHVlKSB7XG4gICAqICAgICBjb25zb2xlLmxvZygnQWRkaW5nOiAnICsgdmFsdWUpO1xuICAgKiAgICAgdGhpcy5zdW0gPSB0aGlzLnN1bSArIHZhbHVlO1xuICAgKiAgIH0sXG4gICAqICAgZXJyb3IoKSB7IC8vIFdlIGFjdHVhbGx5IGNvdWxkIGp1c3QgcmVtb3ZlIHRoaXMgbWV0aG9kLFxuICAgKiAgIH0sICAgICAgICAvLyBzaW5jZSB3ZSBkbyBub3QgcmVhbGx5IGNhcmUgYWJvdXQgZXJyb3JzIHJpZ2h0IG5vdy5cbiAgICogICBjb21wbGV0ZSgpIHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdTdW0gZXF1YWxzOiAnICsgdGhpcy5zdW0pO1xuICAgKiAgIH1cbiAgICogfTtcbiAgICpcbiAgICogUnguT2JzZXJ2YWJsZS5vZigxLCAyLCAzKSAvLyBTeW5jaHJvbm91c2x5IGVtaXRzIDEsIDIsIDMgYW5kIHRoZW4gY29tcGxldGVzLlxuICAgKiAuc3Vic2NyaWJlKHN1bU9ic2VydmVyKTtcbiAgICpcbiAgICogLy8gTG9nczpcbiAgICogLy8gXCJBZGRpbmc6IDFcIlxuICAgKiAvLyBcIkFkZGluZzogMlwiXG4gICAqIC8vIFwiQWRkaW5nOiAzXCJcbiAgICogLy8gXCJTdW0gZXF1YWxzOiA2XCJcbiAgICogYGBgXG4gICAqXG4gICAqICMjIyBTdWJzY3JpYmUgd2l0aCBmdW5jdGlvbnNcbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiBsZXQgc3VtID0gMDtcbiAgICpcbiAgICogUnguT2JzZXJ2YWJsZS5vZigxLCAyLCAzKVxuICAgKiAuc3Vic2NyaWJlKFxuICAgKiAgIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAqICAgICBjb25zb2xlLmxvZygnQWRkaW5nOiAnICsgdmFsdWUpO1xuICAgKiAgICAgc3VtID0gc3VtICsgdmFsdWU7XG4gICAqICAgfSxcbiAgICogICB1bmRlZmluZWQsXG4gICAqICAgZnVuY3Rpb24oKSB7XG4gICAqICAgICBjb25zb2xlLmxvZygnU3VtIGVxdWFsczogJyArIHN1bSk7XG4gICAqICAgfVxuICAgKiApO1xuICAgKlxuICAgKiAvLyBMb2dzOlxuICAgKiAvLyBcIkFkZGluZzogMVwiXG4gICAqIC8vIFwiQWRkaW5nOiAyXCJcbiAgICogLy8gXCJBZGRpbmc6IDNcIlxuICAgKiAvLyBcIlN1bSBlcXVhbHM6IDZcIlxuICAgKiBgYGBcbiAgICpcbiAgICogIyMjIENhbmNlbCBhIHN1YnNjcmlwdGlvblxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIGNvbnN0IHN1YnNjcmlwdGlvbiA9IFJ4Lk9ic2VydmFibGUuaW50ZXJ2YWwoMTAwMCkuc3Vic2NyaWJlKFxuICAgKiAgIG51bSA9PiBjb25zb2xlLmxvZyhudW0pLFxuICAgKiAgIHVuZGVmaW5lZCxcbiAgICogICAoKSA9PiBjb25zb2xlLmxvZygnY29tcGxldGVkIScpIC8vIFdpbGwgbm90IGJlIGNhbGxlZCwgZXZlblxuICAgKiApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiBjYW5jZWxsaW5nIHN1YnNjcmlwdGlvblxuICAgKlxuICAgKlxuICAgKiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICogICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICogICBjb25zb2xlLmxvZygndW5zdWJzY3JpYmVkIScpO1xuICAgKiB9LCAyNTAwKTtcbiAgICpcbiAgICogLy8gTG9nczpcbiAgICogLy8gMCBhZnRlciAxc1xuICAgKiAvLyAxIGFmdGVyIDJzXG4gICAqIC8vIFwidW5zdWJzY3JpYmVkIVwiIGFmdGVyIDIuNXNcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7T2JzZXJ2ZXJ8RnVuY3Rpb259IG9ic2VydmVyT3JOZXh0IChvcHRpb25hbCkgRWl0aGVyIGFuIG9ic2VydmVyIHdpdGggbWV0aG9kcyB0byBiZSBjYWxsZWQsXG4gICAqICBvciB0aGUgZmlyc3Qgb2YgdGhyZWUgcG9zc2libGUgaGFuZGxlcnMsIHdoaWNoIGlzIHRoZSBoYW5kbGVyIGZvciBlYWNoIHZhbHVlIGVtaXR0ZWQgZnJvbSB0aGUgc3Vic2NyaWJlZFxuICAgKiAgT2JzZXJ2YWJsZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXJyb3IgKG9wdGlvbmFsKSBBIGhhbmRsZXIgZm9yIGEgdGVybWluYWwgZXZlbnQgcmVzdWx0aW5nIGZyb20gYW4gZXJyb3IuIElmIG5vIGVycm9yIGhhbmRsZXIgaXMgcHJvdmlkZWQsXG4gICAqICB0aGUgZXJyb3Igd2lsbCBiZSB0aHJvd24gYXMgdW5oYW5kbGVkLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wbGV0ZSAob3B0aW9uYWwpIEEgaGFuZGxlciBmb3IgYSB0ZXJtaW5hbCBldmVudCByZXN1bHRpbmcgZnJvbSBzdWNjZXNzZnVsIGNvbXBsZXRpb24uXG4gICAqIEByZXR1cm4ge0lTdWJzY3JpcHRpb259IGEgc3Vic2NyaXB0aW9uIHJlZmVyZW5jZSB0byB0aGUgcmVnaXN0ZXJlZCBoYW5kbGVyc1xuICAgKiBAbWV0aG9kIHN1YnNjcmliZVxuICAgKi9cbiAgc3Vic2NyaWJlKG9ic2VydmVyT3JOZXh0PzogUGFydGlhbE9ic2VydmVyPFQ+IHwgKCh2YWx1ZTogVCkgPT4gdm9pZCksXG4gICAgICAgICAgICBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLFxuICAgICAgICAgICAgY29tcGxldGU/OiAoKSA9PiB2b2lkKTogU3Vic2NyaXB0aW9uIHtcblxuICAgIGNvbnN0IHsgb3BlcmF0b3IgfSA9IHRoaXM7XG4gICAgY29uc3Qgc2luayA9IHRvU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcblxuICAgIGlmIChvcGVyYXRvcikge1xuICAgICAgb3BlcmF0b3IuY2FsbChzaW5rLCB0aGlzLnNvdXJjZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNpbmsuYWRkKFxuICAgICAgICB0aGlzLnNvdXJjZSB8fCAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgJiYgIXNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSA/XG4gICAgICAgIHRoaXMuX3N1YnNjcmliZShzaW5rKSA6XG4gICAgICAgIHRoaXMuX3RyeVN1YnNjcmliZShzaW5rKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgIGlmIChzaW5rLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICBzaW5rLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICBpZiAoc2luay5zeW5jRXJyb3JUaHJvd24pIHtcbiAgICAgICAgICB0aHJvdyBzaW5rLnN5bmNFcnJvclZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNpbms7XG4gIH1cblxuICAvKiogQGRlcHJlY2F0ZWQgVGhpcyBpcyBhbiBpbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UuICovXG4gIF90cnlTdWJzY3JpYmUoc2luazogU3Vic2NyaWJlcjxUPik6IFRlYXJkb3duTG9naWMge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaWJlKHNpbmspO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgIHNpbmsuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgc2luay5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgIH1cbiAgICAgIGlmIChjYW5SZXBvcnRFcnJvcihzaW5rKSkge1xuICAgICAgICBzaW5rLmVycm9yKGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBmb3JFYWNoXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG5leHQgYSBoYW5kbGVyIGZvciBlYWNoIHZhbHVlIGVtaXR0ZWQgYnkgdGhlIG9ic2VydmFibGVcbiAgICogQHBhcmFtIHtQcm9taXNlQ29uc3RydWN0b3J9IFtwcm9taXNlQ3Rvcl0gYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB1c2VkIHRvIGluc3RhbnRpYXRlIHRoZSBQcm9taXNlXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IGVpdGhlciByZXNvbHZlcyBvbiBvYnNlcnZhYmxlIGNvbXBsZXRpb24gb3JcbiAgICogIHJlamVjdHMgd2l0aCB0aGUgaGFuZGxlZCBlcnJvclxuICAgKi9cbiAgZm9yRWFjaChuZXh0OiAodmFsdWU6IFQpID0+IHZvaWQsIHByb21pc2VDdG9yPzogUHJvbWlzZUNvbnN0cnVjdG9yTGlrZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuXG4gICAgcmV0dXJuIG5ldyBwcm9taXNlQ3Rvcjx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAvLyBNdXN0IGJlIGRlY2xhcmVkIGluIGEgc2VwYXJhdGUgc3RhdGVtZW50IHRvIGF2b2lkIGEgUmVmZXJuY2VFcnJvciB3aGVuXG4gICAgICAvLyBhY2Nlc3Npbmcgc3Vic2NyaXB0aW9uIGJlbG93IGluIHRoZSBjbG9zdXJlIGR1ZSB0byBUZW1wb3JhbCBEZWFkIFpvbmUuXG4gICAgICBsZXQgc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XG4gICAgICBzdWJzY3JpcHRpb24gPSB0aGlzLnN1YnNjcmliZSgodmFsdWUpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBuZXh0KHZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCByZWplY3QsIHJlc29sdmUpO1xuICAgIH0pIGFzIFByb21pc2U8dm9pZD47XG4gIH1cblxuICAvKiogQGludGVybmFsIFRoaXMgaXMgYW4gaW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlLiAqL1xuICBfc3Vic2NyaWJlKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8YW55Pik6IFRlYXJkb3duTG9naWMge1xuICAgIGNvbnN0IHsgc291cmNlIH0gPSB0aGlzO1xuICAgIHJldHVybiBzb3VyY2UgJiYgc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgfVxuXG4gIC8vIGBpZmAgYW5kIGB0aHJvd2AgYXJlIHNwZWNpYWwgc25vdyBmbGFrZXMsIHRoZSBjb21waWxlciBzZWVzIHRoZW0gYXMgcmVzZXJ2ZWQgd29yZHMuIERlcHJlY2F0ZWQgaW5cbiAgLy8gZmF2b3Igb2YgaWlmIGFuZCB0aHJvd0Vycm9yIGZ1bmN0aW9ucy5cbiAgLyoqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBkZXByZWNhdGVkIEluIGZhdm9yIG9mIGlpZiBjcmVhdGlvbiBmdW5jdGlvbjogaW1wb3J0IHsgaWlmIH0gZnJvbSAncnhqcyc7XG4gICAqL1xuICBzdGF0aWMgaWY6IHR5cGVvZiBpaWY7XG4gIC8qKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAZGVwcmVjYXRlZCBJbiBmYXZvciBvZiB0aHJvd0Vycm9yIGNyZWF0aW9uIGZ1bmN0aW9uOiBpbXBvcnQgeyB0aHJvd0Vycm9yIH0gZnJvbSAncnhqcyc7XG4gICAqL1xuICBzdGF0aWMgdGhyb3c6IHR5cGVvZiB0aHJvd0Vycm9yO1xuXG4gIC8qKlxuICAgKiBBbiBpbnRlcm9wIHBvaW50IGRlZmluZWQgYnkgdGhlIGVzNy1vYnNlcnZhYmxlIHNwZWMgaHR0cHM6Ly9naXRodWIuY29tL3plbnBhcnNpbmcvZXMtb2JzZXJ2YWJsZVxuICAgKiBAbWV0aG9kIFN5bWJvbC5vYnNlcnZhYmxlXG4gICAqIEByZXR1cm4ge09ic2VydmFibGV9IHRoaXMgaW5zdGFuY2Ugb2YgdGhlIG9ic2VydmFibGVcbiAgICovXG4gIFtTeW1ib2xfb2JzZXJ2YWJsZV0oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbiAgcGlwZSgpOiBPYnNlcnZhYmxlPFQ+O1xuICBwaXBlPEE+KG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPik6IE9ic2VydmFibGU8QT47XG4gIHBpcGU8QSwgQj4ob3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LCBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4pOiBPYnNlcnZhYmxlPEI+O1xuICBwaXBlPEEsIEIsIEM+KG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPiwgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LCBvcDM6IE9wZXJhdG9yRnVuY3Rpb248QiwgQz4pOiBPYnNlcnZhYmxlPEM+O1xuICBwaXBlPEEsIEIsIEMsIEQ+KG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPiwgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LCBvcDM6IE9wZXJhdG9yRnVuY3Rpb248QiwgQz4sIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPik6IE9ic2VydmFibGU8RD47XG4gIHBpcGU8QSwgQiwgQywgRCwgRT4ob3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LCBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sIG9wMzogT3BlcmF0b3JGdW5jdGlvbjxCLCBDPiwgb3A0OiBPcGVyYXRvckZ1bmN0aW9uPEMsIEQ+LCBvcDU6IE9wZXJhdG9yRnVuY3Rpb248RCwgRT4pOiBPYnNlcnZhYmxlPEU+O1xuICBwaXBlPEEsIEIsIEMsIEQsIEUsIEY+KG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPiwgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LCBvcDM6IE9wZXJhdG9yRnVuY3Rpb248QiwgQz4sIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPiwgb3A1OiBPcGVyYXRvckZ1bmN0aW9uPEQsIEU+LCBvcDY6IE9wZXJhdG9yRnVuY3Rpb248RSwgRj4pOiBPYnNlcnZhYmxlPEY+O1xuICBwaXBlPEEsIEIsIEMsIEQsIEUsIEYsIEc+KG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPiwgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LCBvcDM6IE9wZXJhdG9yRnVuY3Rpb248QiwgQz4sIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPiwgb3A1OiBPcGVyYXRvckZ1bmN0aW9uPEQsIEU+LCBvcDY6IE9wZXJhdG9yRnVuY3Rpb248RSwgRj4sIG9wNzogT3BlcmF0b3JGdW5jdGlvbjxGLCBHPik6IE9ic2VydmFibGU8Rz47XG4gIHBpcGU8QSwgQiwgQywgRCwgRSwgRiwgRywgSD4ob3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LCBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sIG9wMzogT3BlcmF0b3JGdW5jdGlvbjxCLCBDPiwgb3A0OiBPcGVyYXRvckZ1bmN0aW9uPEMsIEQ+LCBvcDU6IE9wZXJhdG9yRnVuY3Rpb248RCwgRT4sIG9wNjogT3BlcmF0b3JGdW5jdGlvbjxFLCBGPiwgb3A3OiBPcGVyYXRvckZ1bmN0aW9uPEYsIEc+LCBvcDg6IE9wZXJhdG9yRnVuY3Rpb248RywgSD4pOiBPYnNlcnZhYmxlPEg+O1xuICBwaXBlPEEsIEIsIEMsIEQsIEUsIEYsIEcsIEgsIEk+KG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPiwgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LCBvcDM6IE9wZXJhdG9yRnVuY3Rpb248QiwgQz4sIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPiwgb3A1OiBPcGVyYXRvckZ1bmN0aW9uPEQsIEU+LCBvcDY6IE9wZXJhdG9yRnVuY3Rpb248RSwgRj4sIG9wNzogT3BlcmF0b3JGdW5jdGlvbjxGLCBHPiwgb3A4OiBPcGVyYXRvckZ1bmN0aW9uPEcsIEg+LCBvcDk6IE9wZXJhdG9yRnVuY3Rpb248SCwgST4pOiBPYnNlcnZhYmxlPEk+O1xuICBwaXBlPEEsIEIsIEMsIEQsIEUsIEYsIEcsIEgsIEk+KG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPiwgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LCBvcDM6IE9wZXJhdG9yRnVuY3Rpb248QiwgQz4sIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPiwgb3A1OiBPcGVyYXRvckZ1bmN0aW9uPEQsIEU+LCBvcDY6IE9wZXJhdG9yRnVuY3Rpb248RSwgRj4sIG9wNzogT3BlcmF0b3JGdW5jdGlvbjxGLCBHPiwgb3A4OiBPcGVyYXRvckZ1bmN0aW9uPEcsIEg+LCBvcDk6IE9wZXJhdG9yRnVuY3Rpb248SCwgST4sIC4uLm9wZXJhdGlvbnM6IE9wZXJhdG9yRnVuY3Rpb248YW55LCBhbnk+W10pOiBPYnNlcnZhYmxlPHt9PjtcbiAgLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cblxuICAvKipcbiAgICogVXNlZCB0byBzdGl0Y2ggdG9nZXRoZXIgZnVuY3Rpb25hbCBvcGVyYXRvcnMgaW50byBhIGNoYWluLlxuICAgKiBAbWV0aG9kIHBpcGVcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZX0gdGhlIE9ic2VydmFibGUgcmVzdWx0IG9mIGFsbCBvZiB0aGUgb3BlcmF0b3JzIGhhdmluZ1xuICAgKiBiZWVuIGNhbGxlZCBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlIHBhc3NlZCBpbi5cbiAgICpcbiAgICogIyMjIEV4YW1wbGVcbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiBpbXBvcnQgeyBtYXAsIGZpbHRlciwgc2NhbiB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbiAgICpcbiAgICogUnguT2JzZXJ2YWJsZS5pbnRlcnZhbCgxMDAwKVxuICAgKiAgIC5waXBlKFxuICAgKiAgICAgZmlsdGVyKHggPT4geCAlIDIgPT09IDApLFxuICAgKiAgICAgbWFwKHggPT4geCArIHgpLFxuICAgKiAgICAgc2NhbigoYWNjLCB4KSA9PiBhY2MgKyB4KVxuICAgKiAgIClcbiAgICogICAuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpXG4gICAqIGBgYFxuICAgKi9cbiAgcGlwZSguLi5vcGVyYXRpb25zOiBPcGVyYXRvckZ1bmN0aW9uPGFueSwgYW55PltdKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICBpZiAob3BlcmF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzIGFzIGFueTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGlwZUZyb21BcnJheShvcGVyYXRpb25zKSh0aGlzKTtcbiAgfVxuXG4gIC8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuICB0b1Byb21pc2U8VD4odGhpczogT2JzZXJ2YWJsZTxUPik6IFByb21pc2U8VD47XG4gIHRvUHJvbWlzZTxUPih0aGlzOiBPYnNlcnZhYmxlPFQ+LCBQcm9taXNlQ3RvcjogdHlwZW9mIFByb21pc2UpOiBQcm9taXNlPFQ+O1xuICB0b1Byb21pc2U8VD4odGhpczogT2JzZXJ2YWJsZTxUPiwgUHJvbWlzZUN0b3I6IFByb21pc2VDb25zdHJ1Y3Rvckxpa2UpOiBQcm9taXNlPFQ+O1xuICAvKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuXG4gIHRvUHJvbWlzZShwcm9taXNlQ3Rvcj86IFByb21pc2VDb25zdHJ1Y3Rvckxpa2UpOiBQcm9taXNlPFQ+IHtcbiAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcblxuICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IHZhbHVlOiBhbnk7XG4gICAgICB0aGlzLnN1YnNjcmliZSgoeDogVCkgPT4gdmFsdWUgPSB4LCAoZXJyOiBhbnkpID0+IHJlamVjdChlcnIpLCAoKSA9PiByZXNvbHZlKHZhbHVlKSk7XG4gICAgfSkgYXMgUHJvbWlzZTxUPjtcbiAgfVxufVxuXG4vKipcbiAqIERlY2lkZXMgYmV0d2VlbiBhIHBhc3NlZCBwcm9taXNlIGNvbnN0cnVjdG9yIGZyb20gY29uc3VtaW5nIGNvZGUsXG4gKiBBIGRlZmF1bHQgY29uZmlndXJlZCBwcm9taXNlIGNvbnN0cnVjdG9yLCBhbmQgdGhlIG5hdGl2ZSBwcm9taXNlXG4gKiBjb25zdHJ1Y3RvciBhbmQgcmV0dXJucyBpdC4gSWYgbm90aGluZyBjYW4gYmUgZm91bmQsIGl0IHdpbGwgdGhyb3dcbiAqIGFuIGVycm9yLlxuICogQHBhcmFtIHByb21pc2VDdG9yIFRoZSBvcHRpb25hbCBwcm9taXNlIGNvbnN0cnVjdG9yIHRvIHBhc3NlZCBieSBjb25zdW1pbmcgY29kZVxuICovXG5mdW5jdGlvbiBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3RvcjogUHJvbWlzZUNvbnN0cnVjdG9yTGlrZSB8IHVuZGVmaW5lZCkge1xuICBpZiAoIXByb21pc2VDdG9yKSB7XG4gICAgcHJvbWlzZUN0b3IgPSBjb25maWcuUHJvbWlzZSB8fCBQcm9taXNlO1xuICB9XG5cbiAgaWYgKCFwcm9taXNlQ3Rvcikge1xuICAgIHRocm93IG5ldyBFcnJvcignbm8gUHJvbWlzZSBpbXBsIGZvdW5kJyk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZUN0b3I7XG59XG4iLCJpbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi4vT2JzZXJ2ZXInO1xuaW1wb3J0IHsgUGFydGlhbE9ic2VydmVyIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gdG9TdWJzY3JpYmVyPFQ+KFxuICBuZXh0T3JPYnNlcnZlcj86IFBhcnRpYWxPYnNlcnZlcjxUPiB8ICgodmFsdWU6IFQpID0+IHZvaWQpLFxuICBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLFxuICBjb21wbGV0ZT86ICgpID0+IHZvaWQpOiBTdWJzY3JpYmVyPFQ+IHtcblxuICBpZiAobmV4dE9yT2JzZXJ2ZXIpIHtcbiAgICBpZiAobmV4dE9yT2JzZXJ2ZXIgaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB7XG4gICAgICByZXR1cm4gKDxTdWJzY3JpYmVyPFQ+PiBuZXh0T3JPYnNlcnZlcik7XG4gICAgfVxuXG4gICAgaWYgKG5leHRPck9ic2VydmVyW3J4U3Vic2NyaWJlclN5bWJvbF0pIHtcbiAgICAgIHJldHVybiBuZXh0T3JPYnNlcnZlcltyeFN1YnNjcmliZXJTeW1ib2xdKCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFuZXh0T3JPYnNlcnZlciAmJiAhZXJyb3IgJiYgIWNvbXBsZXRlKSB7XG4gICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVyKGVtcHR5T2JzZXJ2ZXIpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBTdWJzY3JpYmVyKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpO1xufVxuIiwiaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgRXJyb3JPYnNlcnZlciBpcyBjbG9zZWQgb3Igc3RvcHBlZCBvciBoYXMgYVxuICogZGVzdGluYXRpb24gdGhhdCBpcyBjbG9zZWQgb3Igc3RvcHBlZCAtIGluIHdoaWNoIGNhc2UgZXJyb3JzIHdpbGxcbiAqIG5lZWQgdG8gYmUgcmVwb3J0ZWQgdmlhIGEgZGlmZmVyZW50IG1lY2hhbmlzbS5cbiAqIEBwYXJhbSBvYnNlcnZlciB0aGUgb2JzZXJ2ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhblJlcG9ydEVycm9yKG9ic2VydmVyOiBTdWJzY3JpYmVyPGFueT4gfCBTdWJqZWN0PGFueT4pOiBib29sZWFuIHtcbiAgd2hpbGUgKG9ic2VydmVyKSB7XG4gICAgY29uc3QgeyBjbG9zZWQsIGRlc3RpbmF0aW9uLCBpc1N0b3BwZWQgfSA9IG9ic2VydmVyIGFzIGFueTtcbiAgICBpZiAoY2xvc2VkIHx8IGlzU3RvcHBlZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24gaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB7XG4gICAgICBvYnNlcnZlciA9IGRlc3RpbmF0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYnNlcnZlciA9IG51bGw7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuIiwiZXhwb3J0IGludGVyZmFjZSBPYmplY3RVbnN1YnNjcmliZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPYmplY3RVbnN1YnNjcmliZWRFcnJvckN0b3Ige1xuICBuZXcoKTogT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3I7XG59XG5cbmZ1bmN0aW9uIE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbCh0aGlzOiBhbnkpIHtcbiAgRXJyb3IuY2FsbCh0aGlzKTtcbiAgdGhpcy5tZXNzYWdlID0gJ29iamVjdCB1bnN1YnNjcmliZWQnO1xuICB0aGlzLm5hbWUgPSAnT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuICByZXR1cm4gdGhpcztcbn1cblxuT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcblxuLyoqXG4gKiBBbiBlcnJvciB0aHJvd24gd2hlbiBhbiBhY3Rpb24gaXMgaW52YWxpZCBiZWNhdXNlIHRoZSBvYmplY3QgaGFzIGJlZW5cbiAqIHVuc3Vic2NyaWJlZC5cbiAqXG4gKiBAc2VlIHtAbGluayBTdWJqZWN0fVxuICogQHNlZSB7QGxpbmsgQmVoYXZpb3JTdWJqZWN0fVxuICpcbiAqIEBjbGFzcyBPYmplY3RVbnN1YnNjcmliZWRFcnJvclxuICovXG5leHBvcnQgY29uc3QgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3I6IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yQ3RvciA9IE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbCBhcyBhbnk7IiwiaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4vU3ViamVjdCc7XG5pbXBvcnQgeyBPYnNlcnZlciB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuXG4vKipcbiAqIFdlIG5lZWQgdGhpcyBKU0RvYyBjb21tZW50IGZvciBhZmZlY3RpbmcgRVNEb2MuXG4gKiBAaWdub3JlXG4gKiBAZXh0ZW5kcyB7SWdub3JlZH1cbiAqL1xuZXhwb3J0IGNsYXNzIFN1YmplY3RTdWJzY3JpcHRpb248VD4gZXh0ZW5kcyBTdWJzY3JpcHRpb24ge1xuICBjbG9zZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgc3ViamVjdDogU3ViamVjdDxUPiwgcHVibGljIHN1YnNjcmliZXI6IE9ic2VydmVyPFQ+KSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHVuc3Vic2NyaWJlKCkge1xuICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcblxuICAgIGNvbnN0IHN1YmplY3QgPSB0aGlzLnN1YmplY3Q7XG4gICAgY29uc3Qgb2JzZXJ2ZXJzID0gc3ViamVjdC5vYnNlcnZlcnM7XG5cbiAgICB0aGlzLnN1YmplY3QgPSBudWxsO1xuXG4gICAgaWYgKCFvYnNlcnZlcnMgfHwgb2JzZXJ2ZXJzLmxlbmd0aCA9PT0gMCB8fCBzdWJqZWN0LmlzU3RvcHBlZCB8fCBzdWJqZWN0LmNsb3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHN1YnNjcmliZXJJbmRleCA9IG9ic2VydmVycy5pbmRleE9mKHRoaXMuc3Vic2NyaWJlcik7XG5cbiAgICBpZiAoc3Vic2NyaWJlckluZGV4ICE9PSAtMSkge1xuICAgICAgb2JzZXJ2ZXJzLnNwbGljZShzdWJzY3JpYmVySW5kZXgsIDEpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3IgfSBmcm9tICcuL09wZXJhdG9yJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBPYnNlcnZlciwgU3Vic2NyaXB0aW9uTGlrZSwgVGVhcmRvd25Mb2dpYyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuaW1wb3J0IHsgU3ViamVjdFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3ViamVjdFN1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5cbi8qKlxuICogQGNsYXNzIFN1YmplY3RTdWJzY3JpYmVyPFQ+XG4gKi9cbmV4cG9ydCBjbGFzcyBTdWJqZWN0U3Vic2NyaWJlcjxUPiBleHRlbmRzIFN1YnNjcmliZXI8VD4ge1xuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgZGVzdGluYXRpb246IFN1YmplY3Q8VD4pIHtcbiAgICBzdXBlcihkZXN0aW5hdGlvbik7XG4gIH1cbn1cblxuLyoqXG4gKiBBIFN1YmplY3QgaXMgYSBzcGVjaWFsIHR5cGUgb2YgT2JzZXJ2YWJsZSB0aGF0IGFsbG93cyB2YWx1ZXMgdG8gYmVcbiAqIG11bHRpY2FzdGVkIHRvIG1hbnkgT2JzZXJ2YWJsZXMuIFN1YmplY3RzIGFyZSBsaWtlIEV2ZW50RW1pdHRlcnMuXG4gKlxuICogRXZlcnkgU3ViamVjdCBpcyBhbiBPYnNlcnZhYmxlIGFuZCBhbiBPYnNlcnZlci4gWW91IGNhbiBzdWJzY3JpYmUgdG8gYVxuICogU3ViamVjdCwgYW5kIHlvdSBjYW4gY2FsbCBuZXh0IHRvIGZlZWQgdmFsdWVzIGFzIHdlbGwgYXMgZXJyb3IgYW5kIGNvbXBsZXRlLlxuICpcbiAqIEBjbGFzcyBTdWJqZWN0PFQ+XG4gKi9cbmV4cG9ydCBjbGFzcyBTdWJqZWN0PFQ+IGV4dGVuZHMgT2JzZXJ2YWJsZTxUPiBpbXBsZW1lbnRzIFN1YnNjcmlwdGlvbkxpa2Uge1xuXG4gIFtyeFN1YnNjcmliZXJTeW1ib2xdKCkge1xuICAgIHJldHVybiBuZXcgU3ViamVjdFN1YnNjcmliZXIodGhpcyk7XG4gIH1cblxuICBvYnNlcnZlcnM6IE9ic2VydmVyPFQ+W10gPSBbXTtcblxuICBjbG9zZWQgPSBmYWxzZTtcblxuICBpc1N0b3BwZWQgPSBmYWxzZTtcblxuICBoYXNFcnJvciA9IGZhbHNlO1xuXG4gIHRocm93bkVycm9yOiBhbnkgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipAbm9jb2xsYXBzZSAqL1xuICBzdGF0aWMgY3JlYXRlOiBGdW5jdGlvbiA9IDxUPihkZXN0aW5hdGlvbjogT2JzZXJ2ZXI8VD4sIHNvdXJjZTogT2JzZXJ2YWJsZTxUPik6IEFub255bW91c1N1YmplY3Q8VD4gPT4ge1xuICAgIHJldHVybiBuZXcgQW5vbnltb3VzU3ViamVjdDxUPihkZXN0aW5hdGlvbiwgc291cmNlKTtcbiAgfVxuXG4gIGxpZnQ8Uj4ob3BlcmF0b3I6IE9wZXJhdG9yPFQsIFI+KTogT2JzZXJ2YWJsZTxSPiB7XG4gICAgY29uc3Qgc3ViamVjdCA9IG5ldyBBbm9ueW1vdXNTdWJqZWN0KHRoaXMsIHRoaXMpO1xuICAgIHN1YmplY3Qub3BlcmF0b3IgPSA8YW55Pm9wZXJhdG9yO1xuICAgIHJldHVybiA8YW55PnN1YmplY3Q7XG4gIH1cblxuICBuZXh0KHZhbHVlPzogVCkge1xuICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgfVxuICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgIGNvbnN0IHsgb2JzZXJ2ZXJzIH0gPSB0aGlzO1xuICAgICAgY29uc3QgbGVuID0gb2JzZXJ2ZXJzLmxlbmd0aDtcbiAgICAgIGNvbnN0IGNvcHkgPSBvYnNlcnZlcnMuc2xpY2UoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29weVtpXS5uZXh0KHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBlcnJvcihlcnI6IGFueSkge1xuICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgfVxuICAgIHRoaXMuaGFzRXJyb3IgPSB0cnVlO1xuICAgIHRoaXMudGhyb3duRXJyb3IgPSBlcnI7XG4gICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgIGNvbnN0IHsgb2JzZXJ2ZXJzIH0gPSB0aGlzO1xuICAgIGNvbnN0IGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgY29uc3QgY29weSA9IG9ic2VydmVycy5zbGljZSgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvcHlbaV0uZXJyb3IoZXJyKTtcbiAgICB9XG4gICAgdGhpcy5vYnNlcnZlcnMubGVuZ3RoID0gMDtcbiAgfVxuXG4gIGNvbXBsZXRlKCkge1xuICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgfVxuICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICBjb25zdCB7IG9ic2VydmVycyB9ID0gdGhpcztcbiAgICBjb25zdCBsZW4gPSBvYnNlcnZlcnMubGVuZ3RoO1xuICAgIGNvbnN0IGNvcHkgPSBvYnNlcnZlcnMuc2xpY2UoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb3B5W2ldLmNvbXBsZXRlKCk7XG4gICAgfVxuICAgIHRoaXMub2JzZXJ2ZXJzLmxlbmd0aCA9IDA7XG4gIH1cblxuICB1bnN1YnNjcmliZSgpIHtcbiAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgIHRoaXMub2JzZXJ2ZXJzID0gbnVsbDtcbiAgfVxuXG4gIC8qKiBAZGVwcmVjYXRlZCBUaGlzIGlzIGFuIGludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZS4gKi9cbiAgX3RyeVN1YnNjcmliZShzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KTogVGVhcmRvd25Mb2dpYyB7XG4gICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHN1cGVyLl90cnlTdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBkZXByZWNhdGVkIFRoaXMgaXMgYW4gaW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlLiAqL1xuICBfc3Vic2NyaWJlKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4pOiBTdWJzY3JpcHRpb24ge1xuICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmhhc0Vycm9yKSB7XG4gICAgICBzdWJzY3JpYmVyLmVycm9yKHRoaXMudGhyb3duRXJyb3IpO1xuICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9ic2VydmVycy5wdXNoKHN1YnNjcmliZXIpO1xuICAgICAgcmV0dXJuIG5ldyBTdWJqZWN0U3Vic2NyaXB0aW9uKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IE9ic2VydmFibGUgd2l0aCB0aGlzIFN1YmplY3QgYXMgdGhlIHNvdXJjZS4gWW91IGNhbiBkbyB0aGlzXG4gICAqIHRvIGNyZWF0ZSBjdXN0b21pemUgT2JzZXJ2ZXItc2lkZSBsb2dpYyBvZiB0aGUgU3ViamVjdCBhbmQgY29uY2VhbCBpdCBmcm9tXG4gICAqIGNvZGUgdGhhdCB1c2VzIHRoZSBPYnNlcnZhYmxlLlxuICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSBPYnNlcnZhYmxlIHRoYXQgdGhlIFN1YmplY3QgY2FzdHMgdG9cbiAgICovXG4gIGFzT2JzZXJ2YWJsZSgpOiBPYnNlcnZhYmxlPFQ+IHtcbiAgICBjb25zdCBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8VD4oKTtcbiAgICAoPGFueT5vYnNlcnZhYmxlKS5zb3VyY2UgPSB0aGlzO1xuICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICB9XG59XG5cbi8qKlxuICogQGNsYXNzIEFub255bW91c1N1YmplY3Q8VD5cbiAqL1xuZXhwb3J0IGNsYXNzIEFub255bW91c1N1YmplY3Q8VD4gZXh0ZW5kcyBTdWJqZWN0PFQ+IHtcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIGRlc3RpbmF0aW9uPzogT2JzZXJ2ZXI8VD4sIHNvdXJjZT86IE9ic2VydmFibGU8VD4pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICB9XG5cbiAgbmV4dCh2YWx1ZTogVCkge1xuICAgIGNvbnN0IHsgZGVzdGluYXRpb24gfSA9IHRoaXM7XG4gICAgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uLm5leHQpIHtcbiAgICAgIGRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIGVycm9yKGVycjogYW55KSB7XG4gICAgY29uc3QgeyBkZXN0aW5hdGlvbiB9ID0gdGhpcztcbiAgICBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24uZXJyb3IpIHtcbiAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICB9XG4gIH1cblxuICBjb21wbGV0ZSgpIHtcbiAgICBjb25zdCB7IGRlc3RpbmF0aW9uIH0gPSB0aGlzO1xuICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5jb21wbGV0ZSkge1xuICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAZGVwcmVjYXRlZCBUaGlzIGlzIGFuIGludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZS4gKi9cbiAgX3N1YnNjcmliZShzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KTogU3Vic2NyaXB0aW9uIHtcbiAgICBjb25zdCB7IHNvdXJjZSB9ID0gdGhpcztcbiAgICBpZiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5zb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgIH1cbiAgfVxufVxuIiwibGV0IF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyA9IGZhbHNlO1xuXG4vKipcbiAqIFRoZSBnbG9iYWwgY29uZmlndXJhdGlvbiBvYmplY3QgZm9yIFJ4SlMsIHVzZWQgdG8gY29uZmlndXJlIHRoaW5nc1xuICogbGlrZSB3aGF0IFByb21pc2UgY29udHJ1Y3RvciBzaG91bGQgdXNlZCB0byBjcmVhdGUgUHJvbWlzZXNcbiAqL1xuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgLyoqXG4gICAqIFRoZSBwcm9taXNlIGNvbnN0cnVjdG9yIHVzZWQgYnkgZGVmYXVsdCBmb3IgbWV0aG9kcyBzdWNoIGFzXG4gICAqIHtAbGluayB0b1Byb21pc2V9IGFuZCB7QGxpbmsgZm9yRWFjaH1cbiAgICovXG4gIFByb21pc2U6IHVuZGVmaW5lZCBhcyBQcm9taXNlQ29uc3RydWN0b3JMaWtlLFxuXG4gIC8qKlxuICAgKiBJZiB0cnVlLCB0dXJucyBvbiBzeW5jaHJvbm91cyBlcnJvciByZXRocm93aW5nLCB3aGljaCBpcyBhIGRlcHJlY2F0ZWQgYmVoYXZpb3JcbiAgICogaW4gdjYgYW5kIGhpZ2hlci4gVGhpcyBiZWhhdmlvciBlbmFibGVzIGJhZCBwYXR0ZXJucyBsaWtlIHdyYXBwaW5nIGEgc3Vic2NyaWJlXG4gICAqIGNhbGwgaW4gYSB0cnkvY2F0Y2ggYmxvY2suIEl0IGFsc28gZW5hYmxlcyBwcm9kdWNlciBpbnRlcmZlcmVuY2UsIGEgbmFzdHkgYnVnXG4gICAqIHdoZXJlIGEgbXVsdGljYXN0IGNhbiBiZSBicm9rZW4gZm9yIGFsbCBvYnNlcnZlcnMgYnkgYSBkb3duc3RyZWFtIGNvbnN1bWVyIHdpdGhcbiAgICogYW4gdW5oYW5kbGVkIGVycm9yLiBETyBOT1QgVVNFIFRISVMgRkxBRyBVTkxFU1MgSVQnUyBORUVERUQgVE8gQlkgVElNRVxuICAgKiBGT1IgTUlHUkFUSU9OIFJFQVNPTlMuXG4gICAqL1xuICBzZXQgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyh2YWx1ZTogYm9vbGVhbikge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoKTtcbiAgICAgIGNvbnNvbGUud2FybignREVQUkVDQVRFRCEgUnhKUyB3YXMgc2V0IHRvIHVzZSBkZXByZWNhdGVkIHN5bmNocm9ub3VzIGVycm9yIGhhbmRsaW5nIGJlaGF2aW9yIGJ5IGNvZGUgYXQ6IFxcbicgKyBlcnJvci5zdGFjayk7XG4gICAgfSBlbHNlIGlmIChfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdSeEpTOiBCYWNrIHRvIGEgYmV0dGVyIGVycm9yIGJlaGF2aW9yLiBUaGFuayB5b3UuIDwzJyk7XG4gICAgfVxuICAgIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyA9IHZhbHVlO1xuICB9LFxuXG4gIGdldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKCkge1xuICAgIHJldHVybiBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3M7XG4gIH0sXG59O1xuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKVxyXG4gICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgZW1wdHkgYXMgZW1wdHlPYnNlcnZlciB9IGZyb20gJy4vT2JzZXJ2ZXInO1xuaW1wb3J0IHsgT2JzZXJ2ZXIsIFBhcnRpYWxPYnNlcnZlciwgVGVhcmRvd25Mb2dpYyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXInO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2hvc3RSZXBvcnRFcnJvcic7XG5cbi8qKlxuICogSW1wbGVtZW50cyB0aGUge0BsaW5rIE9ic2VydmVyfSBpbnRlcmZhY2UgYW5kIGV4dGVuZHMgdGhlXG4gKiB7QGxpbmsgU3Vic2NyaXB0aW9ufSBjbGFzcy4gV2hpbGUgdGhlIHtAbGluayBPYnNlcnZlcn0gaXMgdGhlIHB1YmxpYyBBUEkgZm9yXG4gKiBjb25zdW1pbmcgdGhlIHZhbHVlcyBvZiBhbiB7QGxpbmsgT2JzZXJ2YWJsZX0sIGFsbCBPYnNlcnZlcnMgZ2V0IGNvbnZlcnRlZCB0b1xuICogYSBTdWJzY3JpYmVyLCBpbiBvcmRlciB0byBwcm92aWRlIFN1YnNjcmlwdGlvbi1saWtlIGNhcGFiaWxpdGllcyBzdWNoIGFzXG4gKiBgdW5zdWJzY3JpYmVgLiBTdWJzY3JpYmVyIGlzIGEgY29tbW9uIHR5cGUgaW4gUnhKUywgYW5kIGNydWNpYWwgZm9yXG4gKiBpbXBsZW1lbnRpbmcgb3BlcmF0b3JzLCBidXQgaXQgaXMgcmFyZWx5IHVzZWQgYXMgYSBwdWJsaWMgQVBJLlxuICpcbiAqIEBjbGFzcyBTdWJzY3JpYmVyPFQ+XG4gKi9cbmV4cG9ydCBjbGFzcyBTdWJzY3JpYmVyPFQ+IGV4dGVuZHMgU3Vic2NyaXB0aW9uIGltcGxlbWVudHMgT2JzZXJ2ZXI8VD4ge1xuXG4gIFtyeFN1YnNjcmliZXJTeW1ib2xdKCkgeyByZXR1cm4gdGhpczsgfVxuXG4gIC8qKlxuICAgKiBBIHN0YXRpYyBmYWN0b3J5IGZvciBhIFN1YnNjcmliZXIsIGdpdmVuIGEgKHBvdGVudGlhbGx5IHBhcnRpYWwpIGRlZmluaXRpb25cbiAgICogb2YgYW4gT2JzZXJ2ZXIuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oeDogP1QpOiB2b2lkfSBbbmV4dF0gVGhlIGBuZXh0YCBjYWxsYmFjayBvZiBhbiBPYnNlcnZlci5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihlOiA/YW55KTogdm9pZH0gW2Vycm9yXSBUaGUgYGVycm9yYCBjYWxsYmFjayBvZiBhblxuICAgKiBPYnNlcnZlci5cbiAgICogQHBhcmFtIHtmdW5jdGlvbigpOiB2b2lkfSBbY29tcGxldGVdIFRoZSBgY29tcGxldGVgIGNhbGxiYWNrIG9mIGFuXG4gICAqIE9ic2VydmVyLlxuICAgKiBAcmV0dXJuIHtTdWJzY3JpYmVyPFQ+fSBBIFN1YnNjcmliZXIgd3JhcHBpbmcgdGhlIChwYXJ0aWFsbHkgZGVmaW5lZClcbiAgICogT2JzZXJ2ZXIgcmVwcmVzZW50ZWQgYnkgdGhlIGdpdmVuIGFyZ3VtZW50cy5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHN0YXRpYyBjcmVhdGU8VD4obmV4dD86ICh4PzogVCkgPT4gdm9pZCxcbiAgICAgICAgICAgICAgICAgICBlcnJvcj86IChlPzogYW55KSA9PiB2b2lkLFxuICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlPzogKCkgPT4gdm9pZCk6IFN1YnNjcmliZXI8VD4ge1xuICAgIGNvbnN0IHN1YnNjcmliZXIgPSBuZXcgU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgIHN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gIH1cblxuICAvKiogQGludGVybmFsICovIHN5bmNFcnJvclZhbHVlOiBhbnkgPSBudWxsO1xuICAvKiogQGludGVybmFsICovIHN5bmNFcnJvclRocm93bjogYm9vbGVhbiA9IGZhbHNlO1xuICAvKiogQGludGVybmFsICovIHN5bmNFcnJvclRocm93YWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIHByb3RlY3RlZCBpc1N0b3BwZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJvdGVjdGVkIGRlc3RpbmF0aW9uOiBQYXJ0aWFsT2JzZXJ2ZXI8YW55PiB8IFN1YnNjcmliZXI8YW55PjsgLy8gdGhpcyBgYW55YCBpcyB0aGUgZXNjYXBlIGhhdGNoIHRvIGVyYXNlIGV4dHJhIHR5cGUgcGFyYW0gKGUuZy4gUilcblxuICBwcml2YXRlIF9wYXJlbnRTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbiB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09ic2VydmVyfGZ1bmN0aW9uKHZhbHVlOiBUKTogdm9pZH0gW2Rlc3RpbmF0aW9uT3JOZXh0XSBBIHBhcnRpYWxseVxuICAgKiBkZWZpbmVkIE9ic2VydmVyIG9yIGEgYG5leHRgIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGU6ID9hbnkpOiB2b2lkfSBbZXJyb3JdIFRoZSBgZXJyb3JgIGNhbGxiYWNrIG9mIGFuXG4gICAqIE9ic2VydmVyLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6IHZvaWR9IFtjb21wbGV0ZV0gVGhlIGBjb21wbGV0ZWAgY2FsbGJhY2sgb2YgYW5cbiAgICogT2JzZXJ2ZXIuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkZXN0aW5hdGlvbk9yTmV4dD86IFBhcnRpYWxPYnNlcnZlcjxhbnk+IHwgKCh2YWx1ZTogVCkgPT4gdm9pZCksXG4gICAgICAgICAgICAgIGVycm9yPzogKGU/OiBhbnkpID0+IHZvaWQsXG4gICAgICAgICAgICAgIGNvbXBsZXRlPzogKCkgPT4gdm9pZCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IGVtcHR5T2JzZXJ2ZXI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAxOlxuICAgICAgICBpZiAoIWRlc3RpbmF0aW9uT3JOZXh0KSB7XG4gICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IGVtcHR5T2JzZXJ2ZXI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbk9yTmV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBpZiAoZGVzdGluYXRpb25Pck5leHQgaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICB0aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IGRlc3RpbmF0aW9uT3JOZXh0LnN5bmNFcnJvclRocm93YWJsZTtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbk9yTmV4dDtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uT3JOZXh0LmFkZCh0aGlzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBTYWZlU3Vic2NyaWJlcjxUPih0aGlzLCA8UGFydGlhbE9ic2VydmVyPGFueT4+IGRlc3RpbmF0aW9uT3JOZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBTYWZlU3Vic2NyaWJlcjxUPih0aGlzLCA8KCh2YWx1ZTogVCkgPT4gdm9pZCk+IGRlc3RpbmF0aW9uT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhlIHtAbGluayBPYnNlcnZlcn0gY2FsbGJhY2sgdG8gcmVjZWl2ZSBub3RpZmljYXRpb25zIG9mIHR5cGUgYG5leHRgIGZyb21cbiAgICogdGhlIE9ic2VydmFibGUsIHdpdGggYSB2YWx1ZS4gVGhlIE9ic2VydmFibGUgbWF5IGNhbGwgdGhpcyBtZXRob2QgMCBvciBtb3JlXG4gICAqIHRpbWVzLlxuICAgKiBAcGFyYW0ge1R9IFt2YWx1ZV0gVGhlIGBuZXh0YCB2YWx1ZS5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIG5leHQodmFsdWU/OiBUKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgdGhpcy5fbmV4dCh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSB7QGxpbmsgT2JzZXJ2ZXJ9IGNhbGxiYWNrIHRvIHJlY2VpdmUgbm90aWZpY2F0aW9ucyBvZiB0eXBlIGBlcnJvcmAgZnJvbVxuICAgKiB0aGUgT2JzZXJ2YWJsZSwgd2l0aCBhbiBhdHRhY2hlZCBgRXJyb3JgLiBOb3RpZmllcyB0aGUgT2JzZXJ2ZXIgdGhhdFxuICAgKiB0aGUgT2JzZXJ2YWJsZSBoYXMgZXhwZXJpZW5jZWQgYW4gZXJyb3IgY29uZGl0aW9uLlxuICAgKiBAcGFyYW0ge2FueX0gW2Vycl0gVGhlIGBlcnJvcmAgZXhjZXB0aW9uLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgZXJyb3IoZXJyPzogYW55KTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fZXJyb3IoZXJyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhlIHtAbGluayBPYnNlcnZlcn0gY2FsbGJhY2sgdG8gcmVjZWl2ZSBhIHZhbHVlbGVzcyBub3RpZmljYXRpb24gb2YgdHlwZVxuICAgKiBgY29tcGxldGVgIGZyb20gdGhlIE9ic2VydmFibGUuIE5vdGlmaWVzIHRoZSBPYnNlcnZlciB0aGF0IHRoZSBPYnNlcnZhYmxlXG4gICAqIGhhcyBmaW5pc2hlZCBzZW5kaW5nIHB1c2gtYmFzZWQgbm90aWZpY2F0aW9ucy5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGNvbXBsZXRlKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2NvbXBsZXRlKCk7XG4gICAgfVxuICB9XG5cbiAgdW5zdWJzY3JpYmUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICBzdXBlci51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9uZXh0KHZhbHVlOiBUKTogdm9pZCB7XG4gICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBfZXJyb3IoZXJyOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9jb21wbGV0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgLyoqIEBkZXByZWNhdGVkIFRoaXMgaXMgYW4gaW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlLiAqL1xuICBfdW5zdWJzY3JpYmVBbmRSZWN5Y2xlKCk6IFN1YnNjcmliZXI8VD4ge1xuICAgIGNvbnN0IHsgX3BhcmVudCwgX3BhcmVudHMgfSA9IHRoaXM7XG4gICAgdGhpcy5fcGFyZW50ID0gbnVsbDtcbiAgICB0aGlzLl9wYXJlbnRzID0gbnVsbDtcbiAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICB0aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3BhcmVudCA9IF9wYXJlbnQ7XG4gICAgdGhpcy5fcGFyZW50cyA9IF9wYXJlbnRzO1xuICAgIHRoaXMuX3BhcmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuLyoqXG4gKiBXZSBuZWVkIHRoaXMgSlNEb2MgY29tbWVudCBmb3IgYWZmZWN0aW5nIEVTRG9jLlxuICogQGlnbm9yZVxuICogQGV4dGVuZHMge0lnbm9yZWR9XG4gKi9cbmV4cG9ydCBjbGFzcyBTYWZlU3Vic2NyaWJlcjxUPiBleHRlbmRzIFN1YnNjcmliZXI8VD4ge1xuXG4gIHByaXZhdGUgX2NvbnRleHQ6IGFueTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9wYXJlbnRTdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+LFxuICAgICAgICAgICAgICBvYnNlcnZlck9yTmV4dD86IFBhcnRpYWxPYnNlcnZlcjxUPiB8ICgodmFsdWU6IFQpID0+IHZvaWQpLFxuICAgICAgICAgICAgICBlcnJvcj86IChlPzogYW55KSA9PiB2b2lkLFxuICAgICAgICAgICAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgbGV0IG5leHQ6ICgodmFsdWU6IFQpID0+IHZvaWQpO1xuICAgIGxldCBjb250ZXh0OiBhbnkgPSB0aGlzO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpKSB7XG4gICAgICBuZXh0ID0gKDwoKHZhbHVlOiBUKSA9PiB2b2lkKT4gb2JzZXJ2ZXJPck5leHQpO1xuICAgIH0gZWxzZSBpZiAob2JzZXJ2ZXJPck5leHQpIHtcbiAgICAgIG5leHQgPSAoPFBhcnRpYWxPYnNlcnZlcjxUPj4gb2JzZXJ2ZXJPck5leHQpLm5leHQ7XG4gICAgICBlcnJvciA9ICg8UGFydGlhbE9ic2VydmVyPFQ+PiBvYnNlcnZlck9yTmV4dCkuZXJyb3I7XG4gICAgICBjb21wbGV0ZSA9ICg8UGFydGlhbE9ic2VydmVyPFQ+PiBvYnNlcnZlck9yTmV4dCkuY29tcGxldGU7XG4gICAgICBpZiAob2JzZXJ2ZXJPck5leHQgIT09IGVtcHR5T2JzZXJ2ZXIpIHtcbiAgICAgICAgY29udGV4dCA9IE9iamVjdC5jcmVhdGUob2JzZXJ2ZXJPck5leHQpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250ZXh0LnVuc3Vic2NyaWJlKSkge1xuICAgICAgICAgIHRoaXMuYWRkKDwoKSA9PiB2b2lkPiBjb250ZXh0LnVuc3Vic2NyaWJlLmJpbmQoY29udGV4dCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQudW5zdWJzY3JpYmUgPSB0aGlzLnVuc3Vic2NyaWJlLmJpbmQodGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG4gICAgdGhpcy5fbmV4dCA9IG5leHQ7XG4gICAgdGhpcy5fZXJyb3IgPSBlcnJvcjtcbiAgICB0aGlzLl9jb21wbGV0ZSA9IGNvbXBsZXRlO1xuICB9XG5cbiAgbmV4dCh2YWx1ZT86IFQpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNTdG9wcGVkICYmIHRoaXMuX25leHQpIHtcbiAgICAgIGNvbnN0IHsgX3BhcmVudFN1YnNjcmliZXIgfSA9IHRoaXM7XG4gICAgICBpZiAoIWNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIHx8ICFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fbmV4dCwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgdGhpcy5fbmV4dCwgdmFsdWUpKSB7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBlcnJvcihlcnI/OiBhbnkpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICBjb25zdCB7IF9wYXJlbnRTdWJzY3JpYmVyIH0gPSB0aGlzO1xuICAgICAgY29uc3QgeyB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIH0gPSBjb25maWc7XG4gICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgaWYgKCF1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIHx8ICFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9lcnJvciwgZXJyKTtcbiAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgaWYgKHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbXBsZXRlKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgIGNvbnN0IHsgX3BhcmVudFN1YnNjcmliZXIgfSA9IHRoaXM7XG4gICAgICBpZiAodGhpcy5fY29tcGxldGUpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlZENvbXBsZXRlID0gKCkgPT4gdGhpcy5fY29tcGxldGUuY2FsbCh0aGlzLl9jb250ZXh0KTtcblxuICAgICAgICBpZiAoIWNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIHx8ICFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgd3JhcHBlZENvbXBsZXRlKTtcbiAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9fdHJ5T3JVbnN1YihmbjogRnVuY3Rpb24sIHZhbHVlPzogYW55KTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIGZuLmNhbGwodGhpcy5fY29udGV4dCwgdmFsdWUpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX190cnlPclNldEVycm9yKHBhcmVudDogU3Vic2NyaWJlcjxUPiwgZm46IEZ1bmN0aW9uLCB2YWx1ZT86IGFueSk6IGJvb2xlYW4ge1xuICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIGNhbGwnKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGZuLmNhbGwodGhpcy5fY29udGV4dCwgdmFsdWUpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgIHBhcmVudC5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgcGFyZW50LnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKiogQGludGVybmFsIFRoaXMgaXMgYW4gaW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlLiAqL1xuICBfdW5zdWJzY3JpYmUoKTogdm9pZCB7XG4gICAgY29uc3QgeyBfcGFyZW50U3Vic2NyaWJlciB9ID0gdGhpcztcbiAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDtcbiAgICB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyID0gbnVsbDtcbiAgICBfcGFyZW50U3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBlcnJvck9iamVjdCB9IGZyb20gJy4vZXJyb3JPYmplY3QnO1xuXG5sZXQgdHJ5Q2F0Y2hUYXJnZXQ6IEZ1bmN0aW9uO1xuXG5mdW5jdGlvbiB0cnlDYXRjaGVyKHRoaXM6IGFueSk6IGFueSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHRyeUNhdGNoVGFyZ2V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlcnJvck9iamVjdC5lID0gZTtcbiAgICByZXR1cm4gZXJyb3JPYmplY3Q7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyeUNhdGNoPFQgZXh0ZW5kcyBGdW5jdGlvbj4oZm46IFQpOiBUIHtcbiAgdHJ5Q2F0Y2hUYXJnZXQgPSBmbjtcbiAgcmV0dXJuIDxhbnk+dHJ5Q2F0Y2hlcjtcbn1cbiIsImV4cG9ydCBpbnRlcmZhY2UgVW5zdWJzY3JpcHRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcmVhZG9ubHkgZXJyb3JzOiBhbnlbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVbnN1YnNjcmlwdGlvbkVycm9yQ3RvciB7XG4gIG5ldyhlcnJvcnM6IGFueVtdKTogVW5zdWJzY3JpcHRpb25FcnJvcjtcbn1cblxuZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwodGhpczogYW55LCBlcnJvcnM6IGFueVtdKSB7XG4gIEVycm9yLmNhbGwodGhpcyk7XG4gIHRoaXMubWVzc2FnZSA9IGVycm9ycyA/XG4gIGAke2Vycm9ycy5sZW5ndGh9IGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XG4ke2Vycm9ycy5tYXAoKGVyciwgaSkgPT4gYCR7aSArIDF9KSAke2Vyci50b1N0cmluZygpfWApLmpvaW4oJ1xcbiAgJyl9YCA6ICcnO1xuICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICByZXR1cm4gdGhpcztcbn1cblxuVW5zdWJzY3JpcHRpb25FcnJvckltcGwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuXG4vKipcbiAqIEFuIGVycm9yIHRocm93biB3aGVuIG9uZSBvciBtb3JlIGVycm9ycyBoYXZlIG9jY3VycmVkIGR1cmluZyB0aGVcbiAqIGB1bnN1YnNjcmliZWAgb2YgYSB7QGxpbmsgU3Vic2NyaXB0aW9ufS5cbiAqL1xuZXhwb3J0IGNvbnN0IFVuc3Vic2NyaXB0aW9uRXJyb3I6IFVuc3Vic2NyaXB0aW9uRXJyb3JDdG9yID0gVW5zdWJzY3JpcHRpb25FcnJvckltcGwgYXMgYW55OyIsImltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4vdXRpbC9pc09iamVjdCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgdHJ5Q2F0Y2ggfSBmcm9tICcuL3V0aWwvdHJ5Q2F0Y2gnO1xuaW1wb3J0IHsgZXJyb3JPYmplY3QgfSBmcm9tICcuL3V0aWwvZXJyb3JPYmplY3QnO1xuaW1wb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbkxpa2UsIFRlYXJkb3duTG9naWMgfSBmcm9tICcuL3R5cGVzJztcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgZGlzcG9zYWJsZSByZXNvdXJjZSwgc3VjaCBhcyB0aGUgZXhlY3V0aW9uIG9mIGFuIE9ic2VydmFibGUuIEFcbiAqIFN1YnNjcmlwdGlvbiBoYXMgb25lIGltcG9ydGFudCBtZXRob2QsIGB1bnN1YnNjcmliZWAsIHRoYXQgdGFrZXMgbm8gYXJndW1lbnRcbiAqIGFuZCBqdXN0IGRpc3Bvc2VzIHRoZSByZXNvdXJjZSBoZWxkIGJ5IHRoZSBzdWJzY3JpcHRpb24uXG4gKlxuICogQWRkaXRpb25hbGx5LCBzdWJzY3JpcHRpb25zIG1heSBiZSBncm91cGVkIHRvZ2V0aGVyIHRocm91Z2ggdGhlIGBhZGQoKWBcbiAqIG1ldGhvZCwgd2hpY2ggd2lsbCBhdHRhY2ggYSBjaGlsZCBTdWJzY3JpcHRpb24gdG8gdGhlIGN1cnJlbnQgU3Vic2NyaXB0aW9uLlxuICogV2hlbiBhIFN1YnNjcmlwdGlvbiBpcyB1bnN1YnNjcmliZWQsIGFsbCBpdHMgY2hpbGRyZW4gKGFuZCBpdHMgZ3JhbmRjaGlsZHJlbilcbiAqIHdpbGwgYmUgdW5zdWJzY3JpYmVkIGFzIHdlbGwuXG4gKlxuICogQGNsYXNzIFN1YnNjcmlwdGlvblxuICovXG5leHBvcnQgY2xhc3MgU3Vic2NyaXB0aW9uIGltcGxlbWVudHMgU3Vic2NyaXB0aW9uTGlrZSB7XG4gIC8qKiBAbm9jb2xsYXBzZSAqL1xuICBwdWJsaWMgc3RhdGljIEVNUFRZOiBTdWJzY3JpcHRpb24gPSAoZnVuY3Rpb24oZW1wdHk6IGFueSkge1xuICAgIGVtcHR5LmNsb3NlZCA9IHRydWU7XG4gICAgcmV0dXJuIGVtcHR5O1xuICB9KG5ldyBTdWJzY3JpcHRpb24oKSkpO1xuXG4gIC8qKlxuICAgKiBBIGZsYWcgdG8gaW5kaWNhdGUgd2hldGhlciB0aGlzIFN1YnNjcmlwdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHVuc3Vic2NyaWJlZC5cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICBwdWJsaWMgY2xvc2VkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX3BhcmVudDogU3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX3BhcmVudHM6IFN1YnNjcmlwdGlvbltdID0gbnVsbDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcml2YXRlIF9zdWJzY3JpcHRpb25zOiBTdWJzY3JpcHRpb25MaWtlW10gPSBudWxsO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6IHZvaWR9IFt1bnN1YnNjcmliZV0gQSBmdW5jdGlvbiBkZXNjcmliaW5nIGhvdyB0b1xuICAgKiBwZXJmb3JtIHRoZSBkaXNwb3NhbCBvZiByZXNvdXJjZXMgd2hlbiB0aGUgYHVuc3Vic2NyaWJlYCBtZXRob2QgaXMgY2FsbGVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IodW5zdWJzY3JpYmU/OiAoKSA9PiB2b2lkKSB7XG4gICAgaWYgKHVuc3Vic2NyaWJlKSB7XG4gICAgICAoPGFueT4gdGhpcykuX3Vuc3Vic2NyaWJlID0gdW5zdWJzY3JpYmU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2VzIHRoZSByZXNvdXJjZXMgaGVsZCBieSB0aGUgc3Vic2NyaXB0aW9uLiBNYXksIGZvciBpbnN0YW5jZSwgY2FuY2VsXG4gICAqIGFuIG9uZ29pbmcgT2JzZXJ2YWJsZSBleGVjdXRpb24gb3IgY2FuY2VsIGFueSBvdGhlciB0eXBlIG9mIHdvcmsgdGhhdFxuICAgKiBzdGFydGVkIHdoZW4gdGhlIFN1YnNjcmlwdGlvbiB3YXMgY3JlYXRlZC5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHVuc3Vic2NyaWJlKCk6IHZvaWQge1xuICAgIGxldCBoYXNFcnJvcnMgPSBmYWxzZTtcbiAgICBsZXQgZXJyb3JzOiBhbnlbXTtcblxuICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB7IF9wYXJlbnQsIF9wYXJlbnRzLCBfdW5zdWJzY3JpYmUsIF9zdWJzY3JpcHRpb25zIH0gPSAoPGFueT4gdGhpcyk7XG5cbiAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgdGhpcy5fcGFyZW50ID0gbnVsbDtcbiAgICB0aGlzLl9wYXJlbnRzID0gbnVsbDtcbiAgICAvLyBudWxsIG91dCBfc3Vic2NyaXB0aW9ucyBmaXJzdCBzbyBhbnkgY2hpbGQgc3Vic2NyaXB0aW9ucyB0aGF0IGF0dGVtcHRcbiAgICAvLyB0byByZW1vdmUgdGhlbXNlbHZlcyBmcm9tIHRoaXMgc3Vic2NyaXB0aW9uIHdpbGwgbm9vcFxuICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBudWxsO1xuXG4gICAgbGV0IGluZGV4ID0gLTE7XG4gICAgbGV0IGxlbiA9IF9wYXJlbnRzID8gX3BhcmVudHMubGVuZ3RoIDogMDtcblxuICAgIC8vIGlmIHRoaXMuX3BhcmVudCBpcyBudWxsLCB0aGVuIHNvIGlzIHRoaXMuX3BhcmVudHMsIGFuZCB3ZVxuICAgIC8vIGRvbid0IGhhdmUgdG8gcmVtb3ZlIG91cnNlbHZlcyBmcm9tIGFueSBwYXJlbnQgc3Vic2NyaXB0aW9ucy5cbiAgICB3aGlsZSAoX3BhcmVudCkge1xuICAgICAgX3BhcmVudC5yZW1vdmUodGhpcyk7XG4gICAgICAvLyBpZiB0aGlzLl9wYXJlbnRzIGlzIG51bGwgb3IgaW5kZXggPj0gbGVuLFxuICAgICAgLy8gdGhlbiBfcGFyZW50IGlzIHNldCB0byBudWxsLCBhbmQgdGhlIGxvb3AgZXhpdHNcbiAgICAgIF9wYXJlbnQgPSArK2luZGV4IDwgbGVuICYmIF9wYXJlbnRzW2luZGV4XSB8fCBudWxsO1xuICAgIH1cblxuICAgIGlmIChpc0Z1bmN0aW9uKF91bnN1YnNjcmliZSkpIHtcbiAgICAgIGxldCB0cmlhbCA9IHRyeUNhdGNoKF91bnN1YnNjcmliZSkuY2FsbCh0aGlzKTtcbiAgICAgIGlmICh0cmlhbCA9PT0gZXJyb3JPYmplY3QpIHtcbiAgICAgICAgaGFzRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgZXJyb3JzID0gZXJyb3JzIHx8IChcbiAgICAgICAgICBlcnJvck9iamVjdC5lIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvciA/XG4gICAgICAgICAgICBmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZXJyb3JPYmplY3QuZS5lcnJvcnMpIDogW2Vycm9yT2JqZWN0LmVdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzQXJyYXkoX3N1YnNjcmlwdGlvbnMpKSB7XG5cbiAgICAgIGluZGV4ID0gLTE7XG4gICAgICBsZW4gPSBfc3Vic2NyaXB0aW9ucy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuKSB7XG4gICAgICAgIGNvbnN0IHN1YiA9IF9zdWJzY3JpcHRpb25zW2luZGV4XTtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHN1YikpIHtcbiAgICAgICAgICBsZXQgdHJpYWwgPSB0cnlDYXRjaChzdWIudW5zdWJzY3JpYmUpLmNhbGwoc3ViKTtcbiAgICAgICAgICBpZiAodHJpYWwgPT09IGVycm9yT2JqZWN0KSB7XG4gICAgICAgICAgICBoYXNFcnJvcnMgPSB0cnVlO1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICAgICAgICAgICAgbGV0IGVyciA9IGVycm9yT2JqZWN0LmU7XG4gICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlcnIuZXJyb3JzKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBlcnJvcnMucHVzaChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoYXNFcnJvcnMpIHtcbiAgICAgIHRocm93IG5ldyBVbnN1YnNjcmlwdGlvbkVycm9yKGVycm9ycyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSB0ZWFyIGRvd24gdG8gYmUgY2FsbGVkIGR1cmluZyB0aGUgdW5zdWJzY3JpYmUoKSBvZiB0aGlzXG4gICAqIFN1YnNjcmlwdGlvbi5cbiAgICpcbiAgICogSWYgdGhlIHRlYXIgZG93biBiZWluZyBhZGRlZCBpcyBhIHN1YnNjcmlwdGlvbiB0aGF0IGlzIGFscmVhZHlcbiAgICogdW5zdWJzY3JpYmVkLCBpcyB0aGUgc2FtZSByZWZlcmVuY2UgYGFkZGAgaXMgYmVpbmcgY2FsbGVkIG9uLCBvciBpc1xuICAgKiBgU3Vic2NyaXB0aW9uLkVNUFRZYCwgaXQgd2lsbCBub3QgYmUgYWRkZWQuXG4gICAqXG4gICAqIElmIHRoaXMgc3Vic2NyaXB0aW9uIGlzIGFscmVhZHkgaW4gYW4gYGNsb3NlZGAgc3RhdGUsIHRoZSBwYXNzZWRcbiAgICogdGVhciBkb3duIGxvZ2ljIHdpbGwgYmUgZXhlY3V0ZWQgaW1tZWRpYXRlbHkuXG4gICAqXG4gICAqIEBwYXJhbSB7VGVhcmRvd25Mb2dpY30gdGVhcmRvd24gVGhlIGFkZGl0aW9uYWwgbG9naWMgdG8gZXhlY3V0ZSBvblxuICAgKiB0ZWFyZG93bi5cbiAgICogQHJldHVybiB7U3Vic2NyaXB0aW9ufSBSZXR1cm5zIHRoZSBTdWJzY3JpcHRpb24gdXNlZCBvciBjcmVhdGVkIHRvIGJlXG4gICAqIGFkZGVkIHRvIHRoZSBpbm5lciBzdWJzY3JpcHRpb25zIGxpc3QuIFRoaXMgU3Vic2NyaXB0aW9uIGNhbiBiZSB1c2VkIHdpdGhcbiAgICogYHJlbW92ZSgpYCB0byByZW1vdmUgdGhlIHBhc3NlZCB0ZWFyZG93biBsb2dpYyBmcm9tIHRoZSBpbm5lciBzdWJzY3JpcHRpb25zXG4gICAqIGxpc3QuXG4gICAqL1xuICBhZGQodGVhcmRvd246IFRlYXJkb3duTG9naWMpOiBTdWJzY3JpcHRpb24ge1xuICAgIGlmICghdGVhcmRvd24gfHwgKHRlYXJkb3duID09PSBTdWJzY3JpcHRpb24uRU1QVFkpKSB7XG4gICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgIH1cblxuICAgIGlmICh0ZWFyZG93biA9PT0gdGhpcykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgbGV0IHN1YnNjcmlwdGlvbiA9ICg8U3Vic2NyaXB0aW9uPiB0ZWFyZG93bik7XG5cbiAgICBzd2l0Y2ggKHR5cGVvZiB0ZWFyZG93bikge1xuICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKDwoKCkgPT4gdm9pZCkgPiB0ZWFyZG93bik7XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uLmNsb3NlZCB8fCB0eXBlb2Ygc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHN1YnNjcmlwdGlvbi5fYWRkUGFyZW50ICE9PSAnZnVuY3Rpb24nIC8qIHF1YWNrIHF1YWNrICovKSB7XG4gICAgICAgICAgY29uc3QgdG1wID0gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICBzdWJzY3JpcHRpb24uX3N1YnNjcmlwdGlvbnMgPSBbdG1wXTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5yZWNvZ25pemVkIHRlYXJkb3duICcgKyB0ZWFyZG93biArICcgYWRkZWQgdG8gU3Vic2NyaXB0aW9uLicpO1xuICAgIH1cblxuICAgIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpcHRpb25zIHx8ICh0aGlzLl9zdWJzY3JpcHRpb25zID0gW10pO1xuXG4gICAgc3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gICAgc3Vic2NyaXB0aW9uLl9hZGRQYXJlbnQodGhpcyk7XG5cbiAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBTdWJzY3JpcHRpb24gZnJvbSB0aGUgaW50ZXJuYWwgbGlzdCBvZiBzdWJzY3JpcHRpb25zIHRoYXQgd2lsbFxuICAgKiB1bnN1YnNjcmliZSBkdXJpbmcgdGhlIHVuc3Vic2NyaWJlIHByb2Nlc3Mgb2YgdGhpcyBTdWJzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7U3Vic2NyaXB0aW9ufSBzdWJzY3JpcHRpb24gVGhlIHN1YnNjcmlwdGlvbiB0byByZW1vdmUuXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICByZW1vdmUoc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24pOiB2b2lkIHtcbiAgICBjb25zdCBzdWJzY3JpcHRpb25zID0gdGhpcy5fc3Vic2NyaXB0aW9ucztcbiAgICBpZiAoc3Vic2NyaXB0aW9ucykge1xuICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uSW5kZXggPSBzdWJzY3JpcHRpb25zLmluZGV4T2Yoc3Vic2NyaXB0aW9uKTtcbiAgICAgIGlmIChzdWJzY3JpcHRpb25JbmRleCAhPT0gLTEpIHtcbiAgICAgICAgc3Vic2NyaXB0aW9ucy5zcGxpY2Uoc3Vic2NyaXB0aW9uSW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJpdmF0ZSBfYWRkUGFyZW50KHBhcmVudDogU3Vic2NyaXB0aW9uKSB7XG4gICAgbGV0IHsgX3BhcmVudCwgX3BhcmVudHMgfSA9IHRoaXM7XG4gICAgaWYgKCFfcGFyZW50IHx8IF9wYXJlbnQgPT09IHBhcmVudCkge1xuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIHBhcmVudCwgb3IgdGhlIG5ldyBwYXJlbnQgaXMgdGhlIHNhbWUgYXMgdGhlXG4gICAgICAvLyBjdXJyZW50IHBhcmVudCwgdGhlbiBzZXQgdGhpcy5fcGFyZW50IHRvIHRoZSBuZXcgcGFyZW50LlxuICAgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICAgIH0gZWxzZSBpZiAoIV9wYXJlbnRzKSB7XG4gICAgICAvLyBJZiB0aGVyZSdzIGFscmVhZHkgb25lIHBhcmVudCwgYnV0IG5vdCBtdWx0aXBsZSwgYWxsb2NhdGUgYW4gQXJyYXkgdG9cbiAgICAgIC8vIHN0b3JlIHRoZSByZXN0IG9mIHRoZSBwYXJlbnQgU3Vic2NyaXB0aW9ucy5cbiAgICAgIHRoaXMuX3BhcmVudHMgPSBbcGFyZW50XTtcbiAgICB9IGVsc2UgaWYgKF9wYXJlbnRzLmluZGV4T2YocGFyZW50KSA9PT0gLTEpIHtcbiAgICAgIC8vIE9ubHkgYWRkIHRoZSBuZXcgcGFyZW50IHRvIHRoZSBfcGFyZW50cyBsaXN0IGlmIGl0J3Mgbm90IGFscmVhZHkgdGhlcmUuXG4gICAgICBfcGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlcnJvcnM6IGFueVtdKSB7XG4gcmV0dXJuIGVycm9ycy5yZWR1Y2UoKGVycnMsIGVycikgPT4gZXJycy5jb25jYXQoKGVyciBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IpID8gZXJyLmVycm9ycyA6IGVyciksIFtdKTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh4OiBhbnkpOiB4IGlzIE9iamVjdCB7XG4gIHJldHVybiB4ICE9IG51bGwgJiYgdHlwZW9mIHggPT09ICdvYmplY3QnO1xufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3IgfSBmcm9tICcuLi9PcGVyYXRvcic7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uLCBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIFRlYXJkb3duTG9naWMgfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcjxULCBTIGV4dGVuZHMgVD4ocHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IHZhbHVlIGlzIFMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzQXJnPzogYW55KTogT3BlcmF0b3JGdW5jdGlvbjxULCBTPjtcbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXI8VD4ocHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNBcmc/OiBhbnkpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG4vKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuXG4vKipcbiAqIEZpbHRlciBpdGVtcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBieSBvbmx5IGVtaXR0aW5nIHRob3NlIHRoYXRcbiAqIHNhdGlzZnkgYSBzcGVjaWZpZWQgcHJlZGljYXRlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5MaWtlXG4gKiBbQXJyYXkucHJvdG90eXBlLmZpbHRlcigpXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9maWx0ZXIpLFxuICogaXQgb25seSBlbWl0cyBhIHZhbHVlIGZyb20gdGhlIHNvdXJjZSBpZiBpdCBwYXNzZXMgYSBjcml0ZXJpb24gZnVuY3Rpb24uPC9zcGFuPlxuICpcbiAqICFbXShmaWx0ZXIucG5nKVxuICpcbiAqIFNpbWlsYXIgdG8gdGhlIHdlbGwta25vd24gYEFycmF5LnByb3RvdHlwZS5maWx0ZXJgIG1ldGhvZCwgdGhpcyBvcGVyYXRvclxuICogdGFrZXMgdmFsdWVzIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCBwYXNzZXMgdGhlbSB0aHJvdWdoIGEgYHByZWRpY2F0ZWBcbiAqIGZ1bmN0aW9uIGFuZCBvbmx5IGVtaXRzIHRob3NlIHZhbHVlcyB0aGF0IHlpZWxkZWQgYHRydWVgLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqIEVtaXQgb25seSBjbGljayBldmVudHMgd2hvc2UgdGFyZ2V0IHdhcyBhIERJViBlbGVtZW50XG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgY2xpY2tzT25EaXZzID0gY2xpY2tzLnBpcGUoZmlsdGVyKGV2ID0+IGV2LnRhcmdldC50YWdOYW1lID09PSAnRElWJykpO1xuICogY2xpY2tzT25EaXZzLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGRpc3RpbmN0fVxuICogQHNlZSB7QGxpbmsgZGlzdGluY3RVbnRpbENoYW5nZWR9XG4gKiBAc2VlIHtAbGluayBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZH1cbiAqIEBzZWUge0BsaW5rIGlnbm9yZUVsZW1lbnRzfVxuICogQHNlZSB7QGxpbmsgcGFydGl0aW9ufVxuICogQHNlZSB7QGxpbmsgc2tpcH1cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKTogYm9vbGVhbn0gcHJlZGljYXRlIEEgZnVuY3Rpb24gdGhhdFxuICogZXZhbHVhdGVzIGVhY2ggdmFsdWUgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuIElmIGl0IHJldHVybnMgYHRydWVgLFxuICogdGhlIHZhbHVlIGlzIGVtaXR0ZWQsIGlmIGBmYWxzZWAgdGhlIHZhbHVlIGlzIG5vdCBwYXNzZWQgdG8gdGhlIG91dHB1dFxuICogT2JzZXJ2YWJsZS4gVGhlIGBpbmRleGAgcGFyYW1ldGVyIGlzIHRoZSBudW1iZXIgYGlgIGZvciB0aGUgaS10aCBzb3VyY2VcbiAqIGVtaXNzaW9uIHRoYXQgaGFzIGhhcHBlbmVkIHNpbmNlIHRoZSBzdWJzY3JpcHRpb24sIHN0YXJ0aW5nIGZyb20gdGhlIG51bWJlclxuICogYDBgLlxuICogQHBhcmFtIHthbnl9IFt0aGlzQXJnXSBBbiBvcHRpb25hbCBhcmd1bWVudCB0byBkZXRlcm1pbmUgdGhlIHZhbHVlIG9mIGB0aGlzYFxuICogaW4gdGhlIGBwcmVkaWNhdGVgIGZ1bmN0aW9uLlxuICogQHJldHVybiB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSBvZiB2YWx1ZXMgZnJvbSB0aGUgc291cmNlIHRoYXQgd2VyZVxuICogYWxsb3dlZCBieSB0aGUgYHByZWRpY2F0ZWAgZnVuY3Rpb24uXG4gKiBAbWV0aG9kIGZpbHRlclxuICogQG93bmVyIE9ic2VydmFibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcjxUPihwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0FyZz86IGFueSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBmdW5jdGlvbiBmaWx0ZXJPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZTogT2JzZXJ2YWJsZTxUPik6IE9ic2VydmFibGU8VD4ge1xuICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgRmlsdGVyT3BlcmF0b3IocHJlZGljYXRlLCB0aGlzQXJnKSk7XG4gIH07XG59XG5cbmNsYXNzIEZpbHRlck9wZXJhdG9yPFQ+IGltcGxlbWVudHMgT3BlcmF0b3I8VCwgVD4ge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuLFxuICAgICAgICAgICAgICBwcml2YXRlIHRoaXNBcmc/OiBhbnkpIHtcbiAgfVxuXG4gIGNhbGwoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPiwgc291cmNlOiBhbnkpOiBUZWFyZG93bkxvZ2ljIHtcbiAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRmlsdGVyU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByZWRpY2F0ZSwgdGhpcy50aGlzQXJnKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBXZSBuZWVkIHRoaXMgSlNEb2MgY29tbWVudCBmb3IgYWZmZWN0aW5nIEVTRG9jLlxuICogQGlnbm9yZVxuICogQGV4dGVuZHMge0lnbm9yZWR9XG4gKi9cbmNsYXNzIEZpbHRlclN1YnNjcmliZXI8VD4gZXh0ZW5kcyBTdWJzY3JpYmVyPFQ+IHtcblxuICBjb3VudDogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcihkZXN0aW5hdGlvbjogU3Vic2NyaWJlcjxUPixcbiAgICAgICAgICAgICAgcHJpdmF0ZSBwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbixcbiAgICAgICAgICAgICAgcHJpdmF0ZSB0aGlzQXJnOiBhbnkpIHtcbiAgICBzdXBlcihkZXN0aW5hdGlvbik7XG4gIH1cblxuICAvLyB0aGUgdHJ5IGNhdGNoIGJsb2NrIGJlbG93IGlzIGxlZnQgc3BlY2lmaWNhbGx5IGZvclxuICAvLyBvcHRpbWl6YXRpb24gYW5kIHBlcmYgcmVhc29ucy4gYSB0cnlDYXRjaGVyIGlzIG5vdCBuZWNlc3NhcnkgaGVyZS5cbiAgcHJvdGVjdGVkIF9uZXh0KHZhbHVlOiBUKSB7XG4gICAgbGV0IHJlc3VsdDogYW55O1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSB0aGlzLnByZWRpY2F0ZS5jYWxsKHRoaXMudGhpc0FyZywgdmFsdWUsIHRoaXMuY291bnQrKyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfVxuICB9XG59XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiLyoqIEBkZXByZWNhdGVkIGRvIG5vdCB1c2UsIHRoaXMgaXMgbm8gbG9uZ2VyIGNoZWNrZWQgYnkgUnhKUyBpbnRlcm5hbHMgKi9cbmV4cG9ydCBjb25zdCByeFN1YnNjcmliZXIgPVxuICB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nXG4gICAgPyBTeW1ib2woJ3J4U3Vic2NyaWJlcicpXG4gICAgOiAnQEByeFN1YnNjcmliZXJfJyArIE1hdGgucmFuZG9tKCk7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgdXNlIHJ4U3Vic2NyaWJlciBpbnN0ZWFkXG4gKi9cbmV4cG9ydCBjb25zdCAkJHJ4U3Vic2NyaWJlciA9IHJ4U3Vic2NyaWJlcjtcbiIsIi8qKlxuICogVGhyb3dzIGFuIGVycm9yIG9uIGFub3RoZXIgam9iIHNvIHRoYXQgaXQncyBwaWNrZWQgdXAgYnkgdGhlIHJ1bnRpbWUnc1xuICogdW5jYXVnaHQgZXJyb3IgaGFuZGxpbmcgbWVjaGFuaXNtLlxuICogQHBhcmFtIGVyciB0aGUgZXJyb3IgdG8gdGhyb3dcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhvc3RSZXBvcnRFcnJvcihlcnI6IGFueSkge1xuICBzZXRUaW1lb3V0KCgpID0+IHsgdGhyb3cgZXJyOyB9KTtcbn0iLCJpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gIH1cbn1cbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyBhIGR1cGxleCBzdHJlYW0gaXMganVzdCBhIHN0cmVhbSB0aGF0IGlzIGJvdGggcmVhZGFibGUgYW5kIHdyaXRhYmxlLlxuLy8gU2luY2UgSlMgZG9lc24ndCBoYXZlIG11bHRpcGxlIHByb3RvdHlwYWwgaW5oZXJpdGFuY2UsIHRoaXMgY2xhc3Ncbi8vIHByb3RvdHlwYWxseSBpbmhlcml0cyBmcm9tIFJlYWRhYmxlLCBhbmQgdGhlbiBwYXJhc2l0aWNhbGx5IGZyb21cbi8vIFdyaXRhYmxlLlxuXG4ndXNlIHN0cmljdCc7XG5cbi8qPHJlcGxhY2VtZW50PiovXG5cbnZhciBwbmEgPSByZXF1aXJlKCdwcm9jZXNzLW5leHRpY2stYXJncycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGtleXMucHVzaChrZXkpO1xuICB9cmV0dXJuIGtleXM7XG59O1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbm1vZHVsZS5leHBvcnRzID0gRHVwbGV4O1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIHV0aWwgPSByZXF1aXJlKCdjb3JlLXV0aWwtaXMnKTtcbnV0aWwuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbnZhciBSZWFkYWJsZSA9IHJlcXVpcmUoJy4vX3N0cmVhbV9yZWFkYWJsZScpO1xudmFyIFdyaXRhYmxlID0gcmVxdWlyZSgnLi9fc3RyZWFtX3dyaXRhYmxlJyk7XG5cbnV0aWwuaW5oZXJpdHMoRHVwbGV4LCBSZWFkYWJsZSk7XG5cbntcbiAgLy8gYXZvaWQgc2NvcGUgY3JlZXAsIHRoZSBrZXlzIGFycmF5IGNhbiB0aGVuIGJlIGNvbGxlY3RlZFxuICB2YXIga2V5cyA9IG9iamVjdEtleXMoV3JpdGFibGUucHJvdG90eXBlKTtcbiAgZm9yICh2YXIgdiA9IDA7IHYgPCBrZXlzLmxlbmd0aDsgdisrKSB7XG4gICAgdmFyIG1ldGhvZCA9IGtleXNbdl07XG4gICAgaWYgKCFEdXBsZXgucHJvdG90eXBlW21ldGhvZF0pIER1cGxleC5wcm90b3R5cGVbbWV0aG9kXSA9IFdyaXRhYmxlLnByb3RvdHlwZVttZXRob2RdO1xuICB9XG59XG5cbmZ1bmN0aW9uIER1cGxleChvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEdXBsZXgpKSByZXR1cm4gbmV3IER1cGxleChvcHRpb25zKTtcblxuICBSZWFkYWJsZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICBXcml0YWJsZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMucmVhZGFibGUgPT09IGZhbHNlKSB0aGlzLnJlYWRhYmxlID0gZmFsc2U7XG5cbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy53cml0YWJsZSA9PT0gZmFsc2UpIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcblxuICB0aGlzLmFsbG93SGFsZk9wZW4gPSB0cnVlO1xuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmFsbG93SGFsZk9wZW4gPT09IGZhbHNlKSB0aGlzLmFsbG93SGFsZk9wZW4gPSBmYWxzZTtcblxuICB0aGlzLm9uY2UoJ2VuZCcsIG9uZW5kKTtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KER1cGxleC5wcm90b3R5cGUsICd3cml0YWJsZUhpZ2hXYXRlck1hcmsnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcms7XG4gIH1cbn0pO1xuXG4vLyB0aGUgbm8taGFsZi1vcGVuIGVuZm9yY2VyXG5mdW5jdGlvbiBvbmVuZCgpIHtcbiAgLy8gaWYgd2UgYWxsb3cgaGFsZi1vcGVuIHN0YXRlLCBvciBpZiB0aGUgd3JpdGFibGUgc2lkZSBlbmRlZCxcbiAgLy8gdGhlbiB3ZSdyZSBvay5cbiAgaWYgKHRoaXMuYWxsb3dIYWxmT3BlbiB8fCB0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkKSByZXR1cm47XG5cbiAgLy8gbm8gbW9yZSBkYXRhIGNhbiBiZSB3cml0dGVuLlxuICAvLyBCdXQgYWxsb3cgbW9yZSB3cml0ZXMgdG8gaGFwcGVuIGluIHRoaXMgdGljay5cbiAgcG5hLm5leHRUaWNrKG9uRW5kTlQsIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBvbkVuZE5UKHNlbGYpIHtcbiAgc2VsZi5lbmQoKTtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KER1cGxleC5wcm90b3R5cGUsICdkZXN0cm95ZWQnLCB7XG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlID09PSB1bmRlZmluZWQgfHwgdGhpcy5fd3JpdGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCAmJiB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZDtcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAvLyB3ZSBpZ25vcmUgdGhlIHZhbHVlIGlmIHRoZSBzdHJlYW1cbiAgICAvLyBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQgeWV0XG4gICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCB8fCB0aGlzLl93cml0YWJsZVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCB0aGUgdXNlciBpcyBleHBsaWNpdGx5XG4gICAgLy8gbWFuYWdpbmcgZGVzdHJveWVkXG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB2YWx1ZTtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCA9IHZhbHVlO1xuICB9XG59KTtcblxuRHVwbGV4LnByb3RvdHlwZS5fZGVzdHJveSA9IGZ1bmN0aW9uIChlcnIsIGNiKSB7XG4gIHRoaXMucHVzaChudWxsKTtcbiAgdGhpcy5lbmQoKTtcblxuICBwbmEubmV4dFRpY2soY2IsIGVycik7XG59OyIsImltcG9ydCB7IE9ic2VydmVyIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcblxuZXhwb3J0IGNvbnN0IGVtcHR5OiBPYnNlcnZlcjxhbnk+ID0ge1xuICBjbG9zZWQ6IHRydWUsXG4gIG5leHQodmFsdWU6IGFueSk6IHZvaWQgeyAvKiBub29wICovfSxcbiAgZXJyb3IoZXJyOiBhbnkpOiB2b2lkIHtcbiAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9IGVsc2Uge1xuICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgfVxuICB9LFxuICBjb21wbGV0ZSgpOiB2b2lkIHsgLypub29wKi8gfVxufTtcbiIsIi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGZlcm9zc0BmZXJvc3Mub3JnPiA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cbid1c2Ugc3RyaWN0J1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJylcbnZhciBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKVxuXG5leHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlclxuZXhwb3J0cy5TbG93QnVmZmVyID0gU2xvd0J1ZmZlclxuZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUyA9IDUwXG5cbi8qKlxuICogSWYgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFVzZSBPYmplY3QgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG4gKlxuICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLFxuICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuICpcbiAqIER1ZSB0byB2YXJpb3VzIGJyb3dzZXIgYnVncywgc29tZXRpbWVzIHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24gd2lsbCBiZSB1c2VkIGV2ZW5cbiAqIHdoZW4gdGhlIGJyb3dzZXIgc3VwcG9ydHMgdHlwZWQgYXJyYXlzLlxuICpcbiAqIE5vdGU6XG4gKlxuICogICAtIEZpcmVmb3ggNC0yOSBsYWNrcyBzdXBwb3J0IGZvciBhZGRpbmcgbmV3IHByb3BlcnRpZXMgdG8gYFVpbnQ4QXJyYXlgIGluc3RhbmNlcyxcbiAqICAgICBTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOC5cbiAqXG4gKiAgIC0gQ2hyb21lIDktMTAgaXMgbWlzc2luZyB0aGUgYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbi5cbiAqXG4gKiAgIC0gSUUxMCBoYXMgYSBicm9rZW4gYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFycmF5cyBvZlxuICogICAgIGluY29ycmVjdCBsZW5ndGggaW4gc29tZSBzaXR1YXRpb25zLlxuXG4gKiBXZSBkZXRlY3QgdGhlc2UgYnVnZ3kgYnJvd3NlcnMgYW5kIHNldCBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgIHRvIGBmYWxzZWAgc28gdGhleVxuICogZ2V0IHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24sIHdoaWNoIGlzIHNsb3dlciBidXQgYmVoYXZlcyBjb3JyZWN0bHkuXG4gKi9cbkJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUID0gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlQgIT09IHVuZGVmaW5lZFxuICA/IGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gIDogdHlwZWRBcnJheVN1cHBvcnQoKVxuXG4vKlxuICogRXhwb3J0IGtNYXhMZW5ndGggYWZ0ZXIgdHlwZWQgYXJyYXkgc3VwcG9ydCBpcyBkZXRlcm1pbmVkLlxuICovXG5leHBvcnRzLmtNYXhMZW5ndGggPSBrTWF4TGVuZ3RoKClcblxuZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQgKCkge1xuICB0cnkge1xuICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheSgxKVxuICAgIGFyci5fX3Byb3RvX18gPSB7X19wcm90b19fOiBVaW50OEFycmF5LnByb3RvdHlwZSwgZm9vOiBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9fVxuICAgIHJldHVybiBhcnIuZm9vKCkgPT09IDQyICYmIC8vIHR5cGVkIGFycmF5IGluc3RhbmNlcyBjYW4gYmUgYXVnbWVudGVkXG4gICAgICAgIHR5cGVvZiBhcnIuc3ViYXJyYXkgPT09ICdmdW5jdGlvbicgJiYgLy8gY2hyb21lIDktMTAgbGFjayBgc3ViYXJyYXlgXG4gICAgICAgIGFyci5zdWJhcnJheSgxLCAxKS5ieXRlTGVuZ3RoID09PSAwIC8vIGllMTAgaGFzIGJyb2tlbiBgc3ViYXJyYXlgXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5mdW5jdGlvbiBrTWF4TGVuZ3RoICgpIHtcbiAgcmV0dXJuIEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gICAgPyAweDdmZmZmZmZmXG4gICAgOiAweDNmZmZmZmZmXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlciAodGhhdCwgbGVuZ3RoKSB7XG4gIGlmIChrTWF4TGVuZ3RoKCkgPCBsZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGgnKVxuICB9XG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpXG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIGlmICh0aGF0ID09PSBudWxsKSB7XG4gICAgICB0aGF0ID0gbmV3IEJ1ZmZlcihsZW5ndGgpXG4gICAgfVxuICAgIHRoYXQubGVuZ3RoID0gbGVuZ3RoXG4gIH1cblxuICByZXR1cm4gdGhhdFxufVxuXG4vKipcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kc1xuICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcbiAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuICovXG5cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJiAhKHRoaXMgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICAvLyBDb21tb24gY2FzZS5cbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZ09yT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcnXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBhbGxvY1Vuc2FmZSh0aGlzLCBhcmcpXG4gIH1cbiAgcmV0dXJuIGZyb20odGhpcywgYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wb29sU2l6ZSA9IDgxOTIgLy8gbm90IHVzZWQgYnkgdGhpcyBpbXBsZW1lbnRhdGlvblxuXG4vLyBUT0RPOiBMZWdhY3ksIG5vdCBuZWVkZWQgYW55bW9yZS4gUmVtb3ZlIGluIG5leHQgbWFqb3IgdmVyc2lvbi5cbkJ1ZmZlci5fYXVnbWVudCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgYXJyLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiBmcm9tICh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcbiAgfVxuXG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0KVxuICB9XG5cbiAgcmV0dXJuIGZyb21PYmplY3QodGhhdCwgdmFsdWUpXG59XG5cbi8qKlxuICogRnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdG8gQnVmZmVyKGFyZywgZW5jb2RpbmcpIGJ1dCB0aHJvd3MgYSBUeXBlRXJyb3JcbiAqIGlmIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQnVmZmVyLmZyb20oc3RyWywgZW5jb2RpbmddKVxuICogQnVmZmVyLmZyb20oYXJyYXkpXG4gKiBCdWZmZXIuZnJvbShidWZmZXIpXG4gKiBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlclssIGJ5dGVPZmZzZXRbLCBsZW5ndGhdXSlcbiAqKi9cbkJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGZyb20obnVsbCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gIEJ1ZmZlci5wcm90b3R5cGUuX19wcm90b19fID0gVWludDhBcnJheS5wcm90b3R5cGVcbiAgQnVmZmVyLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXlcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC5zcGVjaWVzICYmXG4gICAgICBCdWZmZXJbU3ltYm9sLnNwZWNpZXNdID09PSBCdWZmZXIpIHtcbiAgICAvLyBGaXggc3ViYXJyYXkoKSBpbiBFUzIwMTYuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvcHVsbC85N1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIsIFN5bWJvbC5zcGVjaWVzLCB7XG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pXG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH0gZWxzZSBpZiAoc2l6ZSA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFsbG9jICh0aGF0LCBzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIGlmIChzaXplIDw9IDApIHtcbiAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG4gIH1cbiAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9ubHkgcGF5IGF0dGVudGlvbiB0byBlbmNvZGluZyBpZiBpdCdzIGEgc3RyaW5nLiBUaGlzXG4gICAgLy8gcHJldmVudHMgYWNjaWRlbnRhbGx5IHNlbmRpbmcgaW4gYSBudW1iZXIgdGhhdCB3b3VsZFxuICAgIC8vIGJlIGludGVycHJldHRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cbiAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xuICAgICAgPyBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICAgIDogY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbClcbiAgfVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogYWxsb2Moc2l6ZVssIGZpbGxbLCBlbmNvZGluZ11dKVxuICoqL1xuQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIHJldHVybiBhbGxvYyhudWxsLCBzaXplLCBmaWxsLCBlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gYWxsb2NVbnNhZmUgKHRoYXQsIHNpemUpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyArK2kpIHtcbiAgICAgIHRoYXRbaV0gPSAwXG4gICAgfVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogRXF1aXZhbGVudCB0byBCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqICovXG5CdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn1cbi8qKlxuICogRXF1aXZhbGVudCB0byBTbG93QnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn1cblxuZnVuY3Rpb24gZnJvbVN0cmluZyAodGhhdCwgc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJyB8fCBlbmNvZGluZyA9PT0gJycpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICB9XG5cbiAgaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImVuY29kaW5nXCIgbXVzdCBiZSBhIHZhbGlkIHN0cmluZyBlbmNvZGluZycpXG4gIH1cblxuICB2YXIgbGVuZ3RoID0gYnl0ZUxlbmd0aChzdHJpbmcsIGVuY29kaW5nKSB8IDBcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG5cbiAgdmFyIGFjdHVhbCA9IHRoYXQud3JpdGUoc3RyaW5nLCBlbmNvZGluZylcblxuICBpZiAoYWN0dWFsICE9PSBsZW5ndGgpIHtcbiAgICAvLyBXcml0aW5nIGEgaGV4IHN0cmluZywgZm9yIGV4YW1wbGUsIHRoYXQgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIHdpbGxcbiAgICAvLyBjYXVzZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBmaXJzdCBpbnZhbGlkIGNoYXJhY3RlciB0byBiZSBpZ25vcmVkLiAoZS5nLlxuICAgIC8vICdhYnh4Y2QnIHdpbGwgYmUgdHJlYXRlZCBhcyAnYWInKVxuICAgIHRoYXQgPSB0aGF0LnNsaWNlKDAsIGFjdHVhbClcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKHRoYXQsIGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGF0W2ldID0gYXJyYXlbaV0gJiAyNTVcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIgKHRoYXQsIGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcbiAgYXJyYXkuYnl0ZUxlbmd0aCAvLyB0aGlzIHRocm93cyBpZiBgYXJyYXlgIGlzIG5vdCBhIHZhbGlkIEFycmF5QnVmZmVyXG5cbiAgaWYgKGJ5dGVPZmZzZXQgPCAwIHx8IGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0KSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ29mZnNldFxcJyBpcyBvdXQgb2YgYm91bmRzJylcbiAgfVxuXG4gIGlmIChhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCArIChsZW5ndGggfHwgMCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnbGVuZ3RoXFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGJ5dGVPZmZzZXQgPT09IHVuZGVmaW5lZCAmJiBsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0KVxuICB9IGVsc2Uge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBhcnJheVxuICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICB0aGF0ID0gZnJvbUFycmF5TGlrZSh0aGF0LCBhcnJheSlcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tT2JqZWN0ICh0aGF0LCBvYmopIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihvYmopKSB7XG4gICAgdmFyIGxlbiA9IGNoZWNrZWQob2JqLmxlbmd0aCkgfCAwXG4gICAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW4pXG5cbiAgICBpZiAodGhhdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGF0XG4gICAgfVxuXG4gICAgb2JqLmNvcHkodGhhdCwgMCwgMCwgbGVuKVxuICAgIHJldHVybiB0aGF0XG4gIH1cblxuICBpZiAob2JqKSB7XG4gICAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIG9iai5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgfHwgJ2xlbmd0aCcgaW4gb2JqKSB7XG4gICAgICBpZiAodHlwZW9mIG9iai5sZW5ndGggIT09ICdudW1iZXInIHx8IGlzbmFuKG9iai5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgMClcbiAgICAgIH1cbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iailcbiAgICB9XG5cbiAgICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIGlzQXJyYXkob2JqLmRhdGEpKSB7XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmouZGF0YSlcbiAgICB9XG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgYXJyYXktbGlrZSBvYmplY3QuJylcbn1cblxuZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7XG4gIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IGtNYXhMZW5ndGgoKWAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcbiAgaWYgKGxlbmd0aCA+PSBrTWF4TGVuZ3RoKCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsga01heExlbmd0aCgpLnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuICB9XG4gIHJldHVybiBsZW5ndGggfCAwXG59XG5cbmZ1bmN0aW9uIFNsb3dCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICBsZW5ndGggPSAwXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuICByZXR1cm4gISEoYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyKVxufVxuXG5CdWZmZXIuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkgfHwgIUJ1ZmZlci5pc0J1ZmZlcihiKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cbiAgdmFyIHggPSBhLmxlbmd0aFxuICB2YXIgeSA9IGIubGVuZ3RoXG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV1cbiAgICAgIHkgPSBiW2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdsYXRpbjEnOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghaXNBcnJheShsaXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gIH1cblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApXG4gIH1cblxuICB2YXIgaVxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIHZhciBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuICB2YXIgcG9zID0gMFxuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBidWYgPSBsaXN0W2ldXG4gICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgICB9XG4gICAgYnVmLmNvcHkoYnVmZmVyLCBwb3MpXG4gICAgcG9zICs9IGJ1Zi5sZW5ndGhcbiAgfVxuICByZXR1cm4gYnVmZmVyXG59XG5cbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihzdHJpbmcpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5sZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAoQXJyYXlCdWZmZXIuaXNWaWV3KHN0cmluZykgfHwgc3RyaW5nIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmdcbiAgfVxuXG4gIHZhciBsZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChsZW4gPT09IDApIHJldHVybiAwXG5cbiAgLy8gVXNlIGEgZm9yIGxvb3AgdG8gYXZvaWQgcmVjdXJzaW9uXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxlblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gbGVuICogMlxuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGxlbiA+Pj4gMVxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoIC8vIGFzc3VtZSB1dGY4XG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5CdWZmZXIuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcblxuZnVuY3Rpb24gc2xvd1RvU3RyaW5nIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXG4gIC8vIE5vIG5lZWQgdG8gdmVyaWZ5IHRoYXQgXCJ0aGlzLmxlbmd0aCA8PSBNQVhfVUlOVDMyXCIgc2luY2UgaXQncyBhIHJlYWQtb25seVxuICAvLyBwcm9wZXJ0eSBvZiBhIHR5cGVkIGFycmF5LlxuXG4gIC8vIFRoaXMgYmVoYXZlcyBuZWl0aGVyIGxpa2UgU3RyaW5nIG5vciBVaW50OEFycmF5IGluIHRoYXQgd2Ugc2V0IHN0YXJ0L2VuZFxuICAvLyB0byB0aGVpciB1cHBlci9sb3dlciBib3VuZHMgaWYgdGhlIHZhbHVlIHBhc3NlZCBpcyBvdXQgb2YgcmFuZ2UuXG4gIC8vIHVuZGVmaW5lZCBpcyBoYW5kbGVkIHNwZWNpYWxseSBhcyBwZXIgRUNNQS0yNjIgNnRoIEVkaXRpb24sXG4gIC8vIFNlY3Rpb24gMTMuMy4zLjcgUnVudGltZSBTZW1hbnRpY3M6IEtleWVkQmluZGluZ0luaXRpYWxpemF0aW9uLlxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCB8fCBzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICAvLyBSZXR1cm4gZWFybHkgaWYgc3RhcnQgPiB0aGlzLmxlbmd0aC4gRG9uZSBoZXJlIHRvIHByZXZlbnQgcG90ZW50aWFsIHVpbnQzMlxuICAvLyBjb2VyY2lvbiBmYWlsIGJlbG93LlxuICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChlbmQgPD0gMCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgLy8gRm9yY2UgY29lcnNpb24gdG8gdWludDMyLiBUaGlzIHdpbGwgYWxzbyBjb2VyY2UgZmFsc2V5L05hTiB2YWx1ZXMgdG8gMC5cbiAgZW5kID4+Pj0gMFxuICBzdGFydCA+Pj49IDBcblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhlIHByb3BlcnR5IGlzIHVzZWQgYnkgYEJ1ZmZlci5pc0J1ZmZlcmAgYW5kIGBpcy1idWZmZXJgIChpbiBTYWZhcmkgNS03KSB0byBkZXRlY3Rcbi8vIEJ1ZmZlciBpbnN0YW5jZXMuXG5CdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlciA9IHRydWVcblxuZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkge1xuICB2YXIgaSA9IGJbbl1cbiAgYltuXSA9IGJbbV1cbiAgYlttXSA9IGlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAxKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyID0gZnVuY3Rpb24gc3dhcDMyICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA0ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgMilcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXA2NCA9IGZ1bmN0aW9uIHN3YXA2NCAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgOCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gOCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDcpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpXG4gICAgc3dhcCh0aGlzLCBpICsgMiwgaSArIDUpXG4gICAgc3dhcCh0aGlzLCBpICsgMywgaSArIDQpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoIHwgMFxuICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gJydcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB1dGY4U2xpY2UodGhpcywgMCwgbGVuZ3RoKVxuICByZXR1cm4gc2xvd1RvU3RyaW5nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICBpZiAodGhpcyA9PT0gYikgcmV0dXJuIHRydWVcbiAgcmV0dXJuIEJ1ZmZlci5jb21wYXJlKHRoaXMsIGIpID09PSAwXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICB2YXIgc3RyID0gJydcbiAgdmFyIG1heCA9IGV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVNcbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIHN0ciA9IHRoaXMudG9TdHJpbmcoJ2hleCcsIDAsIG1heCkubWF0Y2goLy57Mn0vZykuam9pbignICcpXG4gICAgaWYgKHRoaXMubGVuZ3RoID4gbWF4KSBzdHIgKz0gJyAuLi4gJ1xuICB9XG4gIHJldHVybiAnPEJ1ZmZlciAnICsgc3RyICsgJz4nXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKHRhcmdldCwgc3RhcnQsIGVuZCwgdGhpc1N0YXJ0LCB0aGlzRW5kKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHRhcmdldCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgfVxuXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5kID0gdGFyZ2V0ID8gdGFyZ2V0Lmxlbmd0aCA6IDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzU3RhcnQgPSAwXG4gIH1cbiAgaWYgKHRoaXNFbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNFbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKHN0YXJ0IDwgMCB8fCBlbmQgPiB0YXJnZXQubGVuZ3RoIHx8IHRoaXNTdGFydCA8IDAgfHwgdGhpc0VuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ291dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQgJiYgc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQpIHtcbiAgICByZXR1cm4gLTFcbiAgfVxuICBpZiAoc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuXG4gIHN0YXJ0ID4+Pj0gMFxuICBlbmQgPj4+PSAwXG4gIHRoaXNTdGFydCA+Pj49IDBcbiAgdGhpc0VuZCA+Pj49IDBcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0KSByZXR1cm4gMFxuXG4gIHZhciB4ID0gdGhpc0VuZCAtIHRoaXNTdGFydFxuICB2YXIgeSA9IGVuZCAtIHN0YXJ0XG4gIHZhciBsZW4gPSBNYXRoLm1pbih4LCB5KVxuXG4gIHZhciB0aGlzQ29weSA9IHRoaXMuc2xpY2UodGhpc1N0YXJ0LCB0aGlzRW5kKVxuICB2YXIgdGFyZ2V0Q29weSA9IHRhcmdldC5zbGljZShzdGFydCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAodGhpc0NvcHlbaV0gIT09IHRhcmdldENvcHlbaV0pIHtcbiAgICAgIHggPSB0aGlzQ29weVtpXVxuICAgICAgeSA9IHRhcmdldENvcHlbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG4vLyBGaW5kcyBlaXRoZXIgdGhlIGZpcnN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA+PSBgYnl0ZU9mZnNldGAsXG4vLyBPUiB0aGUgbGFzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPD0gYGJ5dGVPZmZzZXRgLlxuLy9cbi8vIEFyZ3VtZW50czpcbi8vIC0gYnVmZmVyIC0gYSBCdWZmZXIgdG8gc2VhcmNoXG4vLyAtIHZhbCAtIGEgc3RyaW5nLCBCdWZmZXIsIG9yIG51bWJlclxuLy8gLSBieXRlT2Zmc2V0IC0gYW4gaW5kZXggaW50byBgYnVmZmVyYDsgd2lsbCBiZSBjbGFtcGVkIHRvIGFuIGludDMyXG4vLyAtIGVuY29kaW5nIC0gYW4gb3B0aW9uYWwgZW5jb2RpbmcsIHJlbGV2YW50IGlzIHZhbCBpcyBhIHN0cmluZ1xuLy8gLSBkaXIgLSB0cnVlIGZvciBpbmRleE9mLCBmYWxzZSBmb3IgbGFzdEluZGV4T2ZcbmZ1bmN0aW9uIGJpZGlyZWN0aW9uYWxJbmRleE9mIChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICAvLyBFbXB0eSBidWZmZXIgbWVhbnMgbm8gbWF0Y2hcbiAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDApIHJldHVybiAtMVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0XG4gIGlmICh0eXBlb2YgYnl0ZU9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IGJ5dGVPZmZzZXRcbiAgICBieXRlT2Zmc2V0ID0gMFxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPiAweDdmZmZmZmZmKSB7XG4gICAgYnl0ZU9mZnNldCA9IDB4N2ZmZmZmZmZcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgLTB4ODAwMDAwMDApIHtcbiAgICBieXRlT2Zmc2V0ID0gLTB4ODAwMDAwMDBcbiAgfVxuICBieXRlT2Zmc2V0ID0gK2J5dGVPZmZzZXQgIC8vIENvZXJjZSB0byBOdW1iZXIuXG4gIGlmIChpc05hTihieXRlT2Zmc2V0KSkge1xuICAgIC8vIGJ5dGVPZmZzZXQ6IGl0IGl0J3MgdW5kZWZpbmVkLCBudWxsLCBOYU4sIFwiZm9vXCIsIGV0Yywgc2VhcmNoIHdob2xlIGJ1ZmZlclxuICAgIGJ5dGVPZmZzZXQgPSBkaXIgPyAwIDogKGJ1ZmZlci5sZW5ndGggLSAxKVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXQ6IG5lZ2F0aXZlIG9mZnNldHMgc3RhcnQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwKSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCArIGJ5dGVPZmZzZXRcbiAgaWYgKGJ5dGVPZmZzZXQgPj0gYnVmZmVyLmxlbmd0aCkge1xuICAgIGlmIChkaXIpIHJldHVybiAtMVxuICAgIGVsc2UgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggLSAxXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IDApIHtcbiAgICBpZiAoZGlyKSBieXRlT2Zmc2V0ID0gMFxuICAgIGVsc2UgcmV0dXJuIC0xXG4gIH1cblxuICAvLyBOb3JtYWxpemUgdmFsXG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIHZhbCA9IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gIH1cblxuICAvLyBGaW5hbGx5LCBzZWFyY2ggZWl0aGVyIGluZGV4T2YgKGlmIGRpciBpcyB0cnVlKSBvciBsYXN0SW5kZXhPZlxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbCkpIHtcbiAgICAvLyBTcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZy9idWZmZXIgYWx3YXlzIGZhaWxzXG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMHhGRiAvLyBTZWFyY2ggZm9yIGEgYnl0ZSB2YWx1ZSBbMC0yNTVdXG4gICAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmXG4gICAgICAgIHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoZGlyKSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIFsgdmFsIF0sIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXInKVxufVxuXG5mdW5jdGlvbiBhcnJheUluZGV4T2YgKGFyciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIHZhciBpbmRleFNpemUgPSAxXG4gIHZhciBhcnJMZW5ndGggPSBhcnIubGVuZ3RoXG4gIHZhciB2YWxMZW5ndGggPSB2YWwubGVuZ3RoXG5cbiAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgIGlmIChlbmNvZGluZyA9PT0gJ3VjczInIHx8IGVuY29kaW5nID09PSAndWNzLTInIHx8XG4gICAgICAgIGVuY29kaW5nID09PSAndXRmMTZsZScgfHwgZW5jb2RpbmcgPT09ICd1dGYtMTZsZScpIHtcbiAgICAgIGlmIChhcnIubGVuZ3RoIDwgMiB8fCB2YWwubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gLTFcbiAgICAgIH1cbiAgICAgIGluZGV4U2l6ZSA9IDJcbiAgICAgIGFyckxlbmd0aCAvPSAyXG4gICAgICB2YWxMZW5ndGggLz0gMlxuICAgICAgYnl0ZU9mZnNldCAvPSAyXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZCAoYnVmLCBpKSB7XG4gICAgaWYgKGluZGV4U2l6ZSA9PT0gMSkge1xuICAgICAgcmV0dXJuIGJ1ZltpXVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYnVmLnJlYWRVSW50MTZCRShpICogaW5kZXhTaXplKVxuICAgIH1cbiAgfVxuXG4gIHZhciBpXG4gIGlmIChkaXIpIHtcbiAgICB2YXIgZm91bmRJbmRleCA9IC0xXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA8IGFyckxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocmVhZChhcnIsIGkpID09PSByZWFkKHZhbCwgZm91bmRJbmRleCA9PT0gLTEgPyAwIDogaSAtIGZvdW5kSW5kZXgpKSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ID09PSAtMSkgZm91bmRJbmRleCA9IGlcbiAgICAgICAgaWYgKGkgLSBmb3VuZEluZGV4ICsgMSA9PT0gdmFsTGVuZ3RoKSByZXR1cm4gZm91bmRJbmRleCAqIGluZGV4U2l6ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggIT09IC0xKSBpIC09IGkgLSBmb3VuZEluZGV4XG4gICAgICAgIGZvdW5kSW5kZXggPSAtMVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYnl0ZU9mZnNldCArIHZhbExlbmd0aCA+IGFyckxlbmd0aCkgYnl0ZU9mZnNldCA9IGFyckxlbmd0aCAtIHZhbExlbmd0aFxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgZm91bmQgPSB0cnVlXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbExlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChyZWFkKGFyciwgaSArIGopICE9PSByZWFkKHZhbCwgaikpIHtcbiAgICAgICAgICBmb3VuZCA9IGZhbHNlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGZvdW5kKSByZXR1cm4gaVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gaW5jbHVkZXMgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIHRoaXMuaW5kZXhPZih2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSAhPT0gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgdHJ1ZSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIGxhc3RJbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBmYWxzZSlcbn1cblxuZnVuY3Rpb24gaGV4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICBvZmZzZXQgPSBOdW1iZXIob2Zmc2V0KSB8fCAwXG4gIHZhciByZW1haW5pbmcgPSBidWYubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmICghbGVuZ3RoKSB7XG4gICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gIH0gZWxzZSB7XG4gICAgbGVuZ3RoID0gTnVtYmVyKGxlbmd0aClcbiAgICBpZiAobGVuZ3RoID4gcmVtYWluaW5nKSB7XG4gICAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgICB9XG4gIH1cblxuICAvLyBtdXN0IGJlIGFuIGV2ZW4gbnVtYmVyIG9mIGRpZ2l0c1xuICB2YXIgc3RyTGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAoc3RyTGVuICUgMiAhPT0gMCkgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBoZXggc3RyaW5nJylcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAoaXNOYU4ocGFyc2VkKSkgcmV0dXJuIGlcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBwYXJzZWRcbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiB1dGY4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGxhdGluMVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGFzY2lpV3JpdGUoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBiYXNlNjRXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gdWNzMldyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nKVxuICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZylcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gb2Zmc2V0XG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIG9mZnNldFssIGxlbmd0aF1bLCBlbmNvZGluZ10pXG4gIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuICAgIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgICBpZiAoaXNGaW5pdGUobGVuZ3RoKSkge1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoIHwgMFxuICAgICAgaWYgKGVuY29kaW5nID09PSB1bmRlZmluZWQpIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgfSBlbHNlIHtcbiAgICAgIGVuY29kaW5nID0gbGVuZ3RoXG4gICAgICBsZW5ndGggPSB1bmRlZmluZWRcbiAgICB9XG4gIC8vIGxlZ2FjeSB3cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXQsIGxlbmd0aCkgLSByZW1vdmUgaW4gdjAuMTNcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQnXG4gICAgKVxuICB9XG5cbiAgdmFyIHJlbWFpbmluZyA9IHRoaXMubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCB8fCBsZW5ndGggPiByZW1haW5pbmcpIGxlbmd0aCA9IHJlbWFpbmluZ1xuXG4gIGlmICgoc3RyaW5nLmxlbmd0aCA+IDAgJiYgKGxlbmd0aCA8IDAgfHwgb2Zmc2V0IDwgMCkpIHx8IG9mZnNldCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgLy8gV2FybmluZzogbWF4TGVuZ3RoIG5vdCB0YWtlbiBpbnRvIGFjY291bnQgaW4gYmFzZTY0V3JpdGVcbiAgICAgICAgcmV0dXJuIGJhc2U2NFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1Y3MyV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnQnVmZmVyJyxcbiAgICBkYXRhOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnIgfHwgdGhpcywgMClcbiAgfVxufVxuXG5mdW5jdGlvbiBiYXNlNjRTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGlmIChzdGFydCA9PT0gMCAmJiBlbmQgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYuc2xpY2Uoc3RhcnQsIGVuZCkpXG4gIH1cbn1cblxuZnVuY3Rpb24gdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuICB2YXIgcmVzID0gW11cblxuICB2YXIgaSA9IHN0YXJ0XG4gIHdoaWxlIChpIDwgZW5kKSB7XG4gICAgdmFyIGZpcnN0Qnl0ZSA9IGJ1ZltpXVxuICAgIHZhciBjb2RlUG9pbnQgPSBudWxsXG4gICAgdmFyIGJ5dGVzUGVyU2VxdWVuY2UgPSAoZmlyc3RCeXRlID4gMHhFRikgPyA0XG4gICAgICA6IChmaXJzdEJ5dGUgPiAweERGKSA/IDNcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4QkYpID8gMlxuICAgICAgOiAxXG5cbiAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPD0gZW5kKSB7XG4gICAgICB2YXIgc2Vjb25kQnl0ZSwgdGhpcmRCeXRlLCBmb3VydGhCeXRlLCB0ZW1wQ29kZVBvaW50XG5cbiAgICAgIHN3aXRjaCAoYnl0ZXNQZXJTZXF1ZW5jZSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKGZpcnN0Qnl0ZSA8IDB4ODApIHtcbiAgICAgICAgICAgIGNvZGVQb2ludCA9IGZpcnN0Qnl0ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweDFGKSA8PCAweDYgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0YpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHhDIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAodGhpcmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3RkYgJiYgKHRlbXBDb2RlUG9pbnQgPCAweEQ4MDAgfHwgdGVtcENvZGVQb2ludCA+IDB4REZGRikpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgZm91cnRoQnl0ZSA9IGJ1ZltpICsgM11cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKGZvdXJ0aEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4MTIgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4QyB8ICh0aGlyZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAoZm91cnRoQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4RkZGRiAmJiB0ZW1wQ29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XG4gICAgICAvLyB3ZSBkaWQgbm90IGdlbmVyYXRlIGEgdmFsaWQgY29kZVBvaW50IHNvIGluc2VydCBhXG4gICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlXG4gICAgICBjb2RlUG9pbnQgPSAweEZGRkRcbiAgICAgIGJ5dGVzUGVyU2VxdWVuY2UgPSAxXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPiAweEZGRkYpIHtcbiAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpXG4gICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMFxuICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKVxuICAgICAgY29kZVBvaW50ID0gMHhEQzAwIHwgY29kZVBvaW50ICYgMHgzRkZcbiAgICB9XG5cbiAgICByZXMucHVzaChjb2RlUG9pbnQpXG4gICAgaSArPSBieXRlc1BlclNlcXVlbmNlXG4gIH1cblxuICByZXR1cm4gZGVjb2RlQ29kZVBvaW50c0FycmF5KHJlcylcbn1cblxuLy8gQmFzZWQgb24gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjI3NDcyNzIvNjgwNzQyLCB0aGUgYnJvd3NlciB3aXRoXG4vLyB0aGUgbG93ZXN0IGxpbWl0IGlzIENocm9tZSwgd2l0aCAweDEwMDAwIGFyZ3MuXG4vLyBXZSBnbyAxIG1hZ25pdHVkZSBsZXNzLCBmb3Igc2FmZXR5XG52YXIgTUFYX0FSR1VNRU5UU19MRU5HVEggPSAweDEwMDBcblxuZnVuY3Rpb24gZGVjb2RlQ29kZVBvaW50c0FycmF5IChjb2RlUG9pbnRzKSB7XG4gIHZhciBsZW4gPSBjb2RlUG9pbnRzLmxlbmd0aFxuICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzKSAvLyBhdm9pZCBleHRyYSBzbGljZSgpXG4gIH1cblxuICAvLyBEZWNvZGUgaW4gY2h1bmtzIHRvIGF2b2lkIFwiY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXCIuXG4gIHZhciByZXMgPSAnJ1xuICB2YXIgaSA9IDBcbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShcbiAgICAgIFN0cmluZyxcbiAgICAgIGNvZGVQb2ludHMuc2xpY2UoaSwgaSArPSBNQVhfQVJHVU1FTlRTX0xFTkdUSClcbiAgICApXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSAmIDB4N0YpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBsYXRpbjFTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBoZXhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG5cbiAgaWYgKCFzdGFydCB8fCBzdGFydCA8IDApIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCB8fCBlbmQgPCAwIHx8IGVuZCA+IGxlbikgZW5kID0gbGVuXG5cbiAgdmFyIG91dCA9ICcnXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgb3V0ICs9IHRvSGV4KGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKVxuICB2YXIgcmVzID0gJydcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldICsgYnl0ZXNbaSArIDFdICogMjU2KVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBzdGFydCA9IH5+c3RhcnRcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiB+fmVuZFxuXG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCArPSBsZW5cbiAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgfSBlbHNlIGlmIChzdGFydCA+IGxlbikge1xuICAgIHN0YXJ0ID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgMCkge1xuICAgIGVuZCArPSBsZW5cbiAgICBpZiAoZW5kIDwgMCkgZW5kID0gMFxuICB9IGVsc2UgaWYgKGVuZCA+IGxlbikge1xuICAgIGVuZCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIHZhciBuZXdCdWZcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgbmV3QnVmID0gdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKVxuICAgIG5ld0J1Zi5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgdmFyIHNsaWNlTGVuID0gZW5kIC0gc3RhcnRcbiAgICBuZXdCdWYgPSBuZXcgQnVmZmVyKHNsaWNlTGVuLCB1bmRlZmluZWQpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGljZUxlbjsgKytpKSB7XG4gICAgICBuZXdCdWZbaV0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuICB9XG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXVxuICB2YXIgbXVsID0gMVxuICB3aGlsZSAoYnl0ZUxlbmd0aCA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gcmVhZFVJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDgpIHwgdGhpc1tvZmZzZXQgKyAxXVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArXG4gICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgK1xuICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICB0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRSA9IGZ1bmN0aW9uIHJlYWRJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aFxuICB2YXIgbXVsID0gMVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldXG4gIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgaWYgKCEodGhpc1tvZmZzZXRdICYgMHg4MCkpIHJldHVybiAodGhpc1tvZmZzZXRdKVxuICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbiByZWFkSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCAyNCkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFID0gZnVuY3Rpb24gcmVhZEZsb2F0TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24gcmVhZEZsb2F0QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDUyLCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxufVxuXG5mdW5jdGlvbiBjaGVja0ludCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpXG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludExFID0gZnVuY3Rpb24gd3JpdGVVSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFID0gZnVuY3Rpb24gd3JpdGVVSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDggPSBmdW5jdGlvbiB3cml0ZVVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4ZmYsIDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MTYgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgMik7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgJiAoMHhmZiA8PCAoOCAqIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpKSkpID4+PlxuICAgICAgKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkgKiA4XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MzIgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDQpOyBpIDwgajsgKytpKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlID4+PiAobGl0dGxlRW5kaWFuID8gaSA6IDMgLSBpKSAqIDgpICYgMHhmZlxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludExFID0gZnVuY3Rpb24gd3JpdGVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IDBcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpIC0gMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpICsgMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDggPSBmdW5jdGlvbiB3cml0ZUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbmZ1bmN0aW9uIGNoZWNrSUVFRTc1NCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbiAgaWYgKG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5mdW5jdGlvbiB3cml0ZUZsb2F0IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDIzLCA0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFID0gZnVuY3Rpb24gd3JpdGVGbG9hdEJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRG91YmxlIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDgsIDEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4LCAtMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG4gIHJldHVybiBvZmZzZXQgKyA4XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUJFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuLy8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAodGFyZ2V0LCB0YXJnZXRTdGFydCwgc3RhcnQsIGVuZCkge1xuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0U3RhcnQgPj0gdGFyZ2V0Lmxlbmd0aCkgdGFyZ2V0U3RhcnQgPSB0YXJnZXQubGVuZ3RoXG4gIGlmICghdGFyZ2V0U3RhcnQpIHRhcmdldFN0YXJ0ID0gMFxuICBpZiAoZW5kID4gMCAmJiBlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVybiAwXG4gIGlmICh0YXJnZXQubGVuZ3RoID09PSAwIHx8IHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIEZhdGFsIGVycm9yIGNvbmRpdGlvbnNcbiAgaWYgKHRhcmdldFN0YXJ0IDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgfVxuICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlU3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChlbmQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlRW5kIG91dCBvZiBib3VuZHMnKVxuXG4gIC8vIEFyZSB3ZSBvb2I/XG4gIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XG4gICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0ICsgc3RhcnRcbiAgfVxuXG4gIHZhciBsZW4gPSBlbmQgLSBzdGFydFxuICB2YXIgaVxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQgJiYgc3RhcnQgPCB0YXJnZXRTdGFydCAmJiB0YXJnZXRTdGFydCA8IGVuZCkge1xuICAgIC8vIGRlc2NlbmRpbmcgY29weSBmcm9tIGVuZFxuICAgIGZvciAoaSA9IGxlbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIGlmIChsZW4gPCAxMDAwIHx8ICFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIGFzY2VuZGluZyBjb3B5IGZyb20gc3RhcnRcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFxuICAgICAgdGFyZ2V0LFxuICAgICAgdGhpcy5zdWJhcnJheShzdGFydCwgc3RhcnQgKyBsZW4pLFxuICAgICAgdGFyZ2V0U3RhcnRcbiAgICApXG4gIH1cblxuICByZXR1cm4gbGVuXG59XG5cbi8vIFVzYWdlOlxuLy8gICAgYnVmZmVyLmZpbGwobnVtYmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChidWZmZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKHN0cmluZ1ssIG9mZnNldFssIGVuZF1dWywgZW5jb2RpbmddKVxuQnVmZmVyLnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gZmlsbCAodmFsLCBzdGFydCwgZW5kLCBlbmNvZGluZykge1xuICAvLyBIYW5kbGUgc3RyaW5nIGNhc2VzOlxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBzdGFydFxuICAgICAgc3RhcnQgPSAwXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVuZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gZW5kXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH1cbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdmFyIGNvZGUgPSB2YWwuY2hhckNvZGVBdCgwKVxuICAgICAgaWYgKGNvZGUgPCAyNTYpIHtcbiAgICAgICAgdmFsID0gY29kZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nJylcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycgJiYgIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDI1NVxuICB9XG5cbiAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG4gIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBzdGFydCA9IHN0YXJ0ID4+PiAwXG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblxuICBpZiAoIXZhbCkgdmFsID0gMFxuXG4gIHZhciBpXG4gIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHRoaXNbaV0gPSB2YWxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IHV0ZjhUb0J5dGVzKG5ldyBCdWZmZXIodmFsLCBlbmNvZGluZykudG9TdHJpbmcoKSlcbiAgICB2YXIgbGVuID0gYnl0ZXMubGVuZ3RoXG4gICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHtcbiAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG52YXIgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rXFwvMC05QS1aYS16LV9dL2dcblxuZnVuY3Rpb24gYmFzZTY0Y2xlYW4gKHN0cikge1xuICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgc3RyID0gc3RyaW5ndHJpbShzdHIpLnJlcGxhY2UoSU5WQUxJRF9CQVNFNjRfUkUsICcnKVxuICAvLyBOb2RlIGNvbnZlcnRzIHN0cmluZ3Mgd2l0aCBsZW5ndGggPCAyIHRvICcnXG4gIGlmIChzdHIubGVuZ3RoIDwgMikgcmV0dXJuICcnXG4gIC8vIE5vZGUgYWxsb3dzIGZvciBub24tcGFkZGVkIGJhc2U2NCBzdHJpbmdzIChtaXNzaW5nIHRyYWlsaW5nID09PSksIGJhc2U2NC1qcyBkb2VzIG5vdFxuICB3aGlsZSAoc3RyLmxlbmd0aCAlIDQgIT09IDApIHtcbiAgICBzdHIgPSBzdHIgKyAnPSdcbiAgfVxuICByZXR1cm4gc3RyXG59XG5cbmZ1bmN0aW9uIHN0cmluZ3RyaW0gKHN0cikge1xuICBpZiAoc3RyLnRyaW0pIHJldHVybiBzdHIudHJpbSgpXG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpXG59XG5cbmZ1bmN0aW9uIHRvSGV4IChuKSB7XG4gIGlmIChuIDwgMTYpIHJldHVybiAnMCcgKyBuLnRvU3RyaW5nKDE2KVxuICByZXR1cm4gbi50b1N0cmluZygxNilcbn1cblxuZnVuY3Rpb24gdXRmOFRvQnl0ZXMgKHN0cmluZywgdW5pdHMpIHtcbiAgdW5pdHMgPSB1bml0cyB8fCBJbmZpbml0eVxuICB2YXIgY29kZVBvaW50XG4gIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoXG4gIHZhciBsZWFkU3Vycm9nYXRlID0gbnVsbFxuICB2YXIgYnl0ZXMgPSBbXVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXG4gICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudFxuICAgIGlmIChjb2RlUG9pbnQgPiAweEQ3RkYgJiYgY29kZVBvaW50IDwgMHhFMDAwKSB7XG4gICAgICAvLyBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCFsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAgIC8vIG5vIGxlYWQgeWV0XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPiAweERCRkYpIHtcbiAgICAgICAgICAvLyB1bmV4cGVjdGVkIHRyYWlsXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZCBsZWFkXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyAyIGxlYWRzIGluIGEgcm93XG4gICAgICBpZiAoY29kZVBvaW50IDwgMHhEQzAwKSB7XG4gICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICBjb2RlUG9pbnQgPSAobGVhZFN1cnJvZ2F0ZSAtIDB4RDgwMCA8PCAxMCB8IGNvZGVQb2ludCAtIDB4REMwMCkgKyAweDEwMDAwXG4gICAgfSBlbHNlIGlmIChsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAvLyB2YWxpZCBibXAgY2hhciwgYnV0IGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICB9XG5cbiAgICBsZWFkU3Vycm9nYXRlID0gbnVsbFxuXG4gICAgLy8gZW5jb2RlIHV0ZjhcbiAgICBpZiAoY29kZVBvaW50IDwgMHg4MCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAxKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKGNvZGVQb2ludClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4ODAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgfCAweEMwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDIHwgMHhFMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gNCkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4MTIgfCAweEYwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBieXRlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVRvQnl0ZXMgKHN0cikge1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAvLyBOb2RlJ3MgY29kZSBzZWVtcyB0byBiZSBkb2luZyB0aGlzIGFuZCBub3QgJiAweDdGLi5cbiAgICBieXRlQXJyYXkucHVzaChzdHIuY2hhckNvZGVBdChpKSAmIDB4RkYpXG4gIH1cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyAoc3RyLCB1bml0cykge1xuICB2YXIgYywgaGksIGxvXG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuXG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpXG4gICAgaGkgPSBjID4+IDhcbiAgICBsbyA9IGMgJSAyNTZcbiAgICBieXRlQXJyYXkucHVzaChsbylcbiAgICBieXRlQXJyYXkucHVzaChoaSlcbiAgfVxuXG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyAoc3RyKSB7XG4gIHJldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoYmFzZTY0Y2xlYW4oc3RyKSlcbn1cblxuZnVuY3Rpb24gYmxpdEJ1ZmZlciAoc3JjLCBkc3QsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKGkgKyBvZmZzZXQgPj0gZHN0Lmxlbmd0aCkgfHwgKGkgPj0gc3JjLmxlbmd0aCkpIGJyZWFrXG4gICAgZHN0W2kgKyBvZmZzZXRdID0gc3JjW2ldXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gaXNuYW4gKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSB2YWwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbn1cbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyBOT1RFOiBUaGVzZSB0eXBlIGNoZWNraW5nIGZ1bmN0aW9ucyBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBgaW5zdGFuY2VvZmBcbi8vIGJlY2F1c2UgaXQgaXMgZnJhZ2lsZSBhbmQgY2FuIGJlIGVhc2lseSBmYWtlZCB3aXRoIGBPYmplY3QuY3JlYXRlKClgLlxuXG5mdW5jdGlvbiBpc0FycmF5KGFyZykge1xuICBpZiAoQXJyYXkuaXNBcnJheSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGFyZyk7XG4gIH1cbiAgcmV0dXJuIG9iamVjdFRvU3RyaW5nKGFyZykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXG5mdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnYm9vbGVhbic7XG59XG5leHBvcnRzLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcblxuZnVuY3Rpb24gaXNOdWxsKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGwgPSBpc051bGw7XG5cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5cbmZ1bmN0aW9uIGlzU3ltYm9sKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCc7XG59XG5leHBvcnRzLmlzU3ltYm9sID0gaXNTeW1ib2w7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5leHBvcnRzLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7XG4gIHJldHVybiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiAob2JqZWN0VG9TdHJpbmcoZSkgPT09ICdbb2JqZWN0IEVycm9yXScgfHwgZSBpbnN0YW5jZW9mIEVycm9yKTtcbn1cbmV4cG9ydHMuaXNFcnJvciA9IGlzRXJyb3I7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcblxuZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGwgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3ltYm9sJyB8fCAgLy8gRVM2IHN5bWJvbFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG59XG5leHBvcnRzLmlzUHJpbWl0aXZlID0gaXNQcmltaXRpdmU7XG5cbmV4cG9ydHMuaXNCdWZmZXIgPSBCdWZmZXIuaXNCdWZmZXI7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHg6IGFueSk6IHggaXMgRnVuY3Rpb24ge1xuICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBub2RlL25vLWRlcHJlY2F0ZWQtYXBpICovXG52YXIgYnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJylcbnZhciBCdWZmZXIgPSBidWZmZXIuQnVmZmVyXG5cbi8vIGFsdGVybmF0aXZlIHRvIHVzaW5nIE9iamVjdC5rZXlzIGZvciBvbGQgYnJvd3NlcnNcbmZ1bmN0aW9uIGNvcHlQcm9wcyAoc3JjLCBkc3QpIHtcbiAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgIGRzdFtrZXldID0gc3JjW2tleV1cbiAgfVxufVxuaWYgKEJ1ZmZlci5mcm9tICYmIEJ1ZmZlci5hbGxvYyAmJiBCdWZmZXIuYWxsb2NVbnNhZmUgJiYgQnVmZmVyLmFsbG9jVW5zYWZlU2xvdykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGJ1ZmZlclxufSBlbHNlIHtcbiAgLy8gQ29weSBwcm9wZXJ0aWVzIGZyb20gcmVxdWlyZSgnYnVmZmVyJylcbiAgY29weVByb3BzKGJ1ZmZlciwgZXhwb3J0cylcbiAgZXhwb3J0cy5CdWZmZXIgPSBTYWZlQnVmZmVyXG59XG5cbmZ1bmN0aW9uIFNhZmVCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbi8vIENvcHkgc3RhdGljIG1ldGhvZHMgZnJvbSBCdWZmZXJcbmNvcHlQcm9wcyhCdWZmZXIsIFNhZmVCdWZmZXIpXG5cblNhZmVCdWZmZXIuZnJvbSA9IGZ1bmN0aW9uIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuU2FmZUJ1ZmZlci5hbGxvYyA9IGZ1bmN0aW9uIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH1cbiAgdmFyIGJ1ZiA9IEJ1ZmZlcihzaXplKVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGJ1Zi5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgIH0gZWxzZSB7XG4gICAgICBidWYuZmlsbChmaWxsKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBidWYuZmlsbCgwKVxuICB9XG4gIHJldHVybiBidWZcbn1cblxuU2FmZUJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfVxuICByZXR1cm4gQnVmZmVyKHNpemUpXG59XG5cblNhZmVCdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9XG4gIHJldHVybiBidWZmZXIuU2xvd0J1ZmZlcihzaXplKVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAoIXByb2Nlc3MudmVyc2lvbiB8fFxuICAgIHByb2Nlc3MudmVyc2lvbi5pbmRleE9mKCd2MC4nKSA9PT0gMCB8fFxuICAgIHByb2Nlc3MudmVyc2lvbi5pbmRleE9mKCd2MS4nKSA9PT0gMCAmJiBwcm9jZXNzLnZlcnNpb24uaW5kZXhPZigndjEuOC4nKSAhPT0gMCkge1xuICBtb2R1bGUuZXhwb3J0cyA9IHsgbmV4dFRpY2s6IG5leHRUaWNrIH07XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHByb2Nlc3Ncbn1cblxuZnVuY3Rpb24gbmV4dFRpY2soZm4sIGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiY2FsbGJhY2tcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgdmFyIGFyZ3MsIGk7XG4gIHN3aXRjaCAobGVuKSB7XG4gIGNhc2UgMDpcbiAgY2FzZSAxOlxuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZuKTtcbiAgY2FzZSAyOlxuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uIGFmdGVyVGlja09uZSgpIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgYXJnMSk7XG4gICAgfSk7XG4gIGNhc2UgMzpcbiAgICByZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiBhZnRlclRpY2tUd28oKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIGFyZzEsIGFyZzIpO1xuICAgIH0pO1xuICBjYXNlIDQ6XG4gICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gYWZ0ZXJUaWNrVGhyZWUoKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgIH0pO1xuICBkZWZhdWx0OlxuICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0gMSk7XG4gICAgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBhcmdzLmxlbmd0aCkge1xuICAgICAgYXJnc1tpKytdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiBhZnRlclRpY2soKSB7XG4gICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9KTtcbiAgfVxufVxuXG4iLCJtb2R1bGUuZXhwb3J0cyA9IFBlZXJcblxudmFyIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnc2ltcGxlLXBlZXInKVxudmFyIGdldEJyb3dzZXJSVEMgPSByZXF1aXJlKCdnZXQtYnJvd3Nlci1ydGMnKVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIHJhbmRvbWJ5dGVzID0gcmVxdWlyZSgncmFuZG9tYnl0ZXMnKVxudmFyIHN0cmVhbSA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbScpXG5cbnZhciBNQVhfQlVGRkVSRURfQU1PVU5UID0gNjQgKiAxMDI0XG52YXIgSUNFQ09NUExFVEVfVElNRU9VVCA9IDUgKiAxMDAwXG52YXIgQ0hBTk5FTF9DTE9TSU5HX1RJTUVPVVQgPSA1ICogMTAwMFxuXG5pbmhlcml0cyhQZWVyLCBzdHJlYW0uRHVwbGV4KVxuXG4vKipcbiAqIFdlYlJUQyBwZWVyIGNvbm5lY3Rpb24uIFNhbWUgQVBJIGFzIG5vZGUgY29yZSBgbmV0LlNvY2tldGAsIHBsdXMgYSBmZXcgZXh0cmEgbWV0aG9kcy5cbiAqIER1cGxleCBzdHJlYW0uXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0c1xuICovXG5mdW5jdGlvbiBQZWVyIChvcHRzKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICBpZiAoIShzZWxmIGluc3RhbmNlb2YgUGVlcikpIHJldHVybiBuZXcgUGVlcihvcHRzKVxuXG4gIHNlbGYuX2lkID0gcmFuZG9tYnl0ZXMoNCkudG9TdHJpbmcoJ2hleCcpLnNsaWNlKDAsIDcpXG4gIHNlbGYuX2RlYnVnKCduZXcgcGVlciAlbycsIG9wdHMpXG5cbiAgb3B0cyA9IE9iamVjdC5hc3NpZ24oe1xuICAgIGFsbG93SGFsZk9wZW46IGZhbHNlXG4gIH0sIG9wdHMpXG5cbiAgc3RyZWFtLkR1cGxleC5jYWxsKHNlbGYsIG9wdHMpXG5cbiAgc2VsZi5jaGFubmVsTmFtZSA9IG9wdHMuaW5pdGlhdG9yXG4gICAgPyBvcHRzLmNoYW5uZWxOYW1lIHx8IHJhbmRvbWJ5dGVzKDIwKS50b1N0cmluZygnaGV4JylcbiAgICA6IG51bGxcblxuICAvLyBOZWVkZWQgYnkgX3RyYW5zZm9ybUNvbnN0cmFpbnRzLCBzbyBzZXQgdGhpcyBlYXJseVxuICBzZWxmLl9pc0Nocm9taXVtID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgISF3aW5kb3cud2Via2l0UlRDUGVlckNvbm5lY3Rpb25cblxuICBzZWxmLmluaXRpYXRvciA9IG9wdHMuaW5pdGlhdG9yIHx8IGZhbHNlXG4gIHNlbGYuY2hhbm5lbENvbmZpZyA9IG9wdHMuY2hhbm5lbENvbmZpZyB8fCBQZWVyLmNoYW5uZWxDb25maWdcbiAgc2VsZi5jb25maWcgPSBvcHRzLmNvbmZpZyB8fCBQZWVyLmNvbmZpZ1xuICBzZWxmLmNvbnN0cmFpbnRzID0gc2VsZi5fdHJhbnNmb3JtQ29uc3RyYWludHMob3B0cy5jb25zdHJhaW50cyB8fCBQZWVyLmNvbnN0cmFpbnRzKVxuICBzZWxmLm9mZmVyQ29uc3RyYWludHMgPSBzZWxmLl90cmFuc2Zvcm1Db25zdHJhaW50cyhvcHRzLm9mZmVyQ29uc3RyYWludHMgfHwge30pXG4gIHNlbGYuYW5zd2VyQ29uc3RyYWludHMgPSBzZWxmLl90cmFuc2Zvcm1Db25zdHJhaW50cyhvcHRzLmFuc3dlckNvbnN0cmFpbnRzIHx8IHt9KVxuICBzZWxmLnNkcFRyYW5zZm9ybSA9IG9wdHMuc2RwVHJhbnNmb3JtIHx8IGZ1bmN0aW9uIChzZHApIHsgcmV0dXJuIHNkcCB9XG4gIHNlbGYuc3RyZWFtcyA9IG9wdHMuc3RyZWFtcyB8fCAob3B0cy5zdHJlYW0gPyBbb3B0cy5zdHJlYW1dIDogW10pIC8vIHN1cHBvcnQgb2xkIFwic3RyZWFtXCIgb3B0aW9uXG4gIHNlbGYudHJpY2tsZSA9IG9wdHMudHJpY2tsZSAhPT0gdW5kZWZpbmVkID8gb3B0cy50cmlja2xlIDogdHJ1ZVxuICBzZWxmLmFsbG93SGFsZlRyaWNrbGUgPSBvcHRzLmFsbG93SGFsZlRyaWNrbGUgIT09IHVuZGVmaW5lZCA/IG9wdHMuYWxsb3dIYWxmVHJpY2tsZSA6IGZhbHNlXG4gIHNlbGYuaWNlQ29tcGxldGVUaW1lb3V0ID0gb3B0cy5pY2VDb21wbGV0ZVRpbWVvdXQgfHwgSUNFQ09NUExFVEVfVElNRU9VVFxuXG4gIHNlbGYuZGVzdHJveWVkID0gZmFsc2VcbiAgc2VsZi5jb25uZWN0ZWQgPSBmYWxzZVxuXG4gIHNlbGYucmVtb3RlQWRkcmVzcyA9IHVuZGVmaW5lZFxuICBzZWxmLnJlbW90ZUZhbWlseSA9IHVuZGVmaW5lZFxuICBzZWxmLnJlbW90ZVBvcnQgPSB1bmRlZmluZWRcbiAgc2VsZi5sb2NhbEFkZHJlc3MgPSB1bmRlZmluZWRcbiAgc2VsZi5sb2NhbFBvcnQgPSB1bmRlZmluZWRcblxuICBzZWxmLl93cnRjID0gKG9wdHMud3J0YyAmJiB0eXBlb2Ygb3B0cy53cnRjID09PSAnb2JqZWN0JylcbiAgICA/IG9wdHMud3J0Y1xuICAgIDogZ2V0QnJvd3NlclJUQygpXG5cbiAgaWYgKCFzZWxmLl93cnRjKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBtYWtlRXJyb3IoJ05vIFdlYlJUQyBzdXBwb3J0OiBTcGVjaWZ5IGBvcHRzLndydGNgIG9wdGlvbiBpbiB0aGlzIGVudmlyb25tZW50JywgJ0VSUl9XRUJSVENfU1VQUE9SVCcpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG1ha2VFcnJvcignTm8gV2ViUlRDIHN1cHBvcnQ6IE5vdCBhIHN1cHBvcnRlZCBicm93c2VyJywgJ0VSUl9XRUJSVENfU1VQUE9SVCcpXG4gICAgfVxuICB9XG5cbiAgc2VsZi5fcGNSZWFkeSA9IGZhbHNlXG4gIHNlbGYuX2NoYW5uZWxSZWFkeSA9IGZhbHNlXG4gIHNlbGYuX2ljZUNvbXBsZXRlID0gZmFsc2UgLy8gaWNlIGNhbmRpZGF0ZSB0cmlja2xlIGRvbmUgKGdvdCBudWxsIGNhbmRpZGF0ZSlcbiAgc2VsZi5faWNlQ29tcGxldGVUaW1lciA9IG51bGwgLy8gc2VuZCBhbiBvZmZlci9hbnN3ZXIgYW55d2F5IGFmdGVyIHNvbWUgdGltZW91dFxuICBzZWxmLl9jaGFubmVsID0gbnVsbFxuICBzZWxmLl9wZW5kaW5nQ2FuZGlkYXRlcyA9IFtdXG5cbiAgc2VsZi5faXNOZWdvdGlhdGluZyA9ICFzZWxmLmluaXRpYXRvciAvLyBpcyB0aGlzIHBlZXIgd2FpdGluZyBmb3IgbmVnb3RpYXRpb24gdG8gY29tcGxldGU/XG4gIHNlbGYuX2JhdGNoZWROZWdvdGlhdGlvbiA9IGZhbHNlIC8vIGJhdGNoIHN5bmNocm9ub3VzIG5lZ290aWF0aW9uc1xuICBzZWxmLl9xdWV1ZWROZWdvdGlhdGlvbiA9IGZhbHNlIC8vIGlzIHRoZXJlIGEgcXVldWVkIG5lZ290aWF0aW9uIHJlcXVlc3Q/XG4gIHNlbGYuX3NlbmRlcnNBd2FpdGluZ1N0YWJsZSA9IFtdXG4gIHNlbGYuX3NlbmRlck1hcCA9IG5ldyBXZWFrTWFwKClcbiAgc2VsZi5fZmlyc3RTdGFibGUgPSB0cnVlXG4gIHNlbGYuX2Nsb3NpbmdJbnRlcnZhbCA9IG51bGxcblxuICBzZWxmLl9yZW1vdGVUcmFja3MgPSBbXVxuICBzZWxmLl9yZW1vdGVTdHJlYW1zID0gW11cblxuICBzZWxmLl9jaHVuayA9IG51bGxcbiAgc2VsZi5fY2IgPSBudWxsXG4gIHNlbGYuX2ludGVydmFsID0gbnVsbFxuXG4gIHNlbGYuX3BjID0gbmV3IChzZWxmLl93cnRjLlJUQ1BlZXJDb25uZWN0aW9uKShzZWxmLmNvbmZpZywgc2VsZi5jb25zdHJhaW50cylcbiAgaWYgKHNlbGYuX2lzQ2hyb21pdW0gfHwgKHNlbGYuX3dydGMgJiYgc2VsZi5fd3J0Yy5lbGVjdHJvbkRhZW1vbikpIHsgLy8gSEFDSzogRWxlY3Ryb24gYW5kIENocm9taXVtIG5lZWQgYSBwcm9taXNlIHNoaW1cbiAgICBzaGltUHJvbWlzZUFQSShzZWxmLl93cnRjLlJUQ1BlZXJDb25uZWN0aW9uLCBzZWxmLl9wYylcbiAgfVxuXG4gIC8vIFdlIHByZWZlciBmZWF0dXJlIGRldGVjdGlvbiB3aGVuZXZlciBwb3NzaWJsZSwgYnV0IHNvbWV0aW1lcyB0aGF0J3Mgbm90XG4gIC8vIHBvc3NpYmxlIGZvciBjZXJ0YWluIGltcGxlbWVudGF0aW9ucy5cbiAgc2VsZi5faXNSZWFjdE5hdGl2ZVdlYnJ0YyA9IHR5cGVvZiBzZWxmLl9wYy5fcGVlckNvbm5lY3Rpb25JZCA9PT0gJ251bWJlcidcblxuICBzZWxmLl9wYy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLl9vbkljZVN0YXRlQ2hhbmdlKClcbiAgfVxuICBzZWxmLl9wYy5vbmljZWdhdGhlcmluZ3N0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgIHNlbGYuX29uSWNlU3RhdGVDaGFuZ2UoKVxuICB9XG4gIHNlbGYuX3BjLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5fb25TaWduYWxpbmdTdGF0ZUNoYW5nZSgpXG4gIH1cbiAgc2VsZi5fcGMub25pY2VjYW5kaWRhdGUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBzZWxmLl9vbkljZUNhbmRpZGF0ZShldmVudClcbiAgfVxuXG4gIC8vIE90aGVyIHNwZWMgZXZlbnRzLCB1bnVzZWQgYnkgdGhpcyBpbXBsZW1lbnRhdGlvbjpcbiAgLy8gLSBvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZVxuICAvLyAtIG9uaWNlY2FuZGlkYXRlZXJyb3JcbiAgLy8gLSBvbmZpbmdlcnByaW50ZmFpbHVyZVxuICAvLyAtIG9ubmVnb3RpYXRpb25uZWVkZWRcblxuICBpZiAoc2VsZi5pbml0aWF0b3IpIHtcbiAgICBzZWxmLl9zZXR1cERhdGEoe1xuICAgICAgY2hhbm5lbDogc2VsZi5fcGMuY3JlYXRlRGF0YUNoYW5uZWwoc2VsZi5jaGFubmVsTmFtZSwgc2VsZi5jaGFubmVsQ29uZmlnKVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgc2VsZi5fcGMub25kYXRhY2hhbm5lbCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgc2VsZi5fc2V0dXBEYXRhKGV2ZW50KVxuICAgIH1cbiAgfVxuXG4gIGlmICgnYWRkVHJhY2snIGluIHNlbGYuX3BjKSB7XG4gICAgaWYgKHNlbGYuc3RyZWFtcykge1xuICAgICAgc2VsZi5zdHJlYW1zLmZvckVhY2goZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgICAgICBzZWxmLmFkZFN0cmVhbShzdHJlYW0pXG4gICAgICB9KVxuICAgIH1cbiAgICBzZWxmLl9wYy5vbnRyYWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBzZWxmLl9vblRyYWNrKGV2ZW50KVxuICAgIH1cbiAgfVxuXG4gIGlmIChzZWxmLmluaXRpYXRvcikge1xuICAgIHNlbGYuX25lZWRzTmVnb3RpYXRpb24oKVxuICB9XG5cbiAgc2VsZi5fb25GaW5pc2hCb3VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLl9vbkZpbmlzaCgpXG4gIH1cbiAgc2VsZi5vbmNlKCdmaW5pc2gnLCBzZWxmLl9vbkZpbmlzaEJvdW5kKVxufVxuXG5QZWVyLldFQlJUQ19TVVBQT1JUID0gISFnZXRCcm93c2VyUlRDKClcblxuLyoqXG4gKiBFeHBvc2UgY29uZmlnLCBjb25zdHJhaW50cywgYW5kIGRhdGEgY2hhbm5lbCBjb25maWcgZm9yIG92ZXJyaWRpbmcgYWxsIFBlZXJcbiAqIGluc3RhbmNlcy4gT3RoZXJ3aXNlLCBqdXN0IHNldCBvcHRzLmNvbmZpZywgb3B0cy5jb25zdHJhaW50cywgb3Igb3B0cy5jaGFubmVsQ29uZmlnXG4gKiB3aGVuIGNvbnN0cnVjdGluZyBhIFBlZXIuXG4gKi9cblBlZXIuY29uZmlnID0ge1xuICBpY2VTZXJ2ZXJzOiBbXG4gICAge1xuICAgICAgdXJsczogJ3N0dW46c3R1bi5sLmdvb2dsZS5jb206MTkzMDInXG4gICAgfSxcbiAgICB7XG4gICAgICB1cmxzOiAnc3R1bjpnbG9iYWwuc3R1bi50d2lsaW8uY29tOjM0Nzg/dHJhbnNwb3J0PXVkcCdcbiAgICB9XG4gIF1cbn1cblBlZXIuY29uc3RyYWludHMgPSB7fVxuUGVlci5jaGFubmVsQ29uZmlnID0ge31cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFBlZXIucHJvdG90eXBlLCAnYnVmZmVyU2l6ZScsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzXG4gICAgcmV0dXJuIChzZWxmLl9jaGFubmVsICYmIHNlbGYuX2NoYW5uZWwuYnVmZmVyZWRBbW91bnQpIHx8IDBcbiAgfVxufSlcblxuUGVlci5wcm90b3R5cGUuYWRkcmVzcyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIHJldHVybiB7IHBvcnQ6IHNlbGYubG9jYWxQb3J0LCBmYW1pbHk6ICdJUHY0JywgYWRkcmVzczogc2VsZi5sb2NhbEFkZHJlc3MgfVxufVxuXG5QZWVyLnByb3RvdHlwZS5zaWduYWwgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgaWYgKHNlbGYuZGVzdHJveWVkKSB0aHJvdyBtYWtlRXJyb3IoJ2Nhbm5vdCBzaWduYWwgYWZ0ZXIgcGVlciBpcyBkZXN0cm95ZWQnLCAnRVJSX1NJR05BTElORycpXG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICB0cnkge1xuICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGRhdGEgPSB7fVxuICAgIH1cbiAgfVxuICBzZWxmLl9kZWJ1Zygnc2lnbmFsKCknKVxuXG4gIGlmIChkYXRhLnJlbmVnb3RpYXRlICYmIHNlbGYuaW5pdGlhdG9yKSB7XG4gICAgc2VsZi5fZGVidWcoJ2dvdCByZXF1ZXN0IHRvIHJlbmVnb3RpYXRlJylcbiAgICBzZWxmLl9uZWVkc05lZ290aWF0aW9uKClcbiAgfVxuICBpZiAoZGF0YS5jYW5kaWRhdGUpIHtcbiAgICBpZiAoc2VsZi5fcGMucmVtb3RlRGVzY3JpcHRpb24gJiYgc2VsZi5fcGMucmVtb3RlRGVzY3JpcHRpb24udHlwZSkgc2VsZi5fYWRkSWNlQ2FuZGlkYXRlKGRhdGEuY2FuZGlkYXRlKVxuICAgIGVsc2Ugc2VsZi5fcGVuZGluZ0NhbmRpZGF0ZXMucHVzaChkYXRhLmNhbmRpZGF0ZSlcbiAgfVxuICBpZiAoZGF0YS5zZHApIHtcbiAgICBzZWxmLl9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgKHNlbGYuX3dydGMuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKShkYXRhKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5kZXN0cm95ZWQpIHJldHVyblxuXG4gICAgICBzZWxmLl9wZW5kaW5nQ2FuZGlkYXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChjYW5kaWRhdGUpIHtcbiAgICAgICAgc2VsZi5fYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSlcbiAgICAgIH0pXG4gICAgICBzZWxmLl9wZW5kaW5nQ2FuZGlkYXRlcyA9IFtdXG5cbiAgICAgIGlmIChzZWxmLl9wYy5yZW1vdGVEZXNjcmlwdGlvbi50eXBlID09PSAnb2ZmZXInKSBzZWxmLl9jcmVhdGVBbnN3ZXIoKVxuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsgc2VsZi5kZXN0cm95KG1ha2VFcnJvcihlcnIsICdFUlJfU0VUX1JFTU9URV9ERVNDUklQVElPTicpKSB9KVxuICB9XG4gIGlmICghZGF0YS5zZHAgJiYgIWRhdGEuY2FuZGlkYXRlICYmICFkYXRhLnJlbmVnb3RpYXRlKSB7XG4gICAgc2VsZi5kZXN0cm95KG1ha2VFcnJvcignc2lnbmFsKCkgY2FsbGVkIHdpdGggaW52YWxpZCBzaWduYWwgZGF0YScsICdFUlJfU0lHTkFMSU5HJykpXG4gIH1cbn1cblxuUGVlci5wcm90b3R5cGUuX2FkZEljZUNhbmRpZGF0ZSA9IGZ1bmN0aW9uIChjYW5kaWRhdGUpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIHRyeSB7XG4gICAgc2VsZi5fcGMuYWRkSWNlQ2FuZGlkYXRlKFxuICAgICAgbmV3IHNlbGYuX3dydGMuUlRDSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSksXG4gICAgICBub29wLFxuICAgICAgZnVuY3Rpb24gKGVycikgeyBzZWxmLmRlc3Ryb3kobWFrZUVycm9yKGVyciwgJ0VSUl9BRERfSUNFX0NBTkRJREFURScpKSB9XG4gICAgKVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBzZWxmLmRlc3Ryb3kobWFrZUVycm9yKCdlcnJvciBhZGRpbmcgY2FuZGlkYXRlOiAnICsgZXJyLm1lc3NhZ2UsICdFUlJfQUREX0lDRV9DQU5ESURBVEUnKSlcbiAgfVxufVxuXG4vKipcbiAqIFNlbmQgdGV4dC9iaW5hcnkgZGF0YSB0byB0aGUgcmVtb3RlIHBlZXIuXG4gKiBAcGFyYW0ge0FycmF5QnVmZmVyVmlld3xBcnJheUJ1ZmZlcnxCdWZmZXJ8c3RyaW5nfEJsb2J9IGNodW5rXG4gKi9cblBlZXIucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAoY2h1bmspIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIHNlbGYuX2NoYW5uZWwuc2VuZChjaHVuaylcbn1cblxuLyoqXG4gKiBBZGQgYSBNZWRpYVN0cmVhbSB0byB0aGUgY29ubmVjdGlvbi5cbiAqIEBwYXJhbSB7TWVkaWFTdHJlYW19IHN0cmVhbVxuICovXG5QZWVyLnByb3RvdHlwZS5hZGRTdHJlYW0gPSBmdW5jdGlvbiAoc3RyZWFtKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuXG4gIHNlbGYuX2RlYnVnKCdhZGRTdHJlYW0oKScpXG5cbiAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgc2VsZi5hZGRUcmFjayh0cmFjaywgc3RyZWFtKVxuICB9KVxufVxuXG4vKipcbiAqIEFkZCBhIE1lZGlhU3RyZWFtVHJhY2sgdG8gdGhlIGNvbm5lY3Rpb24uXG4gKiBAcGFyYW0ge01lZGlhU3RyZWFtVHJhY2t9IHRyYWNrXG4gKiBAcGFyYW0ge01lZGlhU3RyZWFtfSBzdHJlYW1cbiAqL1xuUGVlci5wcm90b3R5cGUuYWRkVHJhY2sgPSBmdW5jdGlvbiAodHJhY2ssIHN0cmVhbSkge1xuICB2YXIgc2VsZiA9IHRoaXNcblxuICBzZWxmLl9kZWJ1ZygnYWRkVHJhY2soKScpXG5cbiAgdmFyIHNlbmRlciA9IHNlbGYuX3BjLmFkZFRyYWNrKHRyYWNrLCBzdHJlYW0pXG4gIHZhciBzdWJtYXAgPSBzZWxmLl9zZW5kZXJNYXAuZ2V0KHRyYWNrKSB8fCBuZXcgV2Vha01hcCgpIC8vIG5lc3RlZCBXZWFrTWFwcyBtYXAgW3RyYWNrLCBzdHJlYW1dIHRvIHNlbmRlclxuICBzdWJtYXAuc2V0KHN0cmVhbSwgc2VuZGVyKVxuICBzZWxmLl9zZW5kZXJNYXAuc2V0KHRyYWNrLCBzdWJtYXApXG4gIHNlbGYuX25lZWRzTmVnb3RpYXRpb24oKVxufVxuXG4vKipcbiAqIFJlcGxhY2UgYSBNZWRpYVN0cmVhbVRyYWNrIGJ5IGFub3RoZXIgaW4gdGhlIGNvbm5lY3Rpb24uXG4gKiBAcGFyYW0ge01lZGlhU3RyZWFtVHJhY2t9IG9sZFRyYWNrXG4gKiBAcGFyYW0ge01lZGlhU3RyZWFtVHJhY2t9IG5ld1RyYWNrXG4gKiBAcGFyYW0ge01lZGlhU3RyZWFtfSBzdHJlYW1cbiAqL1xuUGVlci5wcm90b3R5cGUucmVwbGFjZVRyYWNrID0gYXN5bmMgZnVuY3Rpb24gKG9sZFRyYWNrLCBuZXdUcmFjaywgc3RyZWFtKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuXG4gIHNlbGYuX2RlYnVnKCdyZXBsYWNlVHJhY2soKScpXG5cbiAgdmFyIHN1Ym1hcCA9IHNlbGYuX3NlbmRlck1hcC5nZXQob2xkVHJhY2spXG4gIHZhciBzZW5kZXIgPSBzdWJtYXAgPyBzdWJtYXAuZ2V0KHN0cmVhbSkgOiBudWxsXG4gIGlmICghc2VuZGVyKSB7XG4gICAgc2VsZi5kZXN0cm95KG5ldyBFcnJvcignQ2Fubm90IHJlcGxhY2UgdHJhY2sgdGhhdCB3YXMgbmV2ZXIgYWRkZWQuJykpXG4gIH1cbiAgaWYgKG5ld1RyYWNrKSBzZWxmLl9zZW5kZXJNYXAuc2V0KG5ld1RyYWNrLCBzdWJtYXApXG5cbiAgaWYgKHNlbmRlci5yZXBsYWNlVHJhY2sgIT0gbnVsbCkge1xuICAgIGF3YWl0IHNlbmRlci5yZXBsYWNlVHJhY2sobmV3VHJhY2spXG4gIH0gZWxzZSB7XG4gICAgc2VsZi5kZXN0cm95KG1ha2VFcnJvcigncmVwbGFjZVRyYWNrIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyJywgJ0VSUl9VTlNVUFBPUlRFRF9SRVBMQUNFVFJBQ0snKSlcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZSBhIE1lZGlhU3RyZWFtVHJhY2sgZnJvbSB0aGUgY29ubmVjdGlvbi5cbiAqIEBwYXJhbSB7TWVkaWFTdHJlYW1UcmFja30gdHJhY2tcbiAqIEBwYXJhbSB7TWVkaWFTdHJlYW19IHN0cmVhbVxuICovXG5QZWVyLnByb3RvdHlwZS5yZW1vdmVUcmFjayA9IGZ1bmN0aW9uICh0cmFjaywgc3RyZWFtKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuXG4gIHNlbGYuX2RlYnVnKCdyZW1vdmVTZW5kZXIoKScpXG5cbiAgdmFyIHN1Ym1hcCA9IHNlbGYuX3NlbmRlck1hcC5nZXQodHJhY2spXG4gIHZhciBzZW5kZXIgPSBzdWJtYXAgPyBzdWJtYXAuZ2V0KHN0cmVhbSkgOiBudWxsXG4gIGlmICghc2VuZGVyKSB7XG4gICAgc2VsZi5kZXN0cm95KG5ldyBFcnJvcignQ2Fubm90IHJlbW92ZSB0cmFjayB0aGF0IHdhcyBuZXZlciBhZGRlZC4nKSlcbiAgfVxuICB0cnkge1xuICAgIHNlbGYuX3BjLnJlbW92ZVRyYWNrKHNlbmRlcilcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaWYgKGVyci5uYW1lID09PSAnTlNfRVJST1JfVU5FWFBFQ1RFRCcpIHtcbiAgICAgIHNlbGYuX3NlbmRlcnNBd2FpdGluZ1N0YWJsZS5wdXNoKHNlbmRlcikgLy8gSEFDSzogRmlyZWZveCBtdXN0IHdhaXQgdW50aWwgKHNpZ25hbGluZ1N0YXRlID09PSBzdGFibGUpIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTExMzM4NzRcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5kZXN0cm95KGVycilcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgYSBNZWRpYVN0cmVhbSBmcm9tIHRoZSBjb25uZWN0aW9uLlxuICogQHBhcmFtIHtNZWRpYVN0cmVhbX0gc3RyZWFtXG4gKi9cblBlZXIucHJvdG90eXBlLnJlbW92ZVN0cmVhbSA9IGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG5cbiAgc2VsZi5fZGVidWcoJ3JlbW92ZVNlbmRlcnMoKScpXG5cbiAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgc2VsZi5yZW1vdmVUcmFjayh0cmFjaywgc3RyZWFtKVxuICB9KVxufVxuXG5QZWVyLnByb3RvdHlwZS5fbmVlZHNOZWdvdGlhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG5cbiAgc2VsZi5fZGVidWcoJ19uZWVkc05lZ290aWF0aW9uJylcbiAgaWYgKHNlbGYuX2JhdGNoZWROZWdvdGlhdGlvbikgcmV0dXJuIC8vIGJhdGNoIHN5bmNocm9ub3VzIHJlbmVnb3RpYXRpb25zXG4gIHNlbGYuX2JhdGNoZWROZWdvdGlhdGlvbiA9IHRydWVcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5fYmF0Y2hlZE5lZ290aWF0aW9uID0gZmFsc2VcbiAgICBzZWxmLl9kZWJ1Zygnc3RhcnRpbmcgYmF0Y2hlZCBuZWdvdGlhdGlvbicpXG4gICAgc2VsZi5uZWdvdGlhdGUoKVxuICB9LCAwKVxufVxuXG5QZWVyLnByb3RvdHlwZS5uZWdvdGlhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuXG4gIGlmIChzZWxmLmluaXRpYXRvcikge1xuICAgIGlmIChzZWxmLl9pc05lZ290aWF0aW5nKSB7XG4gICAgICBzZWxmLl9xdWV1ZWROZWdvdGlhdGlvbiA9IHRydWVcbiAgICAgIHNlbGYuX2RlYnVnKCdhbHJlYWR5IG5lZ290aWF0aW5nLCBxdWV1ZWluZycpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuX2RlYnVnKCdzdGFydCBuZWdvdGlhdGlvbicpXG4gICAgICBzZWxmLl9jcmVhdGVPZmZlcigpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICghc2VsZi5faXNOZWdvdGlhdGluZykge1xuICAgICAgc2VsZi5fZGVidWcoJ3JlcXVlc3RpbmcgbmVnb3RpYXRpb24gZnJvbSBpbml0aWF0b3InKVxuICAgICAgc2VsZi5lbWl0KCdzaWduYWwnLCB7IC8vIHJlcXVlc3QgaW5pdGlhdG9yIHRvIHJlbmVnb3RpYXRlXG4gICAgICAgIHJlbmVnb3RpYXRlOiB0cnVlXG4gICAgICB9KVxuICAgIH1cbiAgfVxuICBzZWxmLl9pc05lZ290aWF0aW5nID0gdHJ1ZVxufVxuXG4vLyBUT0RPOiBEZWxldGUgdGhpcyBtZXRob2Qgb25jZSByZWFkYWJsZS1zdHJlYW0gaXMgdXBkYXRlZCB0byBjb250YWluIGEgZGVmYXVsdFxuLy8gaW1wbGVtZW50YXRpb24gb2YgZGVzdHJveSgpIHRoYXQgYXV0b21hdGljYWxseSBjYWxscyBfZGVzdHJveSgpXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvcmVhZGFibGUtc3RyZWFtL2lzc3Vlcy8yODNcblBlZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZXJyKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICBzZWxmLl9kZXN0cm95KGVyciwgZnVuY3Rpb24gKCkge30pXG59XG5cblBlZXIucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGlmIChzZWxmLmRlc3Ryb3llZCkgcmV0dXJuXG5cbiAgc2VsZi5fZGVidWcoJ2Rlc3Ryb3kgKGVycm9yOiAlcyknLCBlcnIgJiYgKGVyci5tZXNzYWdlIHx8IGVycikpXG5cbiAgc2VsZi5yZWFkYWJsZSA9IHNlbGYud3JpdGFibGUgPSBmYWxzZVxuXG4gIGlmICghc2VsZi5fcmVhZGFibGVTdGF0ZS5lbmRlZCkgc2VsZi5wdXNoKG51bGwpXG4gIGlmICghc2VsZi5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZCkgc2VsZi5lbmQoKVxuXG4gIHNlbGYuZGVzdHJveWVkID0gdHJ1ZVxuICBzZWxmLmNvbm5lY3RlZCA9IGZhbHNlXG4gIHNlbGYuX3BjUmVhZHkgPSBmYWxzZVxuICBzZWxmLl9jaGFubmVsUmVhZHkgPSBmYWxzZVxuICBzZWxmLl9yZW1vdGVUcmFja3MgPSBudWxsXG4gIHNlbGYuX3JlbW90ZVN0cmVhbXMgPSBudWxsXG4gIHNlbGYuX3NlbmRlck1hcCA9IG51bGxcblxuICBjbGVhckludGVydmFsKHNlbGYuX2Nsb3NpbmdJbnRlcnZhbClcbiAgc2VsZi5fY2xvc2luZ0ludGVydmFsID0gbnVsbFxuXG4gIGNsZWFySW50ZXJ2YWwoc2VsZi5faW50ZXJ2YWwpXG4gIHNlbGYuX2ludGVydmFsID0gbnVsbFxuICBzZWxmLl9jaHVuayA9IG51bGxcbiAgc2VsZi5fY2IgPSBudWxsXG5cbiAgaWYgKHNlbGYuX29uRmluaXNoQm91bmQpIHNlbGYucmVtb3ZlTGlzdGVuZXIoJ2ZpbmlzaCcsIHNlbGYuX29uRmluaXNoQm91bmQpXG4gIHNlbGYuX29uRmluaXNoQm91bmQgPSBudWxsXG5cbiAgaWYgKHNlbGYuX2NoYW5uZWwpIHtcbiAgICB0cnkge1xuICAgICAgc2VsZi5fY2hhbm5lbC5jbG9zZSgpXG4gICAgfSBjYXRjaCAoZXJyKSB7fVxuXG4gICAgc2VsZi5fY2hhbm5lbC5vbm1lc3NhZ2UgPSBudWxsXG4gICAgc2VsZi5fY2hhbm5lbC5vbm9wZW4gPSBudWxsXG4gICAgc2VsZi5fY2hhbm5lbC5vbmNsb3NlID0gbnVsbFxuICAgIHNlbGYuX2NoYW5uZWwub25lcnJvciA9IG51bGxcbiAgfVxuICBpZiAoc2VsZi5fcGMpIHtcbiAgICB0cnkge1xuICAgICAgc2VsZi5fcGMuY2xvc2UoKVxuICAgIH0gY2F0Y2ggKGVycikge31cblxuICAgIHNlbGYuX3BjLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gbnVsbFxuICAgIHNlbGYuX3BjLm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UgPSBudWxsXG4gICAgc2VsZi5fcGMub25zaWduYWxpbmdzdGF0ZWNoYW5nZSA9IG51bGxcbiAgICBzZWxmLl9wYy5vbmljZWNhbmRpZGF0ZSA9IG51bGxcbiAgICBpZiAoJ2FkZFRyYWNrJyBpbiBzZWxmLl9wYykge1xuICAgICAgc2VsZi5fcGMub250cmFjayA9IG51bGxcbiAgICB9XG4gICAgc2VsZi5fcGMub25kYXRhY2hhbm5lbCA9IG51bGxcbiAgfVxuICBzZWxmLl9wYyA9IG51bGxcbiAgc2VsZi5fY2hhbm5lbCA9IG51bGxcblxuICBpZiAoZXJyKSBzZWxmLmVtaXQoJ2Vycm9yJywgZXJyKVxuICBzZWxmLmVtaXQoJ2Nsb3NlJylcbiAgY2IoKVxufVxuXG5QZWVyLnByb3RvdHlwZS5fc2V0dXBEYXRhID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICBpZiAoIWV2ZW50LmNoYW5uZWwpIHtcbiAgICAvLyBJbiBzb21lIHNpdHVhdGlvbnMgYHBjLmNyZWF0ZURhdGFDaGFubmVsKClgIHJldHVybnMgYHVuZGVmaW5lZGAgKGluIHdydGMpLFxuICAgIC8vIHdoaWNoIGlzIGludmFsaWQgYmVoYXZpb3IuIEhhbmRsZSBpdCBncmFjZWZ1bGx5LlxuICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9zaW1wbGUtcGVlci9pc3N1ZXMvMTYzXG4gICAgcmV0dXJuIHNlbGYuZGVzdHJveShtYWtlRXJyb3IoJ0RhdGEgY2hhbm5lbCBldmVudCBpcyBtaXNzaW5nIGBjaGFubmVsYCBwcm9wZXJ0eScsICdFUlJfREFUQV9DSEFOTkVMJykpXG4gIH1cblxuICBzZWxmLl9jaGFubmVsID0gZXZlbnQuY2hhbm5lbFxuICBzZWxmLl9jaGFubmVsLmJpbmFyeVR5cGUgPSAnYXJyYXlidWZmZXInXG5cbiAgaWYgKHR5cGVvZiBzZWxmLl9jaGFubmVsLmJ1ZmZlcmVkQW1vdW50TG93VGhyZXNob2xkID09PSAnbnVtYmVyJykge1xuICAgIHNlbGYuX2NoYW5uZWwuYnVmZmVyZWRBbW91bnRMb3dUaHJlc2hvbGQgPSBNQVhfQlVGRkVSRURfQU1PVU5UXG4gIH1cblxuICBzZWxmLmNoYW5uZWxOYW1lID0gc2VsZi5fY2hhbm5lbC5sYWJlbFxuXG4gIHNlbGYuX2NoYW5uZWwub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgc2VsZi5fb25DaGFubmVsTWVzc2FnZShldmVudClcbiAgfVxuICBzZWxmLl9jaGFubmVsLm9uYnVmZmVyZWRhbW91bnRsb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5fb25DaGFubmVsQnVmZmVyZWRBbW91bnRMb3coKVxuICB9XG4gIHNlbGYuX2NoYW5uZWwub25vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgIHNlbGYuX29uQ2hhbm5lbE9wZW4oKVxuICB9XG4gIHNlbGYuX2NoYW5uZWwub25jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLl9vbkNoYW5uZWxDbG9zZSgpXG4gIH1cbiAgc2VsZi5fY2hhbm5lbC5vbmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgIHNlbGYuZGVzdHJveShtYWtlRXJyb3IoZXJyLCAnRVJSX0RBVEFfQ0hBTk5FTCcpKVxuICB9XG5cbiAgLy8gSEFDSzogQ2hyb21lIHdpbGwgc29tZXRpbWVzIGdldCBzdHVjayBpbiByZWFkeVN0YXRlIFwiY2xvc2luZ1wiLCBsZXQncyBjaGVjayBmb3IgdGhpcyBjb25kaXRpb25cbiAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9ODgyNzQzXG4gIHZhciBpc0Nsb3NpbmcgPSBmYWxzZVxuICBzZWxmLl9jbG9zaW5nSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IC8vIE5vIFwib25jbG9zaW5nXCIgZXZlbnRcbiAgICBpZiAoc2VsZi5fY2hhbm5lbCAmJiBzZWxmLl9jaGFubmVsLnJlYWR5U3RhdGUgPT09ICdjbG9zaW5nJykge1xuICAgICAgaWYgKGlzQ2xvc2luZykgc2VsZi5fb25DaGFubmVsQ2xvc2UoKSAvLyBjbG9zaW5nIHRpbWVkIG91dDogZXF1aXZhbGVudCB0byBvbmNsb3NlIGZpcmluZ1xuICAgICAgaXNDbG9zaW5nID0gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBpc0Nsb3NpbmcgPSBmYWxzZVxuICAgIH1cbiAgfSwgQ0hBTk5FTF9DTE9TSU5HX1RJTUVPVVQpXG59XG5cblBlZXIucHJvdG90eXBlLl9yZWFkID0gZnVuY3Rpb24gKCkge31cblxuUGVlci5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGlmIChzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIGNiKG1ha2VFcnJvcignY2Fubm90IHdyaXRlIGFmdGVyIHBlZXIgaXMgZGVzdHJveWVkJywgJ0VSUl9EQVRBX0NIQU5ORUwnKSlcblxuICBpZiAoc2VsZi5jb25uZWN0ZWQpIHtcbiAgICB0cnkge1xuICAgICAgc2VsZi5zZW5kKGNodW5rKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHNlbGYuZGVzdHJveShtYWtlRXJyb3IoZXJyLCAnRVJSX0RBVEFfQ0hBTk5FTCcpKVxuICAgIH1cbiAgICBpZiAoc2VsZi5fY2hhbm5lbC5idWZmZXJlZEFtb3VudCA+IE1BWF9CVUZGRVJFRF9BTU9VTlQpIHtcbiAgICAgIHNlbGYuX2RlYnVnKCdzdGFydCBiYWNrcHJlc3N1cmU6IGJ1ZmZlcmVkQW1vdW50ICVkJywgc2VsZi5fY2hhbm5lbC5idWZmZXJlZEFtb3VudClcbiAgICAgIHNlbGYuX2NiID0gY2JcbiAgICB9IGVsc2Uge1xuICAgICAgY2IobnVsbClcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5fZGVidWcoJ3dyaXRlIGJlZm9yZSBjb25uZWN0JylcbiAgICBzZWxmLl9jaHVuayA9IGNodW5rXG4gICAgc2VsZi5fY2IgPSBjYlxuICB9XG59XG5cbi8vIFdoZW4gc3RyZWFtIGZpbmlzaGVzIHdyaXRpbmcsIGNsb3NlIHNvY2tldC4gSGFsZiBvcGVuIGNvbm5lY3Rpb25zIGFyZSBub3Rcbi8vIHN1cHBvcnRlZC5cblBlZXIucHJvdG90eXBlLl9vbkZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGlmIChzZWxmLmRlc3Ryb3llZCkgcmV0dXJuXG5cbiAgaWYgKHNlbGYuY29ubmVjdGVkKSB7XG4gICAgZGVzdHJveVNvb24oKVxuICB9IGVsc2Uge1xuICAgIHNlbGYub25jZSgnY29ubmVjdCcsIGRlc3Ryb3lTb29uKVxuICB9XG5cbiAgLy8gV2FpdCBhIGJpdCBiZWZvcmUgZGVzdHJveWluZyBzbyB0aGUgc29ja2V0IGZsdXNoZXMuXG4gIC8vIFRPRE86IGlzIHRoZXJlIGEgbW9yZSByZWxpYWJsZSB3YXkgdG8gYWNjb21wbGlzaCB0aGlzP1xuICBmdW5jdGlvbiBkZXN0cm95U29vbiAoKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBzZWxmLmRlc3Ryb3koKVxuICAgIH0sIDEwMDApXG4gIH1cbn1cblxuUGVlci5wcm90b3R5cGUuX3N0YXJ0SWNlQ29tcGxldGVUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1Zygnc3RhcnRlZCBpY2VDb21wbGV0ZSB0aW1lb3V0JylcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGlmIChzZWxmLmRlc3Ryb3llZCkgcmV0dXJuXG4gIGlmIChzZWxmLl9pY2VDb21wbGV0ZVRpbWVyKSByZXR1cm5cbiAgc2VsZi5faWNlQ29tcGxldGVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGlmICghc2VsZi5faWNlQ29tcGxldGUpIHtcbiAgICAgIHNlbGYuX2ljZUNvbXBsZXRlID0gdHJ1ZVxuICAgICAgc2VsZi5lbWl0KCdpY2VUaW1lb3V0JylcbiAgICAgIHNlbGYuZW1pdCgnX2ljZUNvbXBsZXRlJylcbiAgICB9XG4gIH0sIHRoaXMuaWNlQ29tcGxldGVUaW1lb3V0KVxufVxuXG5QZWVyLnByb3RvdHlwZS5fY3JlYXRlT2ZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICBpZiAoc2VsZi5kZXN0cm95ZWQpIHJldHVyblxuXG4gIHNlbGYuX3BjLmNyZWF0ZU9mZmVyKHNlbGYub2ZmZXJDb25zdHJhaW50cykudGhlbihmdW5jdGlvbiAob2ZmZXIpIHtcbiAgICBpZiAoc2VsZi5kZXN0cm95ZWQpIHJldHVyblxuICAgIGlmICghc2VsZi50cmlja2xlICYmICFzZWxmLmFsbG93SGFsZlRyaWNrbGUpIG9mZmVyLnNkcCA9IGZpbHRlclRyaWNrbGUob2ZmZXIuc2RwKVxuICAgIG9mZmVyLnNkcCA9IHNlbGYuc2RwVHJhbnNmb3JtKG9mZmVyLnNkcClcbiAgICBzZWxmLl9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKG9mZmVyKS50aGVuKG9uU3VjY2VzcykuY2F0Y2gob25FcnJvcilcblxuICAgIGZ1bmN0aW9uIG9uU3VjY2VzcyAoKSB7XG4gICAgICBzZWxmLl9kZWJ1ZygnY3JlYXRlT2ZmZXIgc3VjY2VzcycpXG4gICAgICBpZiAoc2VsZi5kZXN0cm95ZWQpIHJldHVyblxuICAgICAgaWYgKHNlbGYudHJpY2tsZSB8fCBzZWxmLl9pY2VDb21wbGV0ZSkgc2VuZE9mZmVyKClcbiAgICAgIGVsc2Ugc2VsZi5vbmNlKCdfaWNlQ29tcGxldGUnLCBzZW5kT2ZmZXIpIC8vIHdhaXQgZm9yIGNhbmRpZGF0ZXNcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkVycm9yIChlcnIpIHtcbiAgICAgIHNlbGYuZGVzdHJveShtYWtlRXJyb3IoZXJyLCAnRVJSX1NFVF9MT0NBTF9ERVNDUklQVElPTicpKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbmRPZmZlciAoKSB7XG4gICAgICBpZiAoc2VsZi5kZXN0cm95ZWQpIHJldHVyblxuICAgICAgdmFyIHNpZ25hbCA9IHNlbGYuX3BjLmxvY2FsRGVzY3JpcHRpb24gfHwgb2ZmZXJcbiAgICAgIHNlbGYuX2RlYnVnKCdzaWduYWwnKVxuICAgICAgc2VsZi5lbWl0KCdzaWduYWwnLCB7XG4gICAgICAgIHR5cGU6IHNpZ25hbC50eXBlLFxuICAgICAgICBzZHA6IHNpZ25hbC5zZHBcbiAgICAgIH0pXG4gICAgfVxuICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7IHNlbGYuZGVzdHJveShtYWtlRXJyb3IoZXJyLCAnRVJSX0NSRUFURV9PRkZFUicpKSB9KVxufVxuXG5QZWVyLnByb3RvdHlwZS5fY3JlYXRlQW5zd2VyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgaWYgKHNlbGYuZGVzdHJveWVkKSByZXR1cm5cblxuICBzZWxmLl9wYy5jcmVhdGVBbnN3ZXIoc2VsZi5hbnN3ZXJDb25zdHJhaW50cykudGhlbihmdW5jdGlvbiAoYW5zd2VyKSB7XG4gICAgaWYgKHNlbGYuZGVzdHJveWVkKSByZXR1cm5cbiAgICBpZiAoIXNlbGYudHJpY2tsZSAmJiAhc2VsZi5hbGxvd0hhbGZUcmlja2xlKSBhbnN3ZXIuc2RwID0gZmlsdGVyVHJpY2tsZShhbnN3ZXIuc2RwKVxuICAgIGFuc3dlci5zZHAgPSBzZWxmLnNkcFRyYW5zZm9ybShhbnN3ZXIuc2RwKVxuICAgIHNlbGYuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oYW5zd2VyKS50aGVuKG9uU3VjY2VzcykuY2F0Y2gob25FcnJvcilcblxuICAgIGZ1bmN0aW9uIG9uU3VjY2VzcyAoKSB7XG4gICAgICBpZiAoc2VsZi5kZXN0cm95ZWQpIHJldHVyblxuICAgICAgaWYgKHNlbGYudHJpY2tsZSB8fCBzZWxmLl9pY2VDb21wbGV0ZSkgc2VuZEFuc3dlcigpXG4gICAgICBlbHNlIHNlbGYub25jZSgnX2ljZUNvbXBsZXRlJywgc2VuZEFuc3dlcilcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkVycm9yIChlcnIpIHtcbiAgICAgIHNlbGYuZGVzdHJveShtYWtlRXJyb3IoZXJyLCAnRVJSX1NFVF9MT0NBTF9ERVNDUklQVElPTicpKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbmRBbnN3ZXIgKCkge1xuICAgICAgaWYgKHNlbGYuZGVzdHJveWVkKSByZXR1cm5cbiAgICAgIHZhciBzaWduYWwgPSBzZWxmLl9wYy5sb2NhbERlc2NyaXB0aW9uIHx8IGFuc3dlclxuICAgICAgc2VsZi5fZGVidWcoJ3NpZ25hbCcpXG4gICAgICBzZWxmLmVtaXQoJ3NpZ25hbCcsIHtcbiAgICAgICAgdHlwZTogc2lnbmFsLnR5cGUsXG4gICAgICAgIHNkcDogc2lnbmFsLnNkcFxuICAgICAgfSlcbiAgICB9XG4gIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsgc2VsZi5kZXN0cm95KG1ha2VFcnJvcihlcnIsICdFUlJfQ1JFQVRFX0FOU1dFUicpKSB9KVxufVxuXG5QZWVyLnByb3RvdHlwZS5fb25JY2VTdGF0ZUNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGlmIChzZWxmLmRlc3Ryb3llZCkgcmV0dXJuXG4gIHZhciBpY2VDb25uZWN0aW9uU3RhdGUgPSBzZWxmLl9wYy5pY2VDb25uZWN0aW9uU3RhdGVcbiAgdmFyIGljZUdhdGhlcmluZ1N0YXRlID0gc2VsZi5fcGMuaWNlR2F0aGVyaW5nU3RhdGVcblxuICBzZWxmLl9kZWJ1ZyhcbiAgICAnaWNlU3RhdGVDaGFuZ2UgKGNvbm5lY3Rpb246ICVzKSAoZ2F0aGVyaW5nOiAlcyknLFxuICAgIGljZUNvbm5lY3Rpb25TdGF0ZSxcbiAgICBpY2VHYXRoZXJpbmdTdGF0ZVxuICApXG4gIHNlbGYuZW1pdCgnaWNlU3RhdGVDaGFuZ2UnLCBpY2VDb25uZWN0aW9uU3RhdGUsIGljZUdhdGhlcmluZ1N0YXRlKVxuXG4gIGlmIChpY2VDb25uZWN0aW9uU3RhdGUgPT09ICdjb25uZWN0ZWQnIHx8IGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICBzZWxmLl9wY1JlYWR5ID0gdHJ1ZVxuICAgIHNlbGYuX21heWJlUmVhZHkoKVxuICB9XG4gIGlmIChpY2VDb25uZWN0aW9uU3RhdGUgPT09ICdmYWlsZWQnKSB7XG4gICAgc2VsZi5kZXN0cm95KG1ha2VFcnJvcignSWNlIGNvbm5lY3Rpb24gZmFpbGVkLicsICdFUlJfSUNFX0NPTk5FQ1RJT05fRkFJTFVSRScpKVxuICB9XG4gIGlmIChpY2VDb25uZWN0aW9uU3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgc2VsZi5kZXN0cm95KG5ldyBFcnJvcignSWNlIGNvbm5lY3Rpb24gY2xvc2VkLicpKVxuICB9XG59XG5cblBlZXIucHJvdG90eXBlLmdldFN0YXRzID0gZnVuY3Rpb24gKGNiKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuXG4gIC8vIFByb21pc2UtYmFzZWQgZ2V0U3RhdHMoKSAoc3RhbmRhcmQpXG4gIGlmIChzZWxmLl9wYy5nZXRTdGF0cy5sZW5ndGggPT09IDApIHtcbiAgICBzZWxmLl9wYy5nZXRTdGF0cygpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgdmFyIHJlcG9ydHMgPSBbXVxuICAgICAgcmVzLmZvckVhY2goZnVuY3Rpb24gKHJlcG9ydCkge1xuICAgICAgICByZXBvcnRzLnB1c2gocmVwb3J0KVxuICAgICAgfSlcbiAgICAgIGNiKG51bGwsIHJlcG9ydHMpXG4gICAgfSwgZnVuY3Rpb24gKGVycikgeyBjYihlcnIpIH0pXG5cbiAgLy8gVHdvLXBhcmFtZXRlciBjYWxsYmFjay1iYXNlZCBnZXRTdGF0cygpIChkZXByZWNhdGVkLCBmb3JtZXIgc3RhbmRhcmQpXG4gIH0gZWxzZSBpZiAoc2VsZi5faXNSZWFjdE5hdGl2ZVdlYnJ0Yykge1xuICAgIHNlbGYuX3BjLmdldFN0YXRzKG51bGwsIGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHZhciByZXBvcnRzID0gW11cbiAgICAgIHJlcy5mb3JFYWNoKGZ1bmN0aW9uIChyZXBvcnQpIHtcbiAgICAgICAgcmVwb3J0cy5wdXNoKHJlcG9ydClcbiAgICAgIH0pXG4gICAgICBjYihudWxsLCByZXBvcnRzKVxuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsgY2IoZXJyKSB9KVxuXG4gIC8vIFNpbmdsZS1wYXJhbWV0ZXIgY2FsbGJhY2stYmFzZWQgZ2V0U3RhdHMoKSAobm9uLXN0YW5kYXJkKVxuICB9IGVsc2UgaWYgKHNlbGYuX3BjLmdldFN0YXRzLmxlbmd0aCA+IDApIHtcbiAgICBzZWxmLl9wYy5nZXRTdGF0cyhmdW5jdGlvbiAocmVzKSB7XG4gICAgICAvLyBJZiB3ZSBkZXN0cm95IGNvbm5lY3Rpb24gaW4gYGNvbm5lY3RgIGNhbGxiYWNrIHRoaXMgY29kZSBtaWdodCBoYXBwZW4gdG8gcnVuIHdoZW4gYWN0dWFsIGNvbm5lY3Rpb24gaXMgYWxyZWFkeSBjbG9zZWRcbiAgICAgIGlmIChzZWxmLmRlc3Ryb3llZCkgcmV0dXJuXG5cbiAgICAgIHZhciByZXBvcnRzID0gW11cbiAgICAgIHJlcy5yZXN1bHQoKS5mb3JFYWNoKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgdmFyIHJlcG9ydCA9IHt9XG4gICAgICAgIHJlc3VsdC5uYW1lcygpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICByZXBvcnRbbmFtZV0gPSByZXN1bHQuc3RhdChuYW1lKVxuICAgICAgICB9KVxuICAgICAgICByZXBvcnQuaWQgPSByZXN1bHQuaWRcbiAgICAgICAgcmVwb3J0LnR5cGUgPSByZXN1bHQudHlwZVxuICAgICAgICByZXBvcnQudGltZXN0YW1wID0gcmVzdWx0LnRpbWVzdGFtcFxuICAgICAgICByZXBvcnRzLnB1c2gocmVwb3J0KVxuICAgICAgfSlcbiAgICAgIGNiKG51bGwsIHJlcG9ydHMpXG4gICAgfSwgZnVuY3Rpb24gKGVycikgeyBjYihlcnIpIH0pXG5cbiAgLy8gVW5rbm93biBicm93c2VyLCBza2lwIGdldFN0YXRzKCkgc2luY2UgaXQncyBhbnlvbmUncyBndWVzcyB3aGljaCBzdHlsZSBvZlxuICAvLyBnZXRTdGF0cygpIHRoZXkgaW1wbGVtZW50LlxuICB9IGVsc2Uge1xuICAgIGNiKG51bGwsIFtdKVxuICB9XG59XG5cblBlZXIucHJvdG90eXBlLl9tYXliZVJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgc2VsZi5fZGVidWcoJ21heWJlUmVhZHkgcGMgJXMgY2hhbm5lbCAlcycsIHNlbGYuX3BjUmVhZHksIHNlbGYuX2NoYW5uZWxSZWFkeSlcbiAgaWYgKHNlbGYuY29ubmVjdGVkIHx8IHNlbGYuX2Nvbm5lY3RpbmcgfHwgIXNlbGYuX3BjUmVhZHkgfHwgIXNlbGYuX2NoYW5uZWxSZWFkeSkgcmV0dXJuXG5cbiAgc2VsZi5fY29ubmVjdGluZyA9IHRydWVcblxuICAvLyBIQUNLOiBXZSBjYW4ndCByZWx5IG9uIG9yZGVyIGhlcmUsIGZvciBkZXRhaWxzIHNlZSBodHRwczovL2dpdGh1Yi5jb20vanMtcGxhdGZvcm0vbm9kZS13ZWJydGMvaXNzdWVzLzMzOVxuICBmdW5jdGlvbiBmaW5kQ2FuZGlkYXRlUGFpciAoKSB7XG4gICAgaWYgKHNlbGYuZGVzdHJveWVkKSByZXR1cm5cblxuICAgIHNlbGYuZ2V0U3RhdHMoZnVuY3Rpb24gKGVyciwgaXRlbXMpIHtcbiAgICAgIGlmIChzZWxmLmRlc3Ryb3llZCkgcmV0dXJuXG5cbiAgICAgIC8vIFRyZWF0IGdldFN0YXRzIGVycm9yIGFzIG5vbi1mYXRhbC4gSXQncyBub3QgZXNzZW50aWFsLlxuICAgICAgaWYgKGVycikgaXRlbXMgPSBbXVxuXG4gICAgICB2YXIgcmVtb3RlQ2FuZGlkYXRlcyA9IHt9XG4gICAgICB2YXIgbG9jYWxDYW5kaWRhdGVzID0ge31cbiAgICAgIHZhciBjYW5kaWRhdGVQYWlycyA9IHt9XG4gICAgICB2YXIgZm91bmRTZWxlY3RlZENhbmRpZGF0ZVBhaXIgPSBmYWxzZVxuXG4gICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIC8vIFRPRE86IE9uY2UgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdGhlIGh5cGhlbmF0ZWQgc3RhdHMgcmVwb3J0IHR5cGVzLCByZW1vdmVcbiAgICAgICAgLy8gdGhlIG5vbi1oeXBlbmF0ZWQgb25lc1xuICAgICAgICBpZiAoaXRlbS50eXBlID09PSAncmVtb3RlY2FuZGlkYXRlJyB8fCBpdGVtLnR5cGUgPT09ICdyZW1vdGUtY2FuZGlkYXRlJykge1xuICAgICAgICAgIHJlbW90ZUNhbmRpZGF0ZXNbaXRlbS5pZF0gPSBpdGVtXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2xvY2FsY2FuZGlkYXRlJyB8fCBpdGVtLnR5cGUgPT09ICdsb2NhbC1jYW5kaWRhdGUnKSB7XG4gICAgICAgICAgbG9jYWxDYW5kaWRhdGVzW2l0ZW0uaWRdID0gaXRlbVxuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdjYW5kaWRhdGVwYWlyJyB8fCBpdGVtLnR5cGUgPT09ICdjYW5kaWRhdGUtcGFpcicpIHtcbiAgICAgICAgICBjYW5kaWRhdGVQYWlyc1tpdGVtLmlkXSA9IGl0ZW1cbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAvLyBTcGVjLWNvbXBsaWFudFxuICAgICAgICBpZiAoaXRlbS50eXBlID09PSAndHJhbnNwb3J0JyAmJiBpdGVtLnNlbGVjdGVkQ2FuZGlkYXRlUGFpcklkKSB7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKGNhbmRpZGF0ZVBhaXJzW2l0ZW0uc2VsZWN0ZWRDYW5kaWRhdGVQYWlySWRdKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gT2xkIGltcGxlbWVudGF0aW9uc1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKGl0ZW0udHlwZSA9PT0gJ2dvb2dDYW5kaWRhdGVQYWlyJyAmJiBpdGVtLmdvb2dBY3RpdmVDb25uZWN0aW9uID09PSAndHJ1ZScpIHx8XG4gICAgICAgICAgKChpdGVtLnR5cGUgPT09ICdjYW5kaWRhdGVwYWlyJyB8fCBpdGVtLnR5cGUgPT09ICdjYW5kaWRhdGUtcGFpcicpICYmIGl0ZW0uc2VsZWN0ZWQpXG4gICAgICAgICkge1xuICAgICAgICAgIHNldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcihpdGVtKVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICBmdW5jdGlvbiBzZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIgKHNlbGVjdGVkQ2FuZGlkYXRlUGFpcikge1xuICAgICAgICBmb3VuZFNlbGVjdGVkQ2FuZGlkYXRlUGFpciA9IHRydWVcblxuICAgICAgICB2YXIgbG9jYWwgPSBsb2NhbENhbmRpZGF0ZXNbc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLmxvY2FsQ2FuZGlkYXRlSWRdXG5cbiAgICAgICAgaWYgKGxvY2FsICYmIGxvY2FsLmlwKSB7XG4gICAgICAgICAgLy8gU3BlY1xuICAgICAgICAgIHNlbGYubG9jYWxBZGRyZXNzID0gbG9jYWwuaXBcbiAgICAgICAgICBzZWxmLmxvY2FsUG9ydCA9IE51bWJlcihsb2NhbC5wb3J0KVxuICAgICAgICB9IGVsc2UgaWYgKGxvY2FsICYmIGxvY2FsLmlwQWRkcmVzcykge1xuICAgICAgICAgIC8vIEZpcmVmb3hcbiAgICAgICAgICBzZWxmLmxvY2FsQWRkcmVzcyA9IGxvY2FsLmlwQWRkcmVzc1xuICAgICAgICAgIHNlbGYubG9jYWxQb3J0ID0gTnVtYmVyKGxvY2FsLnBvcnROdW1iZXIpXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlbGVjdGVkQ2FuZGlkYXRlUGFpci5nb29nTG9jYWxBZGRyZXNzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIC8vIFRPRE86IHJlbW92ZSB0aGlzIG9uY2UgQ2hyb21lIDU4IGlzIHJlbGVhc2VkXG4gICAgICAgICAgbG9jYWwgPSBzZWxlY3RlZENhbmRpZGF0ZVBhaXIuZ29vZ0xvY2FsQWRkcmVzcy5zcGxpdCgnOicpXG4gICAgICAgICAgc2VsZi5sb2NhbEFkZHJlc3MgPSBsb2NhbFswXVxuICAgICAgICAgIHNlbGYubG9jYWxQb3J0ID0gTnVtYmVyKGxvY2FsWzFdKVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlbW90ZSA9IHJlbW90ZUNhbmRpZGF0ZXNbc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLnJlbW90ZUNhbmRpZGF0ZUlkXVxuXG4gICAgICAgIGlmIChyZW1vdGUgJiYgcmVtb3RlLmlwKSB7XG4gICAgICAgICAgLy8gU3BlY1xuICAgICAgICAgIHNlbGYucmVtb3RlQWRkcmVzcyA9IHJlbW90ZS5pcFxuICAgICAgICAgIHNlbGYucmVtb3RlUG9ydCA9IE51bWJlcihyZW1vdGUucG9ydClcbiAgICAgICAgfSBlbHNlIGlmIChyZW1vdGUgJiYgcmVtb3RlLmlwQWRkcmVzcykge1xuICAgICAgICAgIC8vIEZpcmVmb3hcbiAgICAgICAgICBzZWxmLnJlbW90ZUFkZHJlc3MgPSByZW1vdGUuaXBBZGRyZXNzXG4gICAgICAgICAgc2VsZi5yZW1vdGVQb3J0ID0gTnVtYmVyKHJlbW90ZS5wb3J0TnVtYmVyKVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzZWxlY3RlZENhbmRpZGF0ZVBhaXIuZ29vZ1JlbW90ZUFkZHJlc3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgb25jZSBDaHJvbWUgNTggaXMgcmVsZWFzZWRcbiAgICAgICAgICByZW1vdGUgPSBzZWxlY3RlZENhbmRpZGF0ZVBhaXIuZ29vZ1JlbW90ZUFkZHJlc3Muc3BsaXQoJzonKVxuICAgICAgICAgIHNlbGYucmVtb3RlQWRkcmVzcyA9IHJlbW90ZVswXVxuICAgICAgICAgIHNlbGYucmVtb3RlUG9ydCA9IE51bWJlcihyZW1vdGVbMV0pXG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5yZW1vdGVGYW1pbHkgPSAnSVB2NCdcblxuICAgICAgICBzZWxmLl9kZWJ1ZyhcbiAgICAgICAgICAnY29ubmVjdCBsb2NhbDogJXM6JXMgcmVtb3RlOiAlczolcycsXG4gICAgICAgICAgc2VsZi5sb2NhbEFkZHJlc3MsIHNlbGYubG9jYWxQb3J0LCBzZWxmLnJlbW90ZUFkZHJlc3MsIHNlbGYucmVtb3RlUG9ydFxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIC8vIElnbm9yZSBjYW5kaWRhdGUgcGFpciBzZWxlY3Rpb24gaW4gYnJvd3NlcnMgbGlrZSBTYWZhcmkgMTEgdGhhdCBkbyBub3QgaGF2ZSBhbnkgbG9jYWwgb3IgcmVtb3RlIGNhbmRpZGF0ZXNcbiAgICAgIC8vIEJ1dCB3YWl0IHVudGlsIGF0IGxlYXN0IDEgY2FuZGlkYXRlIHBhaXIgaXMgYXZhaWxhYmxlXG4gICAgICBpZiAoIWZvdW5kU2VsZWN0ZWRDYW5kaWRhdGVQYWlyICYmICghT2JqZWN0LmtleXMoY2FuZGlkYXRlUGFpcnMpLmxlbmd0aCB8fCBPYmplY3Qua2V5cyhsb2NhbENhbmRpZGF0ZXMpLmxlbmd0aCkpIHtcbiAgICAgICAgc2V0VGltZW91dChmaW5kQ2FuZGlkYXRlUGFpciwgMTAwKVxuICAgICAgICByZXR1cm5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuX2Nvbm5lY3RpbmcgPSBmYWxzZVxuICAgICAgICBzZWxmLmNvbm5lY3RlZCA9IHRydWVcbiAgICAgIH1cblxuICAgICAgaWYgKHNlbGYuX2NodW5rKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc2VsZi5zZW5kKHNlbGYuX2NodW5rKVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5kZXN0cm95KG1ha2VFcnJvcihlcnIsICdFUlJfREFUQV9DSEFOTkVMJykpXG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5fY2h1bmsgPSBudWxsXG4gICAgICAgIHNlbGYuX2RlYnVnKCdzZW50IGNodW5rIGZyb20gXCJ3cml0ZSBiZWZvcmUgY29ubmVjdFwiJylcblxuICAgICAgICB2YXIgY2IgPSBzZWxmLl9jYlxuICAgICAgICBzZWxmLl9jYiA9IG51bGxcbiAgICAgICAgY2IobnVsbClcbiAgICAgIH1cblxuICAgICAgLy8gSWYgYGJ1ZmZlcmVkQW1vdW50TG93VGhyZXNob2xkYCBhbmQgJ29uYnVmZmVyZWRhbW91bnRsb3cnIGFyZSB1bnN1cHBvcnRlZCxcbiAgICAgIC8vIGZhbGxiYWNrIHRvIHVzaW5nIHNldEludGVydmFsIHRvIGltcGxlbWVudCBiYWNrcHJlc3N1cmUuXG4gICAgICBpZiAodHlwZW9mIHNlbGYuX2NoYW5uZWwuYnVmZmVyZWRBbW91bnRMb3dUaHJlc2hvbGQgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHNlbGYuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgeyBzZWxmLl9vbkludGVydmFsKCkgfSwgMTUwKVxuICAgICAgICBpZiAoc2VsZi5faW50ZXJ2YWwudW5yZWYpIHNlbGYuX2ludGVydmFsLnVucmVmKClcbiAgICAgIH1cblxuICAgICAgc2VsZi5fZGVidWcoJ2Nvbm5lY3QnKVxuICAgICAgc2VsZi5lbWl0KCdjb25uZWN0JylcbiAgICB9KVxuICB9XG4gIGZpbmRDYW5kaWRhdGVQYWlyKClcbn1cblxuUGVlci5wcm90b3R5cGUuX29uSW50ZXJ2YWwgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICBpZiAoIXNlbGYuX2NiIHx8ICFzZWxmLl9jaGFubmVsIHx8IHNlbGYuX2NoYW5uZWwuYnVmZmVyZWRBbW91bnQgPiBNQVhfQlVGRkVSRURfQU1PVU5UKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgc2VsZi5fb25DaGFubmVsQnVmZmVyZWRBbW91bnRMb3coKVxufVxuXG5QZWVyLnByb3RvdHlwZS5fb25TaWduYWxpbmdTdGF0ZUNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGlmIChzZWxmLmRlc3Ryb3llZCkgcmV0dXJuXG5cbiAgaWYgKHNlbGYuX3BjLnNpZ25hbGluZ1N0YXRlID09PSAnc3RhYmxlJyAmJiAhc2VsZi5fZmlyc3RTdGFibGUpIHtcbiAgICBzZWxmLl9pc05lZ290aWF0aW5nID0gZmFsc2VcblxuICAgIC8vIEhBQ0s6IEZpcmVmb3ggZG9lc24ndCB5ZXQgc3VwcG9ydCByZW1vdmluZyB0cmFja3Mgd2hlbiBzaWduYWxpbmdTdGF0ZSAhPT0gJ3N0YWJsZSdcbiAgICBzZWxmLl9kZWJ1ZygnZmx1c2hpbmcgc2VuZGVyIHF1ZXVlJywgc2VsZi5fc2VuZGVyc0F3YWl0aW5nU3RhYmxlKVxuICAgIHNlbGYuX3NlbmRlcnNBd2FpdGluZ1N0YWJsZS5mb3JFYWNoKGZ1bmN0aW9uIChzZW5kZXIpIHtcbiAgICAgIHNlbGYuX3BjLnJlbW92ZVRyYWNrKHNlbmRlcilcbiAgICAgIHNlbGYuX3F1ZXVlZE5lZ290aWF0aW9uID0gdHJ1ZVxuICAgIH0pXG4gICAgc2VsZi5fc2VuZGVyc0F3YWl0aW5nU3RhYmxlID0gW11cblxuICAgIGlmIChzZWxmLl9xdWV1ZWROZWdvdGlhdGlvbikge1xuICAgICAgc2VsZi5fZGVidWcoJ2ZsdXNoaW5nIG5lZ290aWF0aW9uIHF1ZXVlJylcbiAgICAgIHNlbGYuX3F1ZXVlZE5lZ290aWF0aW9uID0gZmFsc2VcbiAgICAgIHNlbGYuX25lZWRzTmVnb3RpYXRpb24oKSAvLyBuZWdvdGlhdGUgYWdhaW5cbiAgICB9XG5cbiAgICBzZWxmLl9kZWJ1ZygnbmVnb3RpYXRlJylcbiAgICBzZWxmLmVtaXQoJ25lZ290aWF0ZScpXG4gIH1cbiAgc2VsZi5fZmlyc3RTdGFibGUgPSBmYWxzZVxuXG4gIHNlbGYuX2RlYnVnKCdzaWduYWxpbmdTdGF0ZUNoYW5nZSAlcycsIHNlbGYuX3BjLnNpZ25hbGluZ1N0YXRlKVxuICBzZWxmLmVtaXQoJ3NpZ25hbGluZ1N0YXRlQ2hhbmdlJywgc2VsZi5fcGMuc2lnbmFsaW5nU3RhdGUpXG59XG5cblBlZXIucHJvdG90eXBlLl9vbkljZUNhbmRpZGF0ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgaWYgKHNlbGYuZGVzdHJveWVkKSByZXR1cm5cbiAgaWYgKGV2ZW50LmNhbmRpZGF0ZSAmJiBzZWxmLnRyaWNrbGUpIHtcbiAgICBzZWxmLmVtaXQoJ3NpZ25hbCcsIHtcbiAgICAgIGNhbmRpZGF0ZToge1xuICAgICAgICBjYW5kaWRhdGU6IGV2ZW50LmNhbmRpZGF0ZS5jYW5kaWRhdGUsXG4gICAgICAgIHNkcE1MaW5lSW5kZXg6IGV2ZW50LmNhbmRpZGF0ZS5zZHBNTGluZUluZGV4LFxuICAgICAgICBzZHBNaWQ6IGV2ZW50LmNhbmRpZGF0ZS5zZHBNaWRcbiAgICAgIH1cbiAgICB9KVxuICB9IGVsc2UgaWYgKCFldmVudC5jYW5kaWRhdGUgJiYgIXNlbGYuX2ljZUNvbXBsZXRlKSB7XG4gICAgc2VsZi5faWNlQ29tcGxldGUgPSB0cnVlXG4gICAgc2VsZi5lbWl0KCdfaWNlQ29tcGxldGUnKVxuICB9XG4gIC8vIGFzIHNvb24gYXMgd2UndmUgcmVjZWl2ZWQgb25lIHZhbGlkIGNhbmRpZGF0ZSBzdGFydCB0aW1lb3V0XG4gIGlmIChldmVudC5jYW5kaWRhdGUpIHtcbiAgICBzZWxmLl9zdGFydEljZUNvbXBsZXRlVGltZW91dCgpXG4gIH1cbn1cblxuUGVlci5wcm90b3R5cGUuX29uQ2hhbm5lbE1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGlmIChzZWxmLmRlc3Ryb3llZCkgcmV0dXJuXG4gIHZhciBkYXRhID0gZXZlbnQuZGF0YVxuICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSBkYXRhID0gQnVmZmVyLmZyb20oZGF0YSlcbiAgc2VsZi5wdXNoKGRhdGEpXG59XG5cblBlZXIucHJvdG90eXBlLl9vbkNoYW5uZWxCdWZmZXJlZEFtb3VudExvdyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGlmIChzZWxmLmRlc3Ryb3llZCB8fCAhc2VsZi5fY2IpIHJldHVyblxuICBzZWxmLl9kZWJ1ZygnZW5kaW5nIGJhY2twcmVzc3VyZTogYnVmZmVyZWRBbW91bnQgJWQnLCBzZWxmLl9jaGFubmVsLmJ1ZmZlcmVkQW1vdW50KVxuICB2YXIgY2IgPSBzZWxmLl9jYlxuICBzZWxmLl9jYiA9IG51bGxcbiAgY2IobnVsbClcbn1cblxuUGVlci5wcm90b3R5cGUuX29uQ2hhbm5lbE9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICBpZiAoc2VsZi5jb25uZWN0ZWQgfHwgc2VsZi5kZXN0cm95ZWQpIHJldHVyblxuICBzZWxmLl9kZWJ1Zygnb24gY2hhbm5lbCBvcGVuJylcbiAgc2VsZi5fY2hhbm5lbFJlYWR5ID0gdHJ1ZVxuICBzZWxmLl9tYXliZVJlYWR5KClcbn1cblxuUGVlci5wcm90b3R5cGUuX29uQ2hhbm5lbENsb3NlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgaWYgKHNlbGYuZGVzdHJveWVkKSByZXR1cm5cbiAgc2VsZi5fZGVidWcoJ29uIGNoYW5uZWwgY2xvc2UnKVxuICBzZWxmLmRlc3Ryb3koKVxufVxuXG5QZWVyLnByb3RvdHlwZS5fb25UcmFjayA9IGZ1bmN0aW9uIChldmVudCkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgaWYgKHNlbGYuZGVzdHJveWVkKSByZXR1cm5cblxuICBldmVudC5zdHJlYW1zLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50U3RyZWFtKSB7XG4gICAgc2VsZi5fZGVidWcoJ29uIHRyYWNrJylcbiAgICBzZWxmLmVtaXQoJ3RyYWNrJywgZXZlbnQudHJhY2ssIGV2ZW50U3RyZWFtKVxuXG4gICAgc2VsZi5fcmVtb3RlVHJhY2tzLnB1c2goe1xuICAgICAgdHJhY2s6IGV2ZW50LnRyYWNrLFxuICAgICAgc3RyZWFtOiBldmVudFN0cmVhbVxuICAgIH0pXG5cbiAgICBpZiAoc2VsZi5fcmVtb3RlU3RyZWFtcy5zb21lKGZ1bmN0aW9uIChyZW1vdGVTdHJlYW0pIHtcbiAgICAgIHJldHVybiByZW1vdGVTdHJlYW0uaWQgPT09IGV2ZW50U3RyZWFtLmlkXG4gICAgfSkpIHJldHVybiAvLyBPbmx5IGZpcmUgb25lICdzdHJlYW0nIGV2ZW50LCBldmVuIHRob3VnaCB0aGVyZSBtYXkgYmUgbXVsdGlwbGUgdHJhY2tzIHBlciBzdHJlYW1cblxuICAgIHNlbGYuX3JlbW90ZVN0cmVhbXMucHVzaChldmVudFN0cmVhbSlcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGYuZW1pdCgnc3RyZWFtJywgZXZlbnRTdHJlYW0pIC8vIGVuc3VyZSBhbGwgdHJhY2tzIGhhdmUgYmVlbiBhZGRlZFxuICAgIH0sIDApXG4gIH0pXG59XG5cblBlZXIucHJvdG90eXBlLnNldENvbnN0cmFpbnRzID0gZnVuY3Rpb24gKGNvbnN0cmFpbnRzKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICBpZiAoc2VsZi5pbml0aWF0b3IpIHtcbiAgICBzZWxmLm9mZmVyQ29uc3RyYWludHMgPSBzZWxmLl90cmFuc2Zvcm1Db25zdHJhaW50cyhjb25zdHJhaW50cylcbiAgfSBlbHNlIHtcbiAgICBzZWxmLmFuc3dlckNvbnN0cmFpbnRzID0gc2VsZi5fdHJhbnNmb3JtQ29uc3RyYWludHMoY29uc3RyYWludHMpXG4gIH1cbn1cblxuUGVlci5wcm90b3R5cGUuX2RlYnVnID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cylcbiAgYXJnc1swXSA9ICdbJyArIHNlbGYuX2lkICsgJ10gJyArIGFyZ3NbMF1cbiAgZGVidWcuYXBwbHkobnVsbCwgYXJncylcbn1cblxuLy8gVHJhbnNmb3JtIGNvbnN0cmFpbnRzIG9iamVjdHMgaW50byB0aGUgbmV3IGZvcm1hdCAodW5sZXNzIENocm9taXVtKVxuLy8gVE9ETzogVGhpcyBjYW4gYmUgcmVtb3ZlZCB3aGVuIENocm9taXVtIHN1cHBvcnRzIHRoZSBuZXcgZm9ybWF0XG5QZWVyLnByb3RvdHlwZS5fdHJhbnNmb3JtQ29uc3RyYWludHMgPSBmdW5jdGlvbiAoY29uc3RyYWludHMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG5cbiAgaWYgKE9iamVjdC5rZXlzKGNvbnN0cmFpbnRzKS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gY29uc3RyYWludHNcbiAgfVxuXG4gIGlmICgoY29uc3RyYWludHMubWFuZGF0b3J5IHx8IGNvbnN0cmFpbnRzLm9wdGlvbmFsKSAmJiAhc2VsZi5faXNDaHJvbWl1bSkge1xuICAgIC8vIGNvbnZlcnQgdG8gbmV3IGZvcm1hdFxuXG4gICAgLy8gTWVyZ2UgbWFuZGF0b3J5IGFuZCBvcHRpb25hbCBvYmplY3RzLCBwcmlvcml0aXppbmcgbWFuZGF0b3J5XG4gICAgdmFyIG5ld0NvbnN0cmFpbnRzID0gT2JqZWN0LmFzc2lnbih7fSwgY29uc3RyYWludHMub3B0aW9uYWwsIGNvbnN0cmFpbnRzLm1hbmRhdG9yeSlcblxuICAgIC8vIGZpeCBjYXNpbmdcbiAgICBpZiAobmV3Q29uc3RyYWludHMuT2ZmZXJUb1JlY2VpdmVWaWRlbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBuZXdDb25zdHJhaW50cy5vZmZlclRvUmVjZWl2ZVZpZGVvID0gbmV3Q29uc3RyYWludHMuT2ZmZXJUb1JlY2VpdmVWaWRlb1xuICAgICAgZGVsZXRlIG5ld0NvbnN0cmFpbnRzWydPZmZlclRvUmVjZWl2ZVZpZGVvJ11cbiAgICB9XG5cbiAgICBpZiAobmV3Q29uc3RyYWludHMuT2ZmZXJUb1JlY2VpdmVBdWRpbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBuZXdDb25zdHJhaW50cy5vZmZlclRvUmVjZWl2ZUF1ZGlvID0gbmV3Q29uc3RyYWludHMuT2ZmZXJUb1JlY2VpdmVBdWRpb1xuICAgICAgZGVsZXRlIG5ld0NvbnN0cmFpbnRzWydPZmZlclRvUmVjZWl2ZUF1ZGlvJ11cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3Q29uc3RyYWludHNcbiAgfSBlbHNlIGlmICghY29uc3RyYWludHMubWFuZGF0b3J5ICYmICFjb25zdHJhaW50cy5vcHRpb25hbCAmJiBzZWxmLl9pc0Nocm9taXVtKSB7XG4gICAgLy8gY29udmVydCB0byBvbGQgZm9ybWF0XG5cbiAgICAvLyBmaXggY2FzaW5nXG4gICAgaWYgKGNvbnN0cmFpbnRzLm9mZmVyVG9SZWNlaXZlVmlkZW8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3RyYWludHMuT2ZmZXJUb1JlY2VpdmVWaWRlbyA9IGNvbnN0cmFpbnRzLm9mZmVyVG9SZWNlaXZlVmlkZW9cbiAgICAgIGRlbGV0ZSBjb25zdHJhaW50c1snb2ZmZXJUb1JlY2VpdmVWaWRlbyddXG4gICAgfVxuXG4gICAgaWYgKGNvbnN0cmFpbnRzLm9mZmVyVG9SZWNlaXZlQXVkaW8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3RyYWludHMuT2ZmZXJUb1JlY2VpdmVBdWRpbyA9IGNvbnN0cmFpbnRzLm9mZmVyVG9SZWNlaXZlQXVkaW9cbiAgICAgIGRlbGV0ZSBjb25zdHJhaW50c1snb2ZmZXJUb1JlY2VpdmVBdWRpbyddXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG1hbmRhdG9yeTogY29uc3RyYWludHMgLy8gTk9URTogQWxsIGNvbnN0cmFpbnRzIGFyZSB1cGdyYWRlZCB0byBtYW5kYXRvcnlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uc3RyYWludHNcbn1cblxuLy8gSEFDSzogTWluaW1hbCBzaGltIHRvIGZvcmNlIENocm9tZSBhbmQgV1JUQyB0byB1c2UgdGhlaXIgbW9yZSByZWxpYWJsZSBjYWxsYmFjayBBUElcbmZ1bmN0aW9uIHNoaW1Qcm9taXNlQVBJIChSVENQZWVyQ29ubmVjdGlvbiwgcGMpIHtcbiAgcGMuY3JlYXRlT2ZmZXIgPSBmdW5jdGlvbiAoY29uc3RyYWludHMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyLmNhbGwodGhpcywgcmVzb2x2ZSwgcmVqZWN0LCBjb25zdHJhaW50cylcbiAgICB9KVxuICB9XG4gIHBjLmNyZWF0ZUFuc3dlciA9IGZ1bmN0aW9uIChjb25zdHJhaW50cykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlQW5zd2VyLmNhbGwodGhpcywgcmVzb2x2ZSwgcmVqZWN0LCBjb25zdHJhaW50cylcbiAgICB9KVxuICB9XG4gIHBjLnNldExvY2FsRGVzY3JpcHRpb24gPSBmdW5jdGlvbiAoZGVzY3JpcHRpb24pIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb24uY2FsbCh0aGlzLCBkZXNjcmlwdGlvbiwgcmVzb2x2ZSwgcmVqZWN0KVxuICAgIH0pXG4gIH1cbiAgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24gPSBmdW5jdGlvbiAoZGVzY3JpcHRpb24pIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uLmNhbGwodGhpcywgZGVzY3JpcHRpb24sIHJlc29sdmUsIHJlamVjdClcbiAgICB9KVxuICB9XG59XG5cbi8vIEhBQ0s6IEZpbHRlciB0cmlja2xlIGxpbmVzIHdoZW4gdHJpY2tsZSBpcyBkaXNhYmxlZCAjMzU0XG5mdW5jdGlvbiBmaWx0ZXJUcmlja2xlIChzZHApIHtcbiAgcmV0dXJuIHNkcC5yZXBsYWNlKC9hPWljZS1vcHRpb25zOnRyaWNrbGVcXHNcXG4vZywgJycpXG59XG5cbmZ1bmN0aW9uIG1ha2VFcnJvciAobWVzc2FnZSwgY29kZSkge1xuICB2YXIgZXJyID0gbmV3IEVycm9yKG1lc3NhZ2UpXG4gIGVyci5jb2RlID0gY29kZVxuICByZXR1cm4gZXJyXG59XG5cbmZ1bmN0aW9uIG5vb3AgKCkge31cbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbi8qPHJlcGxhY2VtZW50PiovXG5cbnZhciBwbmEgPSByZXF1aXJlKCdwcm9jZXNzLW5leHRpY2stYXJncycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhZGFibGU7XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIER1cGxleDtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5SZWFkYWJsZS5SZWFkYWJsZVN0YXRlID0gUmVhZGFibGVTdGF0ZTtcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBFRSA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcblxudmFyIEVFbGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uIChlbWl0dGVyLCB0eXBlKSB7XG4gIHJldHVybiBlbWl0dGVyLmxpc3RlbmVycyh0eXBlKS5sZW5ndGg7XG59O1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgU3RyZWFtID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL3N0cmVhbScpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG5cbnZhciBCdWZmZXIgPSByZXF1aXJlKCdzYWZlLWJ1ZmZlcicpLkJ1ZmZlcjtcbnZhciBPdXJVaW50OEFycmF5ID0gZ2xvYmFsLlVpbnQ4QXJyYXkgfHwgZnVuY3Rpb24gKCkge307XG5mdW5jdGlvbiBfdWludDhBcnJheVRvQnVmZmVyKGNodW5rKSB7XG4gIHJldHVybiBCdWZmZXIuZnJvbShjaHVuayk7XG59XG5mdW5jdGlvbiBfaXNVaW50OEFycmF5KG9iaikge1xuICByZXR1cm4gQnVmZmVyLmlzQnVmZmVyKG9iaikgfHwgb2JqIGluc3RhbmNlb2YgT3VyVWludDhBcnJheTtcbn1cblxuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgdXRpbCA9IHJlcXVpcmUoJ2NvcmUtdXRpbC1pcycpO1xudXRpbC5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBkZWJ1Z1V0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG52YXIgZGVidWcgPSB2b2lkIDA7XG5pZiAoZGVidWdVdGlsICYmIGRlYnVnVXRpbC5kZWJ1Z2xvZykge1xuICBkZWJ1ZyA9IGRlYnVnVXRpbC5kZWJ1Z2xvZygnc3RyZWFtJyk7XG59IGVsc2Uge1xuICBkZWJ1ZyA9IGZ1bmN0aW9uICgpIHt9O1xufVxuLyo8L3JlcGxhY2VtZW50PiovXG5cbnZhciBCdWZmZXJMaXN0ID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL0J1ZmZlckxpc3QnKTtcbnZhciBkZXN0cm95SW1wbCA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9kZXN0cm95Jyk7XG52YXIgU3RyaW5nRGVjb2RlcjtcblxudXRpbC5pbmhlcml0cyhSZWFkYWJsZSwgU3RyZWFtKTtcblxudmFyIGtQcm94eUV2ZW50cyA9IFsnZXJyb3InLCAnY2xvc2UnLCAnZGVzdHJveScsICdwYXVzZScsICdyZXN1bWUnXTtcblxuZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbikge1xuICAvLyBTYWRseSB0aGlzIGlzIG5vdCBjYWNoZWFibGUgYXMgc29tZSBsaWJyYXJpZXMgYnVuZGxlIHRoZWlyIG93blxuICAvLyBldmVudCBlbWl0dGVyIGltcGxlbWVudGF0aW9uIHdpdGggdGhlbS5cbiAgaWYgKHR5cGVvZiBlbWl0dGVyLnByZXBlbmRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGVtaXR0ZXIucHJlcGVuZExpc3RlbmVyKGV2ZW50LCBmbik7XG5cbiAgLy8gVGhpcyBpcyBhIGhhY2sgdG8gbWFrZSBzdXJlIHRoYXQgb3VyIGVycm9yIGhhbmRsZXIgaXMgYXR0YWNoZWQgYmVmb3JlIGFueVxuICAvLyB1c2VybGFuZCBvbmVzLiAgTkVWRVIgRE8gVEhJUy4gVGhpcyBpcyBoZXJlIG9ubHkgYmVjYXVzZSB0aGlzIGNvZGUgbmVlZHNcbiAgLy8gdG8gY29udGludWUgdG8gd29yayB3aXRoIG9sZGVyIHZlcnNpb25zIG9mIE5vZGUuanMgdGhhdCBkbyBub3QgaW5jbHVkZVxuICAvLyB0aGUgcHJlcGVuZExpc3RlbmVyKCkgbWV0aG9kLiBUaGUgZ29hbCBpcyB0byBldmVudHVhbGx5IHJlbW92ZSB0aGlzIGhhY2suXG4gIGlmICghZW1pdHRlci5fZXZlbnRzIHx8ICFlbWl0dGVyLl9ldmVudHNbZXZlbnRdKSBlbWl0dGVyLm9uKGV2ZW50LCBmbik7ZWxzZSBpZiAoaXNBcnJheShlbWl0dGVyLl9ldmVudHNbZXZlbnRdKSkgZW1pdHRlci5fZXZlbnRzW2V2ZW50XS51bnNoaWZ0KGZuKTtlbHNlIGVtaXR0ZXIuX2V2ZW50c1tldmVudF0gPSBbZm4sIGVtaXR0ZXIuX2V2ZW50c1tldmVudF1dO1xufVxuXG5mdW5jdGlvbiBSZWFkYWJsZVN0YXRlKG9wdGlvbnMsIHN0cmVhbSkge1xuICBEdXBsZXggPSBEdXBsZXggfHwgcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIC8vIER1cGxleCBzdHJlYW1zIGFyZSBib3RoIHJlYWRhYmxlIGFuZCB3cml0YWJsZSwgYnV0IHNoYXJlXG4gIC8vIHRoZSBzYW1lIG9wdGlvbnMgb2JqZWN0LlxuICAvLyBIb3dldmVyLCBzb21lIGNhc2VzIHJlcXVpcmUgc2V0dGluZyBvcHRpb25zIHRvIGRpZmZlcmVudFxuICAvLyB2YWx1ZXMgZm9yIHRoZSByZWFkYWJsZSBhbmQgdGhlIHdyaXRhYmxlIHNpZGVzIG9mIHRoZSBkdXBsZXggc3RyZWFtLlxuICAvLyBUaGVzZSBvcHRpb25zIGNhbiBiZSBwcm92aWRlZCBzZXBhcmF0ZWx5IGFzIHJlYWRhYmxlWFhYIGFuZCB3cml0YWJsZVhYWC5cbiAgdmFyIGlzRHVwbGV4ID0gc3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4O1xuXG4gIC8vIG9iamVjdCBzdHJlYW0gZmxhZy4gVXNlZCB0byBtYWtlIHJlYWQobikgaWdub3JlIG4gYW5kIHRvXG4gIC8vIG1ha2UgYWxsIHRoZSBidWZmZXIgbWVyZ2luZyBhbmQgbGVuZ3RoIGNoZWNrcyBnbyBhd2F5XG4gIHRoaXMub2JqZWN0TW9kZSA9ICEhb3B0aW9ucy5vYmplY3RNb2RlO1xuXG4gIGlmIChpc0R1cGxleCkgdGhpcy5vYmplY3RNb2RlID0gdGhpcy5vYmplY3RNb2RlIHx8ICEhb3B0aW9ucy5yZWFkYWJsZU9iamVjdE1vZGU7XG5cbiAgLy8gdGhlIHBvaW50IGF0IHdoaWNoIGl0IHN0b3BzIGNhbGxpbmcgX3JlYWQoKSB0byBmaWxsIHRoZSBidWZmZXJcbiAgLy8gTm90ZTogMCBpcyBhIHZhbGlkIHZhbHVlLCBtZWFucyBcImRvbid0IGNhbGwgX3JlYWQgcHJlZW1wdGl2ZWx5IGV2ZXJcIlxuICB2YXIgaHdtID0gb3B0aW9ucy5oaWdoV2F0ZXJNYXJrO1xuICB2YXIgcmVhZGFibGVId20gPSBvcHRpb25zLnJlYWRhYmxlSGlnaFdhdGVyTWFyaztcbiAgdmFyIGRlZmF1bHRId20gPSB0aGlzLm9iamVjdE1vZGUgPyAxNiA6IDE2ICogMTAyNDtcblxuICBpZiAoaHdtIHx8IGh3bSA9PT0gMCkgdGhpcy5oaWdoV2F0ZXJNYXJrID0gaHdtO2Vsc2UgaWYgKGlzRHVwbGV4ICYmIChyZWFkYWJsZUh3bSB8fCByZWFkYWJsZUh3bSA9PT0gMCkpIHRoaXMuaGlnaFdhdGVyTWFyayA9IHJlYWRhYmxlSHdtO2Vsc2UgdGhpcy5oaWdoV2F0ZXJNYXJrID0gZGVmYXVsdEh3bTtcblxuICAvLyBjYXN0IHRvIGludHMuXG4gIHRoaXMuaGlnaFdhdGVyTWFyayA9IE1hdGguZmxvb3IodGhpcy5oaWdoV2F0ZXJNYXJrKTtcblxuICAvLyBBIGxpbmtlZCBsaXN0IGlzIHVzZWQgdG8gc3RvcmUgZGF0YSBjaHVua3MgaW5zdGVhZCBvZiBhbiBhcnJheSBiZWNhdXNlIHRoZVxuICAvLyBsaW5rZWQgbGlzdCBjYW4gcmVtb3ZlIGVsZW1lbnRzIGZyb20gdGhlIGJlZ2lubmluZyBmYXN0ZXIgdGhhblxuICAvLyBhcnJheS5zaGlmdCgpXG4gIHRoaXMuYnVmZmVyID0gbmV3IEJ1ZmZlckxpc3QoKTtcbiAgdGhpcy5sZW5ndGggPSAwO1xuICB0aGlzLnBpcGVzID0gbnVsbDtcbiAgdGhpcy5waXBlc0NvdW50ID0gMDtcbiAgdGhpcy5mbG93aW5nID0gbnVsbDtcbiAgdGhpcy5lbmRlZCA9IGZhbHNlO1xuICB0aGlzLmVuZEVtaXR0ZWQgPSBmYWxzZTtcbiAgdGhpcy5yZWFkaW5nID0gZmFsc2U7XG5cbiAgLy8gYSBmbGFnIHRvIGJlIGFibGUgdG8gdGVsbCBpZiB0aGUgZXZlbnQgJ3JlYWRhYmxlJy8nZGF0YScgaXMgZW1pdHRlZFxuICAvLyBpbW1lZGlhdGVseSwgb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZVxuICAvLyBhbnkgYWN0aW9ucyB0aGF0IHNob3VsZG4ndCBoYXBwZW4gdW50aWwgXCJsYXRlclwiIHNob3VsZCBnZW5lcmFsbHkgYWxzb1xuICAvLyBub3QgaGFwcGVuIGJlZm9yZSB0aGUgZmlyc3QgcmVhZCBjYWxsLlxuICB0aGlzLnN5bmMgPSB0cnVlO1xuXG4gIC8vIHdoZW5ldmVyIHdlIHJldHVybiBudWxsLCB0aGVuIHdlIHNldCBhIGZsYWcgdG8gc2F5XG4gIC8vIHRoYXQgd2UncmUgYXdhaXRpbmcgYSAncmVhZGFibGUnIGV2ZW50IGVtaXNzaW9uLlxuICB0aGlzLm5lZWRSZWFkYWJsZSA9IGZhbHNlO1xuICB0aGlzLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuICB0aGlzLnJlYWRhYmxlTGlzdGVuaW5nID0gZmFsc2U7XG4gIHRoaXMucmVzdW1lU2NoZWR1bGVkID0gZmFsc2U7XG5cbiAgLy8gaGFzIGl0IGJlZW4gZGVzdHJveWVkXG4gIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgLy8gQ3J5cHRvIGlzIGtpbmQgb2Ygb2xkIGFuZCBjcnVzdHkuICBIaXN0b3JpY2FsbHksIGl0cyBkZWZhdWx0IHN0cmluZ1xuICAvLyBlbmNvZGluZyBpcyAnYmluYXJ5JyBzbyB3ZSBoYXZlIHRvIG1ha2UgdGhpcyBjb25maWd1cmFibGUuXG4gIC8vIEV2ZXJ5dGhpbmcgZWxzZSBpbiB0aGUgdW5pdmVyc2UgdXNlcyAndXRmOCcsIHRob3VnaC5cbiAgdGhpcy5kZWZhdWx0RW5jb2RpbmcgPSBvcHRpb25zLmRlZmF1bHRFbmNvZGluZyB8fCAndXRmOCc7XG5cbiAgLy8gdGhlIG51bWJlciBvZiB3cml0ZXJzIHRoYXQgYXJlIGF3YWl0aW5nIGEgZHJhaW4gZXZlbnQgaW4gLnBpcGUoKXNcbiAgdGhpcy5hd2FpdERyYWluID0gMDtcblxuICAvLyBpZiB0cnVlLCBhIG1heWJlUmVhZE1vcmUgaGFzIGJlZW4gc2NoZWR1bGVkXG4gIHRoaXMucmVhZGluZ01vcmUgPSBmYWxzZTtcblxuICB0aGlzLmRlY29kZXIgPSBudWxsO1xuICB0aGlzLmVuY29kaW5nID0gbnVsbDtcbiAgaWYgKG9wdGlvbnMuZW5jb2RpbmcpIHtcbiAgICBpZiAoIVN0cmluZ0RlY29kZXIpIFN0cmluZ0RlY29kZXIgPSByZXF1aXJlKCdzdHJpbmdfZGVjb2Rlci8nKS5TdHJpbmdEZWNvZGVyO1xuICAgIHRoaXMuZGVjb2RlciA9IG5ldyBTdHJpbmdEZWNvZGVyKG9wdGlvbnMuZW5jb2RpbmcpO1xuICAgIHRoaXMuZW5jb2RpbmcgPSBvcHRpb25zLmVuY29kaW5nO1xuICB9XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlKG9wdGlvbnMpIHtcbiAgRHVwbGV4ID0gRHVwbGV4IHx8IHJlcXVpcmUoJy4vX3N0cmVhbV9kdXBsZXgnKTtcblxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVhZGFibGUpKSByZXR1cm4gbmV3IFJlYWRhYmxlKG9wdGlvbnMpO1xuXG4gIHRoaXMuX3JlYWRhYmxlU3RhdGUgPSBuZXcgUmVhZGFibGVTdGF0ZShvcHRpb25zLCB0aGlzKTtcblxuICAvLyBsZWdhY3lcbiAgdGhpcy5yZWFkYWJsZSA9IHRydWU7XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMucmVhZCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fcmVhZCA9IG9wdGlvbnMucmVhZDtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5kZXN0cm95ID09PSAnZnVuY3Rpb24nKSB0aGlzLl9kZXN0cm95ID0gb3B0aW9ucy5kZXN0cm95O1xuICB9XG5cbiAgU3RyZWFtLmNhbGwodGhpcyk7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZS5wcm90b3R5cGUsICdkZXN0cm95ZWQnLCB7XG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIHdlIGlnbm9yZSB0aGUgdmFsdWUgaWYgdGhlIHN0cmVhbVxuICAgIC8vIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCB5ZXRcbiAgICBpZiAoIXRoaXMuX3JlYWRhYmxlU3RhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCB0aGUgdXNlciBpcyBleHBsaWNpdGx5XG4gICAgLy8gbWFuYWdpbmcgZGVzdHJveWVkXG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB2YWx1ZTtcbiAgfVxufSk7XG5cblJlYWRhYmxlLnByb3RvdHlwZS5kZXN0cm95ID0gZGVzdHJveUltcGwuZGVzdHJveTtcblJlYWRhYmxlLnByb3RvdHlwZS5fdW5kZXN0cm95ID0gZGVzdHJveUltcGwudW5kZXN0cm95O1xuUmVhZGFibGUucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgdGhpcy5wdXNoKG51bGwpO1xuICBjYihlcnIpO1xufTtcblxuLy8gTWFudWFsbHkgc2hvdmUgc29tZXRoaW5nIGludG8gdGhlIHJlYWQoKSBidWZmZXIuXG4vLyBUaGlzIHJldHVybnMgdHJ1ZSBpZiB0aGUgaGlnaFdhdGVyTWFyayBoYXMgbm90IGJlZW4gaGl0IHlldCxcbi8vIHNpbWlsYXIgdG8gaG93IFdyaXRhYmxlLndyaXRlKCkgcmV0dXJucyB0cnVlIGlmIHlvdSBzaG91bGRcbi8vIHdyaXRlKCkgc29tZSBtb3JlLlxuUmVhZGFibGUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHZhciBza2lwQ2h1bmtDaGVjaztcblxuICBpZiAoIXN0YXRlLm9iamVjdE1vZGUpIHtcbiAgICBpZiAodHlwZW9mIGNodW5rID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmNvZGluZyB8fCBzdGF0ZS5kZWZhdWx0RW5jb2Rpbmc7XG4gICAgICBpZiAoZW5jb2RpbmcgIT09IHN0YXRlLmVuY29kaW5nKSB7XG4gICAgICAgIGNodW5rID0gQnVmZmVyLmZyb20oY2h1bmssIGVuY29kaW5nKTtcbiAgICAgICAgZW5jb2RpbmcgPSAnJztcbiAgICAgIH1cbiAgICAgIHNraXBDaHVua0NoZWNrID0gdHJ1ZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc2tpcENodW5rQ2hlY2sgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHJlYWRhYmxlQWRkQ2h1bmsodGhpcywgY2h1bmssIGVuY29kaW5nLCBmYWxzZSwgc2tpcENodW5rQ2hlY2spO1xufTtcblxuLy8gVW5zaGlmdCBzaG91bGQgKmFsd2F5cyogYmUgc29tZXRoaW5nIGRpcmVjdGx5IG91dCBvZiByZWFkKClcblJlYWRhYmxlLnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24gKGNodW5rKSB7XG4gIHJldHVybiByZWFkYWJsZUFkZENodW5rKHRoaXMsIGNodW5rLCBudWxsLCB0cnVlLCBmYWxzZSk7XG59O1xuXG5mdW5jdGlvbiByZWFkYWJsZUFkZENodW5rKHN0cmVhbSwgY2h1bmssIGVuY29kaW5nLCBhZGRUb0Zyb250LCBza2lwQ2h1bmtDaGVjaykge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIGlmIChjaHVuayA9PT0gbnVsbCkge1xuICAgIHN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcbiAgICBvbkVvZkNodW5rKHN0cmVhbSwgc3RhdGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciBlcjtcbiAgICBpZiAoIXNraXBDaHVua0NoZWNrKSBlciA9IGNodW5rSW52YWxpZChzdGF0ZSwgY2h1bmspO1xuICAgIGlmIChlcikge1xuICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUub2JqZWN0TW9kZSB8fCBjaHVuayAmJiBjaHVuay5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAodHlwZW9mIGNodW5rICE9PSAnc3RyaW5nJyAmJiAhc3RhdGUub2JqZWN0TW9kZSAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2h1bmspICE9PSBCdWZmZXIucHJvdG90eXBlKSB7XG4gICAgICAgIGNodW5rID0gX3VpbnQ4QXJyYXlUb0J1ZmZlcihjaHVuayk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhZGRUb0Zyb250KSB7XG4gICAgICAgIGlmIChzdGF0ZS5lbmRFbWl0dGVkKSBzdHJlYW0uZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ3N0cmVhbS51bnNoaWZ0KCkgYWZ0ZXIgZW5kIGV2ZW50JykpO2Vsc2UgYWRkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5lbmRlZCkge1xuICAgICAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ3N0cmVhbS5wdXNoKCkgYWZ0ZXIgRU9GJykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGUucmVhZGluZyA9IGZhbHNlO1xuICAgICAgICBpZiAoc3RhdGUuZGVjb2RlciAmJiAhZW5jb2RpbmcpIHtcbiAgICAgICAgICBjaHVuayA9IHN0YXRlLmRlY29kZXIud3JpdGUoY2h1bmspO1xuICAgICAgICAgIGlmIChzdGF0ZS5vYmplY3RNb2RlIHx8IGNodW5rLmxlbmd0aCAhPT0gMCkgYWRkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGZhbHNlKTtlbHNlIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWRkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWFkZFRvRnJvbnQpIHtcbiAgICAgIHN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmVlZE1vcmVEYXRhKHN0YXRlKTtcbn1cblxuZnVuY3Rpb24gYWRkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGFkZFRvRnJvbnQpIHtcbiAgaWYgKHN0YXRlLmZsb3dpbmcgJiYgc3RhdGUubGVuZ3RoID09PSAwICYmICFzdGF0ZS5zeW5jKSB7XG4gICAgc3RyZWFtLmVtaXQoJ2RhdGEnLCBjaHVuayk7XG4gICAgc3RyZWFtLnJlYWQoMCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gdXBkYXRlIHRoZSBidWZmZXIgaW5mby5cbiAgICBzdGF0ZS5sZW5ndGggKz0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG4gICAgaWYgKGFkZFRvRnJvbnQpIHN0YXRlLmJ1ZmZlci51bnNoaWZ0KGNodW5rKTtlbHNlIHN0YXRlLmJ1ZmZlci5wdXNoKGNodW5rKTtcblxuICAgIGlmIChzdGF0ZS5uZWVkUmVhZGFibGUpIGVtaXRSZWFkYWJsZShzdHJlYW0pO1xuICB9XG4gIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSk7XG59XG5cbmZ1bmN0aW9uIGNodW5rSW52YWxpZChzdGF0ZSwgY2h1bmspIHtcbiAgdmFyIGVyO1xuICBpZiAoIV9pc1VpbnQ4QXJyYXkoY2h1bmspICYmIHR5cGVvZiBjaHVuayAhPT0gJ3N0cmluZycgJiYgY2h1bmsgIT09IHVuZGVmaW5lZCAmJiAhc3RhdGUub2JqZWN0TW9kZSkge1xuICAgIGVyID0gbmV3IFR5cGVFcnJvcignSW52YWxpZCBub24tc3RyaW5nL2J1ZmZlciBjaHVuaycpO1xuICB9XG4gIHJldHVybiBlcjtcbn1cblxuLy8gaWYgaXQncyBwYXN0IHRoZSBoaWdoIHdhdGVyIG1hcmssIHdlIGNhbiBwdXNoIGluIHNvbWUgbW9yZS5cbi8vIEFsc28sIGlmIHdlIGhhdmUgbm8gZGF0YSB5ZXQsIHdlIGNhbiBzdGFuZCBzb21lXG4vLyBtb3JlIGJ5dGVzLiAgVGhpcyBpcyB0byB3b3JrIGFyb3VuZCBjYXNlcyB3aGVyZSBod209MCxcbi8vIHN1Y2ggYXMgdGhlIHJlcGwuICBBbHNvLCBpZiB0aGUgcHVzaCgpIHRyaWdnZXJlZCBhXG4vLyByZWFkYWJsZSBldmVudCwgYW5kIHRoZSB1c2VyIGNhbGxlZCByZWFkKGxhcmdlTnVtYmVyKSBzdWNoIHRoYXRcbi8vIG5lZWRSZWFkYWJsZSB3YXMgc2V0LCB0aGVuIHdlIG91Z2h0IHRvIHB1c2ggbW9yZSwgc28gdGhhdCBhbm90aGVyXG4vLyAncmVhZGFibGUnIGV2ZW50IHdpbGwgYmUgdHJpZ2dlcmVkLlxuZnVuY3Rpb24gbmVlZE1vcmVEYXRhKHN0YXRlKSB7XG4gIHJldHVybiAhc3RhdGUuZW5kZWQgJiYgKHN0YXRlLm5lZWRSZWFkYWJsZSB8fCBzdGF0ZS5sZW5ndGggPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrIHx8IHN0YXRlLmxlbmd0aCA9PT0gMCk7XG59XG5cblJlYWRhYmxlLnByb3RvdHlwZS5pc1BhdXNlZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyA9PT0gZmFsc2U7XG59O1xuXG4vLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cblJlYWRhYmxlLnByb3RvdHlwZS5zZXRFbmNvZGluZyA9IGZ1bmN0aW9uIChlbmMpIHtcbiAgaWYgKCFTdHJpbmdEZWNvZGVyKSBTdHJpbmdEZWNvZGVyID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXIvJykuU3RyaW5nRGVjb2RlcjtcbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIoZW5jKTtcbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmNvZGluZyA9IGVuYztcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBEb24ndCByYWlzZSB0aGUgaHdtID4gOE1CXG52YXIgTUFYX0hXTSA9IDB4ODAwMDAwO1xuZnVuY3Rpb24gY29tcHV0ZU5ld0hpZ2hXYXRlck1hcmsobikge1xuICBpZiAobiA+PSBNQVhfSFdNKSB7XG4gICAgbiA9IE1BWF9IV007XG4gIH0gZWxzZSB7XG4gICAgLy8gR2V0IHRoZSBuZXh0IGhpZ2hlc3QgcG93ZXIgb2YgMiB0byBwcmV2ZW50IGluY3JlYXNpbmcgaHdtIGV4Y2Vzc2l2ZWx5IGluXG4gICAgLy8gdGlueSBhbW91bnRzXG4gICAgbi0tO1xuICAgIG4gfD0gbiA+Pj4gMTtcbiAgICBuIHw9IG4gPj4+IDI7XG4gICAgbiB8PSBuID4+PiA0O1xuICAgIG4gfD0gbiA+Pj4gODtcbiAgICBuIHw9IG4gPj4+IDE2O1xuICAgIG4rKztcbiAgfVxuICByZXR1cm4gbjtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5mdW5jdGlvbiBob3dNdWNoVG9SZWFkKG4sIHN0YXRlKSB7XG4gIGlmIChuIDw9IDAgfHwgc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLmVuZGVkKSByZXR1cm4gMDtcbiAgaWYgKHN0YXRlLm9iamVjdE1vZGUpIHJldHVybiAxO1xuICBpZiAobiAhPT0gbikge1xuICAgIC8vIE9ubHkgZmxvdyBvbmUgYnVmZmVyIGF0IGEgdGltZVxuICAgIGlmIChzdGF0ZS5mbG93aW5nICYmIHN0YXRlLmxlbmd0aCkgcmV0dXJuIHN0YXRlLmJ1ZmZlci5oZWFkLmRhdGEubGVuZ3RoO2Vsc2UgcmV0dXJuIHN0YXRlLmxlbmd0aDtcbiAgfVxuICAvLyBJZiB3ZSdyZSBhc2tpbmcgZm9yIG1vcmUgdGhhbiB0aGUgY3VycmVudCBod20sIHRoZW4gcmFpc2UgdGhlIGh3bS5cbiAgaWYgKG4gPiBzdGF0ZS5oaWdoV2F0ZXJNYXJrKSBzdGF0ZS5oaWdoV2F0ZXJNYXJrID0gY29tcHV0ZU5ld0hpZ2hXYXRlck1hcmsobik7XG4gIGlmIChuIDw9IHN0YXRlLmxlbmd0aCkgcmV0dXJuIG47XG4gIC8vIERvbid0IGhhdmUgZW5vdWdoXG4gIGlmICghc3RhdGUuZW5kZWQpIHtcbiAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuICAgIHJldHVybiAwO1xuICB9XG4gIHJldHVybiBzdGF0ZS5sZW5ndGg7XG59XG5cbi8vIHlvdSBjYW4gb3ZlcnJpZGUgZWl0aGVyIHRoaXMgbWV0aG9kLCBvciB0aGUgYXN5bmMgX3JlYWQobikgYmVsb3cuXG5SZWFkYWJsZS5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIGRlYnVnKCdyZWFkJywgbik7XG4gIG4gPSBwYXJzZUludChuLCAxMCk7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHZhciBuT3JpZyA9IG47XG5cbiAgaWYgKG4gIT09IDApIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuXG4gIC8vIGlmIHdlJ3JlIGRvaW5nIHJlYWQoMCkgdG8gdHJpZ2dlciBhIHJlYWRhYmxlIGV2ZW50LCBidXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGEgYnVuY2ggb2YgZGF0YSBpbiB0aGUgYnVmZmVyLCB0aGVuIGp1c3QgdHJpZ2dlclxuICAvLyB0aGUgJ3JlYWRhYmxlJyBldmVudCBhbmQgbW92ZSBvbi5cbiAgaWYgKG4gPT09IDAgJiYgc3RhdGUubmVlZFJlYWRhYmxlICYmIChzdGF0ZS5sZW5ndGggPj0gc3RhdGUuaGlnaFdhdGVyTWFyayB8fCBzdGF0ZS5lbmRlZCkpIHtcbiAgICBkZWJ1ZygncmVhZDogZW1pdFJlYWRhYmxlJywgc3RhdGUubGVuZ3RoLCBzdGF0ZS5lbmRlZCk7XG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5lbmRlZCkgZW5kUmVhZGFibGUodGhpcyk7ZWxzZSBlbWl0UmVhZGFibGUodGhpcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBuID0gaG93TXVjaFRvUmVhZChuLCBzdGF0ZSk7XG5cbiAgLy8gaWYgd2UndmUgZW5kZWQsIGFuZCB3ZSdyZSBub3cgY2xlYXIsIHRoZW4gZmluaXNoIGl0IHVwLlxuICBpZiAobiA9PT0gMCAmJiBzdGF0ZS5lbmRlZCkge1xuICAgIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIGVuZFJlYWRhYmxlKHRoaXMpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gQWxsIHRoZSBhY3R1YWwgY2h1bmsgZ2VuZXJhdGlvbiBsb2dpYyBuZWVkcyB0byBiZVxuICAvLyAqYmVsb3cqIHRoZSBjYWxsIHRvIF9yZWFkLiAgVGhlIHJlYXNvbiBpcyB0aGF0IGluIGNlcnRhaW5cbiAgLy8gc3ludGhldGljIHN0cmVhbSBjYXNlcywgc3VjaCBhcyBwYXNzdGhyb3VnaCBzdHJlYW1zLCBfcmVhZFxuICAvLyBtYXkgYmUgYSBjb21wbGV0ZWx5IHN5bmNocm9ub3VzIG9wZXJhdGlvbiB3aGljaCBtYXkgY2hhbmdlXG4gIC8vIHRoZSBzdGF0ZSBvZiB0aGUgcmVhZCBidWZmZXIsIHByb3ZpZGluZyBlbm91Z2ggZGF0YSB3aGVuXG4gIC8vIGJlZm9yZSB0aGVyZSB3YXMgKm5vdCogZW5vdWdoLlxuICAvL1xuICAvLyBTbywgdGhlIHN0ZXBzIGFyZTpcbiAgLy8gMS4gRmlndXJlIG91dCB3aGF0IHRoZSBzdGF0ZSBvZiB0aGluZ3Mgd2lsbCBiZSBhZnRlciB3ZSBkb1xuICAvLyBhIHJlYWQgZnJvbSB0aGUgYnVmZmVyLlxuICAvL1xuICAvLyAyLiBJZiB0aGF0IHJlc3VsdGluZyBzdGF0ZSB3aWxsIHRyaWdnZXIgYSBfcmVhZCwgdGhlbiBjYWxsIF9yZWFkLlxuICAvLyBOb3RlIHRoYXQgdGhpcyBtYXkgYmUgYXN5bmNocm9ub3VzLCBvciBzeW5jaHJvbm91cy4gIFllcywgaXQgaXNcbiAgLy8gZGVlcGx5IHVnbHkgdG8gd3JpdGUgQVBJcyB0aGlzIHdheSwgYnV0IHRoYXQgc3RpbGwgZG9lc24ndCBtZWFuXG4gIC8vIHRoYXQgdGhlIFJlYWRhYmxlIGNsYXNzIHNob3VsZCBiZWhhdmUgaW1wcm9wZXJseSwgYXMgc3RyZWFtcyBhcmVcbiAgLy8gZGVzaWduZWQgdG8gYmUgc3luYy9hc3luYyBhZ25vc3RpYy5cbiAgLy8gVGFrZSBub3RlIGlmIHRoZSBfcmVhZCBjYWxsIGlzIHN5bmMgb3IgYXN5bmMgKGllLCBpZiB0aGUgcmVhZCBjYWxsXG4gIC8vIGhhcyByZXR1cm5lZCB5ZXQpLCBzbyB0aGF0IHdlIGtub3cgd2hldGhlciBvciBub3QgaXQncyBzYWZlIHRvIGVtaXRcbiAgLy8gJ3JlYWRhYmxlJyBldGMuXG4gIC8vXG4gIC8vIDMuIEFjdHVhbGx5IHB1bGwgdGhlIHJlcXVlc3RlZCBjaHVua3Mgb3V0IG9mIHRoZSBidWZmZXIgYW5kIHJldHVybi5cblxuICAvLyBpZiB3ZSBuZWVkIGEgcmVhZGFibGUgZXZlbnQsIHRoZW4gd2UgbmVlZCB0byBkbyBzb21lIHJlYWRpbmcuXG4gIHZhciBkb1JlYWQgPSBzdGF0ZS5uZWVkUmVhZGFibGU7XG4gIGRlYnVnKCduZWVkIHJlYWRhYmxlJywgZG9SZWFkKTtcblxuICAvLyBpZiB3ZSBjdXJyZW50bHkgaGF2ZSBsZXNzIHRoYW4gdGhlIGhpZ2hXYXRlck1hcmssIHRoZW4gYWxzbyByZWFkIHNvbWVcbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCB8fCBzdGF0ZS5sZW5ndGggLSBuIDwgc3RhdGUuaGlnaFdhdGVyTWFyaykge1xuICAgIGRvUmVhZCA9IHRydWU7XG4gICAgZGVidWcoJ2xlbmd0aCBsZXNzIHRoYW4gd2F0ZXJtYXJrJywgZG9SZWFkKTtcbiAgfVxuXG4gIC8vIGhvd2V2ZXIsIGlmIHdlJ3ZlIGVuZGVkLCB0aGVuIHRoZXJlJ3Mgbm8gcG9pbnQsIGFuZCBpZiB3ZSdyZSBhbHJlYWR5XG4gIC8vIHJlYWRpbmcsIHRoZW4gaXQncyB1bm5lY2Vzc2FyeS5cbiAgaWYgKHN0YXRlLmVuZGVkIHx8IHN0YXRlLnJlYWRpbmcpIHtcbiAgICBkb1JlYWQgPSBmYWxzZTtcbiAgICBkZWJ1ZygncmVhZGluZyBvciBlbmRlZCcsIGRvUmVhZCk7XG4gIH0gZWxzZSBpZiAoZG9SZWFkKSB7XG4gICAgZGVidWcoJ2RvIHJlYWQnKTtcbiAgICBzdGF0ZS5yZWFkaW5nID0gdHJ1ZTtcbiAgICBzdGF0ZS5zeW5jID0gdHJ1ZTtcbiAgICAvLyBpZiB0aGUgbGVuZ3RoIGlzIGN1cnJlbnRseSB6ZXJvLCB0aGVuIHdlICpuZWVkKiBhIHJlYWRhYmxlIGV2ZW50LlxuICAgIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgLy8gY2FsbCBpbnRlcm5hbCByZWFkIG1ldGhvZFxuICAgIHRoaXMuX3JlYWQoc3RhdGUuaGlnaFdhdGVyTWFyayk7XG4gICAgc3RhdGUuc3luYyA9IGZhbHNlO1xuICAgIC8vIElmIF9yZWFkIHB1c2hlZCBkYXRhIHN5bmNocm9ub3VzbHksIHRoZW4gYHJlYWRpbmdgIHdpbGwgYmUgZmFsc2UsXG4gICAgLy8gYW5kIHdlIG5lZWQgdG8gcmUtZXZhbHVhdGUgaG93IG11Y2ggZGF0YSB3ZSBjYW4gcmV0dXJuIHRvIHRoZSB1c2VyLlxuICAgIGlmICghc3RhdGUucmVhZGluZykgbiA9IGhvd011Y2hUb1JlYWQobk9yaWcsIHN0YXRlKTtcbiAgfVxuXG4gIHZhciByZXQ7XG4gIGlmIChuID4gMCkgcmV0ID0gZnJvbUxpc3Qobiwgc3RhdGUpO2Vsc2UgcmV0ID0gbnVsbDtcblxuICBpZiAocmV0ID09PSBudWxsKSB7XG4gICAgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICBuID0gMDtcbiAgfSBlbHNlIHtcbiAgICBzdGF0ZS5sZW5ndGggLT0gbjtcbiAgfVxuXG4gIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIHtcbiAgICAvLyBJZiB3ZSBoYXZlIG5vdGhpbmcgaW4gdGhlIGJ1ZmZlciwgdGhlbiB3ZSB3YW50IHRvIGtub3dcbiAgICAvLyBhcyBzb29uIGFzIHdlICpkbyogZ2V0IHNvbWV0aGluZyBpbnRvIHRoZSBidWZmZXIuXG4gICAgaWYgKCFzdGF0ZS5lbmRlZCkgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcblxuICAgIC8vIElmIHdlIHRyaWVkIHRvIHJlYWQoKSBwYXN0IHRoZSBFT0YsIHRoZW4gZW1pdCBlbmQgb24gdGhlIG5leHQgdGljay5cbiAgICBpZiAobk9yaWcgIT09IG4gJiYgc3RhdGUuZW5kZWQpIGVuZFJlYWRhYmxlKHRoaXMpO1xuICB9XG5cbiAgaWYgKHJldCAhPT0gbnVsbCkgdGhpcy5lbWl0KCdkYXRhJywgcmV0KTtcblxuICByZXR1cm4gcmV0O1xufTtcblxuZnVuY3Rpb24gb25Fb2ZDaHVuayhzdHJlYW0sIHN0YXRlKSB7XG4gIGlmIChzdGF0ZS5lbmRlZCkgcmV0dXJuO1xuICBpZiAoc3RhdGUuZGVjb2Rlcikge1xuICAgIHZhciBjaHVuayA9IHN0YXRlLmRlY29kZXIuZW5kKCk7XG4gICAgaWYgKGNodW5rICYmIGNodW5rLmxlbmd0aCkge1xuICAgICAgc3RhdGUuYnVmZmVyLnB1c2goY2h1bmspO1xuICAgICAgc3RhdGUubGVuZ3RoICs9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoO1xuICAgIH1cbiAgfVxuICBzdGF0ZS5lbmRlZCA9IHRydWU7XG5cbiAgLy8gZW1pdCAncmVhZGFibGUnIG5vdyB0byBtYWtlIHN1cmUgaXQgZ2V0cyBwaWNrZWQgdXAuXG4gIGVtaXRSZWFkYWJsZShzdHJlYW0pO1xufVxuXG4vLyBEb24ndCBlbWl0IHJlYWRhYmxlIHJpZ2h0IGF3YXkgaW4gc3luYyBtb2RlLCBiZWNhdXNlIHRoaXMgY2FuIHRyaWdnZXJcbi8vIGFub3RoZXIgcmVhZCgpIGNhbGwgPT4gc3RhY2sgb3ZlcmZsb3cuICBUaGlzIHdheSwgaXQgbWlnaHQgdHJpZ2dlclxuLy8gYSBuZXh0VGljayByZWN1cnNpb24gd2FybmluZywgYnV0IHRoYXQncyBub3Qgc28gYmFkLlxuZnVuY3Rpb24gZW1pdFJlYWRhYmxlKHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIHN0YXRlLm5lZWRSZWFkYWJsZSA9IGZhbHNlO1xuICBpZiAoIXN0YXRlLmVtaXR0ZWRSZWFkYWJsZSkge1xuICAgIGRlYnVnKCdlbWl0UmVhZGFibGUnLCBzdGF0ZS5mbG93aW5nKTtcbiAgICBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSB0cnVlO1xuICAgIGlmIChzdGF0ZS5zeW5jKSBwbmEubmV4dFRpY2soZW1pdFJlYWRhYmxlXywgc3RyZWFtKTtlbHNlIGVtaXRSZWFkYWJsZV8oc3RyZWFtKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbWl0UmVhZGFibGVfKHN0cmVhbSkge1xuICBkZWJ1ZygnZW1pdCByZWFkYWJsZScpO1xuICBzdHJlYW0uZW1pdCgncmVhZGFibGUnKTtcbiAgZmxvdyhzdHJlYW0pO1xufVxuXG4vLyBhdCB0aGlzIHBvaW50LCB0aGUgdXNlciBoYXMgcHJlc3VtYWJseSBzZWVuIHRoZSAncmVhZGFibGUnIGV2ZW50LFxuLy8gYW5kIGNhbGxlZCByZWFkKCkgdG8gY29uc3VtZSBzb21lIGRhdGEuICB0aGF0IG1heSBoYXZlIHRyaWdnZXJlZFxuLy8gaW4gdHVybiBhbm90aGVyIF9yZWFkKG4pIGNhbGwsIGluIHdoaWNoIGNhc2UgcmVhZGluZyA9IHRydWUgaWZcbi8vIGl0J3MgaW4gcHJvZ3Jlc3MuXG4vLyBIb3dldmVyLCBpZiB3ZSdyZSBub3QgZW5kZWQsIG9yIHJlYWRpbmcsIGFuZCB0aGUgbGVuZ3RoIDwgaHdtLFxuLy8gdGhlbiBnbyBhaGVhZCBhbmQgdHJ5IHRvIHJlYWQgc29tZSBtb3JlIHByZWVtcHRpdmVseS5cbmZ1bmN0aW9uIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoIXN0YXRlLnJlYWRpbmdNb3JlKSB7XG4gICAgc3RhdGUucmVhZGluZ01vcmUgPSB0cnVlO1xuICAgIHBuYS5uZXh0VGljayhtYXliZVJlYWRNb3JlXywgc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWF5YmVSZWFkTW9yZV8oc3RyZWFtLCBzdGF0ZSkge1xuICB2YXIgbGVuID0gc3RhdGUubGVuZ3RoO1xuICB3aGlsZSAoIXN0YXRlLnJlYWRpbmcgJiYgIXN0YXRlLmZsb3dpbmcgJiYgIXN0YXRlLmVuZGVkICYmIHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcmspIHtcbiAgICBkZWJ1ZygnbWF5YmVSZWFkTW9yZSByZWFkIDAnKTtcbiAgICBzdHJlYW0ucmVhZCgwKTtcbiAgICBpZiAobGVuID09PSBzdGF0ZS5sZW5ndGgpXG4gICAgICAvLyBkaWRuJ3QgZ2V0IGFueSBkYXRhLCBzdG9wIHNwaW5uaW5nLlxuICAgICAgYnJlYWs7ZWxzZSBsZW4gPSBzdGF0ZS5sZW5ndGg7XG4gIH1cbiAgc3RhdGUucmVhZGluZ01vcmUgPSBmYWxzZTtcbn1cblxuLy8gYWJzdHJhY3QgbWV0aG9kLiAgdG8gYmUgb3ZlcnJpZGRlbiBpbiBzcGVjaWZpYyBpbXBsZW1lbnRhdGlvbiBjbGFzc2VzLlxuLy8gY2FsbCBjYihlciwgZGF0YSkgd2hlcmUgZGF0YSBpcyA8PSBuIGluIGxlbmd0aC5cbi8vIGZvciB2aXJ0dWFsIChub24tc3RyaW5nLCBub24tYnVmZmVyKSBzdHJlYW1zLCBcImxlbmd0aFwiIGlzIHNvbWV3aGF0XG4vLyBhcmJpdHJhcnksIGFuZCBwZXJoYXBzIG5vdCB2ZXJ5IG1lYW5pbmdmdWwuXG5SZWFkYWJsZS5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiAobikge1xuICB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdfcmVhZCgpIGlzIG5vdCBpbXBsZW1lbnRlZCcpKTtcbn07XG5cblJlYWRhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKGRlc3QsIHBpcGVPcHRzKSB7XG4gIHZhciBzcmMgPSB0aGlzO1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuXG4gIHN3aXRjaCAoc3RhdGUucGlwZXNDb3VudCkge1xuICAgIGNhc2UgMDpcbiAgICAgIHN0YXRlLnBpcGVzID0gZGVzdDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMTpcbiAgICAgIHN0YXRlLnBpcGVzID0gW3N0YXRlLnBpcGVzLCBkZXN0XTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBzdGF0ZS5waXBlcy5wdXNoKGRlc3QpO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgc3RhdGUucGlwZXNDb3VudCArPSAxO1xuICBkZWJ1ZygncGlwZSBjb3VudD0lZCBvcHRzPSVqJywgc3RhdGUucGlwZXNDb3VudCwgcGlwZU9wdHMpO1xuXG4gIHZhciBkb0VuZCA9ICghcGlwZU9wdHMgfHwgcGlwZU9wdHMuZW5kICE9PSBmYWxzZSkgJiYgZGVzdCAhPT0gcHJvY2Vzcy5zdGRvdXQgJiYgZGVzdCAhPT0gcHJvY2Vzcy5zdGRlcnI7XG5cbiAgdmFyIGVuZEZuID0gZG9FbmQgPyBvbmVuZCA6IHVucGlwZTtcbiAgaWYgKHN0YXRlLmVuZEVtaXR0ZWQpIHBuYS5uZXh0VGljayhlbmRGbik7ZWxzZSBzcmMub25jZSgnZW5kJywgZW5kRm4pO1xuXG4gIGRlc3Qub24oJ3VucGlwZScsIG9udW5waXBlKTtcbiAgZnVuY3Rpb24gb251bnBpcGUocmVhZGFibGUsIHVucGlwZUluZm8pIHtcbiAgICBkZWJ1Zygnb251bnBpcGUnKTtcbiAgICBpZiAocmVhZGFibGUgPT09IHNyYykge1xuICAgICAgaWYgKHVucGlwZUluZm8gJiYgdW5waXBlSW5mby5oYXNVbnBpcGVkID09PSBmYWxzZSkge1xuICAgICAgICB1bnBpcGVJbmZvLmhhc1VucGlwZWQgPSB0cnVlO1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25lbmQoKSB7XG4gICAgZGVidWcoJ29uZW5kJyk7XG4gICAgZGVzdC5lbmQoKTtcbiAgfVxuXG4gIC8vIHdoZW4gdGhlIGRlc3QgZHJhaW5zLCBpdCByZWR1Y2VzIHRoZSBhd2FpdERyYWluIGNvdW50ZXJcbiAgLy8gb24gdGhlIHNvdXJjZS4gIFRoaXMgd291bGQgYmUgbW9yZSBlbGVnYW50IHdpdGggYSAub25jZSgpXG4gIC8vIGhhbmRsZXIgaW4gZmxvdygpLCBidXQgYWRkaW5nIGFuZCByZW1vdmluZyByZXBlYXRlZGx5IGlzXG4gIC8vIHRvbyBzbG93LlxuICB2YXIgb25kcmFpbiA9IHBpcGVPbkRyYWluKHNyYyk7XG4gIGRlc3Qub24oJ2RyYWluJywgb25kcmFpbik7XG5cbiAgdmFyIGNsZWFuZWRVcCA9IGZhbHNlO1xuICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgIGRlYnVnKCdjbGVhbnVwJyk7XG4gICAgLy8gY2xlYW51cCBldmVudCBoYW5kbGVycyBvbmNlIHRoZSBwaXBlIGlzIGJyb2tlblxuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgb25jbG9zZSk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZmluaXNoJywgb25maW5pc2gpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2RyYWluJywgb25kcmFpbik7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCd1bnBpcGUnLCBvbnVucGlwZSk7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBvbmVuZCk7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCB1bnBpcGUpO1xuICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZGF0YScsIG9uZGF0YSk7XG5cbiAgICBjbGVhbmVkVXAgPSB0cnVlO1xuXG4gICAgLy8gaWYgdGhlIHJlYWRlciBpcyB3YWl0aW5nIGZvciBhIGRyYWluIGV2ZW50IGZyb20gdGhpc1xuICAgIC8vIHNwZWNpZmljIHdyaXRlciwgdGhlbiBpdCB3b3VsZCBjYXVzZSBpdCB0byBuZXZlciBzdGFydFxuICAgIC8vIGZsb3dpbmcgYWdhaW4uXG4gICAgLy8gU28sIGlmIHRoaXMgaXMgYXdhaXRpbmcgYSBkcmFpbiwgdGhlbiB3ZSBqdXN0IGNhbGwgaXQgbm93LlxuICAgIC8vIElmIHdlIGRvbid0IGtub3csIHRoZW4gYXNzdW1lIHRoYXQgd2UgYXJlIHdhaXRpbmcgZm9yIG9uZS5cbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbiAmJiAoIWRlc3QuX3dyaXRhYmxlU3RhdGUgfHwgZGVzdC5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW4pKSBvbmRyYWluKCk7XG4gIH1cblxuICAvLyBJZiB0aGUgdXNlciBwdXNoZXMgbW9yZSBkYXRhIHdoaWxlIHdlJ3JlIHdyaXRpbmcgdG8gZGVzdCB0aGVuIHdlJ2xsIGVuZCB1cFxuICAvLyBpbiBvbmRhdGEgYWdhaW4uIEhvd2V2ZXIsIHdlIG9ubHkgd2FudCB0byBpbmNyZWFzZSBhd2FpdERyYWluIG9uY2UgYmVjYXVzZVxuICAvLyBkZXN0IHdpbGwgb25seSBlbWl0IG9uZSAnZHJhaW4nIGV2ZW50IGZvciB0aGUgbXVsdGlwbGUgd3JpdGVzLlxuICAvLyA9PiBJbnRyb2R1Y2UgYSBndWFyZCBvbiBpbmNyZWFzaW5nIGF3YWl0RHJhaW4uXG4gIHZhciBpbmNyZWFzZWRBd2FpdERyYWluID0gZmFsc2U7XG4gIHNyYy5vbignZGF0YScsIG9uZGF0YSk7XG4gIGZ1bmN0aW9uIG9uZGF0YShjaHVuaykge1xuICAgIGRlYnVnKCdvbmRhdGEnKTtcbiAgICBpbmNyZWFzZWRBd2FpdERyYWluID0gZmFsc2U7XG4gICAgdmFyIHJldCA9IGRlc3Qud3JpdGUoY2h1bmspO1xuICAgIGlmIChmYWxzZSA9PT0gcmV0ICYmICFpbmNyZWFzZWRBd2FpdERyYWluKSB7XG4gICAgICAvLyBJZiB0aGUgdXNlciB1bnBpcGVkIGR1cmluZyBgZGVzdC53cml0ZSgpYCwgaXQgaXMgcG9zc2libGVcbiAgICAgIC8vIHRvIGdldCBzdHVjayBpbiBhIHBlcm1hbmVudGx5IHBhdXNlZCBzdGF0ZSBpZiB0aGF0IHdyaXRlXG4gICAgICAvLyBhbHNvIHJldHVybmVkIGZhbHNlLlxuICAgICAgLy8gPT4gQ2hlY2sgd2hldGhlciBgZGVzdGAgaXMgc3RpbGwgYSBwaXBpbmcgZGVzdGluYXRpb24uXG4gICAgICBpZiAoKHN0YXRlLnBpcGVzQ291bnQgPT09IDEgJiYgc3RhdGUucGlwZXMgPT09IGRlc3QgfHwgc3RhdGUucGlwZXNDb3VudCA+IDEgJiYgaW5kZXhPZihzdGF0ZS5waXBlcywgZGVzdCkgIT09IC0xKSAmJiAhY2xlYW5lZFVwKSB7XG4gICAgICAgIGRlYnVnKCdmYWxzZSB3cml0ZSByZXNwb25zZSwgcGF1c2UnLCBzcmMuX3JlYWRhYmxlU3RhdGUuYXdhaXREcmFpbik7XG4gICAgICAgIHNyYy5fcmVhZGFibGVTdGF0ZS5hd2FpdERyYWluKys7XG4gICAgICAgIGluY3JlYXNlZEF3YWl0RHJhaW4gPSB0cnVlO1xuICAgICAgfVxuICAgICAgc3JjLnBhdXNlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIGRlc3QgaGFzIGFuIGVycm9yLCB0aGVuIHN0b3AgcGlwaW5nIGludG8gaXQuXG4gIC8vIGhvd2V2ZXIsIGRvbid0IHN1cHByZXNzIHRoZSB0aHJvd2luZyBiZWhhdmlvciBmb3IgdGhpcy5cbiAgZnVuY3Rpb24gb25lcnJvcihlcikge1xuICAgIGRlYnVnKCdvbmVycm9yJywgZXIpO1xuICAgIHVucGlwZSgpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG4gICAgaWYgKEVFbGlzdGVuZXJDb3VudChkZXN0LCAnZXJyb3InKSA9PT0gMCkgZGVzdC5lbWl0KCdlcnJvcicsIGVyKTtcbiAgfVxuXG4gIC8vIE1ha2Ugc3VyZSBvdXIgZXJyb3IgaGFuZGxlciBpcyBhdHRhY2hlZCBiZWZvcmUgdXNlcmxhbmQgb25lcy5cbiAgcHJlcGVuZExpc3RlbmVyKGRlc3QsICdlcnJvcicsIG9uZXJyb3IpO1xuXG4gIC8vIEJvdGggY2xvc2UgYW5kIGZpbmlzaCBzaG91bGQgdHJpZ2dlciB1bnBpcGUsIGJ1dCBvbmx5IG9uY2UuXG4gIGZ1bmN0aW9uIG9uY2xvc2UoKSB7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZmluaXNoJywgb25maW5pc2gpO1xuICAgIHVucGlwZSgpO1xuICB9XG4gIGRlc3Qub25jZSgnY2xvc2UnLCBvbmNsb3NlKTtcbiAgZnVuY3Rpb24gb25maW5pc2goKSB7XG4gICAgZGVidWcoJ29uZmluaXNoJyk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTtcbiAgICB1bnBpcGUoKTtcbiAgfVxuICBkZXN0Lm9uY2UoJ2ZpbmlzaCcsIG9uZmluaXNoKTtcblxuICBmdW5jdGlvbiB1bnBpcGUoKSB7XG4gICAgZGVidWcoJ3VucGlwZScpO1xuICAgIHNyYy51bnBpcGUoZGVzdCk7XG4gIH1cblxuICAvLyB0ZWxsIHRoZSBkZXN0IHRoYXQgaXQncyBiZWluZyBwaXBlZCB0b1xuICBkZXN0LmVtaXQoJ3BpcGUnLCBzcmMpO1xuXG4gIC8vIHN0YXJ0IHRoZSBmbG93IGlmIGl0IGhhc24ndCBiZWVuIHN0YXJ0ZWQgYWxyZWFkeS5cbiAgaWYgKCFzdGF0ZS5mbG93aW5nKSB7XG4gICAgZGVidWcoJ3BpcGUgcmVzdW1lJyk7XG4gICAgc3JjLnJlc3VtZSgpO1xuICB9XG5cbiAgcmV0dXJuIGRlc3Q7XG59O1xuXG5mdW5jdGlvbiBwaXBlT25EcmFpbihzcmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RhdGUgPSBzcmMuX3JlYWRhYmxlU3RhdGU7XG4gICAgZGVidWcoJ3BpcGVPbkRyYWluJywgc3RhdGUuYXdhaXREcmFpbik7XG4gICAgaWYgKHN0YXRlLmF3YWl0RHJhaW4pIHN0YXRlLmF3YWl0RHJhaW4tLTtcbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbiA9PT0gMCAmJiBFRWxpc3RlbmVyQ291bnQoc3JjLCAnZGF0YScpKSB7XG4gICAgICBzdGF0ZS5mbG93aW5nID0gdHJ1ZTtcbiAgICAgIGZsb3coc3JjKTtcbiAgICB9XG4gIH07XG59XG5cblJlYWRhYmxlLnByb3RvdHlwZS51bnBpcGUgPSBmdW5jdGlvbiAoZGVzdCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgdW5waXBlSW5mbyA9IHsgaGFzVW5waXBlZDogZmFsc2UgfTtcblxuICAvLyBpZiB3ZSdyZSBub3QgcGlwaW5nIGFueXdoZXJlLCB0aGVuIGRvIG5vdGhpbmcuXG4gIGlmIChzdGF0ZS5waXBlc0NvdW50ID09PSAwKSByZXR1cm4gdGhpcztcblxuICAvLyBqdXN0IG9uZSBkZXN0aW5hdGlvbi4gIG1vc3QgY29tbW9uIGNhc2UuXG4gIGlmIChzdGF0ZS5waXBlc0NvdW50ID09PSAxKSB7XG4gICAgLy8gcGFzc2VkIGluIG9uZSwgYnV0IGl0J3Mgbm90IHRoZSByaWdodCBvbmUuXG4gICAgaWYgKGRlc3QgJiYgZGVzdCAhPT0gc3RhdGUucGlwZXMpIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKCFkZXN0KSBkZXN0ID0gc3RhdGUucGlwZXM7XG5cbiAgICAvLyBnb3QgYSBtYXRjaC5cbiAgICBzdGF0ZS5waXBlcyA9IG51bGw7XG4gICAgc3RhdGUucGlwZXNDb3VudCA9IDA7XG4gICAgc3RhdGUuZmxvd2luZyA9IGZhbHNlO1xuICAgIGlmIChkZXN0KSBkZXN0LmVtaXQoJ3VucGlwZScsIHRoaXMsIHVucGlwZUluZm8pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gc2xvdyBjYXNlLiBtdWx0aXBsZSBwaXBlIGRlc3RpbmF0aW9ucy5cblxuICBpZiAoIWRlc3QpIHtcbiAgICAvLyByZW1vdmUgYWxsLlxuICAgIHZhciBkZXN0cyA9IHN0YXRlLnBpcGVzO1xuICAgIHZhciBsZW4gPSBzdGF0ZS5waXBlc0NvdW50O1xuICAgIHN0YXRlLnBpcGVzID0gbnVsbDtcbiAgICBzdGF0ZS5waXBlc0NvdW50ID0gMDtcbiAgICBzdGF0ZS5mbG93aW5nID0gZmFsc2U7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBkZXN0c1tpXS5lbWl0KCd1bnBpcGUnLCB0aGlzLCB1bnBpcGVJbmZvKTtcbiAgICB9cmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyB0cnkgdG8gZmluZCB0aGUgcmlnaHQgb25lLlxuICB2YXIgaW5kZXggPSBpbmRleE9mKHN0YXRlLnBpcGVzLCBkZXN0KTtcbiAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIHRoaXM7XG5cbiAgc3RhdGUucGlwZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgc3RhdGUucGlwZXNDb3VudCAtPSAxO1xuICBpZiAoc3RhdGUucGlwZXNDb3VudCA9PT0gMSkgc3RhdGUucGlwZXMgPSBzdGF0ZS5waXBlc1swXTtcblxuICBkZXN0LmVtaXQoJ3VucGlwZScsIHRoaXMsIHVucGlwZUluZm8pO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gc2V0IHVwIGRhdGEgZXZlbnRzIGlmIHRoZXkgYXJlIGFza2VkIGZvclxuLy8gRW5zdXJlIHJlYWRhYmxlIGxpc3RlbmVycyBldmVudHVhbGx5IGdldCBzb21ldGhpbmdcblJlYWRhYmxlLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldiwgZm4pIHtcbiAgdmFyIHJlcyA9IFN0cmVhbS5wcm90b3R5cGUub24uY2FsbCh0aGlzLCBldiwgZm4pO1xuXG4gIGlmIChldiA9PT0gJ2RhdGEnKSB7XG4gICAgLy8gU3RhcnQgZmxvd2luZyBvbiBuZXh0IHRpY2sgaWYgc3RyZWFtIGlzbid0IGV4cGxpY2l0bHkgcGF1c2VkXG4gICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyAhPT0gZmFsc2UpIHRoaXMucmVzdW1lKCk7XG4gIH0gZWxzZSBpZiAoZXYgPT09ICdyZWFkYWJsZScpIHtcbiAgICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICAgIGlmICghc3RhdGUuZW5kRW1pdHRlZCAmJiAhc3RhdGUucmVhZGFibGVMaXN0ZW5pbmcpIHtcbiAgICAgIHN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nID0gc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuICAgICAgaWYgKCFzdGF0ZS5yZWFkaW5nKSB7XG4gICAgICAgIHBuYS5uZXh0VGljayhuUmVhZGluZ05leHRUaWNrLCB0aGlzKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUubGVuZ3RoKSB7XG4gICAgICAgIGVtaXRSZWFkYWJsZSh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzO1xufTtcblJlYWRhYmxlLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IFJlYWRhYmxlLnByb3RvdHlwZS5vbjtcblxuZnVuY3Rpb24gblJlYWRpbmdOZXh0VGljayhzZWxmKSB7XG4gIGRlYnVnKCdyZWFkYWJsZSBuZXh0dGljayByZWFkIDAnKTtcbiAgc2VsZi5yZWFkKDApO1xufVxuXG4vLyBwYXVzZSgpIGFuZCByZXN1bWUoKSBhcmUgcmVtbmFudHMgb2YgdGhlIGxlZ2FjeSByZWFkYWJsZSBzdHJlYW0gQVBJXG4vLyBJZiB0aGUgdXNlciB1c2VzIHRoZW0sIHRoZW4gc3dpdGNoIGludG8gb2xkIG1vZGUuXG5SZWFkYWJsZS5wcm90b3R5cGUucmVzdW1lID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICBpZiAoIXN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncmVzdW1lJyk7XG4gICAgc3RhdGUuZmxvd2luZyA9IHRydWU7XG4gICAgcmVzdW1lKHRoaXMsIHN0YXRlKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIHJlc3VtZShzdHJlYW0sIHN0YXRlKSB7XG4gIGlmICghc3RhdGUucmVzdW1lU2NoZWR1bGVkKSB7XG4gICAgc3RhdGUucmVzdW1lU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICBwbmEubmV4dFRpY2socmVzdW1lXywgc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzdW1lXyhzdHJlYW0sIHN0YXRlKSB7XG4gIGlmICghc3RhdGUucmVhZGluZykge1xuICAgIGRlYnVnKCdyZXN1bWUgcmVhZCAwJyk7XG4gICAgc3RyZWFtLnJlYWQoMCk7XG4gIH1cblxuICBzdGF0ZS5yZXN1bWVTY2hlZHVsZWQgPSBmYWxzZTtcbiAgc3RhdGUuYXdhaXREcmFpbiA9IDA7XG4gIHN0cmVhbS5lbWl0KCdyZXN1bWUnKTtcbiAgZmxvdyhzdHJlYW0pO1xuICBpZiAoc3RhdGUuZmxvd2luZyAmJiAhc3RhdGUucmVhZGluZykgc3RyZWFtLnJlYWQoMCk7XG59XG5cblJlYWRhYmxlLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uICgpIHtcbiAgZGVidWcoJ2NhbGwgcGF1c2UgZmxvd2luZz0laicsIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyk7XG4gIGlmIChmYWxzZSAhPT0gdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKSB7XG4gICAgZGVidWcoJ3BhdXNlJyk7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nID0gZmFsc2U7XG4gICAgdGhpcy5lbWl0KCdwYXVzZScpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gZmxvdyhzdHJlYW0pIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuICBkZWJ1ZygnZmxvdycsIHN0YXRlLmZsb3dpbmcpO1xuICB3aGlsZSAoc3RhdGUuZmxvd2luZyAmJiBzdHJlYW0ucmVhZCgpICE9PSBudWxsKSB7fVxufVxuXG4vLyB3cmFwIGFuIG9sZC1zdHlsZSBzdHJlYW0gYXMgdGhlIGFzeW5jIGRhdGEgc291cmNlLlxuLy8gVGhpcyBpcyAqbm90KiBwYXJ0IG9mIHRoZSByZWFkYWJsZSBzdHJlYW0gaW50ZXJmYWNlLlxuLy8gSXQgaXMgYW4gdWdseSB1bmZvcnR1bmF0ZSBtZXNzIG9mIGhpc3RvcnkuXG5SZWFkYWJsZS5wcm90b3R5cGUud3JhcCA9IGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgcGF1c2VkID0gZmFsc2U7XG5cbiAgc3RyZWFtLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgZGVidWcoJ3dyYXBwZWQgZW5kJyk7XG4gICAgaWYgKHN0YXRlLmRlY29kZXIgJiYgIXN0YXRlLmVuZGVkKSB7XG4gICAgICB2YXIgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLmVuZCgpO1xuICAgICAgaWYgKGNodW5rICYmIGNodW5rLmxlbmd0aCkgX3RoaXMucHVzaChjaHVuayk7XG4gICAgfVxuXG4gICAgX3RoaXMucHVzaChudWxsKTtcbiAgfSk7XG5cbiAgc3RyZWFtLm9uKCdkYXRhJywgZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgZGVidWcoJ3dyYXBwZWQgZGF0YScpO1xuICAgIGlmIChzdGF0ZS5kZWNvZGVyKSBjaHVuayA9IHN0YXRlLmRlY29kZXIud3JpdGUoY2h1bmspO1xuXG4gICAgLy8gZG9uJ3Qgc2tpcCBvdmVyIGZhbHN5IHZhbHVlcyBpbiBvYmplY3RNb2RlXG4gICAgaWYgKHN0YXRlLm9iamVjdE1vZGUgJiYgKGNodW5rID09PSBudWxsIHx8IGNodW5rID09PSB1bmRlZmluZWQpKSByZXR1cm47ZWxzZSBpZiAoIXN0YXRlLm9iamVjdE1vZGUgJiYgKCFjaHVuayB8fCAhY2h1bmsubGVuZ3RoKSkgcmV0dXJuO1xuXG4gICAgdmFyIHJldCA9IF90aGlzLnB1c2goY2h1bmspO1xuICAgIGlmICghcmV0KSB7XG4gICAgICBwYXVzZWQgPSB0cnVlO1xuICAgICAgc3RyZWFtLnBhdXNlKCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBwcm94eSBhbGwgdGhlIG90aGVyIG1ldGhvZHMuXG4gIC8vIGltcG9ydGFudCB3aGVuIHdyYXBwaW5nIGZpbHRlcnMgYW5kIGR1cGxleGVzLlxuICBmb3IgKHZhciBpIGluIHN0cmVhbSkge1xuICAgIGlmICh0aGlzW2ldID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHN0cmVhbVtpXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpc1tpXSA9IGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gc3RyZWFtW21ldGhvZF0uYXBwbHkoc3RyZWFtLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgICAgfShpKTtcbiAgICB9XG4gIH1cblxuICAvLyBwcm94eSBjZXJ0YWluIGltcG9ydGFudCBldmVudHMuXG4gIGZvciAodmFyIG4gPSAwOyBuIDwga1Byb3h5RXZlbnRzLmxlbmd0aDsgbisrKSB7XG4gICAgc3RyZWFtLm9uKGtQcm94eUV2ZW50c1tuXSwgdGhpcy5lbWl0LmJpbmQodGhpcywga1Byb3h5RXZlbnRzW25dKSk7XG4gIH1cblxuICAvLyB3aGVuIHdlIHRyeSB0byBjb25zdW1lIHNvbWUgbW9yZSBieXRlcywgc2ltcGx5IHVucGF1c2UgdGhlXG4gIC8vIHVuZGVybHlpbmcgc3RyZWFtLlxuICB0aGlzLl9yZWFkID0gZnVuY3Rpb24gKG4pIHtcbiAgICBkZWJ1Zygnd3JhcHBlZCBfcmVhZCcsIG4pO1xuICAgIGlmIChwYXVzZWQpIHtcbiAgICAgIHBhdXNlZCA9IGZhbHNlO1xuICAgICAgc3RyZWFtLnJlc3VtZSgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZS5wcm90b3R5cGUsICdyZWFkYWJsZUhpZ2hXYXRlck1hcmsnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmhpZ2hXYXRlck1hcms7XG4gIH1cbn0pO1xuXG4vLyBleHBvc2VkIGZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHkuXG5SZWFkYWJsZS5fZnJvbUxpc3QgPSBmcm9tTGlzdDtcblxuLy8gUGx1Y2sgb2ZmIG4gYnl0ZXMgZnJvbSBhbiBhcnJheSBvZiBidWZmZXJzLlxuLy8gTGVuZ3RoIGlzIHRoZSBjb21iaW5lZCBsZW5ndGhzIG9mIGFsbCB0aGUgYnVmZmVycyBpbiB0aGUgbGlzdC5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gZnJvbUxpc3Qobiwgc3RhdGUpIHtcbiAgLy8gbm90aGluZyBidWZmZXJlZFxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcblxuICB2YXIgcmV0O1xuICBpZiAoc3RhdGUub2JqZWN0TW9kZSkgcmV0ID0gc3RhdGUuYnVmZmVyLnNoaWZ0KCk7ZWxzZSBpZiAoIW4gfHwgbiA+PSBzdGF0ZS5sZW5ndGgpIHtcbiAgICAvLyByZWFkIGl0IGFsbCwgdHJ1bmNhdGUgdGhlIGxpc3RcbiAgICBpZiAoc3RhdGUuZGVjb2RlcikgcmV0ID0gc3RhdGUuYnVmZmVyLmpvaW4oJycpO2Vsc2UgaWYgKHN0YXRlLmJ1ZmZlci5sZW5ndGggPT09IDEpIHJldCA9IHN0YXRlLmJ1ZmZlci5oZWFkLmRhdGE7ZWxzZSByZXQgPSBzdGF0ZS5idWZmZXIuY29uY2F0KHN0YXRlLmxlbmd0aCk7XG4gICAgc3RhdGUuYnVmZmVyLmNsZWFyKCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcmVhZCBwYXJ0IG9mIGxpc3RcbiAgICByZXQgPSBmcm9tTGlzdFBhcnRpYWwobiwgc3RhdGUuYnVmZmVyLCBzdGF0ZS5kZWNvZGVyKTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbi8vIEV4dHJhY3RzIG9ubHkgZW5vdWdoIGJ1ZmZlcmVkIGRhdGEgdG8gc2F0aXNmeSB0aGUgYW1vdW50IHJlcXVlc3RlZC5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gZnJvbUxpc3RQYXJ0aWFsKG4sIGxpc3QsIGhhc1N0cmluZ3MpIHtcbiAgdmFyIHJldDtcbiAgaWYgKG4gPCBsaXN0LmhlYWQuZGF0YS5sZW5ndGgpIHtcbiAgICAvLyBzbGljZSBpcyB0aGUgc2FtZSBmb3IgYnVmZmVycyBhbmQgc3RyaW5nc1xuICAgIHJldCA9IGxpc3QuaGVhZC5kYXRhLnNsaWNlKDAsIG4pO1xuICAgIGxpc3QuaGVhZC5kYXRhID0gbGlzdC5oZWFkLmRhdGEuc2xpY2Uobik7XG4gIH0gZWxzZSBpZiAobiA9PT0gbGlzdC5oZWFkLmRhdGEubGVuZ3RoKSB7XG4gICAgLy8gZmlyc3QgY2h1bmsgaXMgYSBwZXJmZWN0IG1hdGNoXG4gICAgcmV0ID0gbGlzdC5zaGlmdCgpO1xuICB9IGVsc2Uge1xuICAgIC8vIHJlc3VsdCBzcGFucyBtb3JlIHRoYW4gb25lIGJ1ZmZlclxuICAgIHJldCA9IGhhc1N0cmluZ3MgPyBjb3B5RnJvbUJ1ZmZlclN0cmluZyhuLCBsaXN0KSA6IGNvcHlGcm9tQnVmZmVyKG4sIGxpc3QpO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbi8vIENvcGllcyBhIHNwZWNpZmllZCBhbW91bnQgb2YgY2hhcmFjdGVycyBmcm9tIHRoZSBsaXN0IG9mIGJ1ZmZlcmVkIGRhdGFcbi8vIGNodW5rcy5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gY29weUZyb21CdWZmZXJTdHJpbmcobiwgbGlzdCkge1xuICB2YXIgcCA9IGxpc3QuaGVhZDtcbiAgdmFyIGMgPSAxO1xuICB2YXIgcmV0ID0gcC5kYXRhO1xuICBuIC09IHJldC5sZW5ndGg7XG4gIHdoaWxlIChwID0gcC5uZXh0KSB7XG4gICAgdmFyIHN0ciA9IHAuZGF0YTtcbiAgICB2YXIgbmIgPSBuID4gc3RyLmxlbmd0aCA/IHN0ci5sZW5ndGggOiBuO1xuICAgIGlmIChuYiA9PT0gc3RyLmxlbmd0aCkgcmV0ICs9IHN0cjtlbHNlIHJldCArPSBzdHIuc2xpY2UoMCwgbik7XG4gICAgbiAtPSBuYjtcbiAgICBpZiAobiA9PT0gMCkge1xuICAgICAgaWYgKG5iID09PSBzdHIubGVuZ3RoKSB7XG4gICAgICAgICsrYztcbiAgICAgICAgaWYgKHAubmV4dCkgbGlzdC5oZWFkID0gcC5uZXh0O2Vsc2UgbGlzdC5oZWFkID0gbGlzdC50YWlsID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpc3QuaGVhZCA9IHA7XG4gICAgICAgIHAuZGF0YSA9IHN0ci5zbGljZShuYik7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgKytjO1xuICB9XG4gIGxpc3QubGVuZ3RoIC09IGM7XG4gIHJldHVybiByZXQ7XG59XG5cbi8vIENvcGllcyBhIHNwZWNpZmllZCBhbW91bnQgb2YgYnl0ZXMgZnJvbSB0aGUgbGlzdCBvZiBidWZmZXJlZCBkYXRhIGNodW5rcy5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gY29weUZyb21CdWZmZXIobiwgbGlzdCkge1xuICB2YXIgcmV0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKG4pO1xuICB2YXIgcCA9IGxpc3QuaGVhZDtcbiAgdmFyIGMgPSAxO1xuICBwLmRhdGEuY29weShyZXQpO1xuICBuIC09IHAuZGF0YS5sZW5ndGg7XG4gIHdoaWxlIChwID0gcC5uZXh0KSB7XG4gICAgdmFyIGJ1ZiA9IHAuZGF0YTtcbiAgICB2YXIgbmIgPSBuID4gYnVmLmxlbmd0aCA/IGJ1Zi5sZW5ndGggOiBuO1xuICAgIGJ1Zi5jb3B5KHJldCwgcmV0Lmxlbmd0aCAtIG4sIDAsIG5iKTtcbiAgICBuIC09IG5iO1xuICAgIGlmIChuID09PSAwKSB7XG4gICAgICBpZiAobmIgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICAgICAgKytjO1xuICAgICAgICBpZiAocC5uZXh0KSBsaXN0LmhlYWQgPSBwLm5leHQ7ZWxzZSBsaXN0LmhlYWQgPSBsaXN0LnRhaWwgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdC5oZWFkID0gcDtcbiAgICAgICAgcC5kYXRhID0gYnVmLnNsaWNlKG5iKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICArK2M7XG4gIH1cbiAgbGlzdC5sZW5ndGggLT0gYztcbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gZW5kUmVhZGFibGUoc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcblxuICAvLyBJZiB3ZSBnZXQgaGVyZSBiZWZvcmUgY29uc3VtaW5nIGFsbCB0aGUgYnl0ZXMsIHRoZW4gdGhhdCBpcyBhXG4gIC8vIGJ1ZyBpbiBub2RlLiAgU2hvdWxkIG5ldmVyIGhhcHBlbi5cbiAgaWYgKHN0YXRlLmxlbmd0aCA+IDApIHRocm93IG5ldyBFcnJvcignXCJlbmRSZWFkYWJsZSgpXCIgY2FsbGVkIG9uIG5vbi1lbXB0eSBzdHJlYW0nKTtcblxuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQpIHtcbiAgICBzdGF0ZS5lbmRlZCA9IHRydWU7XG4gICAgcG5hLm5leHRUaWNrKGVuZFJlYWRhYmxlTlQsIHN0YXRlLCBzdHJlYW0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVuZFJlYWRhYmxlTlQoc3RhdGUsIHN0cmVhbSkge1xuICAvLyBDaGVjayB0aGF0IHdlIGRpZG4ndCBnZXQgb25lIGxhc3QgdW5zaGlmdC5cbiAgaWYgKCFzdGF0ZS5lbmRFbWl0dGVkICYmIHN0YXRlLmxlbmd0aCA9PT0gMCkge1xuICAgIHN0YXRlLmVuZEVtaXR0ZWQgPSB0cnVlO1xuICAgIHN0cmVhbS5yZWFkYWJsZSA9IGZhbHNlO1xuICAgIHN0cmVhbS5lbWl0KCdlbmQnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbmRleE9mKHhzLCB4KSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0geHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKHhzW2ldID09PSB4KSByZXR1cm4gaTtcbiAgfVxuICByZXR1cm4gLTE7XG59IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHNDb3VudCA9IDA7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbnZhciBkZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudEVtaXR0ZXIsICdkZWZhdWx0TWF4TGlzdGVuZXJzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkZWZhdWx0TWF4TGlzdGVuZXJzO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIGlmICh0eXBlb2YgYXJnICE9PSAnbnVtYmVyJyB8fCBhcmcgPCAwIHx8IE51bWJlcklzTmFOKGFyZykpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIGFyZyArICcuJyk7XG4gICAgfVxuICAgIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSBhcmc7XG4gIH1cbn0pO1xuXG5FdmVudEVtaXR0ZXIuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gIGlmICh0aGlzLl9ldmVudHMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgdGhpcy5fZXZlbnRzID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50cykge1xuICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn07XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIHNldE1heExpc3RlbmVycyhuKSB7XG4gIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgbiA8IDAgfHwgTnVtYmVySXNOYU4obikpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiblwiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBuICsgJy4nKTtcbiAgfVxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uICRnZXRNYXhMaXN0ZW5lcnModGhhdCkge1xuICBpZiAodGhhdC5fbWF4TGlzdGVuZXJzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICByZXR1cm4gdGhhdC5fbWF4TGlzdGVuZXJzO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmdldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIGdldE1heExpc3RlbmVycygpIHtcbiAgcmV0dXJuICRnZXRNYXhMaXN0ZW5lcnModGhpcyk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KHR5cGUpIHtcbiAgdmFyIGFyZ3MgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICB2YXIgZG9FcnJvciA9ICh0eXBlID09PSAnZXJyb3InKTtcblxuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpXG4gICAgZG9FcnJvciA9IChkb0Vycm9yICYmIGV2ZW50cy5lcnJvciA9PT0gdW5kZWZpbmVkKTtcbiAgZWxzZSBpZiAoIWRvRXJyb3IpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKGRvRXJyb3IpIHtcbiAgICB2YXIgZXI7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID4gMClcbiAgICAgIGVyID0gYXJnc1swXTtcbiAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgLy8gTm90ZTogVGhlIGNvbW1lbnRzIG9uIHRoZSBgdGhyb3dgIGxpbmVzIGFyZSBpbnRlbnRpb25hbCwgdGhleSBzaG93XG4gICAgICAvLyB1cCBpbiBOb2RlJ3Mgb3V0cHV0IGlmIHRoaXMgcmVzdWx0cyBpbiBhbiB1bmhhbmRsZWQgZXhjZXB0aW9uLlxuICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgfVxuICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmhhbmRsZWQgZXJyb3IuJyArIChlciA/ICcgKCcgKyBlci5tZXNzYWdlICsgJyknIDogJycpKTtcbiAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgIHRocm93IGVycjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgfVxuXG4gIHZhciBoYW5kbGVyID0gZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIFJlZmxlY3RBcHBseShoYW5kbGVyLCB0aGlzLCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgUmVmbGVjdEFwcGx5KGxpc3RlbmVyc1tpXSwgdGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIF9hZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBwcmVwZW5kKSB7XG4gIHZhciBtO1xuICB2YXIgZXZlbnRzO1xuICB2YXIgZXhpc3Rpbmc7XG5cbiAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgbGlzdGVuZXIpO1xuICB9XG5cbiAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0YXJnZXQuX2V2ZW50c0NvdW50ID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAgIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgICBpZiAoZXZlbnRzLm5ld0xpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRhcmdldC5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA/IGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gICAgICAvLyBSZS1hc3NpZ24gYGV2ZW50c2AgYmVjYXVzZSBhIG5ld0xpc3RlbmVyIGhhbmRsZXIgY291bGQgaGF2ZSBjYXVzZWQgdGhlXG4gICAgICAvLyB0aGlzLl9ldmVudHMgdG8gYmUgYXNzaWduZWQgdG8gYSBuZXcgb2JqZWN0XG4gICAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgICB9XG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV07XG4gIH1cblxuICBpZiAoZXhpc3RpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gICAgKyt0YXJnZXQuX2V2ZW50c0NvdW50O1xuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgZXhpc3RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPVxuICAgICAgICBwcmVwZW5kID8gW2xpc3RlbmVyLCBleGlzdGluZ10gOiBbZXhpc3RpbmcsIGxpc3RlbmVyXTtcbiAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB9IGVsc2UgaWYgKHByZXBlbmQpIHtcbiAgICAgIGV4aXN0aW5nLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleGlzdGluZy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICAgIG0gPSAkZ2V0TWF4TGlzdGVuZXJzKHRhcmdldCk7XG4gICAgaWYgKG0gPiAwICYmIGV4aXN0aW5nLmxlbmd0aCA+IG0gJiYgIWV4aXN0aW5nLndhcm5lZCkge1xuICAgICAgZXhpc3Rpbmcud2FybmVkID0gdHJ1ZTtcbiAgICAgIC8vIE5vIGVycm9yIGNvZGUgZm9yIHRoaXMgc2luY2UgaXQgaXMgYSBXYXJuaW5nXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAgIHZhciB3ID0gbmV3IEVycm9yKCdQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5sZW5ndGggKyAnICcgKyBTdHJpbmcodHlwZSkgKyAnIGxpc3RlbmVycyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luY3JlYXNlIGxpbWl0Jyk7XG4gICAgICB3Lm5hbWUgPSAnTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nJztcbiAgICAgIHcuZW1pdHRlciA9IHRhcmdldDtcbiAgICAgIHcudHlwZSA9IHR5cGU7XG4gICAgICB3LmNvdW50ID0gZXhpc3RpbmcubGVuZ3RoO1xuICAgICAgUHJvY2Vzc0VtaXRXYXJuaW5nKHcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG4gICAgfTtcblxuZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgUmVmbGVjdEFwcGx5KHRoaXMubGlzdGVuZXIsIHRoaXMudGFyZ2V0LCBhcmdzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGxpc3QgPSBldmVudHNbdHlwZV07XG4gICAgICBpZiAobGlzdCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8IGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0Lmxpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGlzdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwb3NpdGlvbiA9IC0xO1xuXG4gICAgICAgIGZvciAoaSA9IGxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHwgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsTGlzdGVuZXIgPSBsaXN0W2ldLmxpc3RlbmVyO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICBpZiAocG9zaXRpb24gPT09IDApXG4gICAgICAgICAgbGlzdC5zaGlmdCgpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzcGxpY2VPbmUobGlzdCwgcG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKVxuICAgICAgICAgIGV2ZW50c1t0eXBlXSA9IGxpc3RbMF07XG5cbiAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBvcmlnaW5hbExpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKHR5cGUpIHtcbiAgICAgIHZhciBsaXN0ZW5lcnMsIGV2ZW50cywgaTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRzW3R5cGVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGV2ZW50cyk7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBsaXN0ZW5lcnMgPSBldmVudHNbdHlwZV07XG5cbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgICAgIH0gZWxzZSBpZiAobGlzdGVuZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gTElGTyBvcmRlclxuICAgICAgICBmb3IgKGkgPSBsaXN0ZW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuZnVuY3Rpb24gX2xpc3RlbmVycyh0YXJnZXQsIHR5cGUsIHVud3JhcCkge1xuICB2YXIgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcbiAgaWYgKGV2bGlzdGVuZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKVxuICAgIHJldHVybiB1bndyYXAgPyBbZXZsaXN0ZW5lci5saXN0ZW5lciB8fCBldmxpc3RlbmVyXSA6IFtldmxpc3RlbmVyXTtcblxuICByZXR1cm4gdW53cmFwID9cbiAgICB1bndyYXBMaXN0ZW5lcnMoZXZsaXN0ZW5lcikgOiBhcnJheUNsb25lKGV2bGlzdGVuZXIsIGV2bGlzdGVuZXIubGVuZ3RoKTtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCB0cnVlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmF3TGlzdGVuZXJzID0gZnVuY3Rpb24gcmF3TGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5saXN0ZW5lckNvdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGlzdGVuZXJDb3VudC5jYWxsKGVtaXR0ZXIsIHR5cGUpO1xuICB9XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBsaXN0ZW5lckNvdW50O1xuZnVuY3Rpb24gbGlzdGVuZXJDb3VudCh0eXBlKSB7XG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG5cbiAgICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoZXZsaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHJldHVybiB0aGlzLl9ldmVudHNDb3VudCA+IDAgPyBSZWZsZWN0T3duS2V5cyh0aGlzLl9ldmVudHMpIDogW107XG59O1xuXG5mdW5jdGlvbiBhcnJheUNsb25lKGFyciwgbikge1xuICB2YXIgY29weSA9IG5ldyBBcnJheShuKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpXG4gICAgY29weVtpXSA9IGFycltpXTtcbiAgcmV0dXJuIGNvcHk7XG59XG5cbmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKDsgaW5kZXggKyAxIDwgbGlzdC5sZW5ndGg7IGluZGV4KyspXG4gICAgbGlzdFtpbmRleF0gPSBsaXN0W2luZGV4ICsgMV07XG4gIGxpc3QucG9wKCk7XG59XG5cbmZ1bmN0aW9uIHVud3JhcExpc3RlbmVycyhhcnIpIHtcbiAgdmFyIHJldCA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyArK2kpIHtcbiAgICByZXRbaV0gPSBhcnJbaV0ubGlzdGVuZXIgfHwgYXJyW2ldO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIHBuYSA9IHJlcXVpcmUoJ3Byb2Nlc3MtbmV4dGljay1hcmdzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLy8gdW5kb2N1bWVudGVkIGNiKCkgQVBJLCBuZWVkZWQgZm9yIGNvcmUsIG5vdCBmb3IgcHVibGljIEFQSVxuZnVuY3Rpb24gZGVzdHJveShlcnIsIGNiKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgdmFyIHJlYWRhYmxlRGVzdHJveWVkID0gdGhpcy5fcmVhZGFibGVTdGF0ZSAmJiB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZDtcbiAgdmFyIHdyaXRhYmxlRGVzdHJveWVkID0gdGhpcy5fd3JpdGFibGVTdGF0ZSAmJiB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZDtcblxuICBpZiAocmVhZGFibGVEZXN0cm95ZWQgfHwgd3JpdGFibGVEZXN0cm95ZWQpIHtcbiAgICBpZiAoY2IpIHtcbiAgICAgIGNiKGVycik7XG4gICAgfSBlbHNlIGlmIChlcnIgJiYgKCF0aGlzLl93cml0YWJsZVN0YXRlIHx8ICF0aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZCkpIHtcbiAgICAgIHBuYS5uZXh0VGljayhlbWl0RXJyb3JOVCwgdGhpcywgZXJyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyB3ZSBzZXQgZGVzdHJveWVkIHRvIHRydWUgYmVmb3JlIGZpcmluZyBlcnJvciBjYWxsYmFja3MgaW4gb3JkZXJcbiAgLy8gdG8gbWFrZSBpdCByZS1lbnRyYW5jZSBzYWZlIGluIGNhc2UgZGVzdHJveSgpIGlzIGNhbGxlZCB3aXRoaW4gY2FsbGJhY2tzXG5cbiAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUpIHtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCA9IHRydWU7XG4gIH1cblxuICAvLyBpZiB0aGlzIGlzIGEgZHVwbGV4IHN0cmVhbSBtYXJrIHRoZSB3cml0YWJsZSBwYXJ0IGFzIGRlc3Ryb3llZCBhcyB3ZWxsXG4gIGlmICh0aGlzLl93cml0YWJsZVN0YXRlKSB7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB0cnVlO1xuICB9XG5cbiAgdGhpcy5fZGVzdHJveShlcnIgfHwgbnVsbCwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmICghY2IgJiYgZXJyKSB7XG4gICAgICBwbmEubmV4dFRpY2soZW1pdEVycm9yTlQsIF90aGlzLCBlcnIpO1xuICAgICAgaWYgKF90aGlzLl93cml0YWJsZVN0YXRlKSB7XG4gICAgICAgIF90aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjYikge1xuICAgICAgY2IoZXJyKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiB1bmRlc3Ryb3koKSB7XG4gIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlKSB7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkID0gZmFsc2U7XG4gIH1cblxuICBpZiAodGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW1pdEVycm9yTlQoc2VsZiwgZXJyKSB7XG4gIHNlbGYuZW1pdCgnZXJyb3InLCBlcnIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZGVzdHJveTogZGVzdHJveSxcbiAgdW5kZXN0cm95OiB1bmRlc3Ryb3lcbn07IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIEEgYml0IHNpbXBsZXIgdGhhbiByZWFkYWJsZSBzdHJlYW1zLlxuLy8gSW1wbGVtZW50IGFuIGFzeW5jIC5fd3JpdGUoY2h1bmssIGVuY29kaW5nLCBjYiksIGFuZCBpdCdsbCBoYW5kbGUgYWxsXG4vLyB0aGUgZHJhaW4gZXZlbnQgZW1pc3Npb24gYW5kIGJ1ZmZlcmluZy5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xuXG52YXIgcG5hID0gcmVxdWlyZSgncHJvY2Vzcy1uZXh0aWNrLWFyZ3MnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdyaXRhYmxlO1xuXG4vKiA8cmVwbGFjZW1lbnQ+ICovXG5mdW5jdGlvbiBXcml0ZVJlcShjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHRoaXMuY2h1bmsgPSBjaHVuaztcbiAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nO1xuICB0aGlzLmNhbGxiYWNrID0gY2I7XG4gIHRoaXMubmV4dCA9IG51bGw7XG59XG5cbi8vIEl0IHNlZW1zIGEgbGlua2VkIGxpc3QgYnV0IGl0IGlzIG5vdFxuLy8gdGhlcmUgd2lsbCBiZSBvbmx5IDIgb2YgdGhlc2UgZm9yIGVhY2ggc3RyZWFtXG5mdW5jdGlvbiBDb3JrZWRSZXF1ZXN0KHN0YXRlKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgdGhpcy5lbnRyeSA9IG51bGw7XG4gIHRoaXMuZmluaXNoID0gZnVuY3Rpb24gKCkge1xuICAgIG9uQ29ya2VkRmluaXNoKF90aGlzLCBzdGF0ZSk7XG4gIH07XG59XG4vKiA8L3JlcGxhY2VtZW50PiAqL1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIGFzeW5jV3JpdGUgPSAhcHJvY2Vzcy5icm93c2VyICYmIFsndjAuMTAnLCAndjAuOS4nXS5pbmRleE9mKHByb2Nlc3MudmVyc2lvbi5zbGljZSgwLCA1KSkgPiAtMSA/IHNldEltbWVkaWF0ZSA6IHBuYS5uZXh0VGljaztcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIER1cGxleDtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5Xcml0YWJsZS5Xcml0YWJsZVN0YXRlID0gV3JpdGFibGVTdGF0ZTtcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciB1dGlsID0gcmVxdWlyZSgnY29yZS11dGlsLWlzJyk7XG51dGlsLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIGludGVybmFsVXRpbCA9IHtcbiAgZGVwcmVjYXRlOiByZXF1aXJlKCd1dGlsLWRlcHJlY2F0ZScpXG59O1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgU3RyZWFtID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL3N0cmVhbScpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG5cbnZhciBCdWZmZXIgPSByZXF1aXJlKCdzYWZlLWJ1ZmZlcicpLkJ1ZmZlcjtcbnZhciBPdXJVaW50OEFycmF5ID0gZ2xvYmFsLlVpbnQ4QXJyYXkgfHwgZnVuY3Rpb24gKCkge307XG5mdW5jdGlvbiBfdWludDhBcnJheVRvQnVmZmVyKGNodW5rKSB7XG4gIHJldHVybiBCdWZmZXIuZnJvbShjaHVuayk7XG59XG5mdW5jdGlvbiBfaXNVaW50OEFycmF5KG9iaikge1xuICByZXR1cm4gQnVmZmVyLmlzQnVmZmVyKG9iaikgfHwgb2JqIGluc3RhbmNlb2YgT3VyVWludDhBcnJheTtcbn1cblxuLyo8L3JlcGxhY2VtZW50PiovXG5cbnZhciBkZXN0cm95SW1wbCA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9kZXN0cm95Jyk7XG5cbnV0aWwuaW5oZXJpdHMoV3JpdGFibGUsIFN0cmVhbSk7XG5cbmZ1bmN0aW9uIG5vcCgpIHt9XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RhdGUob3B0aW9ucywgc3RyZWFtKSB7XG4gIER1cGxleCA9IER1cGxleCB8fCByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgLy8gRHVwbGV4IHN0cmVhbXMgYXJlIGJvdGggcmVhZGFibGUgYW5kIHdyaXRhYmxlLCBidXQgc2hhcmVcbiAgLy8gdGhlIHNhbWUgb3B0aW9ucyBvYmplY3QuXG4gIC8vIEhvd2V2ZXIsIHNvbWUgY2FzZXMgcmVxdWlyZSBzZXR0aW5nIG9wdGlvbnMgdG8gZGlmZmVyZW50XG4gIC8vIHZhbHVlcyBmb3IgdGhlIHJlYWRhYmxlIGFuZCB0aGUgd3JpdGFibGUgc2lkZXMgb2YgdGhlIGR1cGxleCBzdHJlYW0uXG4gIC8vIFRoZXNlIG9wdGlvbnMgY2FuIGJlIHByb3ZpZGVkIHNlcGFyYXRlbHkgYXMgcmVhZGFibGVYWFggYW5kIHdyaXRhYmxlWFhYLlxuICB2YXIgaXNEdXBsZXggPSBzdHJlYW0gaW5zdGFuY2VvZiBEdXBsZXg7XG5cbiAgLy8gb2JqZWN0IHN0cmVhbSBmbGFnIHRvIGluZGljYXRlIHdoZXRoZXIgb3Igbm90IHRoaXMgc3RyZWFtXG4gIC8vIGNvbnRhaW5zIGJ1ZmZlcnMgb3Igb2JqZWN0cy5cbiAgdGhpcy5vYmplY3RNb2RlID0gISFvcHRpb25zLm9iamVjdE1vZGU7XG5cbiAgaWYgKGlzRHVwbGV4KSB0aGlzLm9iamVjdE1vZGUgPSB0aGlzLm9iamVjdE1vZGUgfHwgISFvcHRpb25zLndyaXRhYmxlT2JqZWN0TW9kZTtcblxuICAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggd3JpdGUoKSBzdGFydHMgcmV0dXJuaW5nIGZhbHNlXG4gIC8vIE5vdGU6IDAgaXMgYSB2YWxpZCB2YWx1ZSwgbWVhbnMgdGhhdCB3ZSBhbHdheXMgcmV0dXJuIGZhbHNlIGlmXG4gIC8vIHRoZSBlbnRpcmUgYnVmZmVyIGlzIG5vdCBmbHVzaGVkIGltbWVkaWF0ZWx5IG9uIHdyaXRlKClcbiAgdmFyIGh3bSA9IG9wdGlvbnMuaGlnaFdhdGVyTWFyaztcbiAgdmFyIHdyaXRhYmxlSHdtID0gb3B0aW9ucy53cml0YWJsZUhpZ2hXYXRlck1hcms7XG4gIHZhciBkZWZhdWx0SHdtID0gdGhpcy5vYmplY3RNb2RlID8gMTYgOiAxNiAqIDEwMjQ7XG5cbiAgaWYgKGh3bSB8fCBod20gPT09IDApIHRoaXMuaGlnaFdhdGVyTWFyayA9IGh3bTtlbHNlIGlmIChpc0R1cGxleCAmJiAod3JpdGFibGVId20gfHwgd3JpdGFibGVId20gPT09IDApKSB0aGlzLmhpZ2hXYXRlck1hcmsgPSB3cml0YWJsZUh3bTtlbHNlIHRoaXMuaGlnaFdhdGVyTWFyayA9IGRlZmF1bHRId207XG5cbiAgLy8gY2FzdCB0byBpbnRzLlxuICB0aGlzLmhpZ2hXYXRlck1hcmsgPSBNYXRoLmZsb29yKHRoaXMuaGlnaFdhdGVyTWFyayk7XG5cbiAgLy8gaWYgX2ZpbmFsIGhhcyBiZWVuIGNhbGxlZFxuICB0aGlzLmZpbmFsQ2FsbGVkID0gZmFsc2U7XG5cbiAgLy8gZHJhaW4gZXZlbnQgZmxhZy5cbiAgdGhpcy5uZWVkRHJhaW4gPSBmYWxzZTtcbiAgLy8gYXQgdGhlIHN0YXJ0IG9mIGNhbGxpbmcgZW5kKClcbiAgdGhpcy5lbmRpbmcgPSBmYWxzZTtcbiAgLy8gd2hlbiBlbmQoKSBoYXMgYmVlbiBjYWxsZWQsIGFuZCByZXR1cm5lZFxuICB0aGlzLmVuZGVkID0gZmFsc2U7XG4gIC8vIHdoZW4gJ2ZpbmlzaCcgaXMgZW1pdHRlZFxuICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG5cbiAgLy8gaGFzIGl0IGJlZW4gZGVzdHJveWVkXG4gIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgLy8gc2hvdWxkIHdlIGRlY29kZSBzdHJpbmdzIGludG8gYnVmZmVycyBiZWZvcmUgcGFzc2luZyB0byBfd3JpdGU/XG4gIC8vIHRoaXMgaXMgaGVyZSBzbyB0aGF0IHNvbWUgbm9kZS1jb3JlIHN0cmVhbXMgY2FuIG9wdGltaXplIHN0cmluZ1xuICAvLyBoYW5kbGluZyBhdCBhIGxvd2VyIGxldmVsLlxuICB2YXIgbm9EZWNvZGUgPSBvcHRpb25zLmRlY29kZVN0cmluZ3MgPT09IGZhbHNlO1xuICB0aGlzLmRlY29kZVN0cmluZ3MgPSAhbm9EZWNvZGU7XG5cbiAgLy8gQ3J5cHRvIGlzIGtpbmQgb2Ygb2xkIGFuZCBjcnVzdHkuICBIaXN0b3JpY2FsbHksIGl0cyBkZWZhdWx0IHN0cmluZ1xuICAvLyBlbmNvZGluZyBpcyAnYmluYXJ5JyBzbyB3ZSBoYXZlIHRvIG1ha2UgdGhpcyBjb25maWd1cmFibGUuXG4gIC8vIEV2ZXJ5dGhpbmcgZWxzZSBpbiB0aGUgdW5pdmVyc2UgdXNlcyAndXRmOCcsIHRob3VnaC5cbiAgdGhpcy5kZWZhdWx0RW5jb2RpbmcgPSBvcHRpb25zLmRlZmF1bHRFbmNvZGluZyB8fCAndXRmOCc7XG5cbiAgLy8gbm90IGFuIGFjdHVhbCBidWZmZXIgd2Uga2VlcCB0cmFjayBvZiwgYnV0IGEgbWVhc3VyZW1lbnRcbiAgLy8gb2YgaG93IG11Y2ggd2UncmUgd2FpdGluZyB0byBnZXQgcHVzaGVkIHRvIHNvbWUgdW5kZXJseWluZ1xuICAvLyBzb2NrZXQgb3IgZmlsZS5cbiAgdGhpcy5sZW5ndGggPSAwO1xuXG4gIC8vIGEgZmxhZyB0byBzZWUgd2hlbiB3ZSdyZSBpbiB0aGUgbWlkZGxlIG9mIGEgd3JpdGUuXG4gIHRoaXMud3JpdGluZyA9IGZhbHNlO1xuXG4gIC8vIHdoZW4gdHJ1ZSBhbGwgd3JpdGVzIHdpbGwgYmUgYnVmZmVyZWQgdW50aWwgLnVuY29yaygpIGNhbGxcbiAgdGhpcy5jb3JrZWQgPSAwO1xuXG4gIC8vIGEgZmxhZyB0byBiZSBhYmxlIHRvIHRlbGwgaWYgdGhlIG9ud3JpdGUgY2IgaXMgY2FsbGVkIGltbWVkaWF0ZWx5LFxuICAvLyBvciBvbiBhIGxhdGVyIHRpY2suICBXZSBzZXQgdGhpcyB0byB0cnVlIGF0IGZpcnN0LCBiZWNhdXNlIGFueVxuICAvLyBhY3Rpb25zIHRoYXQgc2hvdWxkbid0IGhhcHBlbiB1bnRpbCBcImxhdGVyXCIgc2hvdWxkIGdlbmVyYWxseSBhbHNvXG4gIC8vIG5vdCBoYXBwZW4gYmVmb3JlIHRoZSBmaXJzdCB3cml0ZSBjYWxsLlxuICB0aGlzLnN5bmMgPSB0cnVlO1xuXG4gIC8vIGEgZmxhZyB0byBrbm93IGlmIHdlJ3JlIHByb2Nlc3NpbmcgcHJldmlvdXNseSBidWZmZXJlZCBpdGVtcywgd2hpY2hcbiAgLy8gbWF5IGNhbGwgdGhlIF93cml0ZSgpIGNhbGxiYWNrIGluIHRoZSBzYW1lIHRpY2ssIHNvIHRoYXQgd2UgZG9uJ3RcbiAgLy8gZW5kIHVwIGluIGFuIG92ZXJsYXBwZWQgb253cml0ZSBzaXR1YXRpb24uXG4gIHRoaXMuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlO1xuXG4gIC8vIHRoZSBjYWxsYmFjayB0aGF0J3MgcGFzc2VkIHRvIF93cml0ZShjaHVuayxjYilcbiAgdGhpcy5vbndyaXRlID0gZnVuY3Rpb24gKGVyKSB7XG4gICAgb253cml0ZShzdHJlYW0sIGVyKTtcbiAgfTtcblxuICAvLyB0aGUgY2FsbGJhY2sgdGhhdCB0aGUgdXNlciBzdXBwbGllcyB0byB3cml0ZShjaHVuayxlbmNvZGluZyxjYilcbiAgdGhpcy53cml0ZWNiID0gbnVsbDtcblxuICAvLyB0aGUgYW1vdW50IHRoYXQgaXMgYmVpbmcgd3JpdHRlbiB3aGVuIF93cml0ZSBpcyBjYWxsZWQuXG4gIHRoaXMud3JpdGVsZW4gPSAwO1xuXG4gIHRoaXMuYnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgdGhpcy5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcblxuICAvLyBudW1iZXIgb2YgcGVuZGluZyB1c2VyLXN1cHBsaWVkIHdyaXRlIGNhbGxiYWNrc1xuICAvLyB0aGlzIG11c3QgYmUgMCBiZWZvcmUgJ2ZpbmlzaCcgY2FuIGJlIGVtaXR0ZWRcbiAgdGhpcy5wZW5kaW5nY2IgPSAwO1xuXG4gIC8vIGVtaXQgcHJlZmluaXNoIGlmIHRoZSBvbmx5IHRoaW5nIHdlJ3JlIHdhaXRpbmcgZm9yIGlzIF93cml0ZSBjYnNcbiAgLy8gVGhpcyBpcyByZWxldmFudCBmb3Igc3luY2hyb25vdXMgVHJhbnNmb3JtIHN0cmVhbXNcbiAgdGhpcy5wcmVmaW5pc2hlZCA9IGZhbHNlO1xuXG4gIC8vIFRydWUgaWYgdGhlIGVycm9yIHdhcyBhbHJlYWR5IGVtaXR0ZWQgYW5kIHNob3VsZCBub3QgYmUgdGhyb3duIGFnYWluXG4gIHRoaXMuZXJyb3JFbWl0dGVkID0gZmFsc2U7XG5cbiAgLy8gY291bnQgYnVmZmVyZWQgcmVxdWVzdHNcbiAgdGhpcy5idWZmZXJlZFJlcXVlc3RDb3VudCA9IDA7XG5cbiAgLy8gYWxsb2NhdGUgdGhlIGZpcnN0IENvcmtlZFJlcXVlc3QsIHRoZXJlIGlzIGFsd2F5c1xuICAvLyBvbmUgYWxsb2NhdGVkIGFuZCBmcmVlIHRvIHVzZSwgYW5kIHdlIG1haW50YWluIGF0IG1vc3QgdHdvXG4gIHRoaXMuY29ya2VkUmVxdWVzdHNGcmVlID0gbmV3IENvcmtlZFJlcXVlc3QodGhpcyk7XG59XG5cbldyaXRhYmxlU3RhdGUucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uIGdldEJ1ZmZlcigpIHtcbiAgdmFyIGN1cnJlbnQgPSB0aGlzLmJ1ZmZlcmVkUmVxdWVzdDtcbiAgdmFyIG91dCA9IFtdO1xuICB3aGlsZSAoY3VycmVudCkge1xuICAgIG91dC5wdXNoKGN1cnJlbnQpO1xuICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn07XG5cbihmdW5jdGlvbiAoKSB7XG4gIHRyeSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlU3RhdGUucHJvdG90eXBlLCAnYnVmZmVyJywge1xuICAgICAgZ2V0OiBpbnRlcm5hbFV0aWwuZGVwcmVjYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QnVmZmVyKCk7XG4gICAgICB9LCAnX3dyaXRhYmxlU3RhdGUuYnVmZmVyIGlzIGRlcHJlY2F0ZWQuIFVzZSBfd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIgJyArICdpbnN0ZWFkLicsICdERVAwMDAzJylcbiAgICB9KTtcbiAgfSBjYXRjaCAoXykge31cbn0pKCk7XG5cbi8vIFRlc3QgX3dyaXRhYmxlU3RhdGUgZm9yIGluaGVyaXRhbmNlIHRvIGFjY291bnQgZm9yIER1cGxleCBzdHJlYW1zLFxuLy8gd2hvc2UgcHJvdG90eXBlIGNoYWluIG9ubHkgcG9pbnRzIHRvIFJlYWRhYmxlLlxudmFyIHJlYWxIYXNJbnN0YW5jZTtcbmlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5oYXNJbnN0YW5jZSAmJiB0eXBlb2YgRnVuY3Rpb24ucHJvdG90eXBlW1N5bWJvbC5oYXNJbnN0YW5jZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgcmVhbEhhc0luc3RhbmNlID0gRnVuY3Rpb24ucHJvdG90eXBlW1N5bWJvbC5oYXNJbnN0YW5jZV07XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZSwgU3ltYm9sLmhhc0luc3RhbmNlLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgIGlmIChyZWFsSGFzSW5zdGFuY2UuY2FsbCh0aGlzLCBvYmplY3QpKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmICh0aGlzICE9PSBXcml0YWJsZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICByZXR1cm4gb2JqZWN0ICYmIG9iamVjdC5fd3JpdGFibGVTdGF0ZSBpbnN0YW5jZW9mIFdyaXRhYmxlU3RhdGU7XG4gICAgfVxuICB9KTtcbn0gZWxzZSB7XG4gIHJlYWxIYXNJbnN0YW5jZSA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgdGhpcztcbiAgfTtcbn1cblxuZnVuY3Rpb24gV3JpdGFibGUob3B0aW9ucykge1xuICBEdXBsZXggPSBEdXBsZXggfHwgcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuXG4gIC8vIFdyaXRhYmxlIGN0b3IgaXMgYXBwbGllZCB0byBEdXBsZXhlcywgdG9vLlxuICAvLyBgcmVhbEhhc0luc3RhbmNlYCBpcyBuZWNlc3NhcnkgYmVjYXVzZSB1c2luZyBwbGFpbiBgaW5zdGFuY2VvZmBcbiAgLy8gd291bGQgcmV0dXJuIGZhbHNlLCBhcyBubyBgX3dyaXRhYmxlU3RhdGVgIHByb3BlcnR5IGlzIGF0dGFjaGVkLlxuXG4gIC8vIFRyeWluZyB0byB1c2UgdGhlIGN1c3RvbSBgaW5zdGFuY2VvZmAgZm9yIFdyaXRhYmxlIGhlcmUgd2lsbCBhbHNvIGJyZWFrIHRoZVxuICAvLyBOb2RlLmpzIExhenlUcmFuc2Zvcm0gaW1wbGVtZW50YXRpb24sIHdoaWNoIGhhcyBhIG5vbi10cml2aWFsIGdldHRlciBmb3JcbiAgLy8gYF93cml0YWJsZVN0YXRlYCB0aGF0IHdvdWxkIGxlYWQgdG8gaW5maW5pdGUgcmVjdXJzaW9uLlxuICBpZiAoIXJlYWxIYXNJbnN0YW5jZS5jYWxsKFdyaXRhYmxlLCB0aGlzKSAmJiAhKHRoaXMgaW5zdGFuY2VvZiBEdXBsZXgpKSB7XG4gICAgcmV0dXJuIG5ldyBXcml0YWJsZShvcHRpb25zKTtcbiAgfVxuXG4gIHRoaXMuX3dyaXRhYmxlU3RhdGUgPSBuZXcgV3JpdGFibGVTdGF0ZShvcHRpb25zLCB0aGlzKTtcblxuICAvLyBsZWdhY3kuXG4gIHRoaXMud3JpdGFibGUgPSB0cnVlO1xuXG4gIGlmIChvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLndyaXRlID09PSAnZnVuY3Rpb24nKSB0aGlzLl93cml0ZSA9IG9wdGlvbnMud3JpdGU7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMud3JpdGV2ID09PSAnZnVuY3Rpb24nKSB0aGlzLl93cml0ZXYgPSBvcHRpb25zLndyaXRldjtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5kZXN0cm95ID09PSAnZnVuY3Rpb24nKSB0aGlzLl9kZXN0cm95ID0gb3B0aW9ucy5kZXN0cm95O1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmZpbmFsID09PSAnZnVuY3Rpb24nKSB0aGlzLl9maW5hbCA9IG9wdGlvbnMuZmluYWw7XG4gIH1cblxuICBTdHJlYW0uY2FsbCh0aGlzKTtcbn1cblxuLy8gT3RoZXJ3aXNlIHBlb3BsZSBjYW4gcGlwZSBXcml0YWJsZSBzdHJlYW1zLCB3aGljaCBpcyBqdXN0IHdyb25nLlxuV3JpdGFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ0Nhbm5vdCBwaXBlLCBub3QgcmVhZGFibGUnKSk7XG59O1xuXG5mdW5jdGlvbiB3cml0ZUFmdGVyRW5kKHN0cmVhbSwgY2IpIHtcbiAgdmFyIGVyID0gbmV3IEVycm9yKCd3cml0ZSBhZnRlciBlbmQnKTtcbiAgLy8gVE9ETzogZGVmZXIgZXJyb3IgZXZlbnRzIGNvbnNpc3RlbnRseSBldmVyeXdoZXJlLCBub3QganVzdCB0aGUgY2JcbiAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuICBwbmEubmV4dFRpY2soY2IsIGVyKTtcbn1cblxuLy8gQ2hlY2tzIHRoYXQgYSB1c2VyLXN1cHBsaWVkIGNodW5rIGlzIHZhbGlkLCBlc3BlY2lhbGx5IGZvciB0aGUgcGFydGljdWxhclxuLy8gbW9kZSB0aGUgc3RyZWFtIGlzIGluLiBDdXJyZW50bHkgdGhpcyBtZWFucyB0aGF0IGBudWxsYCBpcyBuZXZlciBhY2NlcHRlZFxuLy8gYW5kIHVuZGVmaW5lZC9ub24tc3RyaW5nIHZhbHVlcyBhcmUgb25seSBhbGxvd2VkIGluIG9iamVjdCBtb2RlLlxuZnVuY3Rpb24gdmFsaWRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgY2IpIHtcbiAgdmFyIHZhbGlkID0gdHJ1ZTtcbiAgdmFyIGVyID0gZmFsc2U7XG5cbiAgaWYgKGNodW5rID09PSBudWxsKSB7XG4gICAgZXIgPSBuZXcgVHlwZUVycm9yKCdNYXkgbm90IHdyaXRlIG51bGwgdmFsdWVzIHRvIHN0cmVhbScpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjaHVuayAhPT0gJ3N0cmluZycgJiYgY2h1bmsgIT09IHVuZGVmaW5lZCAmJiAhc3RhdGUub2JqZWN0TW9kZSkge1xuICAgIGVyID0gbmV3IFR5cGVFcnJvcignSW52YWxpZCBub24tc3RyaW5nL2J1ZmZlciBjaHVuaycpO1xuICB9XG4gIGlmIChlcikge1xuICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVyKTtcbiAgICBwbmEubmV4dFRpY2soY2IsIGVyKTtcbiAgICB2YWxpZCA9IGZhbHNlO1xuICB9XG4gIHJldHVybiB2YWxpZDtcbn1cblxuV3JpdGFibGUucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTtcbiAgdmFyIHJldCA9IGZhbHNlO1xuICB2YXIgaXNCdWYgPSAhc3RhdGUub2JqZWN0TW9kZSAmJiBfaXNVaW50OEFycmF5KGNodW5rKTtcblxuICBpZiAoaXNCdWYgJiYgIUJ1ZmZlci5pc0J1ZmZlcihjaHVuaykpIHtcbiAgICBjaHVuayA9IF91aW50OEFycmF5VG9CdWZmZXIoY2h1bmspO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gZW5jb2Rpbmc7XG4gICAgZW5jb2RpbmcgPSBudWxsO1xuICB9XG5cbiAgaWYgKGlzQnVmKSBlbmNvZGluZyA9ICdidWZmZXInO2Vsc2UgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSBzdGF0ZS5kZWZhdWx0RW5jb2Rpbmc7XG5cbiAgaWYgKHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykgY2IgPSBub3A7XG5cbiAgaWYgKHN0YXRlLmVuZGVkKSB3cml0ZUFmdGVyRW5kKHRoaXMsIGNiKTtlbHNlIGlmIChpc0J1ZiB8fCB2YWxpZENodW5rKHRoaXMsIHN0YXRlLCBjaHVuaywgY2IpKSB7XG4gICAgc3RhdGUucGVuZGluZ2NiKys7XG4gICAgcmV0ID0gd3JpdGVPckJ1ZmZlcih0aGlzLCBzdGF0ZSwgaXNCdWYsIGNodW5rLCBlbmNvZGluZywgY2IpO1xuICB9XG5cbiAgcmV0dXJuIHJldDtcbn07XG5cbldyaXRhYmxlLnByb3RvdHlwZS5jb3JrID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlO1xuXG4gIHN0YXRlLmNvcmtlZCsrO1xufTtcblxuV3JpdGFibGUucHJvdG90eXBlLnVuY29yayA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTtcblxuICBpZiAoc3RhdGUuY29ya2VkKSB7XG4gICAgc3RhdGUuY29ya2VkLS07XG5cbiAgICBpZiAoIXN0YXRlLndyaXRpbmcgJiYgIXN0YXRlLmNvcmtlZCAmJiAhc3RhdGUuZmluaXNoZWQgJiYgIXN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0KSBjbGVhckJ1ZmZlcih0aGlzLCBzdGF0ZSk7XG4gIH1cbn07XG5cbldyaXRhYmxlLnByb3RvdHlwZS5zZXREZWZhdWx0RW5jb2RpbmcgPSBmdW5jdGlvbiBzZXREZWZhdWx0RW5jb2RpbmcoZW5jb2RpbmcpIHtcbiAgLy8gbm9kZTo6UGFyc2VFbmNvZGluZygpIHJlcXVpcmVzIGxvd2VyIGNhc2UuXG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnKSBlbmNvZGluZyA9IGVuY29kaW5nLnRvTG93ZXJDYXNlKCk7XG4gIGlmICghKFsnaGV4JywgJ3V0ZjgnLCAndXRmLTgnLCAnYXNjaWknLCAnYmluYXJ5JywgJ2Jhc2U2NCcsICd1Y3MyJywgJ3Vjcy0yJywgJ3V0ZjE2bGUnLCAndXRmLTE2bGUnLCAncmF3J10uaW5kZXhPZigoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKSkgPiAtMSkpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZyk7XG4gIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVmYXVsdEVuY29kaW5nID0gZW5jb2Rpbmc7XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gZGVjb2RlQ2h1bmsoc3RhdGUsIGNodW5rLCBlbmNvZGluZykge1xuICBpZiAoIXN0YXRlLm9iamVjdE1vZGUgJiYgc3RhdGUuZGVjb2RlU3RyaW5ncyAhPT0gZmFsc2UgJiYgdHlwZW9mIGNodW5rID09PSAnc3RyaW5nJykge1xuICAgIGNodW5rID0gQnVmZmVyLmZyb20oY2h1bmssIGVuY29kaW5nKTtcbiAgfVxuICByZXR1cm4gY2h1bms7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZS5wcm90b3R5cGUsICd3cml0YWJsZUhpZ2hXYXRlck1hcmsnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcms7XG4gIH1cbn0pO1xuXG4vLyBpZiB3ZSdyZSBhbHJlYWR5IHdyaXRpbmcgc29tZXRoaW5nLCB0aGVuIGp1c3QgcHV0IHRoaXNcbi8vIGluIHRoZSBxdWV1ZSwgYW5kIHdhaXQgb3VyIHR1cm4uICBPdGhlcndpc2UsIGNhbGwgX3dyaXRlXG4vLyBJZiB3ZSByZXR1cm4gZmFsc2UsIHRoZW4gd2UgbmVlZCBhIGRyYWluIGV2ZW50LCBzbyBzZXQgdGhhdCBmbGFnLlxuZnVuY3Rpb24gd3JpdGVPckJ1ZmZlcihzdHJlYW0sIHN0YXRlLCBpc0J1ZiwgY2h1bmssIGVuY29kaW5nLCBjYikge1xuICBpZiAoIWlzQnVmKSB7XG4gICAgdmFyIG5ld0NodW5rID0gZGVjb2RlQ2h1bmsoc3RhdGUsIGNodW5rLCBlbmNvZGluZyk7XG4gICAgaWYgKGNodW5rICE9PSBuZXdDaHVuaykge1xuICAgICAgaXNCdWYgPSB0cnVlO1xuICAgICAgZW5jb2RpbmcgPSAnYnVmZmVyJztcbiAgICAgIGNodW5rID0gbmV3Q2h1bms7XG4gICAgfVxuICB9XG4gIHZhciBsZW4gPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcblxuICBzdGF0ZS5sZW5ndGggKz0gbGVuO1xuXG4gIHZhciByZXQgPSBzdGF0ZS5sZW5ndGggPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrO1xuICAvLyB3ZSBtdXN0IGVuc3VyZSB0aGF0IHByZXZpb3VzIG5lZWREcmFpbiB3aWxsIG5vdCBiZSByZXNldCB0byBmYWxzZS5cbiAgaWYgKCFyZXQpIHN0YXRlLm5lZWREcmFpbiA9IHRydWU7XG5cbiAgaWYgKHN0YXRlLndyaXRpbmcgfHwgc3RhdGUuY29ya2VkKSB7XG4gICAgdmFyIGxhc3QgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3QgPSB7XG4gICAgICBjaHVuazogY2h1bmssXG4gICAgICBlbmNvZGluZzogZW5jb2RpbmcsXG4gICAgICBpc0J1ZjogaXNCdWYsXG4gICAgICBjYWxsYmFjazogY2IsXG4gICAgICBuZXh0OiBudWxsXG4gICAgfTtcbiAgICBpZiAobGFzdCkge1xuICAgICAgbGFzdC5uZXh0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtcbiAgICB9XG4gICAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQgKz0gMTtcbiAgfSBlbHNlIHtcbiAgICBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIGZhbHNlLCBsZW4sIGNodW5rLCBlbmNvZGluZywgY2IpO1xuICB9XG5cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCB3cml0ZXYsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYikge1xuICBzdGF0ZS53cml0ZWxlbiA9IGxlbjtcbiAgc3RhdGUud3JpdGVjYiA9IGNiO1xuICBzdGF0ZS53cml0aW5nID0gdHJ1ZTtcbiAgc3RhdGUuc3luYyA9IHRydWU7XG4gIGlmICh3cml0ZXYpIHN0cmVhbS5fd3JpdGV2KGNodW5rLCBzdGF0ZS5vbndyaXRlKTtlbHNlIHN0cmVhbS5fd3JpdGUoY2h1bmssIGVuY29kaW5nLCBzdGF0ZS5vbndyaXRlKTtcbiAgc3RhdGUuc3luYyA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBvbndyaXRlRXJyb3Ioc3RyZWFtLCBzdGF0ZSwgc3luYywgZXIsIGNiKSB7XG4gIC0tc3RhdGUucGVuZGluZ2NiO1xuXG4gIGlmIChzeW5jKSB7XG4gICAgLy8gZGVmZXIgdGhlIGNhbGxiYWNrIGlmIHdlIGFyZSBiZWluZyBjYWxsZWQgc3luY2hyb25vdXNseVxuICAgIC8vIHRvIGF2b2lkIHBpbGluZyB1cCB0aGluZ3Mgb24gdGhlIHN0YWNrXG4gICAgcG5hLm5leHRUaWNrKGNiLCBlcik7XG4gICAgLy8gdGhpcyBjYW4gZW1pdCBmaW5pc2gsIGFuZCBpdCB3aWxsIGFsd2F5cyBoYXBwZW5cbiAgICAvLyBhZnRlciBlcnJvclxuICAgIHBuYS5uZXh0VGljayhmaW5pc2hNYXliZSwgc3RyZWFtLCBzdGF0ZSk7XG4gICAgc3RyZWFtLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZCA9IHRydWU7XG4gICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuICB9IGVsc2Uge1xuICAgIC8vIHRoZSBjYWxsZXIgZXhwZWN0IHRoaXMgdG8gaGFwcGVuIGJlZm9yZSBpZlxuICAgIC8vIGl0IGlzIGFzeW5jXG4gICAgY2IoZXIpO1xuICAgIHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSB0cnVlO1xuICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVyKTtcbiAgICAvLyB0aGlzIGNhbiBlbWl0IGZpbmlzaCwgYnV0IGZpbmlzaCBtdXN0XG4gICAgLy8gYWx3YXlzIGZvbGxvdyBlcnJvclxuICAgIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9ud3JpdGVTdGF0ZVVwZGF0ZShzdGF0ZSkge1xuICBzdGF0ZS53cml0aW5nID0gZmFsc2U7XG4gIHN0YXRlLndyaXRlY2IgPSBudWxsO1xuICBzdGF0ZS5sZW5ndGggLT0gc3RhdGUud3JpdGVsZW47XG4gIHN0YXRlLndyaXRlbGVuID0gMDtcbn1cblxuZnVuY3Rpb24gb253cml0ZShzdHJlYW0sIGVyKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fd3JpdGFibGVTdGF0ZTtcbiAgdmFyIHN5bmMgPSBzdGF0ZS5zeW5jO1xuICB2YXIgY2IgPSBzdGF0ZS53cml0ZWNiO1xuXG4gIG9ud3JpdGVTdGF0ZVVwZGF0ZShzdGF0ZSk7XG5cbiAgaWYgKGVyKSBvbndyaXRlRXJyb3Ioc3RyZWFtLCBzdGF0ZSwgc3luYywgZXIsIGNiKTtlbHNlIHtcbiAgICAvLyBDaGVjayBpZiB3ZSdyZSBhY3R1YWxseSByZWFkeSB0byBmaW5pc2gsIGJ1dCBkb24ndCBlbWl0IHlldFxuICAgIHZhciBmaW5pc2hlZCA9IG5lZWRGaW5pc2goc3RhdGUpO1xuXG4gICAgaWYgKCFmaW5pc2hlZCAmJiAhc3RhdGUuY29ya2VkICYmICFzdGF0ZS5idWZmZXJQcm9jZXNzaW5nICYmIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCkge1xuICAgICAgY2xlYXJCdWZmZXIoc3RyZWFtLCBzdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKHN5bmMpIHtcbiAgICAgIC8qPHJlcGxhY2VtZW50PiovXG4gICAgICBhc3luY1dyaXRlKGFmdGVyV3JpdGUsIHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7XG4gICAgICAvKjwvcmVwbGFjZW1lbnQ+Ki9cbiAgICB9IGVsc2Uge1xuICAgICAgYWZ0ZXJXcml0ZShzdHJlYW0sIHN0YXRlLCBmaW5pc2hlZCwgY2IpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhZnRlcldyaXRlKHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYikge1xuICBpZiAoIWZpbmlzaGVkKSBvbndyaXRlRHJhaW4oc3RyZWFtLCBzdGF0ZSk7XG4gIHN0YXRlLnBlbmRpbmdjYi0tO1xuICBjYigpO1xuICBmaW5pc2hNYXliZShzdHJlYW0sIHN0YXRlKTtcbn1cblxuLy8gTXVzdCBmb3JjZSBjYWxsYmFjayB0byBiZSBjYWxsZWQgb24gbmV4dFRpY2ssIHNvIHRoYXQgd2UgZG9uJ3Rcbi8vIGVtaXQgJ2RyYWluJyBiZWZvcmUgdGhlIHdyaXRlKCkgY29uc3VtZXIgZ2V0cyB0aGUgJ2ZhbHNlJyByZXR1cm5cbi8vIHZhbHVlLCBhbmQgaGFzIGEgY2hhbmNlIHRvIGF0dGFjaCBhICdkcmFpbicgbGlzdGVuZXIuXG5mdW5jdGlvbiBvbndyaXRlRHJhaW4oc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLm5lZWREcmFpbikge1xuICAgIHN0YXRlLm5lZWREcmFpbiA9IGZhbHNlO1xuICAgIHN0cmVhbS5lbWl0KCdkcmFpbicpO1xuICB9XG59XG5cbi8vIGlmIHRoZXJlJ3Mgc29tZXRoaW5nIGluIHRoZSBidWZmZXIgd2FpdGluZywgdGhlbiBwcm9jZXNzIGl0XG5mdW5jdGlvbiBjbGVhckJ1ZmZlcihzdHJlYW0sIHN0YXRlKSB7XG4gIHN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgPSB0cnVlO1xuICB2YXIgZW50cnkgPSBzdGF0ZS5idWZmZXJlZFJlcXVlc3Q7XG5cbiAgaWYgKHN0cmVhbS5fd3JpdGV2ICYmIGVudHJ5ICYmIGVudHJ5Lm5leHQpIHtcbiAgICAvLyBGYXN0IGNhc2UsIHdyaXRlIGV2ZXJ5dGhpbmcgdXNpbmcgX3dyaXRldigpXG4gICAgdmFyIGwgPSBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudDtcbiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5KGwpO1xuICAgIHZhciBob2xkZXIgPSBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWU7XG4gICAgaG9sZGVyLmVudHJ5ID0gZW50cnk7XG5cbiAgICB2YXIgY291bnQgPSAwO1xuICAgIHZhciBhbGxCdWZmZXJzID0gdHJ1ZTtcbiAgICB3aGlsZSAoZW50cnkpIHtcbiAgICAgIGJ1ZmZlcltjb3VudF0gPSBlbnRyeTtcbiAgICAgIGlmICghZW50cnkuaXNCdWYpIGFsbEJ1ZmZlcnMgPSBmYWxzZTtcbiAgICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgICAgIGNvdW50ICs9IDE7XG4gICAgfVxuICAgIGJ1ZmZlci5hbGxCdWZmZXJzID0gYWxsQnVmZmVycztcblxuICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgdHJ1ZSwgc3RhdGUubGVuZ3RoLCBidWZmZXIsICcnLCBob2xkZXIuZmluaXNoKTtcblxuICAgIC8vIGRvV3JpdGUgaXMgYWxtb3N0IGFsd2F5cyBhc3luYywgZGVmZXIgdGhlc2UgdG8gc2F2ZSBhIGJpdCBvZiB0aW1lXG4gICAgLy8gYXMgdGhlIGhvdCBwYXRoIGVuZHMgd2l0aCBkb1dyaXRlXG4gICAgc3RhdGUucGVuZGluZ2NiKys7XG4gICAgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IG51bGw7XG4gICAgaWYgKGhvbGRlci5uZXh0KSB7XG4gICAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBob2xkZXIubmV4dDtcbiAgICAgIGhvbGRlci5uZXh0ID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlID0gbmV3IENvcmtlZFJlcXVlc3Qoc3RhdGUpO1xuICAgIH1cbiAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gU2xvdyBjYXNlLCB3cml0ZSBjaHVua3Mgb25lLWJ5LW9uZVxuICAgIHdoaWxlIChlbnRyeSkge1xuICAgICAgdmFyIGNodW5rID0gZW50cnkuY2h1bms7XG4gICAgICB2YXIgZW5jb2RpbmcgPSBlbnRyeS5lbmNvZGluZztcbiAgICAgIHZhciBjYiA9IGVudHJ5LmNhbGxiYWNrO1xuICAgICAgdmFyIGxlbiA9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoO1xuXG4gICAgICBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIGZhbHNlLCBsZW4sIGNodW5rLCBlbmNvZGluZywgY2IpO1xuICAgICAgZW50cnkgPSBlbnRyeS5uZXh0O1xuICAgICAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQtLTtcbiAgICAgIC8vIGlmIHdlIGRpZG4ndCBjYWxsIHRoZSBvbndyaXRlIGltbWVkaWF0ZWx5LCB0aGVuXG4gICAgICAvLyBpdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gd2FpdCB1bnRpbCBpdCBkb2VzLlxuICAgICAgLy8gYWxzbywgdGhhdCBtZWFucyB0aGF0IHRoZSBjaHVuayBhbmQgY2IgYXJlIGN1cnJlbnRseVxuICAgICAgLy8gYmVpbmcgcHJvY2Vzc2VkLCBzbyBtb3ZlIHRoZSBidWZmZXIgY291bnRlciBwYXN0IHRoZW0uXG4gICAgICBpZiAoc3RhdGUud3JpdGluZykge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZW50cnkgPT09IG51bGwpIHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3QgPSBudWxsO1xuICB9XG5cbiAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID0gZW50cnk7XG4gIHN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgPSBmYWxzZTtcbn1cblxuV3JpdGFibGUucHJvdG90eXBlLl93cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGNiKG5ldyBFcnJvcignX3dyaXRlKCkgaXMgbm90IGltcGxlbWVudGVkJykpO1xufTtcblxuV3JpdGFibGUucHJvdG90eXBlLl93cml0ZXYgPSBudWxsO1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTtcblxuICBpZiAodHlwZW9mIGNodW5rID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBjaHVuaztcbiAgICBjaHVuayA9IG51bGw7XG4gICAgZW5jb2RpbmcgPSBudWxsO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gZW5jb2Rpbmc7XG4gICAgZW5jb2RpbmcgPSBudWxsO1xuICB9XG5cbiAgaWYgKGNodW5rICE9PSBudWxsICYmIGNodW5rICE9PSB1bmRlZmluZWQpIHRoaXMud3JpdGUoY2h1bmssIGVuY29kaW5nKTtcblxuICAvLyAuZW5kKCkgZnVsbHkgdW5jb3Jrc1xuICBpZiAoc3RhdGUuY29ya2VkKSB7XG4gICAgc3RhdGUuY29ya2VkID0gMTtcbiAgICB0aGlzLnVuY29yaygpO1xuICB9XG5cbiAgLy8gaWdub3JlIHVubmVjZXNzYXJ5IGVuZCgpIGNhbGxzLlxuICBpZiAoIXN0YXRlLmVuZGluZyAmJiAhc3RhdGUuZmluaXNoZWQpIGVuZFdyaXRhYmxlKHRoaXMsIHN0YXRlLCBjYik7XG59O1xuXG5mdW5jdGlvbiBuZWVkRmluaXNoKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS5lbmRpbmcgJiYgc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCA9PT0gbnVsbCAmJiAhc3RhdGUuZmluaXNoZWQgJiYgIXN0YXRlLndyaXRpbmc7XG59XG5mdW5jdGlvbiBjYWxsRmluYWwoc3RyZWFtLCBzdGF0ZSkge1xuICBzdHJlYW0uX2ZpbmFsKGZ1bmN0aW9uIChlcnIpIHtcbiAgICBzdGF0ZS5wZW5kaW5nY2ItLTtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgIH1cbiAgICBzdGF0ZS5wcmVmaW5pc2hlZCA9IHRydWU7XG4gICAgc3RyZWFtLmVtaXQoJ3ByZWZpbmlzaCcpO1xuICAgIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKSB7XG4gIGlmICghc3RhdGUucHJlZmluaXNoZWQgJiYgIXN0YXRlLmZpbmFsQ2FsbGVkKSB7XG4gICAgaWYgKHR5cGVvZiBzdHJlYW0uX2ZpbmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBzdGF0ZS5wZW5kaW5nY2IrKztcbiAgICAgIHN0YXRlLmZpbmFsQ2FsbGVkID0gdHJ1ZTtcbiAgICAgIHBuYS5uZXh0VGljayhjYWxsRmluYWwsIHN0cmVhbSwgc3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5wcmVmaW5pc2hlZCA9IHRydWU7XG4gICAgICBzdHJlYW0uZW1pdCgncHJlZmluaXNoJyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpIHtcbiAgdmFyIG5lZWQgPSBuZWVkRmluaXNoKHN0YXRlKTtcbiAgaWYgKG5lZWQpIHtcbiAgICBwcmVmaW5pc2goc3RyZWFtLCBzdGF0ZSk7XG4gICAgaWYgKHN0YXRlLnBlbmRpbmdjYiA9PT0gMCkge1xuICAgICAgc3RhdGUuZmluaXNoZWQgPSB0cnVlO1xuICAgICAgc3RyZWFtLmVtaXQoJ2ZpbmlzaCcpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmVlZDtcbn1cblxuZnVuY3Rpb24gZW5kV3JpdGFibGUoc3RyZWFtLCBzdGF0ZSwgY2IpIHtcbiAgc3RhdGUuZW5kaW5nID0gdHJ1ZTtcbiAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG4gIGlmIChjYikge1xuICAgIGlmIChzdGF0ZS5maW5pc2hlZCkgcG5hLm5leHRUaWNrKGNiKTtlbHNlIHN0cmVhbS5vbmNlKCdmaW5pc2gnLCBjYik7XG4gIH1cbiAgc3RhdGUuZW5kZWQgPSB0cnVlO1xuICBzdHJlYW0ud3JpdGFibGUgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gb25Db3JrZWRGaW5pc2goY29ya1JlcSwgc3RhdGUsIGVycikge1xuICB2YXIgZW50cnkgPSBjb3JrUmVxLmVudHJ5O1xuICBjb3JrUmVxLmVudHJ5ID0gbnVsbDtcbiAgd2hpbGUgKGVudHJ5KSB7XG4gICAgdmFyIGNiID0gZW50cnkuY2FsbGJhY2s7XG4gICAgc3RhdGUucGVuZGluZ2NiLS07XG4gICAgY2IoZXJyKTtcbiAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7XG4gIH1cbiAgaWYgKHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSkge1xuICAgIHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZS5uZXh0ID0gY29ya1JlcTtcbiAgfSBlbHNlIHtcbiAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBjb3JrUmVxO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZS5wcm90b3R5cGUsICdkZXN0cm95ZWQnLCB7XG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl93cml0YWJsZVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIHdlIGlnbm9yZSB0aGUgdmFsdWUgaWYgdGhlIHN0cmVhbVxuICAgIC8vIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCB5ZXRcbiAgICBpZiAoIXRoaXMuX3dyaXRhYmxlU3RhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCB0aGUgdXNlciBpcyBleHBsaWNpdGx5XG4gICAgLy8gbWFuYWdpbmcgZGVzdHJveWVkXG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB2YWx1ZTtcbiAgfVxufSk7XG5cbldyaXRhYmxlLnByb3RvdHlwZS5kZXN0cm95ID0gZGVzdHJveUltcGwuZGVzdHJveTtcbldyaXRhYmxlLnByb3RvdHlwZS5fdW5kZXN0cm95ID0gZGVzdHJveUltcGwudW5kZXN0cm95O1xuV3JpdGFibGUucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgdGhpcy5lbmQoKTtcbiAgY2IoZXJyKTtcbn07IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJykuQnVmZmVyO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbnZhciBpc0VuY29kaW5nID0gQnVmZmVyLmlzRW5jb2RpbmcgfHwgZnVuY3Rpb24gKGVuY29kaW5nKSB7XG4gIGVuY29kaW5nID0gJycgKyBlbmNvZGluZztcbiAgc3dpdGNoIChlbmNvZGluZyAmJiBlbmNvZGluZy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpjYXNlICd1dGY4JzpjYXNlICd1dGYtOCc6Y2FzZSAnYXNjaWknOmNhc2UgJ2JpbmFyeSc6Y2FzZSAnYmFzZTY0JzpjYXNlICd1Y3MyJzpjYXNlICd1Y3MtMic6Y2FzZSAndXRmMTZsZSc6Y2FzZSAndXRmLTE2bGUnOmNhc2UgJ3Jhdyc6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5mdW5jdGlvbiBfbm9ybWFsaXplRW5jb2RpbmcoZW5jKSB7XG4gIGlmICghZW5jKSByZXR1cm4gJ3V0ZjgnO1xuICB2YXIgcmV0cmllZDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuYykge1xuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiAndXRmOCc7XG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gJ3V0ZjE2bGUnO1xuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiAnbGF0aW4xJztcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gZW5jO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHJldHJpZWQpIHJldHVybjsgLy8gdW5kZWZpbmVkXG4gICAgICAgIGVuYyA9ICgnJyArIGVuYykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0cmllZCA9IHRydWU7XG4gICAgfVxuICB9XG59O1xuXG4vLyBEbyBub3QgY2FjaGUgYEJ1ZmZlci5pc0VuY29kaW5nYCB3aGVuIGNoZWNraW5nIGVuY29kaW5nIG5hbWVzIGFzIHNvbWVcbi8vIG1vZHVsZXMgbW9ua2V5LXBhdGNoIGl0IHRvIHN1cHBvcnQgYWRkaXRpb25hbCBlbmNvZGluZ3NcbmZ1bmN0aW9uIG5vcm1hbGl6ZUVuY29kaW5nKGVuYykge1xuICB2YXIgbmVuYyA9IF9ub3JtYWxpemVFbmNvZGluZyhlbmMpO1xuICBpZiAodHlwZW9mIG5lbmMgIT09ICdzdHJpbmcnICYmIChCdWZmZXIuaXNFbmNvZGluZyA9PT0gaXNFbmNvZGluZyB8fCAhaXNFbmNvZGluZyhlbmMpKSkgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jKTtcbiAgcmV0dXJuIG5lbmMgfHwgZW5jO1xufVxuXG4vLyBTdHJpbmdEZWNvZGVyIHByb3ZpZGVzIGFuIGludGVyZmFjZSBmb3IgZWZmaWNpZW50bHkgc3BsaXR0aW5nIGEgc2VyaWVzIG9mXG4vLyBidWZmZXJzIGludG8gYSBzZXJpZXMgb2YgSlMgc3RyaW5ncyB3aXRob3V0IGJyZWFraW5nIGFwYXJ0IG11bHRpLWJ5dGVcbi8vIGNoYXJhY3RlcnMuXG5leHBvcnRzLlN0cmluZ0RlY29kZXIgPSBTdHJpbmdEZWNvZGVyO1xuZnVuY3Rpb24gU3RyaW5nRGVjb2RlcihlbmNvZGluZykge1xuICB0aGlzLmVuY29kaW5nID0gbm9ybWFsaXplRW5jb2RpbmcoZW5jb2RpbmcpO1xuICB2YXIgbmI7XG4gIHN3aXRjaCAodGhpcy5lbmNvZGluZykge1xuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgdGhpcy50ZXh0ID0gdXRmMTZUZXh0O1xuICAgICAgdGhpcy5lbmQgPSB1dGYxNkVuZDtcbiAgICAgIG5iID0gNDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgdGhpcy5maWxsTGFzdCA9IHV0ZjhGaWxsTGFzdDtcbiAgICAgIG5iID0gNDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICB0aGlzLnRleHQgPSBiYXNlNjRUZXh0O1xuICAgICAgdGhpcy5lbmQgPSBiYXNlNjRFbmQ7XG4gICAgICBuYiA9IDM7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhpcy53cml0ZSA9IHNpbXBsZVdyaXRlO1xuICAgICAgdGhpcy5lbmQgPSBzaW1wbGVFbmQ7XG4gICAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5sYXN0TmVlZCA9IDA7XG4gIHRoaXMubGFzdFRvdGFsID0gMDtcbiAgdGhpcy5sYXN0Q2hhciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShuYik7XG59XG5cblN0cmluZ0RlY29kZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGJ1Zikge1xuICBpZiAoYnVmLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcnO1xuICB2YXIgcjtcbiAgdmFyIGk7XG4gIGlmICh0aGlzLmxhc3ROZWVkKSB7XG4gICAgciA9IHRoaXMuZmlsbExhc3QoYnVmKTtcbiAgICBpZiAociA9PT0gdW5kZWZpbmVkKSByZXR1cm4gJyc7XG4gICAgaSA9IHRoaXMubGFzdE5lZWQ7XG4gICAgdGhpcy5sYXN0TmVlZCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgaSA9IDA7XG4gIH1cbiAgaWYgKGkgPCBidWYubGVuZ3RoKSByZXR1cm4gciA/IHIgKyB0aGlzLnRleHQoYnVmLCBpKSA6IHRoaXMudGV4dChidWYsIGkpO1xuICByZXR1cm4gciB8fCAnJztcbn07XG5cblN0cmluZ0RlY29kZXIucHJvdG90eXBlLmVuZCA9IHV0ZjhFbmQ7XG5cbi8vIFJldHVybnMgb25seSBjb21wbGV0ZSBjaGFyYWN0ZXJzIGluIGEgQnVmZmVyXG5TdHJpbmdEZWNvZGVyLnByb3RvdHlwZS50ZXh0ID0gdXRmOFRleHQ7XG5cbi8vIEF0dGVtcHRzIHRvIGNvbXBsZXRlIGEgcGFydGlhbCBub24tVVRGLTggY2hhcmFjdGVyIHVzaW5nIGJ5dGVzIGZyb20gYSBCdWZmZXJcblN0cmluZ0RlY29kZXIucHJvdG90eXBlLmZpbGxMYXN0ID0gZnVuY3Rpb24gKGJ1Zikge1xuICBpZiAodGhpcy5sYXN0TmVlZCA8PSBidWYubGVuZ3RoKSB7XG4gICAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkLCAwLCB0aGlzLmxhc3ROZWVkKTtcbiAgICByZXR1cm4gdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLCAwLCB0aGlzLmxhc3RUb3RhbCk7XG4gIH1cbiAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkLCAwLCBidWYubGVuZ3RoKTtcbiAgdGhpcy5sYXN0TmVlZCAtPSBidWYubGVuZ3RoO1xufTtcblxuLy8gQ2hlY2tzIHRoZSB0eXBlIG9mIGEgVVRGLTggYnl0ZSwgd2hldGhlciBpdCdzIEFTQ0lJLCBhIGxlYWRpbmcgYnl0ZSwgb3IgYVxuLy8gY29udGludWF0aW9uIGJ5dGUuIElmIGFuIGludmFsaWQgYnl0ZSBpcyBkZXRlY3RlZCwgLTIgaXMgcmV0dXJuZWQuXG5mdW5jdGlvbiB1dGY4Q2hlY2tCeXRlKGJ5dGUpIHtcbiAgaWYgKGJ5dGUgPD0gMHg3RikgcmV0dXJuIDA7ZWxzZSBpZiAoYnl0ZSA+PiA1ID09PSAweDA2KSByZXR1cm4gMjtlbHNlIGlmIChieXRlID4+IDQgPT09IDB4MEUpIHJldHVybiAzO2Vsc2UgaWYgKGJ5dGUgPj4gMyA9PT0gMHgxRSkgcmV0dXJuIDQ7XG4gIHJldHVybiBieXRlID4+IDYgPT09IDB4MDIgPyAtMSA6IC0yO1xufVxuXG4vLyBDaGVja3MgYXQgbW9zdCAzIGJ5dGVzIGF0IHRoZSBlbmQgb2YgYSBCdWZmZXIgaW4gb3JkZXIgdG8gZGV0ZWN0IGFuXG4vLyBpbmNvbXBsZXRlIG11bHRpLWJ5dGUgVVRGLTggY2hhcmFjdGVyLiBUaGUgdG90YWwgbnVtYmVyIG9mIGJ5dGVzICgyLCAzLCBvciA0KVxuLy8gbmVlZGVkIHRvIGNvbXBsZXRlIHRoZSBVVEYtOCBjaGFyYWN0ZXIgKGlmIGFwcGxpY2FibGUpIGFyZSByZXR1cm5lZC5cbmZ1bmN0aW9uIHV0ZjhDaGVja0luY29tcGxldGUoc2VsZiwgYnVmLCBpKSB7XG4gIHZhciBqID0gYnVmLmxlbmd0aCAtIDE7XG4gIGlmIChqIDwgaSkgcmV0dXJuIDA7XG4gIHZhciBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTtcbiAgaWYgKG5iID49IDApIHtcbiAgICBpZiAobmIgPiAwKSBzZWxmLmxhc3ROZWVkID0gbmIgLSAxO1xuICAgIHJldHVybiBuYjtcbiAgfVxuICBpZiAoLS1qIDwgaSB8fCBuYiA9PT0gLTIpIHJldHVybiAwO1xuICBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTtcbiAgaWYgKG5iID49IDApIHtcbiAgICBpZiAobmIgPiAwKSBzZWxmLmxhc3ROZWVkID0gbmIgLSAyO1xuICAgIHJldHVybiBuYjtcbiAgfVxuICBpZiAoLS1qIDwgaSB8fCBuYiA9PT0gLTIpIHJldHVybiAwO1xuICBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTtcbiAgaWYgKG5iID49IDApIHtcbiAgICBpZiAobmIgPiAwKSB7XG4gICAgICBpZiAobmIgPT09IDIpIG5iID0gMDtlbHNlIHNlbGYubGFzdE5lZWQgPSBuYiAtIDM7XG4gICAgfVxuICAgIHJldHVybiBuYjtcbiAgfVxuICByZXR1cm4gMDtcbn1cblxuLy8gVmFsaWRhdGVzIGFzIG1hbnkgY29udGludWF0aW9uIGJ5dGVzIGZvciBhIG11bHRpLWJ5dGUgVVRGLTggY2hhcmFjdGVyIGFzXG4vLyBuZWVkZWQgb3IgYXJlIGF2YWlsYWJsZS4gSWYgd2Ugc2VlIGEgbm9uLWNvbnRpbnVhdGlvbiBieXRlIHdoZXJlIHdlIGV4cGVjdFxuLy8gb25lLCB3ZSBcInJlcGxhY2VcIiB0aGUgdmFsaWRhdGVkIGNvbnRpbnVhdGlvbiBieXRlcyB3ZSd2ZSBzZWVuIHNvIGZhciB3aXRoXG4vLyBhIHNpbmdsZSBVVEYtOCByZXBsYWNlbWVudCBjaGFyYWN0ZXIgKCdcXHVmZmZkJyksIHRvIG1hdGNoIHY4J3MgVVRGLTggZGVjb2Rpbmdcbi8vIGJlaGF2aW9yLiBUaGUgY29udGludWF0aW9uIGJ5dGUgY2hlY2sgaXMgaW5jbHVkZWQgdGhyZWUgdGltZXMgaW4gdGhlIGNhc2Vcbi8vIHdoZXJlIGFsbCBvZiB0aGUgY29udGludWF0aW9uIGJ5dGVzIGZvciBhIGNoYXJhY3RlciBleGlzdCBpbiB0aGUgc2FtZSBidWZmZXIuXG4vLyBJdCBpcyBhbHNvIGRvbmUgdGhpcyB3YXkgYXMgYSBzbGlnaHQgcGVyZm9ybWFuY2UgaW5jcmVhc2UgaW5zdGVhZCBvZiB1c2luZyBhXG4vLyBsb29wLlxuZnVuY3Rpb24gdXRmOENoZWNrRXh0cmFCeXRlcyhzZWxmLCBidWYsIHApIHtcbiAgaWYgKChidWZbMF0gJiAweEMwKSAhPT0gMHg4MCkge1xuICAgIHNlbGYubGFzdE5lZWQgPSAwO1xuICAgIHJldHVybiAnXFx1ZmZmZCc7XG4gIH1cbiAgaWYgKHNlbGYubGFzdE5lZWQgPiAxICYmIGJ1Zi5sZW5ndGggPiAxKSB7XG4gICAgaWYgKChidWZbMV0gJiAweEMwKSAhPT0gMHg4MCkge1xuICAgICAgc2VsZi5sYXN0TmVlZCA9IDE7XG4gICAgICByZXR1cm4gJ1xcdWZmZmQnO1xuICAgIH1cbiAgICBpZiAoc2VsZi5sYXN0TmVlZCA+IDIgJiYgYnVmLmxlbmd0aCA+IDIpIHtcbiAgICAgIGlmICgoYnVmWzJdICYgMHhDMCkgIT09IDB4ODApIHtcbiAgICAgICAgc2VsZi5sYXN0TmVlZCA9IDI7XG4gICAgICAgIHJldHVybiAnXFx1ZmZmZCc7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIEF0dGVtcHRzIHRvIGNvbXBsZXRlIGEgbXVsdGktYnl0ZSBVVEYtOCBjaGFyYWN0ZXIgdXNpbmcgYnl0ZXMgZnJvbSBhIEJ1ZmZlci5cbmZ1bmN0aW9uIHV0ZjhGaWxsTGFzdChidWYpIHtcbiAgdmFyIHAgPSB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQ7XG4gIHZhciByID0gdXRmOENoZWNrRXh0cmFCeXRlcyh0aGlzLCBidWYsIHApO1xuICBpZiAociAhPT0gdW5kZWZpbmVkKSByZXR1cm4gcjtcbiAgaWYgKHRoaXMubGFzdE5lZWQgPD0gYnVmLmxlbmd0aCkge1xuICAgIGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIsIHAsIDAsIHRoaXMubGFzdE5lZWQpO1xuICAgIHJldHVybiB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsIDAsIHRoaXMubGFzdFRvdGFsKTtcbiAgfVxuICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCBwLCAwLCBidWYubGVuZ3RoKTtcbiAgdGhpcy5sYXN0TmVlZCAtPSBidWYubGVuZ3RoO1xufVxuXG4vLyBSZXR1cm5zIGFsbCBjb21wbGV0ZSBVVEYtOCBjaGFyYWN0ZXJzIGluIGEgQnVmZmVyLiBJZiB0aGUgQnVmZmVyIGVuZGVkIG9uIGFcbi8vIHBhcnRpYWwgY2hhcmFjdGVyLCB0aGUgY2hhcmFjdGVyJ3MgYnl0ZXMgYXJlIGJ1ZmZlcmVkIHVudGlsIHRoZSByZXF1aXJlZFxuLy8gbnVtYmVyIG9mIGJ5dGVzIGFyZSBhdmFpbGFibGUuXG5mdW5jdGlvbiB1dGY4VGV4dChidWYsIGkpIHtcbiAgdmFyIHRvdGFsID0gdXRmOENoZWNrSW5jb21wbGV0ZSh0aGlzLCBidWYsIGkpO1xuICBpZiAoIXRoaXMubGFzdE5lZWQpIHJldHVybiBidWYudG9TdHJpbmcoJ3V0ZjgnLCBpKTtcbiAgdGhpcy5sYXN0VG90YWwgPSB0b3RhbDtcbiAgdmFyIGVuZCA9IGJ1Zi5sZW5ndGggLSAodG90YWwgLSB0aGlzLmxhc3ROZWVkKTtcbiAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgMCwgZW5kKTtcbiAgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmOCcsIGksIGVuZCk7XG59XG5cbi8vIEZvciBVVEYtOCwgYSByZXBsYWNlbWVudCBjaGFyYWN0ZXIgaXMgYWRkZWQgd2hlbiBlbmRpbmcgb24gYSBwYXJ0aWFsXG4vLyBjaGFyYWN0ZXIuXG5mdW5jdGlvbiB1dGY4RW5kKGJ1Zikge1xuICB2YXIgciA9IGJ1ZiAmJiBidWYubGVuZ3RoID8gdGhpcy53cml0ZShidWYpIDogJyc7XG4gIGlmICh0aGlzLmxhc3ROZWVkKSByZXR1cm4gciArICdcXHVmZmZkJztcbiAgcmV0dXJuIHI7XG59XG5cbi8vIFVURi0xNkxFIHR5cGljYWxseSBuZWVkcyB0d28gYnl0ZXMgcGVyIGNoYXJhY3RlciwgYnV0IGV2ZW4gaWYgd2UgaGF2ZSBhbiBldmVuXG4vLyBudW1iZXIgb2YgYnl0ZXMgYXZhaWxhYmxlLCB3ZSBuZWVkIHRvIGNoZWNrIGlmIHdlIGVuZCBvbiBhIGxlYWRpbmcvaGlnaFxuLy8gc3Vycm9nYXRlLiBJbiB0aGF0IGNhc2UsIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIG5leHQgdHdvIGJ5dGVzIGluIG9yZGVyIHRvXG4vLyBkZWNvZGUgdGhlIGxhc3QgY2hhcmFjdGVyIHByb3Blcmx5LlxuZnVuY3Rpb24gdXRmMTZUZXh0KGJ1ZiwgaSkge1xuICBpZiAoKGJ1Zi5sZW5ndGggLSBpKSAlIDIgPT09IDApIHtcbiAgICB2YXIgciA9IGJ1Zi50b1N0cmluZygndXRmMTZsZScsIGkpO1xuICAgIGlmIChyKSB7XG4gICAgICB2YXIgYyA9IHIuY2hhckNvZGVBdChyLmxlbmd0aCAtIDEpO1xuICAgICAgaWYgKGMgPj0gMHhEODAwICYmIGMgPD0gMHhEQkZGKSB7XG4gICAgICAgIHRoaXMubGFzdE5lZWQgPSAyO1xuICAgICAgICB0aGlzLmxhc3RUb3RhbCA9IDQ7XG4gICAgICAgIHRoaXMubGFzdENoYXJbMF0gPSBidWZbYnVmLmxlbmd0aCAtIDJdO1xuICAgICAgICB0aGlzLmxhc3RDaGFyWzFdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgICAgICAgcmV0dXJuIHIuc2xpY2UoMCwgLTEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuICB0aGlzLmxhc3ROZWVkID0gMTtcbiAgdGhpcy5sYXN0VG90YWwgPSAyO1xuICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmMTZsZScsIGksIGJ1Zi5sZW5ndGggLSAxKTtcbn1cblxuLy8gRm9yIFVURi0xNkxFIHdlIGRvIG5vdCBleHBsaWNpdGx5IGFwcGVuZCBzcGVjaWFsIHJlcGxhY2VtZW50IGNoYXJhY3RlcnMgaWYgd2Vcbi8vIGVuZCBvbiBhIHBhcnRpYWwgY2hhcmFjdGVyLCB3ZSBzaW1wbHkgbGV0IHY4IGhhbmRsZSB0aGF0LlxuZnVuY3Rpb24gdXRmMTZFbmQoYnVmKSB7XG4gIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHtcbiAgICB2YXIgZW5kID0gdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkO1xuICAgIHJldHVybiByICsgdGhpcy5sYXN0Q2hhci50b1N0cmluZygndXRmMTZsZScsIDAsIGVuZCk7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRleHQoYnVmLCBpKSB7XG4gIHZhciBuID0gKGJ1Zi5sZW5ndGggLSBpKSAlIDM7XG4gIGlmIChuID09PSAwKSByZXR1cm4gYnVmLnRvU3RyaW5nKCdiYXNlNjQnLCBpKTtcbiAgdGhpcy5sYXN0TmVlZCA9IDMgLSBuO1xuICB0aGlzLmxhc3RUb3RhbCA9IDM7XG4gIGlmIChuID09PSAxKSB7XG4gICAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMV07XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMl07XG4gICAgdGhpcy5sYXN0Q2hhclsxXSA9IGJ1ZltidWYubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIGJ1Zi50b1N0cmluZygnYmFzZTY0JywgaSwgYnVmLmxlbmd0aCAtIG4pO1xufVxuXG5mdW5jdGlvbiBiYXNlNjRFbmQoYnVmKSB7XG4gIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHJldHVybiByICsgdGhpcy5sYXN0Q2hhci50b1N0cmluZygnYmFzZTY0JywgMCwgMyAtIHRoaXMubGFzdE5lZWQpO1xuICByZXR1cm4gcjtcbn1cblxuLy8gUGFzcyBieXRlcyBvbiB0aHJvdWdoIGZvciBzaW5nbGUtYnl0ZSBlbmNvZGluZ3MgKGUuZy4gYXNjaWksIGxhdGluMSwgaGV4KVxuZnVuY3Rpb24gc2ltcGxlV3JpdGUoYnVmKSB7XG4gIHJldHVybiBidWYudG9TdHJpbmcodGhpcy5lbmNvZGluZyk7XG59XG5cbmZ1bmN0aW9uIHNpbXBsZUVuZChidWYpIHtcbiAgcmV0dXJuIGJ1ZiAmJiBidWYubGVuZ3RoID8gdGhpcy53cml0ZShidWYpIDogJyc7XG59IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIGEgdHJhbnNmb3JtIHN0cmVhbSBpcyBhIHJlYWRhYmxlL3dyaXRhYmxlIHN0cmVhbSB3aGVyZSB5b3UgZG9cbi8vIHNvbWV0aGluZyB3aXRoIHRoZSBkYXRhLiAgU29tZXRpbWVzIGl0J3MgY2FsbGVkIGEgXCJmaWx0ZXJcIixcbi8vIGJ1dCB0aGF0J3Mgbm90IGEgZ3JlYXQgbmFtZSBmb3IgaXQsIHNpbmNlIHRoYXQgaW1wbGllcyBhIHRoaW5nIHdoZXJlXG4vLyBzb21lIGJpdHMgcGFzcyB0aHJvdWdoLCBhbmQgb3RoZXJzIGFyZSBzaW1wbHkgaWdub3JlZC4gIChUaGF0IHdvdWxkXG4vLyBiZSBhIHZhbGlkIGV4YW1wbGUgb2YgYSB0cmFuc2Zvcm0sIG9mIGNvdXJzZS4pXG4vL1xuLy8gV2hpbGUgdGhlIG91dHB1dCBpcyBjYXVzYWxseSByZWxhdGVkIHRvIHRoZSBpbnB1dCwgaXQncyBub3QgYVxuLy8gbmVjZXNzYXJpbHkgc3ltbWV0cmljIG9yIHN5bmNocm9ub3VzIHRyYW5zZm9ybWF0aW9uLiAgRm9yIGV4YW1wbGUsXG4vLyBhIHpsaWIgc3RyZWFtIG1pZ2h0IHRha2UgbXVsdGlwbGUgcGxhaW4tdGV4dCB3cml0ZXMoKSwgYW5kIHRoZW5cbi8vIGVtaXQgYSBzaW5nbGUgY29tcHJlc3NlZCBjaHVuayBzb21lIHRpbWUgaW4gdGhlIGZ1dHVyZS5cbi8vXG4vLyBIZXJlJ3MgaG93IHRoaXMgd29ya3M6XG4vL1xuLy8gVGhlIFRyYW5zZm9ybSBzdHJlYW0gaGFzIGFsbCB0aGUgYXNwZWN0cyBvZiB0aGUgcmVhZGFibGUgYW5kIHdyaXRhYmxlXG4vLyBzdHJlYW0gY2xhc3Nlcy4gIFdoZW4geW91IHdyaXRlKGNodW5rKSwgdGhhdCBjYWxscyBfd3JpdGUoY2h1bmssY2IpXG4vLyBpbnRlcm5hbGx5LCBhbmQgcmV0dXJucyBmYWxzZSBpZiB0aGVyZSdzIGEgbG90IG9mIHBlbmRpbmcgd3JpdGVzXG4vLyBidWZmZXJlZCB1cC4gIFdoZW4geW91IGNhbGwgcmVhZCgpLCB0aGF0IGNhbGxzIF9yZWFkKG4pIHVudGlsXG4vLyB0aGVyZSdzIGVub3VnaCBwZW5kaW5nIHJlYWRhYmxlIGRhdGEgYnVmZmVyZWQgdXAuXG4vL1xuLy8gSW4gYSB0cmFuc2Zvcm0gc3RyZWFtLCB0aGUgd3JpdHRlbiBkYXRhIGlzIHBsYWNlZCBpbiBhIGJ1ZmZlci4gIFdoZW5cbi8vIF9yZWFkKG4pIGlzIGNhbGxlZCwgaXQgdHJhbnNmb3JtcyB0aGUgcXVldWVkIHVwIGRhdGEsIGNhbGxpbmcgdGhlXG4vLyBidWZmZXJlZCBfd3JpdGUgY2IncyBhcyBpdCBjb25zdW1lcyBjaHVua3MuICBJZiBjb25zdW1pbmcgYSBzaW5nbGVcbi8vIHdyaXR0ZW4gY2h1bmsgd291bGQgcmVzdWx0IGluIG11bHRpcGxlIG91dHB1dCBjaHVua3MsIHRoZW4gdGhlIGZpcnN0XG4vLyBvdXRwdXR0ZWQgYml0IGNhbGxzIHRoZSByZWFkY2IsIGFuZCBzdWJzZXF1ZW50IGNodW5rcyBqdXN0IGdvIGludG9cbi8vIHRoZSByZWFkIGJ1ZmZlciwgYW5kIHdpbGwgY2F1c2UgaXQgdG8gZW1pdCAncmVhZGFibGUnIGlmIG5lY2Vzc2FyeS5cbi8vXG4vLyBUaGlzIHdheSwgYmFjay1wcmVzc3VyZSBpcyBhY3R1YWxseSBkZXRlcm1pbmVkIGJ5IHRoZSByZWFkaW5nIHNpZGUsXG4vLyBzaW5jZSBfcmVhZCBoYXMgdG8gYmUgY2FsbGVkIHRvIHN0YXJ0IHByb2Nlc3NpbmcgYSBuZXcgY2h1bmsuICBIb3dldmVyLFxuLy8gYSBwYXRob2xvZ2ljYWwgaW5mbGF0ZSB0eXBlIG9mIHRyYW5zZm9ybSBjYW4gY2F1c2UgZXhjZXNzaXZlIGJ1ZmZlcmluZ1xuLy8gaGVyZS4gIEZvciBleGFtcGxlLCBpbWFnaW5lIGEgc3RyZWFtIHdoZXJlIGV2ZXJ5IGJ5dGUgb2YgaW5wdXQgaXNcbi8vIGludGVycHJldGVkIGFzIGFuIGludGVnZXIgZnJvbSAwLTI1NSwgYW5kIHRoZW4gcmVzdWx0cyBpbiB0aGF0IG1hbnlcbi8vIGJ5dGVzIG9mIG91dHB1dC4gIFdyaXRpbmcgdGhlIDQgYnl0ZXMge2ZmLGZmLGZmLGZmfSB3b3VsZCByZXN1bHQgaW5cbi8vIDFrYiBvZiBkYXRhIGJlaW5nIG91dHB1dC4gIEluIHRoaXMgY2FzZSwgeW91IGNvdWxkIHdyaXRlIGEgdmVyeSBzbWFsbFxuLy8gYW1vdW50IG9mIGlucHV0LCBhbmQgZW5kIHVwIHdpdGggYSB2ZXJ5IGxhcmdlIGFtb3VudCBvZiBvdXRwdXQuICBJblxuLy8gc3VjaCBhIHBhdGhvbG9naWNhbCBpbmZsYXRpbmcgbWVjaGFuaXNtLCB0aGVyZSdkIGJlIG5vIHdheSB0byB0ZWxsXG4vLyB0aGUgc3lzdGVtIHRvIHN0b3AgZG9pbmcgdGhlIHRyYW5zZm9ybS4gIEEgc2luZ2xlIDRNQiB3cml0ZSBjb3VsZFxuLy8gY2F1c2UgdGhlIHN5c3RlbSB0byBydW4gb3V0IG9mIG1lbW9yeS5cbi8vXG4vLyBIb3dldmVyLCBldmVuIGluIHN1Y2ggYSBwYXRob2xvZ2ljYWwgY2FzZSwgb25seSBhIHNpbmdsZSB3cml0dGVuIGNodW5rXG4vLyB3b3VsZCBiZSBjb25zdW1lZCwgYW5kIHRoZW4gdGhlIHJlc3Qgd291bGQgd2FpdCAodW4tdHJhbnNmb3JtZWQpIHVudGlsXG4vLyB0aGUgcmVzdWx0cyBvZiB0aGUgcHJldmlvdXMgdHJhbnNmb3JtZWQgY2h1bmsgd2VyZSBjb25zdW1lZC5cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRyYW5zZm9ybTtcblxudmFyIER1cGxleCA9IHJlcXVpcmUoJy4vX3N0cmVhbV9kdXBsZXgnKTtcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciB1dGlsID0gcmVxdWlyZSgnY29yZS11dGlsLWlzJyk7XG51dGlsLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG51dGlsLmluaGVyaXRzKFRyYW5zZm9ybSwgRHVwbGV4KTtcblxuZnVuY3Rpb24gYWZ0ZXJUcmFuc2Zvcm0oZXIsIGRhdGEpIHtcbiAgdmFyIHRzID0gdGhpcy5fdHJhbnNmb3JtU3RhdGU7XG4gIHRzLnRyYW5zZm9ybWluZyA9IGZhbHNlO1xuXG4gIHZhciBjYiA9IHRzLndyaXRlY2I7XG5cbiAgaWYgKCFjYikge1xuICAgIHJldHVybiB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCd3cml0ZSBjYWxsYmFjayBjYWxsZWQgbXVsdGlwbGUgdGltZXMnKSk7XG4gIH1cblxuICB0cy53cml0ZWNodW5rID0gbnVsbDtcbiAgdHMud3JpdGVjYiA9IG51bGw7XG5cbiAgaWYgKGRhdGEgIT0gbnVsbCkgLy8gc2luZ2xlIGVxdWFscyBjaGVjayBmb3IgYm90aCBgbnVsbGAgYW5kIGB1bmRlZmluZWRgXG4gICAgdGhpcy5wdXNoKGRhdGEpO1xuXG4gIGNiKGVyKTtcblxuICB2YXIgcnMgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICBycy5yZWFkaW5nID0gZmFsc2U7XG4gIGlmIChycy5uZWVkUmVhZGFibGUgfHwgcnMubGVuZ3RoIDwgcnMuaGlnaFdhdGVyTWFyaykge1xuICAgIHRoaXMuX3JlYWQocnMuaGlnaFdhdGVyTWFyayk7XG4gIH1cbn1cblxuZnVuY3Rpb24gVHJhbnNmb3JtKG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFRyYW5zZm9ybSkpIHJldHVybiBuZXcgVHJhbnNmb3JtKG9wdGlvbnMpO1xuXG4gIER1cGxleC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gIHRoaXMuX3RyYW5zZm9ybVN0YXRlID0ge1xuICAgIGFmdGVyVHJhbnNmb3JtOiBhZnRlclRyYW5zZm9ybS5iaW5kKHRoaXMpLFxuICAgIG5lZWRUcmFuc2Zvcm06IGZhbHNlLFxuICAgIHRyYW5zZm9ybWluZzogZmFsc2UsXG4gICAgd3JpdGVjYjogbnVsbCxcbiAgICB3cml0ZWNodW5rOiBudWxsLFxuICAgIHdyaXRlZW5jb2Rpbmc6IG51bGxcbiAgfTtcblxuICAvLyBzdGFydCBvdXQgYXNraW5nIGZvciBhIHJlYWRhYmxlIGV2ZW50IG9uY2UgZGF0YSBpcyB0cmFuc2Zvcm1lZC5cbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuXG4gIC8vIHdlIGhhdmUgaW1wbGVtZW50ZWQgdGhlIF9yZWFkIG1ldGhvZCwgYW5kIGRvbmUgdGhlIG90aGVyIHRoaW5nc1xuICAvLyB0aGF0IFJlYWRhYmxlIHdhbnRzIGJlZm9yZSB0aGUgZmlyc3QgX3JlYWQgY2FsbCwgc28gdW5zZXQgdGhlXG4gIC8vIHN5bmMgZ3VhcmQgZmxhZy5cbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5zeW5jID0gZmFsc2U7XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nKSB0aGlzLl90cmFuc2Zvcm0gPSBvcHRpb25zLnRyYW5zZm9ybTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5mbHVzaCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fZmx1c2ggPSBvcHRpb25zLmZsdXNoO1xuICB9XG5cbiAgLy8gV2hlbiB0aGUgd3JpdGFibGUgc2lkZSBmaW5pc2hlcywgdGhlbiBmbHVzaCBvdXQgYW55dGhpbmcgcmVtYWluaW5nLlxuICB0aGlzLm9uKCdwcmVmaW5pc2gnLCBwcmVmaW5pc2gpO1xufVxuXG5mdW5jdGlvbiBwcmVmaW5pc2goKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgaWYgKHR5cGVvZiB0aGlzLl9mbHVzaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHRoaXMuX2ZsdXNoKGZ1bmN0aW9uIChlciwgZGF0YSkge1xuICAgICAgZG9uZShfdGhpcywgZXIsIGRhdGEpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGRvbmUodGhpcywgbnVsbCwgbnVsbCk7XG4gIH1cbn1cblxuVHJhbnNmb3JtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZykge1xuICB0aGlzLl90cmFuc2Zvcm1TdGF0ZS5uZWVkVHJhbnNmb3JtID0gZmFsc2U7XG4gIHJldHVybiBEdXBsZXgucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLCBjaHVuaywgZW5jb2RpbmcpO1xufTtcblxuLy8gVGhpcyBpcyB0aGUgcGFydCB3aGVyZSB5b3UgZG8gc3R1ZmYhXG4vLyBvdmVycmlkZSB0aGlzIGZ1bmN0aW9uIGluIGltcGxlbWVudGF0aW9uIGNsYXNzZXMuXG4vLyAnY2h1bmsnIGlzIGFuIGlucHV0IGNodW5rLlxuLy9cbi8vIENhbGwgYHB1c2gobmV3Q2h1bmspYCB0byBwYXNzIGFsb25nIHRyYW5zZm9ybWVkIG91dHB1dFxuLy8gdG8gdGhlIHJlYWRhYmxlIHNpZGUuICBZb3UgbWF5IGNhbGwgJ3B1c2gnIHplcm8gb3IgbW9yZSB0aW1lcy5cbi8vXG4vLyBDYWxsIGBjYihlcnIpYCB3aGVuIHlvdSBhcmUgZG9uZSB3aXRoIHRoaXMgY2h1bmsuICBJZiB5b3UgcGFzc1xuLy8gYW4gZXJyb3IsIHRoZW4gdGhhdCdsbCBwdXQgdGhlIGh1cnQgb24gdGhlIHdob2xlIG9wZXJhdGlvbi4gIElmIHlvdVxuLy8gbmV2ZXIgY2FsbCBjYigpLCB0aGVuIHlvdSdsbCBuZXZlciBnZXQgYW5vdGhlciBjaHVuay5cblRyYW5zZm9ybS5wcm90b3R5cGUuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHRocm93IG5ldyBFcnJvcignX3RyYW5zZm9ybSgpIGlzIG5vdCBpbXBsZW1lbnRlZCcpO1xufTtcblxuVHJhbnNmb3JtLnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB2YXIgdHMgPSB0aGlzLl90cmFuc2Zvcm1TdGF0ZTtcbiAgdHMud3JpdGVjYiA9IGNiO1xuICB0cy53cml0ZWNodW5rID0gY2h1bms7XG4gIHRzLndyaXRlZW5jb2RpbmcgPSBlbmNvZGluZztcbiAgaWYgKCF0cy50cmFuc2Zvcm1pbmcpIHtcbiAgICB2YXIgcnMgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICAgIGlmICh0cy5uZWVkVHJhbnNmb3JtIHx8IHJzLm5lZWRSZWFkYWJsZSB8fCBycy5sZW5ndGggPCBycy5oaWdoV2F0ZXJNYXJrKSB0aGlzLl9yZWFkKHJzLmhpZ2hXYXRlck1hcmspO1xuICB9XG59O1xuXG4vLyBEb2Vzbid0IG1hdHRlciB3aGF0IHRoZSBhcmdzIGFyZSBoZXJlLlxuLy8gX3RyYW5zZm9ybSBkb2VzIGFsbCB0aGUgd29yay5cbi8vIFRoYXQgd2UgZ290IGhlcmUgbWVhbnMgdGhhdCB0aGUgcmVhZGFibGUgc2lkZSB3YW50cyBtb3JlIGRhdGEuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLl9yZWFkID0gZnVuY3Rpb24gKG4pIHtcbiAgdmFyIHRzID0gdGhpcy5fdHJhbnNmb3JtU3RhdGU7XG5cbiAgaWYgKHRzLndyaXRlY2h1bmsgIT09IG51bGwgJiYgdHMud3JpdGVjYiAmJiAhdHMudHJhbnNmb3JtaW5nKSB7XG4gICAgdHMudHJhbnNmb3JtaW5nID0gdHJ1ZTtcbiAgICB0aGlzLl90cmFuc2Zvcm0odHMud3JpdGVjaHVuaywgdHMud3JpdGVlbmNvZGluZywgdHMuYWZ0ZXJUcmFuc2Zvcm0pO1xuICB9IGVsc2Uge1xuICAgIC8vIG1hcmsgdGhhdCB3ZSBuZWVkIGEgdHJhbnNmb3JtLCBzbyB0aGF0IGFueSBkYXRhIHRoYXQgY29tZXMgaW5cbiAgICAvLyB3aWxsIGdldCBwcm9jZXNzZWQsIG5vdyB0aGF0IHdlJ3ZlIGFza2VkIGZvciBpdC5cbiAgICB0cy5uZWVkVHJhbnNmb3JtID0gdHJ1ZTtcbiAgfVxufTtcblxuVHJhbnNmb3JtLnByb3RvdHlwZS5fZGVzdHJveSA9IGZ1bmN0aW9uIChlcnIsIGNiKSB7XG4gIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gIER1cGxleC5wcm90b3R5cGUuX2Rlc3Ryb3kuY2FsbCh0aGlzLCBlcnIsIGZ1bmN0aW9uIChlcnIyKSB7XG4gICAgY2IoZXJyMik7XG4gICAgX3RoaXMyLmVtaXQoJ2Nsb3NlJyk7XG4gIH0pO1xufTtcblxuZnVuY3Rpb24gZG9uZShzdHJlYW0sIGVyLCBkYXRhKSB7XG4gIGlmIChlcikgcmV0dXJuIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVyKTtcblxuICBpZiAoZGF0YSAhPSBudWxsKSAvLyBzaW5nbGUgZXF1YWxzIGNoZWNrIGZvciBib3RoIGBudWxsYCBhbmQgYHVuZGVmaW5lZGBcbiAgICBzdHJlYW0ucHVzaChkYXRhKTtcblxuICAvLyBpZiB0aGVyZSdzIG5vdGhpbmcgaW4gdGhlIHdyaXRlIGJ1ZmZlciwgdGhlbiB0aGF0IG1lYW5zXG4gIC8vIHRoYXQgbm90aGluZyBtb3JlIHdpbGwgZXZlciBiZSBwcm92aWRlZFxuICBpZiAoc3RyZWFtLl93cml0YWJsZVN0YXRlLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCdDYWxsaW5nIHRyYW5zZm9ybSBkb25lIHdoZW4gd3MubGVuZ3RoICE9IDAnKTtcblxuICBpZiAoc3RyZWFtLl90cmFuc2Zvcm1TdGF0ZS50cmFuc2Zvcm1pbmcpIHRocm93IG5ldyBFcnJvcignQ2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHN0aWxsIHRyYW5zZm9ybWluZycpO1xuXG4gIHJldHVybiBzdHJlYW0ucHVzaChudWxsKTtcbn0iLCJpbXBvcnQge1N1YmplY3R9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtJQ2xvY2t9IGZyb20gJy4uL2Nsb2NrL2ludGVyZmFjZSc7XG5pbXBvcnQge0NodXJuVHlwZX0gZnJvbSAnLi4vaW50ZXJmYWNlJztcbmltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi4vbWVzc2FnZS9hZGRyZXNzJztcbmltcG9ydCB7Q29ubmVjdGlvbk5lZ290aWF0aW9uVHlwZX0gZnJvbSAnLi4vbWVzc2FnZS9jb25uZWN0aW9uLW5lZ290aWF0aW9uJztcbmltcG9ydCB7SU1lc3NhZ2V9IGZyb20gJy4uL21lc3NhZ2UvaW50ZXJmYWNlJztcbmltcG9ydCB7SUNvbm5lY3Rpb25NZXRlcn0gZnJvbSAnLi4vbWV0ZXJpbmcvY29ubmVjdGlvbi1tZXRlci9pbnRlcmZhY2UnO1xuXG5leHBvcnQgdHlwZSBJQ29ubmVjdGlvbkNvbnN0cnVjdG9yID0gbmV3IChcbiAgYWRkcmVzczogQWRkcmVzcyxcbiAgY2xvY2s6IElDbG9jayxcbiAgb3B0aW9ucz86IElDb25uZWN0aW9uT3B0aW9uc1xuKSA9PiBJQ29ubmVjdGlvbjtcblxuZXhwb3J0IGVudW0gUHJvdG9jb2wge1xuICBXRUJTT0NLRVRfVU5TRUNVUkUgPSAnd3MnLFxuICBXRUJTT0NLRVQgPSAnd3NzJyxcbiAgV0VCUlRDX0RBVEEgPSAnd2VicnRjLWRhdGEnLFxuICBXRUJSVENfU1RSRUFNID0gJ3dlYnJ0Yy1zdHJlYW0nLFxuICBWSUEgPSAndmlhJyxcbiAgVklBX01VTFRJID0gJ3ZpYS1tdWx0aSdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ29ubmVjdGlvbkNodXJuRXZlbnQge1xuICB0eXBlOiBDaHVyblR5cGU7XG4gIGNvbm5lY3Rpb246IElDb25uZWN0aW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDb25uZWN0aW9uT3B0aW9ucyB7XG4gIG1pdG9zaXNJZD86IHN0cmluZztcbiAgcGF5bG9hZD86IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJVmlhQ29ubmVjdGlvbk9wdGlvbnMgZXh0ZW5kcyBJQ29ubmVjdGlvbk9wdGlvbnMge1xuICBwYXlsb2FkOiBJVmlhQ29ubmVjdGlvbk9wdGlvbnNQYXlsb2FkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElWaWFDb25uZWN0aW9uT3B0aW9uc1BheWxvYWQge1xuICBwYXJlbnQ6IElDb25uZWN0aW9uO1xuICBxdWFsaXR5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVdlYlJUQ0Nvbm5lY3Rpb25PcHRpb25zIGV4dGVuZHMgSUNvbm5lY3Rpb25PcHRpb25zIHtcbiAgcGF5bG9hZD86IElXZWJSVENDb25uZWN0aW9uT3B0aW9uc1BheWxvYWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVdlYlJUQ1N0cmVhbUNvbm5lY3Rpb25PcHRpb25zIGV4dGVuZHMgSVdlYlJUQ0Nvbm5lY3Rpb25PcHRpb25zIHtcbiAgY2hhbm5lbElkOiBzdHJpbmc7XG4gIHN0cmVhbT86IE1lZGlhU3RyZWFtO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElXZWJSVENDb25uZWN0aW9uT3B0aW9uc1BheWxvYWQge1xuICB0eXBlOiBDb25uZWN0aW9uTmVnb3RpYXRpb25UeXBlO1xuICBzZHA6IHN0cmluZztcbn1cblxuZXhwb3J0IGVudW0gQ29ubmVjdGlvblN0YXRlIHtcbiAgT1BFTklORyA9ICdvcGVuaW5nJyxcbiAgT1BFTiA9ICdvcGVuJyxcbiAgQ0xPU0lORyA9ICdjbG9zaW5nJyxcbiAgQ0xPU0VEID0gJ2Nsb3NlZCcsXG4gIEVSUk9SID0gJ2Vycm9yJ1xufVxuXG5leHBvcnQgZW51bSBOZWdvdGlhdGlvblN0YXRlIHtcbiAgSU5JVElBTElaSU5HID0gMCxcbiAgV0FJVElOR19GT1JfT0ZGRVIgPSAxMCxcbiAgV0FJVElOR19GT1JfQU5TV0VSID0gMjAsXG4gIFdBSVRJTkdfRk9SX0VTVEFCTElTSCA9IDMwLFxuICBFU1RBQkxJU0hFRCA9IDQwXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNvbm5lY3Rpb24ge1xuXG4gIGdldE1ldGVyKCk6IElDb25uZWN0aW9uTWV0ZXI7XG5cbiAgZ2V0QWRkcmVzcygpOiBBZGRyZXNzO1xuXG4gIG9wZW4oKTogUHJvbWlzZTxJQ29ubmVjdGlvbj47XG5cbiAgY2xvc2UoKTogdm9pZDtcblxuICBzZW5kKG1lc3NhZ2U6IElNZXNzYWdlKTogdm9pZDtcblxuICBvYnNlcnZlTWVzc2FnZVJlY2VpdmVkKCk6IFN1YmplY3Q8SU1lc3NhZ2U+O1xuXG4gIG9ic2VydmVTdGF0ZUNoYW5nZSgpOiBTdWJqZWN0PENvbm5lY3Rpb25TdGF0ZT47XG5cbiAgZ2V0U3RhdGUoKTogQ29ubmVjdGlvblN0YXRlO1xuXG4gIGdldE5lZ290aWF0aW9uU3RhdGUoKTogTmVnb3RpYXRpb25TdGF0ZTtcblxuICBpc0luU3RhdGUoLi4uc3RhdGVzOiBBcnJheTxDb25uZWN0aW9uU3RhdGU+KTogYm9vbGVhbjtcbn1cbiIsImV4cG9ydCBlbnVtIENodXJuVHlwZSB7XG4gIEFEREVEID0gJ2FkZGVkJyxcbiAgUkVNT1ZFRCA9ICdyZW1vdmVkJ1xufVxuIiwiaW1wb3J0IHtTdWJqZWN0fSBmcm9tICdyeGpzJztcbmltcG9ydCB7SUNsb2NrfSBmcm9tICcuLi9jbG9jay9pbnRlcmZhY2UnO1xuXG5leHBvcnQgZW51bSBMb2dMZXZlbCB7XG4gIExPRyA9IDAsXG4gIERFQlVHID0gMTAsXG4gIElORk8gPSAyMCxcbiAgV0FSTiA9IDMwLFxuICBFUlJPUiA9IDQwLFxuICBGQVRBTCA9IDUwXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUxvZ0V2ZW50IHtcbiAgbGV2ZWw6IExvZ0xldmVsO1xuICBkYXRhOiBBcnJheTxhbnk+O1xuICB0aWNrOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUxvZ2dlciB7XG5cbiAgc2V0TGV2ZWwobGV2ZWw6IExvZ0xldmVsKTogdm9pZDtcblxuICBzZXRDbG9jayhjbG9jazogSUNsb2NrKTogdm9pZDtcblxuICBsb2coLi4uYXJnczogQXJyYXk8YW55Pik6IHZvaWQ7XG5cbiAgZGVidWcoLi4uYXJnczogQXJyYXk8YW55Pik6IHZvaWQ7XG5cbiAgaW5mbyguLi5hcmdzOiBBcnJheTxhbnk+KTogdm9pZDtcblxuICB3YXJuKC4uLmFyZ3M6IEFycmF5PGFueT4pOiB2b2lkO1xuXG4gIGVycm9yKC4uLmFyZ3M6IEFycmF5PGFueT4pOiB2b2lkO1xuXG4gIGZhdGFsKC4uLmFyZ3M6IEFycmF5PGFueT4pOiB2b2lkO1xuXG4gIG9ic2VydmVMb2dFdmVudHMoKTogU3ViamVjdDxJTG9nRXZlbnQ+O1xufVxuIiwiaW1wb3J0IHtDb25maWd1cmF0aW9ufSBmcm9tICcuLi9jb25maWd1cmF0aW9uJztcbmltcG9ydCB7Um9sZVR5cGV9IGZyb20gJy4uL3JvbGUvaW50ZXJmYWNlJztcbmltcG9ydCB7RGVmYXVsdE1hcH0gZnJvbSAnLi4vdXRpbC9kZWZhdWx0LW1hcCc7XG5pbXBvcnQge0FkZHJlc3N9IGZyb20gJy4vYWRkcmVzcyc7XG5cbmV4cG9ydCBlbnVtIE1lc3NhZ2VTdWJqZWN0IHtcbiAgSU5UUk9EVUNUSU9OID0gJ2ludHJvZHVjdGlvbicsXG4gIFBFRVJfVVBEQVRFID0gJ3BlZXItdXBkYXRlJyxcbiAgUEVFUl9TVUdHRVNUSU9OID0gJ3BlZXItc3VnZ2VzdGlvbicsXG4gIFJPTEVfVVBEQVRFID0gJ3JvbGUtdXBkYXRlJyxcbiAgQ09OTkVDVElPTl9ORUdPVElBVElPTiA9ICdjb25uZWN0aW9uLW5lZ290aWF0aW9uJyxcbiAgQ0hBTk5FTF9BTk5PVU5DRU1FTlQgPSAnY2hhbm5lbC1hbm5vdW5jZW1lbnQnLFxuICBBUFBfQ09OVEVOVCA9ICdhcHAtY29udGVudCcsXG4gIFVOS05PV05fUEVFUiA9ICd1bmtub3duLXBlZXInLFxuICBQSU5HID0gJ3BpbmcnLFxuICBQT05HID0gJ3BvbmcnLFxuICBST1VURVJfQUxJVkUgPSAncm91dGVyLWFsaXZlJyxcbiAgUEVFUl9BTElWRSA9ICdwZWVyLWFsaXZlJ1xufVxuXG5leHBvcnQgY29uc3QgTWVzc2FnZVR0bHM6IERlZmF1bHRNYXA8TWVzc2FnZVN1YmplY3QsIG51bWJlcj4gPSBuZXcgRGVmYXVsdE1hcCgoKSA9PiAxKTtcbk1lc3NhZ2VUdGxzLnNldChNZXNzYWdlU3ViamVjdC5QRUVSX1VQREFURSwgMSk7XG5NZXNzYWdlVHRscy5zZXQoTWVzc2FnZVN1YmplY3QuUEVFUl9TVUdHRVNUSU9OLCAxMCk7XG5NZXNzYWdlVHRscy5zZXQoTWVzc2FnZVN1YmplY3QuQVBQX0NPTlRFTlQsIDE2KTtcbk1lc3NhZ2VUdGxzLnNldChNZXNzYWdlU3ViamVjdC5DT05ORUNUSU9OX05FR09USUFUSU9OLCAyMCk7XG5NZXNzYWdlVHRscy5zZXQoTWVzc2FnZVN1YmplY3QuUk9VVEVSX0FMSVZFLCAyMCk7XG5NZXNzYWdlVHRscy5zZXQoTWVzc2FnZVN1YmplY3QuUEVFUl9BTElWRSwgMjApO1xuXG5leHBvcnQgaW50ZXJmYWNlIElQZWVyVXBkYXRlRW50cnkge1xuICBwZWVySWQ6IHN0cmluZztcbiAgcm9sZXM6IEFycmF5PFJvbGVUeXBlPjtcbiAgcXVhbGl0eTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDaGFubmVsUHJvdmlkZXIge1xuICBwZWVySWQ6IHN0cmluZztcbiAgY2FwYWNpdHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ2hhbm5lbEFubm91bmNlbWVudCB7XG4gIHByb3ZpZGVyczogQXJyYXk8SUNoYW5uZWxQcm92aWRlcj47XG4gIGNoYW5uZWxJZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElNZXNzYWdlIHtcblxuICBsZW5ndGg6IG51bWJlcjtcblxuICBnZXRSZWNlaXZlcigpOiBBZGRyZXNzO1xuXG4gIGdldFNlbmRlcigpOiBBZGRyZXNzO1xuXG4gIGdldEluYm91bmRBZGRyZXNzKCk6IEFkZHJlc3M7XG5cbiAgZ2V0U3ViamVjdCgpOiBNZXNzYWdlU3ViamVjdDtcblxuICBnZXRCb2R5KCk6IGFueTtcblxuICBnZXRJZCgpOiBzdHJpbmc7XG5cbiAgZ2V0VHRsKCk6IG51bWJlcjtcblxuICBkZWNyZWFzZVR0bCgpOiBudW1iZXI7XG5cbiAgc2V0SW5ib3VuZEFkZHJlc3MoYWRkcmVzczogQWRkcmVzcyk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZsb29kYWJsZU1lc3NhZ2UgZXh0ZW5kcyBJTWVzc2FnZSB7XG4gIGdldEJvZHkoKToge1xuICAgIHNlcXVlbmNlOiBudW1iZXI7XG4gICAgW2tleTogc3RyaW5nXTogYW55O1xuICB9O1xufVxuIiwiaW1wb3J0IHtJU2NoZWR1bGVkQ2FsbGJhY2t9IGZyb20gJy4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0Q2xvY2sge1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgX21heENhbmNlbElkID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgLSAxMDtcbiAgcHJpdmF0ZSBfbGFzdENhbmNlbElkID0gMDtcbiAgcHJpdmF0ZSBfdGlja0NvdW50ZXIgPSAwO1xuICBwcml2YXRlIF9pc1J1bm5pbmcgPSBmYWxzZTtcbiAgcHJvdGVjdGVkIF9pbnRlcnZhbHM6IEFycmF5PElTY2hlZHVsZWRDYWxsYmFjaz4gPSBbXTtcbiAgcHJvdGVjdGVkIF90aW1lb3V0czogQXJyYXk8SVNjaGVkdWxlZENhbGxiYWNrPiA9IFtdO1xuXG4gIHByaXZhdGUgZG9UaWNrKCk6IHZvaWQge1xuICAgIHRoaXMuX3RpbWVvdXRzLmZvckVhY2goXG4gICAgICAodmFsdWU6IElTY2hlZHVsZWRDYWxsYmFjaykgPT4ge1xuICAgICAgICBpZiAodmFsdWUudGljayA9PT0gdGhpcy5fdGlja0NvdW50ZXIpIHtcbiAgICAgICAgICB2YWx1ZS5jYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB0aGlzLl9pbnRlcnZhbHMuZm9yRWFjaChcbiAgICAgICh2YWx1ZTogSVNjaGVkdWxlZENhbGxiYWNrKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLl90aWNrQ291bnRlciAlIHZhbHVlLnRpY2sgPT09IDApIHtcbiAgICAgICAgICB2YWx1ZS5jYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB0aGlzLl90aW1lb3V0cyA9IHRoaXMuX3RpbWVvdXRzLmZpbHRlcihcbiAgICAgICh2YWx1ZTogSVNjaGVkdWxlZENhbGxiYWNrKSA9PiB7XG4gICAgICAgIHJldHVybiB2YWx1ZS50aWNrID4gdGhpcy5fdGlja0NvdW50ZXI7XG4gICAgICB9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBzdGFydENsb2NrKHNwZWVkPzogbnVtYmVyKTogdm9pZDtcblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgcGF1c2VDbG9jaygpOiB2b2lkO1xuXG4gIHB1YmxpYyBhYnN0cmFjdCBnZXRQcmVjaXNpb25UaW1lc3RhbXAoKTogbnVtYmVyO1xuXG4gIHB1YmxpYyB0aWNrKCk6IHZvaWQge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmRvVGljaygpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5fdGlja0NvdW50ZXIrKztcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc3RhcnQoKSB7XG4gICAgdGhpcy5faXNSdW5uaW5nID0gdHJ1ZTtcbiAgICB0aGlzLnN0YXJ0Q2xvY2soKTtcbiAgfVxuXG4gIHB1YmxpYyBwYXVzZSgpIHtcbiAgICB0aGlzLl9pc1J1bm5pbmcgPSBmYWxzZTtcbiAgICB0aGlzLnBhdXNlQ2xvY2soKTtcbiAgfVxuXG4gIHB1YmxpYyBzdG9wKCk6IHZvaWQge1xuICAgIHRoaXMucGF1c2UoKTtcbiAgICB0aGlzLl9pbnRlcnZhbHMubGVuZ3RoID0gMDtcbiAgICB0aGlzLl90aW1lb3V0cy5sZW5ndGggPSAwO1xuICAgIHRoaXMuX3RpY2tDb3VudGVyID0gMDtcbiAgfVxuXG4gIHB1YmxpYyBmb3J3YXJkKHRpY2s6IG51bWJlcik6IHZvaWQge1xuICAgIHdoaWxlICh0aGlzLl90aWNrQ291bnRlciA8IHRpY2spIHtcbiAgICAgIHRoaXMudGljaygpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyByZXdpbmQoKTogdm9pZCB7XG4gICAgdGhpcy5fdGlja0NvdW50ZXIgPSAwO1xuICAgIHRoaXMuX3RpbWVvdXRzLmxlbmd0aCA9IDA7XG4gIH1cblxuICBwdWJsaWMgc2V0SW50ZXJ2YWwoY2FsbGJhY2s6ICgpID0+IHZvaWQsIGludGVydmFsOiBudW1iZXIgPSAxKTogbnVtYmVyIHtcbiAgICBpbnRlcnZhbCA9IE1hdGguZmxvb3IoTWF0aC5tYXgoaW50ZXJ2YWwsIDEpKTtcbiAgICB0aGlzLl9sYXN0Q2FuY2VsSWQgPSAodGhpcy5fbGFzdENhbmNlbElkICsgMSkgJSB0aGlzLl9tYXhDYW5jZWxJZDtcbiAgICBjb25zdCBzY2hlZHVsZWRDYWxsYmFjayA9IHt0aWNrOiBpbnRlcnZhbCwgY2FuY2VsSWQ6IHRoaXMuX2xhc3RDYW5jZWxJZCwgY2FsbGJhY2s6IGNhbGxiYWNrfTtcbiAgICB0aGlzLl9pbnRlcnZhbHMucHVzaChzY2hlZHVsZWRDYWxsYmFjayk7XG4gICAgcmV0dXJuIHRoaXMuX2xhc3RDYW5jZWxJZDtcbiAgfVxuXG4gIHB1YmxpYyBjbGVhckludGVydmFsKGNhbmNlbElkOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9pbnRlcnZhbHMgPSB0aGlzLl9pbnRlcnZhbHMuZmlsdGVyKFxuICAgICAgdmFsdWUgPT4gdmFsdWUuY2FuY2VsSWQgIT09IGNhbmNlbElkXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRUaW1lb3V0KGNhbGxiYWNrOiAoKSA9PiB2b2lkLCB0aW1lb3V0OiBudW1iZXIgPSAxKTogbnVtYmVyIHtcbiAgICB0aW1lb3V0ID0gTWF0aC5mbG9vcihNYXRoLm1heCh0aW1lb3V0LCAxKSk7XG4gICAgdGhpcy5fbGFzdENhbmNlbElkID0gKHRoaXMuX2xhc3RDYW5jZWxJZCArIDEpICUgdGhpcy5fbWF4Q2FuY2VsSWQ7XG4gICAgY29uc3Qgc2NoZWR1bGVkQ2FsbGJhY2sgPSB7dGljazogdGhpcy5fdGlja0NvdW50ZXIgKyB0aW1lb3V0LCBjYW5jZWxJZDogdGhpcy5fbGFzdENhbmNlbElkLCBjYWxsYmFjazogY2FsbGJhY2t9O1xuICAgIHRoaXMuX3RpbWVvdXRzLnB1c2goc2NoZWR1bGVkQ2FsbGJhY2spO1xuICAgIHJldHVybiB0aGlzLl9sYXN0Q2FuY2VsSWQ7XG4gIH1cblxuICBwdWJsaWMgY2xlYXJUaW1lb3V0KGNhbmNlbElkOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl90aW1lb3V0cyA9IHRoaXMuX3RpbWVvdXRzLmZpbHRlcihcbiAgICAgIHZhbHVlID0+IHZhbHVlLmNhbmNlbElkICE9PSBjYW5jZWxJZFxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgZ2V0VGljaygpIHtcbiAgICByZXR1cm4gdGhpcy5fdGlja0NvdW50ZXI7XG4gIH1cblxuICBwdWJsaWMgaXNSdW5uaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1J1bm5pbmc7XG4gIH1cblxuICBwdWJsaWMgdGltZUl0KCk6ICgpID0+IG51bWJlciB7XG4gICAgY29uc3Qgc3RhcnQgPSB0aGlzLmdldFByZWNpc2lvblRpbWVzdGFtcCgpO1xuICAgIHJldHVybiAoKTogbnVtYmVyID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmdldFByZWNpc2lvblRpbWVzdGFtcCgpIC0gc3RhcnQ7XG4gICAgfTtcbiAgfVxufVxuIiwiaW1wb3J0IHtBYnN0cmFjdENsb2NrfSBmcm9tICcuL2Nsb2NrJztcbmltcG9ydCB7SUNsb2NrfSBmcm9tICcuL2ludGVyZmFjZSc7XG5cbmV4cG9ydCBjbGFzcyBGb3JrZWRDbG9jayBleHRlbmRzIEFic3RyYWN0Q2xvY2sgaW1wbGVtZW50cyBJQ2xvY2sge1xuXG4gIHByaXZhdGUgX21hc3RlckNsb2NrOiBJQ2xvY2s7XG4gIHByaXZhdGUgX2NhbmNlbElkOiBudW1iZXI7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKG1hc3RlckNsb2NrOiBJQ2xvY2spIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX21hc3RlckNsb2NrID0gbWFzdGVyQ2xvY2s7XG4gIH1cblxuICBwdWJsaWMgZm9yaygpOiBJQ2xvY2sge1xuICAgIGNvbnN0IGZvcmtlZCA9IG5ldyBGb3JrZWRDbG9jayh0aGlzKTtcbiAgICBmb3JrZWQuc3RhcnQoKTtcbiAgICByZXR1cm4gZm9ya2VkO1xuICB9XG5cbiAgcHVibGljIHNldFNwZWVkKHNwZWVkOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnBhdXNlQ2xvY2soKTtcbiAgICB0aGlzLnN0YXJ0Q2xvY2soc3BlZWQpO1xuICB9XG5cbiAgcHVibGljIGdldFByZWNpc2lvblRpbWVzdGFtcCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9tYXN0ZXJDbG9jay5nZXRQcmVjaXNpb25UaW1lc3RhbXAoKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGFydENsb2NrKHNwZWVkPzogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5fY2FuY2VsSWQgPSB0aGlzLl9tYXN0ZXJDbG9jay5zZXRJbnRlcnZhbCh0aGlzLnRpY2suYmluZCh0aGlzKSwgc3BlZWQpO1xuICB9XG5cbiAgcHVibGljIHBhdXNlQ2xvY2soKTogdm9pZCB7XG4gICAgdGhpcy5fbWFzdGVyQ2xvY2suY2xlYXJJbnRlcnZhbCh0aGlzLl9jYW5jZWxJZCk7XG4gICAgdGhpcy5fY2FuY2VsSWQgPSBudWxsO1xuICB9XG59XG4iLCJpbXBvcnQge0Fic3RyYWN0Q2xvY2t9IGZyb20gJy4vY2xvY2snO1xuaW1wb3J0IHtGb3JrZWRDbG9ja30gZnJvbSAnLi9mb3JrZWQnO1xuaW1wb3J0IHtJQ2xvY2t9IGZyb20gJy4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIE1hc3RlckNsb2NrIGV4dGVuZHMgQWJzdHJhY3RDbG9jayBpbXBsZW1lbnRzIElDbG9jayB7XG5cbiAgcHJpdmF0ZSBfbWFzdGVyQ2FuY2VsSWQ6IGFueTtcbiAgcHJpdmF0ZSBfc3BlZWQ6IG51bWJlcjtcblxuICBwdWJsaWMgY29uc3RydWN0b3Ioc3BlZWQ6IG51bWJlciA9IDEwMDApIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX3NwZWVkID0gc3BlZWQ7XG4gIH1cblxuICBwdWJsaWMgZm9yaygpOiBJQ2xvY2sge1xuICAgIGNvbnN0IGZvcmtlZCA9IG5ldyBGb3JrZWRDbG9jayh0aGlzKTtcbiAgICBmb3JrZWQuc3RhcnQoKTtcbiAgICByZXR1cm4gZm9ya2VkO1xuICB9XG5cbiAgcHVibGljIHNldFNwZWVkKHNwZWVkOiBudW1iZXIpIHtcbiAgICB0aGlzLl9zcGVlZCA9IHNwZWVkO1xuICAgIGlmICh0aGlzLmlzUnVubmluZygpKSB7XG4gICAgICB0aGlzLnBhdXNlQ2xvY2soKTtcbiAgICAgIHRoaXMuc3RhcnRDbG9jaygpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzdGFydENsb2NrKHNwZWVkPzogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHNwZWVkKSB7XG4gICAgICB0aGlzLl9zcGVlZCA9IHNwZWVkO1xuICAgIH1cbiAgICB0aGlzLl9tYXN0ZXJDYW5jZWxJZCA9IHNldEludGVydmFsKHRoaXMudGljay5iaW5kKHRoaXMpLCB0aGlzLl9zcGVlZCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UHJlY2lzaW9uVGltZXN0YW1wKCk6IG51bWJlciB7XG4gICAgaWYgKHBlcmZvcm1hbmNlICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9IGVsc2UgaWYgKERhdGUgJiYgdHlwZW9mIERhdGUubm93ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0VGljaygpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBwYXVzZUNsb2NrKCk6IHZvaWQge1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fbWFzdGVyQ2FuY2VsSWQpO1xuICB9XG5cbiAgcHVibGljIGdldFNwZWVkKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3NwZWVkO1xuICB9XG59XG4iLCJleHBvcnQgYWJzdHJhY3QgY2xhc3MgRW5jbGF2ZSB7XG4gIHByaXZhdGUgX3ByaXZhdGVLZXk6IHN0cmluZztcbiAgcHJpdmF0ZSBfcHVibGljS2V5OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgW3RoaXMuX3B1YmxpY0tleSwgdGhpcy5fcHJpdmF0ZUtleV0gPSB0aGlzLl9nZW5lcmF0ZUtleVBhaXIoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBfZ2VuZXJhdGVLZXlQYWlyKCk6IEFycmF5PHN0cmluZz47XG5cbiAgcHVibGljIGdldFB1YmxpY0tleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9wdWJsaWNLZXk7XG4gIH1cbn1cbiIsImltcG9ydCB7RW5jbGF2ZX0gZnJvbSAnLi9lbmNsYXZlJztcbmltcG9ydCB7SUVuY2xhdmV9IGZyb20gJy4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIFNlY3VyZUVuY2xhdmUgZXh0ZW5kcyBFbmNsYXZlIGltcGxlbWVudHMgSUVuY2xhdmUge1xuXG4gIHByb3RlY3RlZCBfZ2VuZXJhdGVLZXlQYWlyKCk6IEFycmF5PHN0cmluZz4ge1xuICAgIHJldHVybiAncHVibGljLHByaXZhdGUnLnNwbGl0KCcsJyk7XG4gIH1cblxuICBwdWJsaWMgZGVjcnlwdChkYXRhOiBVaW50OEFycmF5KTogVWludDhBcnJheSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBwdWJsaWMgZW5jcnlwdChkYXRhOiBVaW50OEFycmF5LCBwdWJsaWNLZXk6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgcHVibGljIHNpZ24oZGF0YTogVWludDhBcnJheSk6IFVpbnQ4QXJyYXkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgcHVibGljIHZlcmlmeShkYXRhOiBVaW50OEFycmF5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbiIsImltcG9ydCB7U3ViamVjdH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge0lDbG9ja30gZnJvbSAnLi4vY2xvY2svaW50ZXJmYWNlJztcbmltcG9ydCB7SUxvZ0V2ZW50LCBJTG9nZ2VyLCBMb2dMZXZlbH0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgY2xhc3MgTG9nZ2VyIGltcGxlbWVudHMgSUxvZ2dlciB7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX2xvZ2dlck1hcDogTWFwPHN0cmluZywgSUxvZ2dlcj4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgc3RhdGljIF9sb2dMZXZlbDogTG9nTGV2ZWwgPSBMb2dMZXZlbC5ERUJVRztcbiAgcHJpdmF0ZSBzdGF0aWMgX3ZlcmJvc2UgPSB0cnVlO1xuICBwcml2YXRlIF9sb2dMZXZlbDogTG9nTGV2ZWwgPSBudWxsO1xuICBwcml2YXRlIF9jbG9jazogSUNsb2NrO1xuXG4gIHByaXZhdGUgX2lkOiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgX2xvZ1N1YmplY3Q6IFN1YmplY3Q8SUxvZ0V2ZW50PjtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9pZCA9IGlkO1xuICAgIHRoaXMuX2xvZ1N1YmplY3QgPSBuZXcgU3ViamVjdDxJTG9nRXZlbnQ+KCk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldExvZ2dlcihpZDogc3RyaW5nKTogSUxvZ2dlciB7XG4gICAgaWYgKCFMb2dnZXIuX2xvZ2dlck1hcC5oYXMoaWQpKSB7XG4gICAgICBMb2dnZXIuX2xvZ2dlck1hcC5zZXQoaWQsIG5ldyBMb2dnZXIoaWQpKTtcbiAgICB9XG4gICAgcmV0dXJuIExvZ2dlci5fbG9nZ2VyTWFwLmdldChpZCk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIHNldExldmVsKGxldmVsOiBMb2dMZXZlbCkge1xuICAgIExvZ2dlci5fbG9nTGV2ZWwgPSBsZXZlbDtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgc2V0VmVyYm9zZSh2ZXJib3NlOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5fdmVyYm9zZSA9IHZlcmJvc2U7XG4gIH1cblxuICBwcml2YXRlIGRvTG9nKGxldmVsOiBMb2dMZXZlbCwgbG9nRm46ICguLi5hcmdzOiBBcnJheTxhbnk+KSA9PiB2b2lkLCBwcmVmaXg6IHN0cmluZywgYXJnczogQXJyYXk8YW55Pikge1xuICAgIGxldCBjdXJyZW50VGljayA9IDA7XG4gICAgbGV0IHRpbWVzdGFtcCA9ICcnO1xuICAgIGlmICh0aGlzLl9jbG9jaykge1xuICAgICAgY3VycmVudFRpY2sgPSB0aGlzLl9jbG9jay5nZXRUaWNrKCk7XG4gICAgICB0aW1lc3RhbXAgPSBgJHt0aGlzLl9jbG9jay5nZXRUaWNrKCl9OmA7XG4gICAgfVxuICAgIGlmICh0aGlzLmdldExldmVsKCkgPD0gbGV2ZWwpIHtcbiAgICAgIGNvbnN0IHRhZyA9IGAke3ByZWZpeH0gWyR7dGltZXN0YW1wfSR7dGhpcy5faWR9XWA7XG4gICAgICBpZiAoIUxvZ2dlci5fdmVyYm9zZSkge1xuICAgICAgICBhcmdzID0gYXJncy5zbGljZSgwLCAxKTtcbiAgICAgIH1cbiAgICAgIGxvZ0ZuKHRhZywgLi4uYXJncyk7XG4gICAgfVxuICAgIHRoaXMuX2xvZ1N1YmplY3QubmV4dCh7bGV2ZWw6IGxldmVsLCBkYXRhOiBhcmdzLm1hcChTdHJpbmcpLCB0aWNrOiBjdXJyZW50VGlja30pO1xuICB9XG5cbiAgcHVibGljIHNldENsb2NrKGNsb2NrOiBJQ2xvY2spIHtcbiAgICB0aGlzLl9jbG9jayA9IGNsb2NrO1xuICB9XG5cbiAgcHVibGljIGdldExldmVsKCk6IExvZ0xldmVsIHtcbiAgICByZXR1cm4gdGhpcy5fbG9nTGV2ZWwgfHwgTG9nZ2VyLl9sb2dMZXZlbDtcbiAgfVxuXG4gIHB1YmxpYyBzZXRMZXZlbChsZXZlbDogTG9nTGV2ZWwpOiB2b2lkIHtcbiAgICB0aGlzLl9sb2dMZXZlbCA9IGxldmVsO1xuICB9XG5cbiAgcHVibGljIGxvZyguLi5hcmdzOiBBcnJheTxhbnk+KTogdm9pZCB7XG4gICAgdGhpcy5kb0xvZyhMb2dMZXZlbC5MT0csIGNvbnNvbGUubG9nLCAn8J+ToCcsIGFyZ3MpO1xuICB9XG5cbiAgcHVibGljIGRlYnVnKC4uLmFyZ3M6IEFycmF5PGFueT4pOiB2b2lkIHtcbiAgICB0aGlzLmRvTG9nKExvZ0xldmVsLkRFQlVHLCBjb25zb2xlLmxvZywgJ/CflKcnLCBhcmdzKTtcbiAgfVxuXG4gIHB1YmxpYyBpbmZvKC4uLmFyZ3M6IEFycmF5PGFueT4pOiB2b2lkIHtcbiAgICB0aGlzLmRvTG9nKExvZ0xldmVsLklORk8sIGNvbnNvbGUuaW5mbywgJ/Cfk6wnLCBhcmdzKTtcbiAgfVxuXG4gIHB1YmxpYyB3YXJuKC4uLmFyZ3M6IEFycmF5PGFueT4pOiB2b2lkIHtcbiAgICB0aGlzLmRvTG9nKExvZ0xldmVsLldBUk4sIGNvbnNvbGUud2FybiwgJ/CfmqcnLCBhcmdzKTtcbiAgfVxuXG4gIHB1YmxpYyBlcnJvciguLi5hcmdzOiBBcnJheTxhbnk+KTogdm9pZCB7XG4gICAgdGhpcy5kb0xvZyhMb2dMZXZlbC5FUlJPUiwgY29uc29sZS5lcnJvciwgJ/CfmqgnLCBhcmdzKTtcbiAgfVxuXG4gIHB1YmxpYyBmYXRhbCguLi5hcmdzOiBBcnJheTxhbnk+KTogdm9pZCB7XG4gICAgdGhpcy5kb0xvZyhMb2dMZXZlbC5GQVRBTCwgY29uc29sZS5lcnJvciwgJ/CfkqMnLCBhcmdzKTtcbiAgfVxuXG4gIHB1YmxpYyBvYnNlcnZlTG9nRXZlbnRzKCk6IFN1YmplY3Q8SUxvZ0V2ZW50PiB7XG4gICAgcmV0dXJuIHRoaXMuX2xvZ1N1YmplY3Q7XG4gIH1cbn1cbiIsImltcG9ydCB7UHJvdG9jb2x9IGZyb20gJy4uL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIEFkZHJlc3Mge1xuXG4gIHByaXZhdGUgX2lkOiBzdHJpbmc7XG4gIHByaXZhdGUgX3Byb3RvY29sOiBQcm90b2NvbDtcbiAgcHJpdmF0ZSBfbG9jYXRpb246IHN0cmluZztcbiAgcHJpdmF0ZSBfdmVyc2lvbjogc3RyaW5nO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICBpZDogc3RyaW5nLFxuICAgIHByb3RvY29sPzogUHJvdG9jb2wsXG4gICAgbG9jYXRpb24/OiBzdHJpbmcsXG4gICAgdmVyc2lvbjogc3RyaW5nID0gJ3YxJ1xuICApIHtcbiAgICB0aGlzLl9pZCA9IGlkO1xuICAgIHRoaXMuX3Byb3RvY29sID0gcHJvdG9jb2w7XG4gICAgdGhpcy5fbG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICB0aGlzLl92ZXJzaW9uID0gdmVyc2lvbjtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZnJvbVN0cmluZyhhZGRyZXNzU3RyaW5nOiBzdHJpbmcpOiBBZGRyZXNzIHtcbiAgICBjb25zdCBzZWdtZW50cyA9IGFkZHJlc3NTdHJpbmcuc3BsaXQoJy8nKTtcbiAgICBjb25zdCBbdmVyc2lvbiwgaWQsIHByb3RvY29sXSA9IHNlZ21lbnRzLnNsaWNlKDEsIDQpO1xuICAgIGNvbnN0IGxvY2F0aW9uID0gc2VnbWVudHMuc2xpY2UoNCkuam9pbignLycpO1xuICAgIHJldHVybiBuZXcgQWRkcmVzcyhpZCwgcHJvdG9jb2wgYXMgUHJvdG9jb2wsIGxvY2F0aW9uLCB2ZXJzaW9uKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9pZDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQcm90b2NvbCgpOiBQcm90b2NvbCB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb3RvY29sO1xuICB9XG5cbiAgcHVibGljIGdldExvY2F0aW9uKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2xvY2F0aW9uO1xuICB9XG5cbiAgcHVibGljIHNldExvY2F0aW9uKGxvY2F0aW9uOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLl9sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICB9XG5cbiAgcHVibGljIGdldFZlcnNpb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fdmVyc2lvbjtcbiAgfVxuXG4gIHB1YmxpYyBpc1Byb3RvY29sKC4uLnByb3RvY29sczogQXJyYXk8UHJvdG9jb2w+KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHByb3RvY29scy5pbmRleE9mKHRoaXMuX3Byb3RvY29sKSAhPT0gLTE7XG4gIH1cblxuICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBjb25zdCBzZWdtZW50cyA9IFtcbiAgICAgICdtaXRvc2lzJyxcbiAgICAgIHRoaXMuZ2V0VmVyc2lvbigpLFxuICAgICAgdGhpcy5nZXRJZCgpLFxuICAgICAgdGhpcy5nZXRQcm90b2NvbCgpLFxuICAgICAgdGhpcy5nZXRMb2NhdGlvbigpXG4gICAgXS5maWx0ZXIodmFsdWUgPT4gdmFsdWUgIT09IHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIHNlZ21lbnRzLmpvaW4oJy8nKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIERlZmF1bHRNYXA8SywgVj4gZXh0ZW5kcyBNYXA8SywgVj4ge1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgX2ZhY3Rvcnk6ICgpID0+IFY7XG4gIHByaXZhdGUgcmVhZG9ubHkgX2RlZmF1bHQ6IFY7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKGZhY3Rvcnk6ICgpID0+IFYpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX2ZhY3RvcnkgPSBmYWN0b3J5O1xuICAgIHRoaXMuX2RlZmF1bHQgPSBmYWN0b3J5KCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0KGtleTogSyk6IFYge1xuICAgIGlmICghdGhpcy5oYXMoa2V5KSkge1xuICAgICAgdGhpcy5zZXQoa2V5LCB0aGlzLl9mYWN0b3J5KCkpO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuZ2V0KGtleSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0RGVmYXVsdCgpOiBWIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmYXVsdDtcbiAgfVxufVxuIiwiaW1wb3J0IHtzdHJpbmdCeXRlTGVuZ3RofSBmcm9tICcuLi91dGlsL3N0cmluZy1mdW5jdGlvbnMnO1xuaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuL2FkZHJlc3MnO1xuaW1wb3J0IHtJTWVzc2FnZSwgTWVzc2FnZVN1YmplY3QsIE1lc3NhZ2VUdGxzfSBmcm9tICcuL2ludGVyZmFjZSc7XG5cbmV4cG9ydCBjbGFzcyBNZXNzYWdlIGltcGxlbWVudHMgSU1lc3NhZ2Uge1xuXG4gIHByaXZhdGUgX2lkOiBzdHJpbmc7XG4gIHByaXZhdGUgX3JlY2VpdmVyOiBBZGRyZXNzO1xuICBwcml2YXRlIF9zZW5kZXI6IEFkZHJlc3M7XG4gIHByaXZhdGUgX3R0bDogbnVtYmVyO1xuICBwcml2YXRlIF9pbmJvdW5kQWRkcmVzczogQWRkcmVzcztcbiAgcHJpdmF0ZSBfc3ViamVjdDogTWVzc2FnZVN1YmplY3Q7XG4gIHByb3RlY3RlZCBfYm9keTogYW55O1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihzZW5kZXI6IEFkZHJlc3MsIHJlY2VpdmVyOiBBZGRyZXNzLCBzdWJqZWN0OiBNZXNzYWdlU3ViamVjdCwgYm9keTogYW55LCBpZD86IHN0cmluZywgdHRsPzogbnVtYmVyKSB7XG4gICAgdGhpcy5fc2VuZGVyID0gc2VuZGVyO1xuICAgIHRoaXMuX3JlY2VpdmVyID0gcmVjZWl2ZXI7XG4gICAgdGhpcy5fc3ViamVjdCA9IHN1YmplY3Q7XG4gICAgdGhpcy5fYm9keSA9IGJvZHk7XG4gICAgdGhpcy5faWQgPSBpZCB8fCBgbSR7TWF0aC5yb3VuZCgxMDAwICsgTWF0aC5yYW5kb20oKSAqIDg5OTkpfWA7XG4gICAgdGhpcy5fdHRsID0gTnVtYmVyLmlzSW50ZWdlcih0dGwpID8gdHRsIDogTWVzc2FnZVR0bHMuZ2V0KHN1YmplY3QpO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBmcm9tU3RyaW5nKG1lc3NhZ2VTdHJpbmc6IHN0cmluZyk6IE1lc3NhZ2Uge1xuICAgIGNvbnN0IG1lc3NhZ2VKU09OID0gSlNPTi5wYXJzZShtZXNzYWdlU3RyaW5nKTtcbiAgICByZXR1cm4gbmV3IE1lc3NhZ2UoXG4gICAgICBBZGRyZXNzLmZyb21TdHJpbmcobWVzc2FnZUpTT04uc2VuZGVyKSxcbiAgICAgIEFkZHJlc3MuZnJvbVN0cmluZyhtZXNzYWdlSlNPTi5yZWNlaXZlciksXG4gICAgICBtZXNzYWdlSlNPTi5zdWJqZWN0IGFzIE1lc3NhZ2VTdWJqZWN0LFxuICAgICAgbWVzc2FnZUpTT04uYm9keSxcbiAgICAgIG1lc3NhZ2VKU09OLmlkLFxuICAgICAgbWVzc2FnZUpTT04udHRsXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgbGVuZ3RoKCkge1xuICAgIHJldHVybiBzdHJpbmdCeXRlTGVuZ3RoKHRoaXMudG9TdHJpbmcoKSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UmVjZWl2ZXIoKTogQWRkcmVzcyB7XG4gICAgcmV0dXJuIHRoaXMuX3JlY2VpdmVyO1xuICB9XG5cbiAgcHVibGljIGdldFNlbmRlcigpOiBBZGRyZXNzIHtcbiAgICByZXR1cm4gdGhpcy5fc2VuZGVyO1xuICB9XG5cbiAgcHVibGljIGdldEluYm91bmRBZGRyZXNzKCk6IEFkZHJlc3Mge1xuICAgIHJldHVybiB0aGlzLl9pbmJvdW5kQWRkcmVzcztcbiAgfVxuXG4gIHB1YmxpYyBnZXRTdWJqZWN0KCk6IE1lc3NhZ2VTdWJqZWN0IHtcbiAgICByZXR1cm4gdGhpcy5fc3ViamVjdDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRCb2R5KCk6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMuX2JvZHk7XG4gIH1cblxuICBwdWJsaWMgZ2V0SWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5faWQ7XG4gIH1cblxuICBwdWJsaWMgZ2V0VHRsKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3R0bDtcbiAgfVxuXG4gIHB1YmxpYyBkZWNyZWFzZVR0bCgpOiBudW1iZXIge1xuICAgIHJldHVybiAtLXRoaXMuX3R0bDtcbiAgfVxuXG4gIHB1YmxpYyBzZXRJbmJvdW5kQWRkcmVzcyhhZGRyZXNzOiBBZGRyZXNzKTogdm9pZCB7XG4gICAgdGhpcy5faW5ib3VuZEFkZHJlc3MgPSBhZGRyZXNzO1xuICB9XG5cbiAgcHVibGljIGNsb25lKCk6IE1lc3NhZ2Uge1xuICAgIHJldHVybiBuZXcgTWVzc2FnZShcbiAgICAgIHRoaXMuX3NlbmRlcixcbiAgICAgIHRoaXMuX3JlY2VpdmVyICxcbiAgICAgdGhpcy5fc3ViamVjdCAsXG4gICAgIHRoaXMuX2JvZHkgLFxuICAgICB0aGlzLl9pZCAsXG4gICAgIHRoaXMuX3R0bFxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBpZDogdGhpcy5faWQsXG4gICAgICAgIHJlY2VpdmVyOiB0aGlzLmdldFJlY2VpdmVyKCkudG9TdHJpbmcoKSxcbiAgICAgICAgc2VuZGVyOiB0aGlzLmdldFNlbmRlcigpLnRvU3RyaW5nKCksXG4gICAgICAgIHN1YmplY3Q6IHRoaXMuZ2V0U3ViamVjdCgpLFxuICAgICAgICB0dGw6IHRoaXMuZ2V0VHRsKCksXG4gICAgICAgIGJvZHk6IHRoaXMuZ2V0Qm9keSgpXG4gICAgICB9LFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgMlxuICAgICk7XG4gIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBzdHJpbmdCeXRlTGVuZ3RoKHZhbHVlOiBzdHJpbmcpOiBudW1iZXIge1xuICAvLyBAdHMtaWdub3JlXG4gIGlmIChwcm9jZXNzLmJyb3dzZXIpIHtcbiAgICByZXR1cm4gbmV3IEJsb2IoW3ZhbHVlXSkuc2l6ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gQnVmZmVyLmJ5dGVMZW5ndGgodmFsdWUpO1xuICB9XG59XG4iLCJpbXBvcnQge1JvbGVUeXBlfSBmcm9tICcuLi9yb2xlL2ludGVyZmFjZSc7XG5pbXBvcnQge0FkZHJlc3N9IGZyb20gJy4vYWRkcmVzcyc7XG5pbXBvcnQge01lc3NhZ2VTdWJqZWN0fSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQge01lc3NhZ2V9IGZyb20gJy4vbWVzc2FnZSc7XG5cbmV4cG9ydCBjbGFzcyBBcHBDb250ZW50IGV4dGVuZHMgTWVzc2FnZSB7XG4gIHByb3RlY3RlZCBfYm9keTogQXJyYXk8Um9sZVR5cGU+O1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihzZW5kZXI6IEFkZHJlc3MsIHJlY2VpdmVyOiBBZGRyZXNzLCBtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihzZW5kZXIsIHJlY2VpdmVyLCBNZXNzYWdlU3ViamVjdC5BUFBfQ09OVEVOVCwgbWVzc2FnZSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Qm9keSgpOiBBcnJheTxSb2xlVHlwZT4ge1xuICAgIHJldHVybiB0aGlzLl9ib2R5O1xuICB9XG59XG4iLCJpbXBvcnQge0lNZXNzYWdlfSBmcm9tICcuLi9tZXNzYWdlL2ludGVyZmFjZSc7XG5pbXBvcnQge0NodXJuVHlwZSwgSUNvbm5lY3Rpb24sIE1pdG9zaXN9IGZyb20gJy4uL21pdG9zaXMnO1xuaW1wb3J0IHtSZW1vdGVQZWVyfSBmcm9tICcuLi9wZWVyL3JlbW90ZS1wZWVyJztcblxuZXhwb3J0IGVudW0gUm9sZVR5cGUge1xuICBORVdCSUUgPSAnbmV3YmllJyxcbiAgUEVFUiA9ICdwZWVyJyxcbiAgUk9VVEVSID0gJ3JvdXRlcicsXG4gIFNJR05BTCA9ICdzaWduYWwnXG59XG5cbmV4cG9ydCBlbnVtIFRhc2tQaGFzZSB7XG4gIENMRUFOID0gMzAsXG4gIEFDUVVJUkUgPSAyMCxcbiAgUFVCTElTSCA9IDEwXG59XG5cbmV4cG9ydCBjb25zdCBSb2xlUHJpb3JpdHlNYXA6IE1hcDxSb2xlVHlwZSwgbnVtYmVyPiA9IG5ldyBNYXAoKTtcblJvbGVQcmlvcml0eU1hcC5zZXQoUm9sZVR5cGUuTkVXQklFLCAxMCk7XG5Sb2xlUHJpb3JpdHlNYXAuc2V0KFJvbGVUeXBlLlBFRVIsIDIwKTtcblJvbGVQcmlvcml0eU1hcC5zZXQoUm9sZVR5cGUuUk9VVEVSLCAzMCk7XG5Sb2xlUHJpb3JpdHlNYXAuc2V0KFJvbGVUeXBlLlNJR05BTCwgNDApO1xuXG5leHBvcnQgdHlwZSBJUm9sZUNvbnN0cnVjdG9yID0gbmV3KC4uLmFyZ3M6IEFycmF5PGFueT4pID0+IElSb2xlO1xuXG5leHBvcnQgaW50ZXJmYWNlIElUYXNrU2NoZWR1bGUge1xuICB0YXNrOiAobWl0b3NpczogTWl0b3NpcykgPT4gdm9pZDtcbiAgcGhhc2U6IFRhc2tQaGFzZTtcbiAgaW50ZXJ2YWw6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUm9sZSB7XG5cbiAgaXNJbml0aWFsaXplZCgpOiBib29sZWFuO1xuXG4gIGdldFRhc2tTY2hlZHVsZSgpOiBBcnJheTxJVGFza1NjaGVkdWxlPjtcblxuICBvbkluaXQobWl0b3NpczogTWl0b3Npcyk6IHZvaWQ7XG5cbiAgb25NZXNzYWdlKG1pdG9zaXM6IE1pdG9zaXMsIG1lc3NhZ2U6IElNZXNzYWdlKTogdm9pZDtcblxuICBvbkNvbm5lY3Rpb25PcGVuKG1pdG9zaXM6IE1pdG9zaXMsIGNvbm5lY3Rpb246IElDb25uZWN0aW9uKTogdm9pZDtcblxuICBvbkNvbm5lY3Rpb25DbG9zZShtaXRvc2lzOiBNaXRvc2lzLCBjb25uZWN0aW9uOiBJQ29ubmVjdGlvbik6IHZvaWQ7XG5cbiAgcmVxdWlyZXNQZWVyKHJlbW90ZVBlZXI6IFJlbW90ZVBlZXIpOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElSb2xlQ2h1cm5FdmVudCB7XG4gIHR5cGU6IENodXJuVHlwZTtcbiAgcm9sZTogUm9sZVR5cGU7XG59XG4iLCIvKiB0c2xpbnQ6ZGlzYWJsZTptYXgtY2xhc3Nlcy1wZXItZmlsZSAqL1xuXG5pbXBvcnQge1JvbGVUeXBlfSBmcm9tICcuL3JvbGUvaW50ZXJmYWNlJztcbmltcG9ydCB7RGVmYXVsdE1hcH0gZnJvbSAnLi91dGlsL2RlZmF1bHQtbWFwJztcblxuZXhwb3J0IGNsYXNzIENvbmZpZ3VyYXRpb24ge1xuICBwdWJsaWMgQlJPQURDQVNUX0FERFJFU1MgPSAnKic7XG4gIHB1YmxpYyBERUZBVUxUX1NJR05BTF9BRERSRVNTID0gJ21pdG9zaXMvdjEvcDAwMC93c3Mvc2lnbmFsLm1pdG9zaXMuZGV2L3dlYnNvY2tldCc7XG5cbiAgcHVibGljIERJUkVDVF9DT05ORUNUSU9OU19HT0FMX01JTiA9IDQ7XG4gIHB1YmxpYyBESVJFQ1RfQ09OTkVDVElPTlNfR09BTF9NQVggPSA2O1xuICBwdWJsaWMgRElSRUNUX0NPTk5FQ1RJT05TX01BWCA9IDEwO1xuICBwdWJsaWMgVFJZX09USEVSX1BFRVJTX0NPVU5UID0gMDtcbiAgcHVibGljIERJUkVDVF9DT05ORUNUSU9OX0JPT1NUX0FNT1VOVCA9IDI7XG4gIHB1YmxpYyBESVJFQ1RfQ09OTkVDVElPTl9CT09TVF9USU1FT1VUID0gMjA7XG5cbiAgcHVibGljIFNMSURJTkdfV0lORE9XX1NJWkUgPSAxMjtcbiAgcHVibGljIFRSQU5TTUlTU0lPTl9QSU5HX0lOVEVSVkFMID0gNDtcbiAgcHVibGljIE1BWF9ST1VURVJTX1BFUl9TSUdOQUwgPSAxO1xuICBwdWJsaWMgTEFTVF9TRUVOX1RJTUVPVVQgPSAzMDtcbiAgcHVibGljIExBVEVOQ1lfV0lORE9XX1NJWkUgPSAxMDtcbiAgcHVibGljIERFRkFVTFRfUVVBTElUWSA9IDAuNTtcbiAgcHVibGljIERFRkFVTFRfUk9VVEVSX1JBTksgPSAwLjE7XG5cbiAgcHVibGljIENPTk5FQ1RJT05fTUVURVJfT1BFTl9HUkFDRV9QRVJJT0RfVElNRSA9IDEwO1xuICBwdWJsaWMgQ09OTkVDVElPTl9NRVRFUl9QUk9URUNUSU9OX1RJTUUgPSAxMDtcbiAgcHVibGljIENPTk5FQ1RJT05fTUVURVJfUFVOSVNITUVOVF9USU1FID0gMjA7XG5cbiAgcHVibGljIE9VVEJPVU5EX1NUUkVBTV9DT05ORUNUSU9OUyA9IDI7XG5cbiAgcHVibGljIFJPVVRFUl9BTElWRV9ISUdIU0NPUkVfV0lORE9XX1NJWkUgPSAxMDtcbn1cblxuZXhwb3J0IGNvbnN0IENvbmZpZ3VyYXRpb25NYXA6IERlZmF1bHRNYXA8Um9sZVR5cGUsIENvbmZpZ3VyYXRpb24+ID0gbmV3IERlZmF1bHRNYXAoKCkgPT4gbmV3IENvbmZpZ3VyYXRpb24oKSk7XG5Db25maWd1cmF0aW9uTWFwLmdldChSb2xlVHlwZS5TSUdOQUwpLkRJUkVDVF9DT05ORUNUSU9OU19NQVggPSAxMDA7XG4iLCJpbXBvcnQge0NvbmZpZ3VyYXRpb25NYXB9IGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuXG5leHBvcnQgY2xhc3MgU2xpZGluZ1dpbmRvdyBleHRlbmRzIFNldDxudW1iZXI+IHtcbiAgcHJpdmF0ZSBfc2VxdWVuY2UgPSAwO1xuXG4gIHByaXZhdGUgcmVtb3ZlT3V0RGF0ZWQoKTogdm9pZCB7XG4gICAgY29uc3QgaXRlcmFibGUgPSB0aGlzLnZhbHVlcygpO1xuICAgIGxldCBuZXh0ID0gaXRlcmFibGUubmV4dCgpO1xuICAgIHdoaWxlICghbmV4dC5kb25lKSB7XG4gICAgICBjb25zdCBzZXF1ZW5jZSA9IG5leHQudmFsdWU7XG4gICAgICBpZiAodGhpcy5pc1NlcXVlbmNlT3V0T2ZXaW5kb3coc2VxdWVuY2UpKSB7XG4gICAgICAgIHRoaXMuZGVsZXRlKHNlcXVlbmNlKTtcbiAgICAgIH1cbiAgICAgIG5leHQgPSBpdGVyYWJsZS5uZXh0KCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBuZXh0U2VxdWVuY2UoKSB7XG4gICAgdGhpcy5fc2VxdWVuY2UgPSB0aGlzLl9zZXF1ZW5jZSArIDE7XG4gIH1cblxuICBwdWJsaWMgaXNTZXF1ZW5jZU91dE9mV2luZG93KHNlcXVlbmNlOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5fc2VxdWVuY2UgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoc2VxdWVuY2UgPiB0aGlzLl9zZXF1ZW5jZSkgfHwgKHNlcXVlbmNlIDw9IHRoaXMuX3NlcXVlbmNlIC0gQ29uZmlndXJhdGlvbk1hcC5nZXREZWZhdWx0KCkuU0xJRElOR19XSU5ET1dfU0laRSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFkZChzZXF1ZW5jZTogbnVtYmVyKTogdGhpcyB7XG4gICAgdGhpcy5zZXRTZXF1ZW5jZShzZXF1ZW5jZSk7XG4gICAgc3VwZXIuYWRkKHNlcXVlbmNlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1YmxpYyBzbGlkZSgpIHtcbiAgICB0aGlzLm5leHRTZXF1ZW5jZSgpO1xuICAgIHRoaXMucmVtb3ZlT3V0RGF0ZWQoKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRTZXF1ZW5jZShzZXF1ZW5jZTogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMuaXNTZXF1ZW5jZU91dE9mV2luZG93KHNlcXVlbmNlKSkge1xuICAgICAgdGhpcy5fc2VxdWVuY2UgPSBzZXF1ZW5jZTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVPdXREYXRlZCgpO1xuICB9XG5cbiAgcHVibGljIGdldFNlcXVlbmNlTnVtYmVyKCkge1xuICAgIHJldHVybiB0aGlzLl9zZXF1ZW5jZTtcbiAgfVxufVxuIiwiaW1wb3J0IHtTbGlkaW5nV2luZG93fSBmcm9tICcuLi9tZXRlcmluZy9zbGlkaW5nLXdpbmRvdyc7XG5pbXBvcnQge0lGbG9vZGFibGVNZXNzYWdlLCBJTWVzc2FnZX0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtQZWVyTWFuYWdlcn0gZnJvbSAnLi4vcGVlci9wZWVyLW1hbmFnZXInO1xuaW1wb3J0IHtMb2dnZXJ9IGZyb20gJy4uL2xvZ2dlci9sb2dnZXInO1xuXG5leHBvcnQgY2xhc3MgRmxvb2RpbmdIYW5kbGVyIHtcbiAgcHJpdmF0ZSBfc2xpZGluZ1dpbmRvdzogU2xpZGluZ1dpbmRvdztcbiAgcHJpdmF0ZSBfcGVlck1hbmFnZXI6IFBlZXJNYW5hZ2VyO1xuXG4gIGNvbnN0cnVjdG9yKHBlZXJNYW5nZXI6IFBlZXJNYW5hZ2VyKSB7XG4gICAgdGhpcy5fcGVlck1hbmFnZXIgPSBwZWVyTWFuZ2VyO1xuICAgIHRoaXMuX3NsaWRpbmdXaW5kb3cgPSBuZXcgU2xpZGluZ1dpbmRvdygpO1xuICB9XG5cbiAgcHJpdmF0ZSBpc0RpcmVjdFBlZXJNZXNzYWdlKG1lc3NhZ2U6IElGbG9vZGFibGVNZXNzYWdlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIG1lc3NhZ2UuZ2V0U2VuZGVyKCkuZ2V0SWQoKSA9PT0gbWVzc2FnZS5nZXRJbmJvdW5kQWRkcmVzcygpLmdldElkKCk7XG4gIH1cblxuICBwcml2YXRlIHNsaWRpbmdXaW5kb3dTYXlZZXMobWVzc2FnZTogSUZsb29kYWJsZU1lc3NhZ2UpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fc2xpZGluZ1dpbmRvdy5pc1NlcXVlbmNlT3V0T2ZXaW5kb3cobWVzc2FnZS5nZXRCb2R5KCkuc2VxdWVuY2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBjYW5Gb3J3YXJkTWVzc2FnZShtZXNzYWdlOiBJRmxvb2RhYmxlTWVzc2FnZSk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmlzRGlyZWN0UGVlck1lc3NhZ2UobWVzc2FnZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGlkaW5nV2luZG93U2F5WWVzKG1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBpc0ZpcnN0TWVzc2FnZShtZXNzYWdlOiBJTWVzc2FnZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnNsaWRpbmdXaW5kb3dTYXlZZXMobWVzc2FnZSk7XG4gIH1cblxuICBwdWJsaWMgZmxvb2RNZXNzYWdlKG1lc3NhZ2U6IElGbG9vZGFibGVNZXNzYWdlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY2FuRm9yd2FyZE1lc3NhZ2UobWVzc2FnZSkpIHtcbiAgICAgIExvZ2dlci5nZXRMb2dnZXIodGhpcy5fcGVlck1hbmFnZXIuZ2V0TXlJZCgpKVxuICAgICAgICAuZGVidWcoJ2Jyb2FkY2FzdCBtZXNzYWdlJyxcbiAgICAgICAgICBtZXNzYWdlLmdldEluYm91bmRBZGRyZXNzKCksIG1lc3NhZ2UsXG4gICAgICAgICAgdGhpcy5fc2xpZGluZ1dpbmRvdy5nZXRTZXF1ZW5jZU51bWJlcigpLFxuICAgICAgICAgIHRoaXMuX3NsaWRpbmdXaW5kb3cuaXNTZXF1ZW5jZU91dE9mV2luZG93KG1lc3NhZ2UuZ2V0Qm9keSgpLnNlcXVlbmNlKVxuICAgICAgICApO1xuICAgICAgdGhpcy5fcGVlck1hbmFnZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICB0aGlzLl9zbGlkaW5nV2luZG93LmFkZChtZXNzYWdlLmdldEJvZHkoKS5zZXF1ZW5jZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG91dE9mV2luZG93ID0gdGhpcy5fc2xpZGluZ1dpbmRvdy5pc1NlcXVlbmNlT3V0T2ZXaW5kb3cobWVzc2FnZS5nZXRCb2R5KCkuc2VxdWVuY2UpO1xuICAgICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLl9wZWVyTWFuYWdlci5nZXRNeUlkKCkpXG4gICAgICAgIC5pbmZvKCdkcm9wIGJyb2FkY2FzdCBtZXNzYWdlJyxcbiAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgIGBpbmJvdW5kIGFkZHJlc3MgJHttZXNzYWdlLmdldEluYm91bmRBZGRyZXNzKCl9YCxcbiAgICAgICAgICBgc2xpZGluZyB3aW5kb3cgc2VxdWVuY2UgJHt0aGlzLl9zbGlkaW5nV2luZG93LmdldFNlcXVlbmNlTnVtYmVyKCl9YCxcbiAgICAgICAgICBgb3V0IG9mIHdpbmRvdyAke291dE9mV2luZG93ID8gJ3llcycgOiAnbm8nfWBcbiAgICAgICAgKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi9hZGRyZXNzJztcbmltcG9ydCB7TWVzc2FnZVN1YmplY3R9IGZyb20gJy4vaW50ZXJmYWNlJztcbmltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi9tZXNzYWdlJztcblxuZXhwb3J0IGNsYXNzIFVua25vd25QZWVyIGV4dGVuZHMgTWVzc2FnZSB7XG4gIHByb3RlY3RlZCBfYm9keTogc3RyaW5nO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihzZW5kZXI6IEFkZHJlc3MsIHJlY2VpdmVyOiBBZGRyZXNzLCByZW1vdGVQZWVySWQ6IHN0cmluZykge1xuICAgIHN1cGVyKHNlbmRlciwgcmVjZWl2ZXIsIE1lc3NhZ2VTdWJqZWN0LlVOS05PV05fUEVFUiwgcmVtb3RlUGVlcklkKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRCb2R5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2JvZHk7XG4gIH1cbn1cbiIsImltcG9ydCB7U3ViamVjdH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge2ZpbHRlcn0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHtDb25maWd1cmF0aW9uTWFwfSBmcm9tICcuLi9jb25maWd1cmF0aW9uJztcbmltcG9ydCB7SUNvbm5lY3Rpb24sIFByb3RvY29sfSBmcm9tICcuLi9jb25uZWN0aW9uL2ludGVyZmFjZSc7XG5pbXBvcnQge0NodXJuVHlwZX0gZnJvbSAnLi4vaW50ZXJmYWNlJztcbmltcG9ydCB7TG9nZ2VyfSBmcm9tICcuLi9sb2dnZXIvbG9nZ2VyJztcbmltcG9ydCB7UGVlck1hbmFnZXJ9IGZyb20gJy4uL3BlZXIvcGVlci1tYW5hZ2VyJztcbmltcG9ydCB7UmVtb3RlUGVlcn0gZnJvbSAnLi4vcGVlci9yZW1vdGUtcGVlcic7XG5pbXBvcnQge1JvbGVUeXBlfSBmcm9tICcuLi9yb2xlL2ludGVyZmFjZSc7XG5pbXBvcnQge1JvbGVNYW5hZ2VyfSBmcm9tICcuLi9yb2xlL3JvbGUtbWFuYWdlcic7XG5pbXBvcnQge1N0cmVhbU1hbmFnZXJ9IGZyb20gJy4uL3N0cmVhbS9zdHJlYW0tbWFuYWdlcic7XG5pbXBvcnQge0FkZHJlc3N9IGZyb20gJy4vYWRkcmVzcyc7XG5pbXBvcnQge0NoYW5uZWxBbm5vdW5jZW1lbnR9IGZyb20gJy4vY2hhbm5lbC1hbm5vdW5jZW1lbnQnO1xuaW1wb3J0IHtDb25uZWN0aW9uTmVnb3RpYXRpb259IGZyb20gJy4vY29ubmVjdGlvbi1uZWdvdGlhdGlvbic7XG5pbXBvcnQge0Zsb29kaW5nSGFuZGxlcn0gZnJvbSAnLi9mbG9vZGluZy1oYW5kbGVyJztcbmltcG9ydCB7SU1lc3NhZ2UsIE1lc3NhZ2VTdWJqZWN0fSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQge1BlZXJTdWdnZXN0aW9ufSBmcm9tICcuL3BlZXItc3VnZ2VzdGlvbic7XG5pbXBvcnQge1BlZXJVcGRhdGV9IGZyb20gJy4vcGVlci11cGRhdGUnO1xuaW1wb3J0IHtSb2xlVXBkYXRlfSBmcm9tICcuL3JvbGUtdXBkYXRlJztcbmltcG9ydCB7Um91dGVyQWxpdmV9IGZyb20gJy4vcm91dGVyLWFsaXZlJztcbmltcG9ydCB7VW5rbm93blBlZXJ9IGZyb20gJy4vdW5rbm93bi1wZWVyJztcblxuZXhwb3J0IGNsYXNzIE1lc3NhZ2VCcm9rZXIge1xuXG4gIHByaXZhdGUgX3BlZXJNYW5hZ2VyOiBQZWVyTWFuYWdlcjtcbiAgcHJpdmF0ZSBfcm9sZU1hbmFnZXI6IFJvbGVNYW5hZ2VyO1xuICBwcml2YXRlIF9zdHJlYW1NYW5hZ2VyOiBTdHJlYW1NYW5hZ2VyO1xuICBwcml2YXRlIF9hcHBDb250ZW50TWVzc2FnZXNTdWJqZWN0OiBTdWJqZWN0PElNZXNzYWdlPjtcbiAgcHJpdmF0ZSBfbWVzc2FnZXNTdWJqZWN0OiBTdWJqZWN0PElNZXNzYWdlPjtcbiAgcHJpdmF0ZSBfaW5jb21pbmdNZXNzYWdlU3ViamVjdDogU3ViamVjdDxJTWVzc2FnZT47XG4gIHByaXZhdGUgX3JvdXRlckFsaXZlRmxvb2RpbmdIYW5kbGVyOiBGbG9vZGluZ0hhbmRsZXI7XG5cbiAgY29uc3RydWN0b3IocGVlck1hbmFnZXI6IFBlZXJNYW5hZ2VyLCByb2xlTWFuYWdlcjogUm9sZU1hbmFnZXIsIHN0cmVhbU1hbmFnZXI6IFN0cmVhbU1hbmFnZXIpIHtcbiAgICB0aGlzLl9wZWVyTWFuYWdlciA9IHBlZXJNYW5hZ2VyO1xuICAgIHRoaXMubGlzdGVuT25QZWVyQ2h1cm4oKTtcbiAgICB0aGlzLl9yb2xlTWFuYWdlciA9IHJvbGVNYW5hZ2VyO1xuICAgIHRoaXMuX3N0cmVhbU1hbmFnZXIgPSBzdHJlYW1NYW5hZ2VyO1xuICAgIHRoaXMuX2FwcENvbnRlbnRNZXNzYWdlc1N1YmplY3QgPSBuZXcgU3ViamVjdCgpO1xuICAgIHRoaXMuX21lc3NhZ2VzU3ViamVjdCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgdGhpcy5faW5jb21pbmdNZXNzYWdlU3ViamVjdCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgdGhpcy5fcm91dGVyQWxpdmVGbG9vZGluZ0hhbmRsZXIgPSBuZXcgRmxvb2RpbmdIYW5kbGVyKHBlZXJNYW5hZ2VyKTtcbiAgfVxuXG4gIHByaXZhdGUgbGlzdGVuT25QZWVyQ2h1cm4oKTogdm9pZCB7XG4gICAgdGhpcy5fcGVlck1hbmFnZXIub2JzZXJ2ZVBlZXJDaHVybigpXG4gICAgICAucGlwZShcbiAgICAgICAgZmlsdGVyKGV2ID0+IGV2LnR5cGUgPT09IENodXJuVHlwZS5BRERFRClcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgIGV2ID0+IHRoaXMubGlzdGVuT25Db25uZWN0aW9uQ2h1cm4oZXYucGVlcilcbiAgICAgICk7XG4gIH1cblxuICBwcml2YXRlIGxpc3Rlbk9uQ29ubmVjdGlvbkNodXJuKHJlbW90ZVBlZXI6IFJlbW90ZVBlZXIpOiB2b2lkIHtcbiAgICBMb2dnZXIuZ2V0TG9nZ2VyKHRoaXMuX3BlZXJNYW5hZ2VyLmdldE15SWQoKSkuaW5mbyhgYWRkZWQgJHtyZW1vdGVQZWVyLmdldElkKCl9YCk7XG4gICAgcmVtb3RlUGVlci5vYnNlcnZlQ2h1cm4oKVxuICAgICAgLnBpcGUoXG4gICAgICAgIGZpbHRlcihldiA9PiBldi50eXBlID09PSBDaHVyblR5cGUuQURERUQpXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKFxuICAgICAgICBldiA9PiB0aGlzLmxpc3Rlbk9uQ29ubmVjdGlvbkFkZGVkKGV2LmNvbm5lY3Rpb24pXG4gICAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBsaXN0ZW5PbkNvbm5lY3Rpb25BZGRlZChjb25uZWN0aW9uOiBJQ29ubmVjdGlvbik6IHZvaWQge1xuICAgIGNvbm5lY3Rpb24ub2JzZXJ2ZU1lc3NhZ2VSZWNlaXZlZCgpXG4gICAgICAuc3Vic2NyaWJlKFxuICAgICAgICBtZXNzYWdlID0+IHtcbiAgICAgICAgICB0aGlzLmhhbmRsZU1lc3NhZ2UobWVzc2FnZSwgY29ubmVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1lc3NhZ2UobWVzc2FnZTogSU1lc3NhZ2UsIGNvbm5lY3Rpb246IElDb25uZWN0aW9uKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIG1lc3NhZ2Uuc2V0SW5ib3VuZEFkZHJlc3MoY29ubmVjdGlvbi5nZXRBZGRyZXNzKCkpO1xuICAgICAgdGhpcy5faW5jb21pbmdNZXNzYWdlU3ViamVjdC5uZXh0KG1lc3NhZ2UpO1xuXG4gICAgICBjb25zdCB2aWFQZWVySWQgPSBtZXNzYWdlLmdldEluYm91bmRBZGRyZXNzKCkuZ2V0SWQoKTtcbiAgICAgIGNvbnN0IHNlbmRlcklkID0gbWVzc2FnZS5nZXRTZW5kZXIoKS5nZXRJZCgpO1xuXG4gICAgICBMb2dnZXIuZ2V0TG9nZ2VyKHRoaXMuX3BlZXJNYW5hZ2VyLmdldE15SWQoKSkud2FybihgZW5zdXJlIGNvbm5lY3Rpb24gdG8gJHtzZW5kZXJJZH0gdmlhICR7dmlhUGVlcklkfWApO1xuICAgICAgdGhpcy5fcGVlck1hbmFnZXJcbiAgICAgICAgLmVuc3VyZUNvbm5lY3Rpb24obmV3IEFkZHJlc3Moc2VuZGVySWQsIFByb3RvY29sLlZJQV9NVUxUSSwgdmlhUGVlcklkKSlcbiAgICAgICAgLmNhdGNoKFxuICAgICAgICAgIHJlYXNvbiA9PlxuICAgICAgICAgICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLl9wZWVyTWFuYWdlci5nZXRNeUlkKCkpLndhcm4ocmVhc29uLCBtZXNzYWdlKVxuICAgICAgICApO1xuXG4gICAgICBpZiAobWVzc2FnZS5nZXRSZWNlaXZlcigpLmdldElkKCkgPT09IHRoaXMuX3BlZXJNYW5hZ2VyLmdldE15SWQoKSkge1xuICAgICAgICB0aGlzLnJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLmdldFJlY2VpdmVyKCkuZ2V0SWQoKSA9PT0gQ29uZmlndXJhdGlvbk1hcC5nZXREZWZhdWx0KCkuQlJPQURDQVNUX0FERFJFU1MpIHtcbiAgICAgICAgdGhpcy5yZWNlaXZlTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5icm9hZGNhc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mb3J3YXJkTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgTG9nZ2VyLmdldExvZ2dlcihtZXNzYWdlLmdldFJlY2VpdmVyKCkuZ2V0SWQoKSkuZXJyb3IoZXJyb3IubWVzc2FnZSwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZWNlaXZlTWVzc2FnZShtZXNzYWdlOiBJTWVzc2FnZSk6IHZvaWQge1xuICAgIGNvbnN0IHZpYVBlZXJJZCA9IG1lc3NhZ2UuZ2V0SW5ib3VuZEFkZHJlc3MoKS5nZXRJZCgpO1xuXG4gICAgc3dpdGNoIChtZXNzYWdlLmdldFN1YmplY3QoKSkge1xuICAgICAgY2FzZSBNZXNzYWdlU3ViamVjdC5ST0xFX1VQREFURTpcbiAgICAgICAgdGhpcy5fcm9sZU1hbmFnZXIudXBkYXRlUm9sZXMobWVzc2FnZSBhcyBSb2xlVXBkYXRlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIE1lc3NhZ2VTdWJqZWN0LlBFRVJfVVBEQVRFOlxuICAgICAgICB0aGlzLl9wZWVyTWFuYWdlci51cGRhdGVQZWVycyhtZXNzYWdlIGFzIFBlZXJVcGRhdGUsIHZpYVBlZXJJZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBNZXNzYWdlU3ViamVjdC5QRUVSX1NVR0dFU1RJT046XG4gICAgICAgIHRoaXMuX3BlZXJNYW5hZ2VyLnVwZGF0ZVN1Z2dlc3RlZFBlZXJzKG1lc3NhZ2UgYXMgUGVlclN1Z2dlc3Rpb24sIHZpYVBlZXJJZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBNZXNzYWdlU3ViamVjdC5VTktOT1dOX1BFRVI6XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nUGVlciA9IHRoaXMuX3BlZXJNYW5hZ2VyLmdldFBlZXJCeUlkKG1lc3NhZ2UuZ2V0Qm9keSgpKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nUGVlcikge1xuICAgICAgICAgIGV4aXN0aW5nUGVlclxuICAgICAgICAgICAgLmdldENvbm5lY3Rpb25UYWJsZSgpXG4gICAgICAgICAgICAuZmlsdGVyQnlMb2NhdGlvbihtZXNzYWdlLmdldEluYm91bmRBZGRyZXNzKCkuZ2V0SWQoKSlcbiAgICAgICAgICAgIC5mb3JFYWNoKGNvbm5lY3Rpb24gPT4gY29ubmVjdGlvbi5jbG9zZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgTWVzc2FnZVN1YmplY3QuQ09OTkVDVElPTl9ORUdPVElBVElPTjpcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLmdldFNlbmRlcigpLmdldFByb3RvY29sKCkpIHtcbiAgICAgICAgICBjYXNlIFByb3RvY29sLldFQlJUQ19TVFJFQU06XG4gICAgICAgICAgICB0aGlzLl9zdHJlYW1NYW5hZ2VyLm5lZ290aWF0ZUNvbm5lY3Rpb24obWVzc2FnZSBhcyBDb25uZWN0aW9uTmVnb3RpYXRpb24pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRoaXMuX3BlZXJNYW5hZ2VyLm5lZ290aWF0ZUNvbm5lY3Rpb24obWVzc2FnZSBhcyBDb25uZWN0aW9uTmVnb3RpYXRpb24pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIE1lc3NhZ2VTdWJqZWN0LkFQUF9DT05URU5UOlxuICAgICAgICB0aGlzLl9hcHBDb250ZW50TWVzc2FnZXNTdWJqZWN0Lm5leHQobWVzc2FnZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBNZXNzYWdlU3ViamVjdC5JTlRST0RVQ1RJT046XG4gICAgICAgIC8vIERvIG5vdGhpbmcsIHJvbGUgbWFuYWdlciB3aWxsIGZvcndhcmQgdGhpcyB0byBzaWduYWwgcm9sZSBpZiBuZWVkZWRcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIE1lc3NhZ2VTdWJqZWN0LlJPVVRFUl9BTElWRTpcbiAgICAgICAgY29uc3QgYWxpdmVNZXNzYWdlOiBSb3V0ZXJBbGl2ZSA9IG1lc3NhZ2UgYXMgUm91dGVyQWxpdmU7XG4gICAgICAgIGNvbnN0IGZpcnN0QWxpdmVGb3JTZXF1ZW5jZSA9IHRoaXMuX3JvdXRlckFsaXZlRmxvb2RpbmdIYW5kbGVyLmlzRmlyc3RNZXNzYWdlKGFsaXZlTWVzc2FnZSk7XG4gICAgICAgIHRoaXMuX3BlZXJNYW5hZ2VyLmhhbmRsZVJvdXRlckFsaXZlKGFsaXZlTWVzc2FnZSwgZmlyc3RBbGl2ZUZvclNlcXVlbmNlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIE1lc3NhZ2VTdWJqZWN0LlBFRVJfQUxJVkU6XG4gICAgICAgIGlmICghdGhpcy5fcm9sZU1hbmFnZXIuaGFzUm9sZShSb2xlVHlwZS5ST1VURVIpKSB7XG4gICAgICAgICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLl9wZWVyTWFuYWdlci5nZXRNeUlkKCkpLndhcm4oYGkgYW0gbm90IGEgcm91dGVyYCwgbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIE1lc3NhZ2VTdWJqZWN0LkNIQU5ORUxfQU5OT1VOQ0VNRU5UOlxuICAgICAgICB0aGlzLl9zdHJlYW1NYW5hZ2VyLnVwZGF0ZVByb3ZpZGVycygobWVzc2FnZSBhcyBDaGFubmVsQW5ub3VuY2VtZW50KS5nZXRCb2R5KCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgc3ViamVjdCAke21lc3NhZ2UuZ2V0U3ViamVjdCgpfWApO1xuICAgIH1cbiAgICB0aGlzLl9tZXNzYWdlc1N1YmplY3QubmV4dChtZXNzYWdlKTtcbiAgfVxuXG4gIHByaXZhdGUgYnJvYWRjYXN0TWVzc2FnZShtZXNzYWdlOiBJTWVzc2FnZSk6IHZvaWQge1xuICAgIHN3aXRjaCAobWVzc2FnZS5nZXRTdWJqZWN0KCkpIHtcbiAgICAgIGNhc2UgTWVzc2FnZVN1YmplY3QuUk9VVEVSX0FMSVZFOlxuICAgICAgICB0aGlzLl9yb3V0ZXJBbGl2ZUZsb29kaW5nSGFuZGxlci5mbG9vZE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtZXNzYWdlIGZyb20gdHlwZSAke21lc3NhZ2UuZ2V0U3ViamVjdCgpfSBjYW4gbm90IGJlIGJyb2FkY2FzdGVkYCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBmb3J3YXJkTWVzc2FnZShtZXNzYWdlOiBJTWVzc2FnZSk6IHZvaWQge1xuICAgIGNvbnN0IHBlZXJJZCA9IG1lc3NhZ2UuZ2V0UmVjZWl2ZXIoKS5nZXRJZCgpO1xuICAgIGNvbnN0IHJlY2VpdmVyUGVlciA9IHRoaXMuX3BlZXJNYW5hZ2VyLmdldFBlZXJCeUlkKHBlZXJJZCk7XG4gICAgaWYgKCFyZWNlaXZlclBlZXIpIHtcbiAgICAgIGNvbnN0IGluYm91bmRBZGRyZXNzID0gbWVzc2FnZS5nZXRJbmJvdW5kQWRkcmVzcygpO1xuICAgICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLl9wZWVyTWFuYWdlci5nZXRNeUlkKCkpXG4gICAgICAgIC5kZWJ1ZyhgdGVsbGluZyAke2luYm91bmRBZGRyZXNzLmdldElkKCl9IHRoYXQgaSBkb24ndCBrbm93ICR7cGVlcklkfWAsIG1lc3NhZ2UpO1xuICAgICAgdGhpcy5fcGVlck1hbmFnZXIuc2VuZE1lc3NhZ2UoXG4gICAgICAgIG5ldyBVbmtub3duUGVlcihtZXNzYWdlLmdldFJlY2VpdmVyKCksIG1lc3NhZ2UuZ2V0SW5ib3VuZEFkZHJlc3MoKSwgcGVlcklkKVxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5fcGVlck1hbmFnZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSk7XG4gIH1cblxuICBwdWJsaWMgb2JzZXJ2ZUFwcENvbnRlbnRNZXNzYWdlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fYXBwQ29udGVudE1lc3NhZ2VzU3ViamVjdDtcbiAgfVxuXG4gIHB1YmxpYyBvYnNlcnZlTWVzc2FnZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21lc3NhZ2VzU3ViamVjdDtcbiAgfVxuXG4gIHB1YmxpYyBvYnNlcnZlSW5jb21pbmdNZXNzYWdlcygpIHtcbiAgICByZXR1cm4gdGhpcy5faW5jb21pbmdNZXNzYWdlU3ViamVjdDtcbiAgfVxuXG4gIHB1YmxpYyBkZXN0cm95KCkge1xuICAgIHRoaXMuX2FwcENvbnRlbnRNZXNzYWdlc1N1YmplY3QuY29tcGxldGUoKTtcbiAgICB0aGlzLl9tZXNzYWdlc1N1YmplY3QuY29tcGxldGUoKTtcbiAgICB0aGlzLl9pbmNvbWluZ01lc3NhZ2VTdWJqZWN0LmNvbXBsZXRlKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi9tZXNzYWdlJztcblxuZXhwb3J0IGVudW0gQ29ubmVjdGlvbk5lZ290aWF0aW9uVHlwZSB7XG4gIFJFUVVFU1QgPSAncmVxdWVzdCcsXG4gIE9GRkVSID0gJ29mZmVyJyxcbiAgQU5TV0VSID0gJ2Fuc3dlcicsXG4gIFJFSkVDVElPTiA9ICdyZWplY3Rpb24nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNvbm5lY3Rpb25OZWdvdGlhdGlvbkJvZHkge1xuICB0eXBlOiBDb25uZWN0aW9uTmVnb3RpYXRpb25UeXBlO1xuICBzZHA/OiBzdHJpbmc7XG4gIGNoYW5uZWxJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25OZWdvdGlhdGlvbiBleHRlbmRzIE1lc3NhZ2Uge1xuXG4gIHByb3RlY3RlZCBfYm9keTogSUNvbm5lY3Rpb25OZWdvdGlhdGlvbkJvZHk7XG5cbiAgcHVibGljIGdldEJvZHkoKTogSUNvbm5lY3Rpb25OZWdvdGlhdGlvbkJvZHkge1xuICAgIHJldHVybiB0aGlzLl9ib2R5O1xuICB9XG5cbiAgcHVibGljIGdldFR5cGUoKTogQ29ubmVjdGlvbk5lZ290aWF0aW9uVHlwZSB7XG4gICAgaWYgKHRoaXMuX2JvZHkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9ib2R5LnR5cGU7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge1N1YmplY3R9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtJQ29ubmVjdGlvbn0gZnJvbSAnLi4vLi4vY29ubmVjdGlvbi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtJTWV0ZXJ9IGZyb20gJy4uL2ludGVyZmFjZSc7XG5cbmV4cG9ydCBlbnVtIElDb25uZWN0aW9uRXZlbnRUeXBlIHtcbiAgUFVOSVNIRUQgPSAncHVuaXNoZWQnLFxuICBQUk9URUNURUQgPSAncHJvdGVjdGVkJyxcbiAgVU5QVU5JU0hFRCA9ICd1bnB1bmlzaGVkJyxcbiAgVU5QUk9URUNURUQgPSAndW5wcm90ZWN0ZWQnXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNvbm5lY3Rpb25NZXRlckV2ZW50IHtcbiAgdHlwZTogSUNvbm5lY3Rpb25FdmVudFR5cGU7XG4gIGNvbm5lY3Rpb246IElDb25uZWN0aW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDb25uZWN0aW9uTWV0ZXIgZXh0ZW5kcyBJTWV0ZXIge1xuXG4gIGlzUHJvdGVjdGVkKCk6IGJvb2xlYW47XG5cbiAgaXNQdW5pc2hlZCgpOiBib29sZWFuO1xuXG4gIGdldExhc3RTZWVuKCk6IG51bWJlcjtcblxuICBpc0xhc3RTZWVuRXhwaXJlZCgpOiBib29sZWFuO1xuXG4gIG9ic2VydmUoKTogU3ViamVjdDxJQ29ubmVjdGlvbk1ldGVyRXZlbnQ+O1xuXG4gIHRvU3RyaW5nKCk6IHN0cmluZztcblxuICB0b0pTT04oKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbn1cbiIsImltcG9ydCB7UmVtb3RlUGVlcn0gZnJvbSAnLi4vcGVlci9yZW1vdGUtcGVlcic7XG5pbXBvcnQge1JlbW90ZVBlZXJUYWJsZX0gZnJvbSAnLi4vcGVlci9yZW1vdGUtcGVlci10YWJsZSc7XG5pbXBvcnQge0FkZHJlc3N9IGZyb20gJy4vYWRkcmVzcyc7XG5pbXBvcnQge0lQZWVyVXBkYXRlRW50cnksIE1lc3NhZ2VTdWJqZWN0fSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQge01lc3NhZ2V9IGZyb20gJy4vbWVzc2FnZSc7XG5cbmV4cG9ydCBjbGFzcyBQZWVyU3VnZ2VzdGlvbiBleHRlbmRzIE1lc3NhZ2Uge1xuICBwcm90ZWN0ZWQgX2JvZHk6IEFycmF5PElQZWVyVXBkYXRlRW50cnk+O1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihzZW5kZXI6IEFkZHJlc3MsIHJlY2VpdmVyOiBBZGRyZXNzLCByZW1vdGVQZWVyczogUmVtb3RlUGVlclRhYmxlLCBhbGxSZW1vdGVQZWVyczogUmVtb3RlUGVlclRhYmxlKSB7XG4gICAgY29uc3QgYm9keSA9IHJlbW90ZVBlZXJzXG4gICAgICAubWFwKFxuICAgICAgICAocGVlcjogUmVtb3RlUGVlcikgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwZWVySWQ6IHBlZXIuZ2V0SWQoKSxcbiAgICAgICAgICAgIHJvbGVzOiBwZWVyLmdldFJvbGVzKCksXG4gICAgICAgICAgICBxdWFsaXR5OiBwZWVyLmdldE1ldGVyKCkuZ2V0UGVlclVwZGF0ZVF1YWxpdHkoYWxsUmVtb3RlUGVlcnMpXG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgIC5zb3J0KFxuICAgICAgICAoZW50cnk6IElQZWVyVXBkYXRlRW50cnkpID0+IGVudHJ5LnF1YWxpdHlcbiAgICAgIClcbiAgICAgIC5yZXZlcnNlKClcbiAgICAgIC5zbGljZSgwLCA1KTtcbiAgICBzdXBlcihzZW5kZXIsIHJlY2VpdmVyLCBNZXNzYWdlU3ViamVjdC5QRUVSX1NVR0dFU1RJT04sIGJvZHkpO1xuICB9XG5cbiAgcHVibGljIGdldEJvZHkoKTogQXJyYXk8SVBlZXJVcGRhdGVFbnRyeT4ge1xuICAgIHJldHVybiB0aGlzLl9ib2R5O1xuICB9XG59XG4iLCJpbXBvcnQge1JlbW90ZVBlZXJ9IGZyb20gJy4uL3BlZXIvcmVtb3RlLXBlZXInO1xuaW1wb3J0IHtSZW1vdGVQZWVyVGFibGV9IGZyb20gJy4uL3BlZXIvcmVtb3RlLXBlZXItdGFibGUnO1xuaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuL2FkZHJlc3MnO1xuaW1wb3J0IHtJUGVlclVwZGF0ZUVudHJ5LCBNZXNzYWdlU3ViamVjdH0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtNZXNzYWdlfSBmcm9tICcuL21lc3NhZ2UnO1xuXG5leHBvcnQgY2xhc3MgUGVlclVwZGF0ZSBleHRlbmRzIE1lc3NhZ2Uge1xuICBwcm90ZWN0ZWQgX2JvZHk6IEFycmF5PElQZWVyVXBkYXRlRW50cnk+O1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihzZW5kZXI6IEFkZHJlc3MsIHJlY2VpdmVyOiBBZGRyZXNzLCByZW1vdGVQZWVyczogUmVtb3RlUGVlclRhYmxlLCBhbGxSZW1vdGVQZWVyczogUmVtb3RlUGVlclRhYmxlKSB7XG4gICAgY29uc3QgYm9keSA9IHJlbW90ZVBlZXJzXG4gICAgICAubWFwKFxuICAgICAgICAocGVlcjogUmVtb3RlUGVlcikgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwZWVySWQ6IHBlZXIuZ2V0SWQoKSxcbiAgICAgICAgICAgIHJvbGVzOiBwZWVyLmdldFJvbGVzKCksXG4gICAgICAgICAgICBxdWFsaXR5OiBwZWVyLmdldE1ldGVyKCkuZ2V0UGVlclVwZGF0ZVF1YWxpdHkoYWxsUmVtb3RlUGVlcnMpXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgc3VwZXIoc2VuZGVyLCByZWNlaXZlciwgTWVzc2FnZVN1YmplY3QuUEVFUl9VUERBVEUsIGJvZHkpO1xuICB9XG5cbiAgcHVibGljIGdldEJvZHkoKTogQXJyYXk8SVBlZXJVcGRhdGVFbnRyeT4ge1xuICAgIHJldHVybiB0aGlzLl9ib2R5O1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgVGFibGU8ViwgVCBleHRlbmRzIFRhYmxlPFYsIFQ+PiBpbXBsZW1lbnRzIEl0ZXJhYmxlPFY+IHtcblxuICBwcm90ZWN0ZWQgcmVhZG9ubHkgX3ZhbHVlczogQXJyYXk8Vj47XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKHZhbHVlczogQXJyYXk8Vj4gPSBbXSkge1xuICAgIHRoaXMuX3ZhbHVlcyA9IHZhbHVlcy5zbGljZSgpO1xuICB9XG5cbiAgcHVibGljIGdldCBsZW5ndGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWVzLmxlbmd0aDtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZnJvbUl0ZXJhYmxlPFYsIFQgZXh0ZW5kcyBUYWJsZTxWLCBUPj4oaXRlcmFibGU6IEl0ZXJhYmxlSXRlcmF0b3I8Vj4pOiBUIHtcbiAgICByZXR1cm4gbmV3IHRoaXMoQXJyYXkuZnJvbShpdGVyYWJsZSkpIGFzIFQ7XG4gIH1cblxuICBwdWJsaWMgZnJvbUFycmF5KGFycmF5OiBBcnJheTxWPik6IFQge1xuICAgIHJldHVybiBuZXcgKHRoaXMuY29uc3RydWN0b3IgYXMgKG5ldyAodmFsdWVzOiBBcnJheTxWPikgPT4gVCkpKGFycmF5KSBhcyBUO1xuICB9XG5cbiAgcHVibGljIGFzQXJyYXkoKTogQXJyYXk8Vj4ge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZXMuc2xpY2UoKTtcbiAgfVxuXG4gIHB1YmxpYyBoYXMoY2FsbGJhY2tmbjogKHZhbHVlOiBWKSA9PiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhdGhpcy5maW5kKGNhbGxiYWNrZm4pO1xuICB9XG5cbiAgcHVibGljIGNvdW50KGNhbGxiYWNrZm46ICh2YWx1ZTogVikgPT4gYm9vbGVhbik6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyKGNhbGxiYWNrZm4pLmxlbmd0aDtcbiAgfVxuXG4gIHB1YmxpYyBmaWx0ZXIoY2FsbGJhY2tmbjogKHZhbHVlOiBWKSA9PiBib29sZWFuKTogVCB7XG4gICAgcmV0dXJuIHRoaXMuZnJvbUFycmF5KFxuICAgICAgdGhpcy5fdmFsdWVzLmZpbHRlcihjYWxsYmFja2ZuKVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgZmluZChjYWxsYmFja2ZuOiAodmFsdWU6IFYpID0+IGJvb2xlYW4pOiBWIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWVzLmZpbmQoY2FsbGJhY2tmbik7XG4gIH1cblxuICBwdWJsaWMgZXhjbHVkZShjYWxsYmFja2ZuOiAodGFibGU6IFQpID0+IFQpOiBUIHtcbiAgICBjb25zdCBleGNsdWRlZCA9IGNhbGxiYWNrZm4odGhpcy5mcm9tQXJyYXkodGhpcy5fdmFsdWVzKSkuX3ZhbHVlcztcbiAgICByZXR1cm4gdGhpcy5maWx0ZXIodmFsdWUgPT4gZXhjbHVkZWQuaW5kZXhPZih2YWx1ZSkgPT09IC0xKTtcbiAgfVxuXG4gIHB1YmxpYyBzb3J0QnkoY2FsbGJhY2tmbjogKHZhbHVlOiBWKSA9PiBhbnkpOiBUIHtcbiAgICByZXR1cm4gdGhpcy5mcm9tQXJyYXkoXG4gICAgICB0aGlzLl92YWx1ZXMuc29ydChcbiAgICAgICAgKGEsIGIpID0+IHtcbiAgICAgICAgICBjb25zdCBhVmFsdWUgPSBjYWxsYmFja2ZuKGEpO1xuICAgICAgICAgIGNvbnN0IGJWYWx1ZSA9IGNhbGxiYWNrZm4oYik7XG4gICAgICAgICAgaWYgKGFWYWx1ZSA+IGJWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgfSBlbHNlIGlmIChhVmFsdWUgPCBiVmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBmb3JFYWNoKGNhbGxiYWNrZm46ICh2YWx1ZTogViwgaW5kZXg6IG51bWJlciwgdGFibGU6IFQpID0+IHZvaWQpOiBUIHtcbiAgICB0aGlzLl92YWx1ZXMuZm9yRWFjaChcbiAgICAgIChhcnJheVZhbHVlLCBhcnJheUluZGV4LCBhcnJheSkgPT5cbiAgICAgICAgY2FsbGJhY2tmbihhcnJheVZhbHVlLCBhcnJheUluZGV4LCB0aGlzLmZyb21BcnJheShhcnJheSkpXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5mcm9tQXJyYXkodGhpcy5fdmFsdWVzKTtcbiAgfVxuXG4gIHB1YmxpYyBtYXAoY2FsbGJhY2tmbjogKHZhbHVlOiBWLCBpbmRleDogbnVtYmVyLCB0YWJsZTogVCkgPT4gYW55KTogQXJyYXk8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlcy5tYXAoXG4gICAgICAoYXJyYXlWYWx1ZSwgYXJyYXlJbmRleCwgYXJyYXkpID0+XG4gICAgICAgIGNhbGxiYWNrZm4oYXJyYXlWYWx1ZSwgYXJyYXlJbmRleCwgdGhpcy5mcm9tQXJyYXkoYXJyYXkpKVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgc2xpY2Uoc3RhcnQ/OiBudW1iZXIsIGVuZD86IG51bWJlcik6IFQge1xuICAgIHJldHVybiB0aGlzLmZyb21BcnJheSh0aGlzLl92YWx1ZXMuc2xpY2Uoc3RhcnQsIGVuZCkpO1xuICB9XG5cbiAgcHVibGljIFtTeW1ib2wuaXRlcmF0b3JdKCk6IEl0ZXJhdG9yPFY+IHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWVzW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgfVxuXG4gIHB1YmxpYyByZXZlcnNlKCk6IFQge1xuICAgIHJldHVybiB0aGlzLmZyb21BcnJheSh0aGlzLl92YWx1ZXMucmV2ZXJzZSgpKTtcbiAgfVxuXG4gIHB1YmxpYyBjb25jYXQodGFibGU6IFQpOiBUIHtcbiAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLl92YWx1ZXMuY29uY2F0KHRhYmxlLl92YWx1ZXMpO1xuICAgIHJldHVybiBuZXcgKHRoaXMuY29uc3RydWN0b3IgYXMgKG5ldyAodmFsdWVzOiBBcnJheTxWPikgPT4gVCkpKHZhbHVlcykgYXMgVDtcbiAgfVxuXG4gIHB1YmxpYyBwdXNoKC4uLml0ZW1zOiBBcnJheTxWPik6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlcy5wdXNoKC4uLml0ZW1zKTtcbiAgfVxuXG4gIHB1YmxpYyBzaGlmdCgpOiBWIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWVzLnNoaWZ0KCk7XG4gIH1cblxuICBwdWJsaWMgcG9wKCk6IFYge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZXMucG9wKCk7XG4gIH1cblxuICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoXG4gICAgICB0aGlzLl92YWx1ZXMsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICAyXG4gICAgKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtJQ29ubmVjdGlvbk1ldGVyfSBmcm9tICcuLi9tZXRlcmluZy9jb25uZWN0aW9uLW1ldGVyL2ludGVyZmFjZSc7XG5pbXBvcnQge1JlbW90ZVBlZXJUYWJsZX0gZnJvbSAnLi4vcGVlci9yZW1vdGUtcGVlci10YWJsZSc7XG5pbXBvcnQge1RhYmxlfSBmcm9tICcuLi91dGlsL3RhYmxlJztcbmltcG9ydCB7Q29ubmVjdGlvblN0YXRlLCBJQ29ubmVjdGlvbiwgUHJvdG9jb2x9IGZyb20gJy4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25UYWJsZSBleHRlbmRzIFRhYmxlPElDb25uZWN0aW9uLCBDb25uZWN0aW9uVGFibGU+IHtcblxuICBwdWJsaWMgZmlsdGVyQnlTdGF0ZXMoLi4uc3RhdGVzOiBBcnJheTxDb25uZWN0aW9uU3RhdGU+KTogQ29ubmVjdGlvblRhYmxlIHtcbiAgICByZXR1cm4gbmV3IENvbm5lY3Rpb25UYWJsZShcbiAgICAgIHRoaXMuX3ZhbHVlcy5maWx0ZXIoXG4gICAgICAgIGNvbm5lY3Rpb24gPT4gc3RhdGVzLmluZGV4T2YoY29ubmVjdGlvbi5nZXRTdGF0ZSgpKSA+PSAwXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBmaWx0ZXJEaXJlY3QoKTogQ29ubmVjdGlvblRhYmxlIHtcbiAgICByZXR1cm4gdGhpcy5leGNsdWRlKFxuICAgICAgdGFibGUgPT4gdGFibGUuZmlsdGVyQnlQcm90b2NvbChQcm90b2NvbC5WSUEsIFByb3RvY29sLlZJQV9NVUxUSSlcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGZpbHRlckRpcmVjdERhdGEoKTogQ29ubmVjdGlvblRhYmxlIHtcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJCeVByb3RvY29sKFByb3RvY29sLldFQlNPQ0tFVCwgUHJvdG9jb2wuV0VCU09DS0VUX1VOU0VDVVJFLCBQcm90b2NvbC5XRUJSVENfREFUQSk7XG4gIH1cblxuICBwdWJsaWMgZmlsdGVyQnlQcm90b2NvbCguLi5wcm90b2NvbHM6IEFycmF5PFByb3RvY29sPik6IENvbm5lY3Rpb25UYWJsZSB7XG4gICAgcmV0dXJuIG5ldyBDb25uZWN0aW9uVGFibGUoXG4gICAgICB0aGlzLl92YWx1ZXMuZmlsdGVyKFxuICAgICAgICBjb25uZWN0aW9uID0+IGNvbm5lY3Rpb24uZ2V0QWRkcmVzcygpLmlzUHJvdG9jb2woLi4ucHJvdG9jb2xzKVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgZmlsdGVyQnlMb2NhdGlvbiguLi5sb2NhdGlvbnM6IEFycmF5PHN0cmluZz4pIHtcbiAgICByZXR1cm4gbmV3IENvbm5lY3Rpb25UYWJsZShcbiAgICAgIHRoaXMuX3ZhbHVlcy5maWx0ZXIoXG4gICAgICAgIGNvbm5lY3Rpb24gPT4gbG9jYXRpb25zLmluY2x1ZGVzKGNvbm5lY3Rpb24uZ2V0QWRkcmVzcygpLmdldExvY2F0aW9uKCkpXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBmaWx0ZXJCeU1ldGVyKGNhbGxiYWNrZm46IChtZXRlcjogSUNvbm5lY3Rpb25NZXRlcikgPT4gYm9vbGVhbik6IENvbm5lY3Rpb25UYWJsZSB7XG4gICAgcmV0dXJuIG5ldyBDb25uZWN0aW9uVGFibGUoXG4gICAgICB0aGlzLl92YWx1ZXMuZmlsdGVyKFxuICAgICAgICBjb25uZWN0aW9uID0+IGNhbGxiYWNrZm4oY29ubmVjdGlvbi5nZXRNZXRlcigpKVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgc29ydEJ5UXVhbGl0eShcbiAgICByZW1vdGVQZWVyczogUmVtb3RlUGVlclRhYmxlLFxuICAgIGNhbGxiYWNrZm46IChtZXRlcjogSUNvbm5lY3Rpb25NZXRlciwgcmVtb3RlUGVlcnM6IFJlbW90ZVBlZXJUYWJsZSkgPT4gbnVtYmVyID1cbiAgICAgIChtZXRlcjogSUNvbm5lY3Rpb25NZXRlciwgdGFibGU6IFJlbW90ZVBlZXJUYWJsZSkgPT4gbWV0ZXIuZ2V0UXVhbGl0eSh0YWJsZSlcbiAgKTogQ29ubmVjdGlvblRhYmxlIHtcbiAgICByZXR1cm4gdGhpcy5zb3J0QnkoXG4gICAgICBjb25uZWN0aW9uID0+XG4gICAgICAgIGNhbGxiYWNrZm4oY29ubmVjdGlvbi5nZXRNZXRlcigpIGFzIElDb25uZWN0aW9uTWV0ZXIsIHJlbW90ZVBlZXJzKVxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCB7U3ViamVjdH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge0lDbG9ja30gZnJvbSAnLi4vLi4vY2xvY2svaW50ZXJmYWNlJztcbmltcG9ydCB7Q29uZmlndXJhdGlvbk1hcH0gZnJvbSAnLi4vLi4vY29uZmlndXJhdGlvbic7XG5pbXBvcnQge0lDb25uZWN0aW9ufSBmcm9tICcuLi8uLi9jb25uZWN0aW9uL2ludGVyZmFjZSc7XG5pbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi4vLi4vbG9nZ2VyL2xvZ2dlcic7XG5pbXBvcnQge01lc3NhZ2V9IGZyb20gJy4uLy4uL21lc3NhZ2UvbWVzc2FnZSc7XG5pbXBvcnQge1JlbW90ZVBlZXJUYWJsZX0gZnJvbSAnLi4vLi4vcGVlci9yZW1vdGUtcGVlci10YWJsZSc7XG5pbXBvcnQge0lDb25uZWN0aW9uRXZlbnRUeXBlLCBJQ29ubmVjdGlvbk1ldGVyRXZlbnR9IGZyb20gJy4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbm5lY3Rpb25NZXRlciB7XG4gIHByaXZhdGUgX3B1bmlzaGVkID0gZmFsc2U7XG4gIHByaXZhdGUgX3Byb3RlY3RlZCA9IGZhbHNlO1xuICBwcml2YXRlIF9zdWJqZWN0OiBTdWJqZWN0PElDb25uZWN0aW9uTWV0ZXJFdmVudD47XG4gIHByaXZhdGUgX2xhc3RTZWVuVGljayA9IDA7XG4gIHByb3RlY3RlZCBfY29ubmVjdGlvbjogSUNvbm5lY3Rpb247XG4gIHByb3RlY3RlZCBfY2xvY2s6IElDbG9jaztcblxuICBjb25zdHJ1Y3Rvcihjb25uZWN0aW9uOiBJQ29ubmVjdGlvbiwgY2xvY2s6IElDbG9jaykge1xuICAgIHRoaXMuX2Nvbm5lY3Rpb24gPSBjb25uZWN0aW9uO1xuICAgIHRoaXMuX3N1YmplY3QgPSBuZXcgU3ViamVjdCgpO1xuICAgIHRoaXMuX2Nsb2NrID0gY2xvY2suZm9yaygpO1xuICAgIHRoaXMubGlzdGVuT25NZXNzYWdlcygpO1xuICB9XG5cbiAgcHJpdmF0ZSBsaXN0ZW5Pbk1lc3NhZ2VzKCk6IHZvaWQge1xuICAgIHRoaXMuX2Nvbm5lY3Rpb24ub2JzZXJ2ZU1lc3NhZ2VSZWNlaXZlZCgpXG4gICAgICAuc3Vic2NyaWJlKFxuICAgICAgICB0aGlzLm9uTWVzc2FnZS5iaW5kKHRoaXMpXG4gICAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRQdW5pc2hlZChpc1B1bmlzaGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgY29uc3Qgd2FzUHVuaXNoZWQgPSB0aGlzLl9wdW5pc2hlZDtcbiAgICB0aGlzLl9wdW5pc2hlZCA9IGlzUHVuaXNoZWQ7XG5cbiAgICBpZiAodGhpcy5fcHVuaXNoZWQgIT09IHdhc1B1bmlzaGVkKSB7XG4gICAgICBpZiAodGhpcy5fcHVuaXNoZWQpIHtcbiAgICAgICAgdGhpcy5fc3ViamVjdC5uZXh0KHt0eXBlOiBJQ29ubmVjdGlvbkV2ZW50VHlwZS5QVU5JU0hFRCwgY29ubmVjdGlvbjogdGhpcy5fY29ubmVjdGlvbn0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc3ViamVjdC5uZXh0KHt0eXBlOiBJQ29ubmVjdGlvbkV2ZW50VHlwZS5VTlBVTklTSEVELCBjb25uZWN0aW9uOiB0aGlzLl9jb25uZWN0aW9ufSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZXRQcm90ZWN0ZWQoaXNQcm90ZWN0ZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBjb25zdCB3YXNQcm90ZWN0ZWQgPSB0aGlzLl9wcm90ZWN0ZWQ7XG4gICAgdGhpcy5fcHJvdGVjdGVkID0gaXNQcm90ZWN0ZWQ7XG5cbiAgICBpZiAodGhpcy5fcHJvdGVjdGVkICE9PSB3YXNQcm90ZWN0ZWQpIHtcbiAgICAgIGlmICh0aGlzLl9wcm90ZWN0ZWQpIHtcbiAgICAgICAgdGhpcy5fc3ViamVjdC5uZXh0KHt0eXBlOiBJQ29ubmVjdGlvbkV2ZW50VHlwZS5QUk9URUNURUQsIGNvbm5lY3Rpb246IHRoaXMuX2Nvbm5lY3Rpb259KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3N1YmplY3QubmV4dCh7dHlwZTogSUNvbm5lY3Rpb25FdmVudFR5cGUuVU5QUk9URUNURUQsIGNvbm5lY3Rpb246IHRoaXMuX2Nvbm5lY3Rpb259KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgb25NZXNzYWdlKG1lc3NhZ2U6IE1lc3NhZ2UpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuX2Nsb2NrKSB7XG4gICAgICBMb2dnZXIuZ2V0TG9nZ2VyKHRoaXMuX2Nvbm5lY3Rpb24uZ2V0QWRkcmVzcygpLmdldElkKCkpLmVycm9yKGBjYW4gbm90IHJlYWQgY2xvY2sgZm9yIG1lc3NhZ2VgLCBtZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGFzdFNlZW5UaWNrID0gdGhpcy5fY2xvY2suZ2V0VGljaygpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCB1cGRhdGVMYXN0U2VlbigpOiB2b2lkIHtcbiAgICB0aGlzLl9sYXN0U2VlblRpY2sgPSB0aGlzLl9jbG9jay5nZXRUaWNrKCk7XG4gIH1cblxuICBwdWJsaWMgYWJzdHJhY3QgZ2V0UXVhbGl0eShyZW1vdGVQZWVyczogUmVtb3RlUGVlclRhYmxlKTogbnVtYmVyO1xuXG4gIHB1YmxpYyBpc0xhc3RTZWVuRXhwaXJlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKHRoaXMuX2Nsb2NrLmdldFRpY2soKSAtIHRoaXMuX2xhc3RTZWVuVGljaykgPiBDb25maWd1cmF0aW9uTWFwLmdldERlZmF1bHQoKS5MQVNUX1NFRU5fVElNRU9VVDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRMYXN0U2VlbigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9jbG9jay5nZXRUaWNrKCkgLSB0aGlzLl9sYXN0U2VlblRpY2s7XG4gIH1cblxuICBwdWJsaWMgaXNQdW5pc2hlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fcHVuaXNoZWQ7XG4gIH1cblxuICBwdWJsaWMgaXNQcm90ZWN0ZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb3RlY3RlZDtcbiAgfVxuXG4gIHB1YmxpYyBzdGFydCgpOiB2b2lkIHtcbiAgICB0aGlzLnNldFByb3RlY3RlZCh0cnVlKTtcbiAgICB0aGlzLl9jbG9jay5yZXdpbmQoKTtcbiAgICAvLyBUT0RPOiBVc2Ugcm9sZSBzcGVjaWZpYyBjb25maWd1cmF0aW9uIGZvciB0aGlzIHJlbW90ZSBwZWVyXG4gICAgdGhpcy5fY2xvY2suc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnNldFB1bmlzaGVkKGZhbHNlKTtcbiAgICAgIHRoaXMuc2V0UHJvdGVjdGVkKGZhbHNlKTtcbiAgICB9LCBDb25maWd1cmF0aW9uTWFwLmdldERlZmF1bHQoKS5DT05ORUNUSU9OX01FVEVSX1BST1RFQ1RJT05fVElNRSk7XG4gIH1cblxuICBwdWJsaWMgc3RvcCgpOiB2b2lkIHtcbiAgICAvLyBUT0RPOiBVc2Ugcm9sZSBzcGVjaWZpYyBjb25maWd1cmF0aW9uIGZvciB0aGlzIHJlbW90ZSBwZWVyXG4gICAgY29uc3QgcHJlbWF0dXJlQ2xvc2UgPSB0aGlzLl9jbG9jay5nZXRUaWNrKCkgPCBDb25maWd1cmF0aW9uTWFwLmdldERlZmF1bHQoKS5DT05ORUNUSU9OX01FVEVSX09QRU5fR1JBQ0VfUEVSSU9EX1RJTUU7XG4gICAgdGhpcy5zZXRQdW5pc2hlZChwcmVtYXR1cmVDbG9zZSk7XG4gICAgdGhpcy5zZXRQcm90ZWN0ZWQoZmFsc2UpO1xuICB9XG5cbiAgcHVibGljIG9ic2VydmUoKTogU3ViamVjdDxJQ29ubmVjdGlvbk1ldGVyRXZlbnQ+IHtcbiAgICByZXR1cm4gdGhpcy5fc3ViamVjdDtcbiAgfVxuXG4gIHB1YmxpYyB0b0pTT04oKToge1trZXk6IHN0cmluZ106IGFueX0ge1xuICAgIHJldHVybiB7XG4gICAgICBsYXN0U2VlbjogdGhpcy5nZXRMYXN0U2VlbigpLFxuICAgICAgcHJvdGVjdGVkOiB0aGlzLmlzUHJvdGVjdGVkKCksXG4gICAgICBwdW5pc2hlZDogdGhpcy5pc1B1bmlzaGVkKCksXG4gICAgICBpc0V4cGlyZWQ6IHRoaXMuaXNMYXN0U2VlbkV4cGlyZWQoKVxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoXG4gICAgICB0aGlzLnRvSlNPTigpLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgMlxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCB7SUNsb2NrfSBmcm9tICcuLi8uLi9jbG9jay9pbnRlcmZhY2UnO1xuaW1wb3J0IHtJQ29ubmVjdGlvbn0gZnJvbSAnLi4vLi4vY29ubmVjdGlvbi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtWaWFDb25uZWN0aW9ufSBmcm9tICcuLi8uLi9jb25uZWN0aW9uL3ZpYSc7XG5pbXBvcnQge1JlbW90ZVBlZXJUYWJsZX0gZnJvbSAnLi4vLi4vcGVlci9yZW1vdGUtcGVlci10YWJsZSc7XG5pbXBvcnQge1JvbGVUeXBlfSBmcm9tICcuLi8uLi9yb2xlL2ludGVyZmFjZSc7XG5pbXBvcnQge0Nvbm5lY3Rpb25NZXRlcn0gZnJvbSAnLi9jb25uZWN0aW9uLW1ldGVyJztcbmltcG9ydCB7SUNvbm5lY3Rpb25NZXRlcn0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgY2xhc3MgVmlhQ29ubmVjdGlvbk1ldGVyIGV4dGVuZHMgQ29ubmVjdGlvbk1ldGVyIGltcGxlbWVudHMgSUNvbm5lY3Rpb25NZXRlciB7XG4gIHByaXZhdGUgX3F1YWxpdHk6IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcihjb25uZWN0aW9uOiBJQ29ubmVjdGlvbiwgY2xvY2s6IElDbG9jaywgcXVhbGl0eSA9IDEpIHtcbiAgICBzdXBlcihjb25uZWN0aW9uLCBjbG9jayk7XG4gICAgdGhpcy5fcXVhbGl0eSA9IHF1YWxpdHk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlTGFzdFNlZW4oKSB7XG4gICAgc3VwZXIudXBkYXRlTGFzdFNlZW4oKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRRdWFsaXR5KCk6IG51bWJlciB7XG4gICAgLy8gVE9ETzogQ2FsY3VsYXRlIHF1YWxpdHkgZnJvbSBQVXMgYW5kIGRpcmVjdCBjb25uZWN0aW9uXG4gICAgcmV0dXJuIHRoaXMuX3F1YWxpdHk7XG4gIH1cblxuICBwdWJsaWMgc2V0UXVhbGl0eShxdWFsaXR5OiBudW1iZXIpIHtcbiAgICB0aGlzLl9xdWFsaXR5ID0gcXVhbGl0eTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRSb3V0ZXJMaW5rUXVhbGl0eShyZW1vdGVQZWVyczogUmVtb3RlUGVlclRhYmxlKSB7XG4gICAgY29uc3QgdmlhQWRyZXNzID0gdGhpcy5fY29ubmVjdGlvbi5nZXRBZGRyZXNzKCk7XG4gICAgY29uc3QgZGlyZWN0UGVlciA9IHJlbW90ZVBlZXJzLmZpbHRlckJ5SWQodmlhQWRyZXNzLmdldExvY2F0aW9uKCkpLnBvcCgpO1xuICAgIGlmIChkaXJlY3RQZWVyKSB7XG4gICAgICBpZiAoZGlyZWN0UGVlci5oYXNSb2xlKFJvbGVUeXBlLlNJR05BTCwgUm9sZVR5cGUuUk9VVEVSKSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkaXJlY3RQZWVyLmdldE1ldGVyKCkuZ2V0Um91dGVyTGlua1F1YWxpdHkoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHN0YXJ0KCk6IHZvaWQge1xuICB9XG5cbiAgcHVibGljIHN0b3AoKTogdm9pZCB7XG4gIH1cbn1cbiIsImltcG9ydCB7U3ViamVjdH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge0lDbG9ja30gZnJvbSAnLi4vY2xvY2svaW50ZXJmYWNlJztcbmltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi4vbWVzc2FnZS9hZGRyZXNzJztcbmltcG9ydCB7SU1lc3NhZ2V9IGZyb20gJy4uL21lc3NhZ2UvaW50ZXJmYWNlJztcbmltcG9ydCB7SUNvbm5lY3Rpb25NZXRlcn0gZnJvbSAnLi4vbWV0ZXJpbmcvY29ubmVjdGlvbi1tZXRlci9pbnRlcmZhY2UnO1xuaW1wb3J0IHtDb25uZWN0aW9uU3RhdGUsIElDb25uZWN0aW9uLCBJQ29ubmVjdGlvbk9wdGlvbnMsIE5lZ290aWF0aW9uU3RhdGV9IGZyb20gJy4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0Q29ubmVjdGlvbiB7XG5cbiAgcHJpdmF0ZSBfb25PcGVuUmVzb2x2ZXI6IChjb25uZWN0aW9uOiBJQ29ubmVjdGlvbikgPT4gdm9pZDtcbiAgcHJpdmF0ZSBfb25PcGVuUmVqZWN0b3I6IChlcnJvcj86IGFueSkgPT4gdm9pZDtcbiAgcHJvdGVjdGVkIF9jb25uZWN0aW9uU3RhdGU6IENvbm5lY3Rpb25TdGF0ZTtcbiAgcHJvdGVjdGVkIF9uZWdvdGlhdGlvblN0YXRlOiBOZWdvdGlhdGlvblN0YXRlO1xuICBwcm90ZWN0ZWQgX2lkOiBzdHJpbmc7XG4gIHByb3RlY3RlZCBfbWV0ZXI6IElDb25uZWN0aW9uTWV0ZXI7XG4gIHByb3RlY3RlZCBfY2xvY2s6IElDbG9jaztcbiAgcHJvdGVjdGVkIF9vcHRpb25zOiBJQ29ubmVjdGlvbk9wdGlvbnM7XG4gIHByb3RlY3RlZCBfYWRkcmVzczogQWRkcmVzcztcbiAgcHJvdGVjdGVkIF9zdGF0ZUNoYW5nZVN1YmplY3Q6IFN1YmplY3Q8Q29ubmVjdGlvblN0YXRlPjtcbiAgcHJvdGVjdGVkIF9tZXNzYWdlUmVjZWl2ZWRTdWJqZWN0OiBTdWJqZWN0PElNZXNzYWdlPjtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoYWRkcmVzczogQWRkcmVzcywgY2xvY2s6IElDbG9jaywgb3B0aW9uczogSUNvbm5lY3Rpb25PcHRpb25zKSB7XG4gICAgaWYgKCFhZGRyZXNzLmdldExvY2F0aW9uKCkpIHtcbiAgICAgIGFkZHJlc3Muc2V0TG9jYXRpb24oYGMke01hdGgucm91bmQoMTAwMDAgKyBNYXRoLnJhbmRvbSgpICogODk5OTkpfWApO1xuICAgIH1cbiAgICB0aGlzLl9pZCA9IGFkZHJlc3MuZ2V0TG9jYXRpb24oKTtcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLl9hZGRyZXNzID0gYWRkcmVzcztcbiAgICB0aGlzLl9jbG9jayA9IGNsb2NrO1xuICAgIHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSA9IENvbm5lY3Rpb25TdGF0ZS5DTE9TRUQ7XG4gICAgdGhpcy5fc3RhdGVDaGFuZ2VTdWJqZWN0ID0gbmV3IFN1YmplY3QoKTtcbiAgICB0aGlzLl9tZXNzYWdlUmVjZWl2ZWRTdWJqZWN0ID0gbmV3IFN1YmplY3QoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBvcGVuQ2xpZW50KCk6IHZvaWQ7XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGNsb3NlQ2xpZW50KCk6IHZvaWQ7XG5cbiAgcHVibGljIGdldE1ldGVyKCk6IElDb25uZWN0aW9uTWV0ZXIge1xuICAgIHJldHVybiB0aGlzLl9tZXRlcjtcbiAgfVxuXG4gIHB1YmxpYyBnZXRBZGRyZXNzKCk6IEFkZHJlc3Mge1xuICAgIHJldHVybiB0aGlzLl9hZGRyZXNzO1xuICB9XG5cbiAgcHVibGljIGdldElkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2lkO1xuICB9XG5cbiAgcHVibGljIG9uT3Blbihjb25uZWN0aW9uOiBJQ29ubmVjdGlvbikge1xuICAgIGlmICh0aGlzLl9vbk9wZW5SZXNvbHZlcikge1xuICAgICAgdGhpcy5fb25PcGVuUmVzb2x2ZXIoY29ubmVjdGlvbik7XG4gICAgfVxuICAgIHRoaXMuX29uT3BlblJlc29sdmVyID0gbnVsbDtcbiAgICB0aGlzLl9vbk9wZW5SZWplY3RvciA9IG51bGw7XG4gICAgdGhpcy5fY29ubmVjdGlvblN0YXRlID0gQ29ubmVjdGlvblN0YXRlLk9QRU47XG4gICAgdGhpcy5fbmVnb3RpYXRpb25TdGF0ZSA9IE5lZ290aWF0aW9uU3RhdGUuRVNUQUJMSVNIRUQ7XG4gICAgdGhpcy5fc3RhdGVDaGFuZ2VTdWJqZWN0Lm5leHQodGhpcy5fY29ubmVjdGlvblN0YXRlKTtcbiAgICB0aGlzLmdldE1ldGVyKCkuc3RhcnQoKTtcbiAgfVxuXG4gIHB1YmxpYyBvbkNsb3NlKHJlYXNvbjogYW55ID0gJ2Nvbm5lY3Rpb24gY2xvc2VkIHdpdGhvdXQgcmVhc29uJykge1xuICAgIHRoaXMuZ2V0TWV0ZXIoKS5zdG9wKCk7XG4gICAgaWYgKHRoaXMuX29uT3BlblJlamVjdG9yKSB7XG4gICAgICB0aGlzLl9vbk9wZW5SZWplY3RvcihyZWFzb24pO1xuICAgIH1cbiAgICB0aGlzLl9jbG9jay5zdG9wKCk7XG4gICAgdGhpcy5fb25PcGVuUmVzb2x2ZXIgPSBudWxsO1xuICAgIHRoaXMuX29uT3BlblJlamVjdG9yID0gbnVsbDtcbiAgICB0aGlzLl9uZWdvdGlhdGlvblN0YXRlID0gbnVsbDtcbiAgICB0aGlzLl9jb25uZWN0aW9uU3RhdGUgPSBDb25uZWN0aW9uU3RhdGUuQ0xPU0VEO1xuICAgIHRoaXMuX3N0YXRlQ2hhbmdlU3ViamVjdC5uZXh0KHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSk7XG4gICAgdGhpcy5fc3RhdGVDaGFuZ2VTdWJqZWN0LmNvbXBsZXRlKCk7XG4gICAgdGhpcy5fbWVzc2FnZVJlY2VpdmVkU3ViamVjdC5jb21wbGV0ZSgpO1xuICB9XG5cbiAgcHVibGljIG9uRXJyb3IocmVhc29uOiBhbnkgPSAnY29ubmVjdGlvbiBlcnJvciB3aXRob3V0IHJlYXNvbicpIHtcbiAgICB0aGlzLl9jb25uZWN0aW9uU3RhdGUgPSBDb25uZWN0aW9uU3RhdGUuRVJST1I7XG4gICAgdGhpcy5fc3RhdGVDaGFuZ2VTdWJqZWN0Lm5leHQodGhpcy5fY29ubmVjdGlvblN0YXRlKTtcbiAgICB0aGlzLm9uQ2xvc2UocmVhc29uKTtcbiAgfVxuXG4gIHB1YmxpYyBvbk1lc3NhZ2UobWVzc2FnZTogSU1lc3NhZ2UpIHtcbiAgICB0aGlzLl9tZXNzYWdlUmVjZWl2ZWRTdWJqZWN0Lm5leHQobWVzc2FnZSk7XG4gIH1cblxuICBwdWJsaWMgY2xvc2UoKSB7XG4gICAgdGhpcy5fY29ubmVjdGlvblN0YXRlID0gQ29ubmVjdGlvblN0YXRlLkNMT1NJTkc7XG4gICAgdGhpcy5fc3RhdGVDaGFuZ2VTdWJqZWN0Lm5leHQodGhpcy5fY29ubmVjdGlvblN0YXRlKTtcbiAgICB0aGlzLmNsb3NlQ2xpZW50KCk7XG4gIH1cblxuICBwdWJsaWMgb3BlbigpOiBQcm9taXNlPElDb25uZWN0aW9uPiB7XG4gICAgdGhpcy5fY29ubmVjdGlvblN0YXRlID0gQ29ubmVjdGlvblN0YXRlLk9QRU5JTkc7XG4gICAgdGhpcy5fbmVnb3RpYXRpb25TdGF0ZSA9IE5lZ290aWF0aW9uU3RhdGUuSU5JVElBTElaSU5HO1xuICAgIHRoaXMuX3N0YXRlQ2hhbmdlU3ViamVjdC5uZXh0KHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPElDb25uZWN0aW9uPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLl9vbk9wZW5SZXNvbHZlciA9IHJlc29sdmU7XG4gICAgICB0aGlzLl9vbk9wZW5SZWplY3RvciA9IHJlamVjdDtcbiAgICAgIHRoaXMub3BlbkNsaWVudCgpO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGlzSW5TdGF0ZSguLi5zdGF0ZXM6IEFycmF5PENvbm5lY3Rpb25TdGF0ZT4pOiBib29sZWFuIHtcbiAgICByZXR1cm4gc3RhdGVzLmluZGV4T2YodGhpcy5nZXRTdGF0ZSgpKSAhPT0gLTE7XG4gIH1cblxuICBwdWJsaWMgZ2V0U3RhdGUoKTogQ29ubmVjdGlvblN0YXRlIHtcbiAgICByZXR1cm4gdGhpcy5fY29ubmVjdGlvblN0YXRlO1xuICB9XG5cbiAgcHVibGljIGdldE5lZ290aWF0aW9uU3RhdGUoKTogTmVnb3RpYXRpb25TdGF0ZSB7XG4gICAgcmV0dXJuIHRoaXMuX25lZ290aWF0aW9uU3RhdGU7XG4gIH1cblxuICBwdWJsaWMgb2JzZXJ2ZU1lc3NhZ2VSZWNlaXZlZCgpOiBTdWJqZWN0PElNZXNzYWdlPiB7XG4gICAgcmV0dXJuIHRoaXMuX21lc3NhZ2VSZWNlaXZlZFN1YmplY3Q7XG4gIH1cblxuICBwdWJsaWMgb2JzZXJ2ZVN0YXRlQ2hhbmdlKCk6IFN1YmplY3Q8Q29ubmVjdGlvblN0YXRlPiB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlQ2hhbmdlU3ViamVjdDtcbiAgfVxuXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGlkOiB0aGlzLl9pZCxcbiAgICAgICAgYWRkcmVzczogdGhpcy5fYWRkcmVzcy50b1N0cmluZygpLFxuICAgICAgICBjb25uZWN0aW9uU3RhdGU6IHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSxcbiAgICAgICAgbmVnb3RpYXRpb25TdGF0ZTogdGhpcy5fbmVnb3RpYXRpb25TdGF0ZSxcbiAgICAgICAgbWV0ZXI6IHRoaXMuZ2V0TWV0ZXIoKS50b0pTT04oKVxuICAgICAgfSxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIDJcbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQge1N1YnNjcmlwdGlvbn0gZnJvbSAncnhqcyc7XG5pbXBvcnQge0lDbG9ja30gZnJvbSAnLi4vY2xvY2svaW50ZXJmYWNlJztcbmltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi4vbWVzc2FnZS9hZGRyZXNzJztcbmltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi4vbWVzc2FnZS9tZXNzYWdlJztcbmltcG9ydCB7VmlhQ29ubmVjdGlvbk1ldGVyfSBmcm9tICcuLi9tZXRlcmluZy9jb25uZWN0aW9uLW1ldGVyL3ZpYS1jb25uZWN0aW9uLW1ldGVyJztcbmltcG9ydCB7QWJzdHJhY3RDb25uZWN0aW9ufSBmcm9tICcuL2Nvbm5lY3Rpb24nO1xuaW1wb3J0IHtDb25uZWN0aW9uU3RhdGUsIElDb25uZWN0aW9uLCBJVmlhQ29ubmVjdGlvbk9wdGlvbnN9IGZyb20gJy4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIFZpYUNvbm5lY3Rpb24gZXh0ZW5kcyBBYnN0cmFjdENvbm5lY3Rpb24gaW1wbGVtZW50cyBJQ29ubmVjdGlvbiB7XG5cbiAgcHJpdmF0ZSBfcGFyZW50U3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XG4gIHByb3RlY3RlZCBfb3B0aW9uczogSVZpYUNvbm5lY3Rpb25PcHRpb25zO1xuXG4gIGNvbnN0cnVjdG9yKGFkZHJlc3M6IEFkZHJlc3MsIGNsb2NrOiBJQ2xvY2ssIG9wdGlvbnM6IElWaWFDb25uZWN0aW9uT3B0aW9ucykge1xuICAgIHN1cGVyKGFkZHJlc3MsIGNsb2NrLCBvcHRpb25zKTtcbiAgICB0aGlzLl9tZXRlciA9IG5ldyBWaWFDb25uZWN0aW9uTWV0ZXIodGhpcywgY2xvY2ssIG9wdGlvbnMucGF5bG9hZC5xdWFsaXR5KTtcbiAgfVxuXG4gIHByaXZhdGUgcGFyZW50U3RhdGVDaGFuZ2VkKGNvbm5lY3Rpb25TdGF0ZTogQ29ubmVjdGlvblN0YXRlKTogdm9pZCB7XG4gICAgc3dpdGNoIChjb25uZWN0aW9uU3RhdGUpIHtcbiAgICAgIGNhc2UgQ29ubmVjdGlvblN0YXRlLk9QRU46XG4gICAgICAgIHRoaXMub25PcGVuKHRoaXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29ubmVjdGlvblN0YXRlLkNMT1NFRDpcbiAgICAgICAgdGhpcy5vbkNsb3NlKCdwYXJlbnQgY29ubmVjdGlvbiBjbG9zZWQnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbm5lY3Rpb25TdGF0ZS5FUlJPUjpcbiAgICAgICAgdGhpcy5vbkVycm9yKCdwYXJlbnQgY29ubmVjdGlvbiBlcnJvcicpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgY2xvc2VDbGllbnQoKTogdm9pZCB7XG4gICAgdGhpcy5fcGFyZW50U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgdGhpcy5vbkNsb3NlKCd2aWEgY29ubmVjdGlvbiBjbG9zZSBjbGllbnQnKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvcGVuQ2xpZW50KCk6IHZvaWQge1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX29wdGlvbnMucGF5bG9hZC5wYXJlbnQ7XG4gICAgaWYgKCFwYXJlbnQgfHwgcGFyZW50LmlzSW5TdGF0ZShDb25uZWN0aW9uU3RhdGUuQ0xPU0lORywgQ29ubmVjdGlvblN0YXRlLkNMT1NFRCkpIHtcbiAgICAgIHRoaXMub25FcnJvcigncGFyZW50IGNvbm5lY3Rpb24gbWlzc2luZycpO1xuICAgIH0gZWxzZSBpZiAocGFyZW50LmlzSW5TdGF0ZShDb25uZWN0aW9uU3RhdGUuT1BFTikpIHtcbiAgICAgIHRoaXMub25PcGVuKHRoaXMpO1xuICAgIH1cbiAgICB0aGlzLl9wYXJlbnRTdWJzY3JpcHRpb24gPSBwYXJlbnRcbiAgICAgIC5vYnNlcnZlU3RhdGVDaGFuZ2UoKVxuICAgICAgLnN1YnNjcmliZSh0aGlzLnBhcmVudFN0YXRlQ2hhbmdlZC5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIHB1YmxpYyBzZW5kKG1lc3NhZ2U6IE1lc3NhZ2UpOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3ZpYSBjb25uZWN0aW9uIGNhbm5vdCBzZW5kIGRpcmVjdGx5Jyk7XG4gIH1cbn1cbiIsImltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi9hZGRyZXNzJztcbmltcG9ydCB7TWVzc2FnZVN1YmplY3R9IGZyb20gJy4vaW50ZXJmYWNlJztcbmltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi9tZXNzYWdlJztcblxuZXhwb3J0IGNsYXNzIFBpbmcgZXh0ZW5kcyBNZXNzYWdlIHtcbiAgcHJvdGVjdGVkIF9ib2R5OiBudW1iZXI7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKHNlbmRlcjogQWRkcmVzcywgcmVjZWl2ZXI6IEFkZHJlc3MsIHNlcXVlbmNlOiBudW1iZXIpIHtcbiAgICBzdXBlcihzZW5kZXIsIHJlY2VpdmVyLCBNZXNzYWdlU3ViamVjdC5QSU5HLCBzZXF1ZW5jZSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Qm9keSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9ib2R5O1xuICB9XG59XG4iLCJpbXBvcnQge0FkZHJlc3N9IGZyb20gJy4vYWRkcmVzcyc7XG5pbXBvcnQge01lc3NhZ2VTdWJqZWN0fSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQge01lc3NhZ2V9IGZyb20gJy4vbWVzc2FnZSc7XG5cbmV4cG9ydCBjbGFzcyBQb25nIGV4dGVuZHMgTWVzc2FnZSB7XG4gIHByb3RlY3RlZCBfYm9keTogbnVtYmVyO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihzZW5kZXI6IEFkZHJlc3MsIHJlY2VpdmVyOiBBZGRyZXNzLCBzZXF1ZW5jZTogbnVtYmVyKSB7XG4gICAgc3VwZXIoc2VuZGVyLCByZWNlaXZlciwgTWVzc2FnZVN1YmplY3QuUE9ORywgc2VxdWVuY2UpO1xuICB9XG5cbiAgcHVibGljIGdldEJvZHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fYm9keTtcbiAgfVxufVxuIiwiaW1wb3J0IHtJQ2xvY2t9IGZyb20gJy4uLy4uL2Nsb2NrL2ludGVyZmFjZSc7XG5pbXBvcnQge0NvbmZpZ3VyYXRpb25NYXB9IGZyb20gJy4uLy4uL2NvbmZpZ3VyYXRpb24nO1xuXG5leHBvcnQgY2xhc3MgTGF0ZW5jeVN0b3B3YXRjaCB7XG4gIHByaXZhdGUgX2Nsb2NrOiBJQ2xvY2s7XG4gIHByaXZhdGUgX3RpbWVyUGVyU2VxdWVuY2U6IE1hcDxudW1iZXIsICgoKSA9PiBudW1iZXIpIHwgbnVtYmVyPjtcblxuICBjb25zdHJ1Y3RvcihjbG9jazogSUNsb2NrKSB7XG4gICAgdGhpcy5fY2xvY2sgPSBjbG9jaztcbiAgICB0aGlzLl90aW1lclBlclNlcXVlbmNlID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRIaWdoZXN0U2VxdWVuY2UoKSB7XG4gICAgcmV0dXJuIEFycmF5XG4gICAgICAuZnJvbSh0aGlzLl90aW1lclBlclNlcXVlbmNlLmtleXMoKSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBhIC0gYilcbiAgICAgIC5wb3AoKTtcbiAgfVxuXG4gIHByaXZhdGUgY2xlYW5VcE9sZFNlcXVlbmNlcygpIHtcbiAgICBjb25zdCBoaWdoZXN0U2VxdWVuY2UgPSB0aGlzLmdldEhpZ2hlc3RTZXF1ZW5jZSgpO1xuICAgIGNvbnN0IHJlbW92ZUtleXMgPSBBcnJheVxuICAgICAgLmZyb20odGhpcy5fdGltZXJQZXJTZXF1ZW5jZS5rZXlzKCkpXG4gICAgICAuZmlsdGVyKFxuICAgICAgICBrZXkgPT4gaGlnaGVzdFNlcXVlbmNlIC0ga2V5ID49IENvbmZpZ3VyYXRpb25NYXAuZ2V0RGVmYXVsdCgpLkxBVEVOQ1lfV0lORE9XX1NJWkVcbiAgICAgICk7XG4gICAgcmVtb3ZlS2V5c1xuICAgICAgLmZvckVhY2goXG4gICAgICAgIGtleSA9PiB7XG4gICAgICAgICAgdGhpcy5fdGltZXJQZXJTZXF1ZW5jZS5kZWxldGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGFydChzZXF1ZW5jZTogbnVtYmVyKSB7XG4gICAgaWYgKCF0aGlzLl90aW1lclBlclNlcXVlbmNlLmdldChzZXF1ZW5jZSkpIHtcbiAgICAgIHRoaXMuX3RpbWVyUGVyU2VxdWVuY2Uuc2V0KHNlcXVlbmNlLCB0aGlzLl9jbG9jay50aW1lSXQoKSk7XG4gICAgfVxuICAgIHRoaXMuY2xlYW5VcE9sZFNlcXVlbmNlcygpO1xuICB9XG5cbiAgcHVibGljIHN0b3Aoc2VxdWVuY2U6IG51bWJlcikge1xuICAgIGNvbnN0IGV4aXN0aW5nVGltZXIgPSB0aGlzLl90aW1lclBlclNlcXVlbmNlLmdldChzZXF1ZW5jZSk7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZ1RpbWVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLl90aW1lclBlclNlcXVlbmNlLnNldChzZXF1ZW5jZSwgZXhpc3RpbmdUaW1lcigpKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYXNBcnJheSgpOiBBcnJheTxudW1iZXI+IHtcbiAgICByZXR1cm4gQXJyYXlcbiAgICAgIC5mcm9tKHRoaXMuX3RpbWVyUGVyU2VxdWVuY2UuZW50cmllcygpKVxuICAgICAgLmZpbHRlcihcbiAgICAgICAgKFt2YWwsIHZhbHVlXSkgPT4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB2YWx1ZSA+IDBcbiAgICAgIClcbiAgICAgIC5tYXAoXG4gICAgICAgIChba2V5LCB2YWx1ZV0pID0+IHZhbHVlIGFzIG51bWJlclxuICAgICAgKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtTdWJqZWN0fSBmcm9tICdyeGpzJztcbmltcG9ydCB7SUNsb2NrfSBmcm9tICcuLi8uLi9jbG9jay9pbnRlcmZhY2UnO1xuaW1wb3J0IHtDb25maWd1cmF0aW9uTWFwfSBmcm9tICcuLi8uLi9jb25maWd1cmF0aW9uJztcbmltcG9ydCB7Q29ubmVjdGlvblN0YXRlLCBJQ29ubmVjdGlvbiwgUHJvdG9jb2x9IGZyb20gJy4uLy4uL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcbmltcG9ydCB7TG9nZ2VyfSBmcm9tICcuLi8uLi9sb2dnZXIvbG9nZ2VyJztcbmltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi4vLi4vbWVzc2FnZS9hZGRyZXNzJztcbmltcG9ydCB7TWVzc2FnZVN1YmplY3R9IGZyb20gJy4uLy4uL21lc3NhZ2UvaW50ZXJmYWNlJztcbmltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi4vLi4vbWVzc2FnZS9tZXNzYWdlJztcbmltcG9ydCB7UGluZ30gZnJvbSAnLi4vLi4vbWVzc2FnZS9waW5nJztcbmltcG9ydCB7UG9uZ30gZnJvbSAnLi4vLi4vbWVzc2FnZS9wb25nJztcbmltcG9ydCB7UmVtb3RlUGVlclRhYmxlfSBmcm9tICcuLi8uLi9wZWVyL3JlbW90ZS1wZWVyLXRhYmxlJztcbmltcG9ydCB7U2xpZGluZ1dpbmRvd30gZnJvbSAnLi4vc2xpZGluZy13aW5kb3cnO1xuaW1wb3J0IHtDb25uZWN0aW9uTWV0ZXJ9IGZyb20gJy4vY29ubmVjdGlvbi1tZXRlcic7XG5pbXBvcnQge0lDb25uZWN0aW9uTWV0ZXJ9IGZyb20gJy4vaW50ZXJmYWNlJztcbmltcG9ydCB7TGF0ZW5jeVN0b3B3YXRjaH0gZnJvbSAnLi9sYXRlbmN5LXN0b3B3YXRjaCc7XG5cbmV4cG9ydCBjbGFzcyBUcmFuc21pc3Npb25Db25uZWN0aW9uTWV0ZXIgZXh0ZW5kcyBDb25uZWN0aW9uTWV0ZXIgaW1wbGVtZW50cyBJQ29ubmVjdGlvbk1ldGVyIHtcbiAgcHJpdmF0ZSBfcmVjZWl2ZVNsaWRpbmdXaW5kb3c6IFNsaWRpbmdXaW5kb3c7XG4gIHByaXZhdGUgX2VjaG9TbGlkaW5nV2luZG93OiBTbGlkaW5nV2luZG93O1xuICBwcml2YXRlIF9waW5nSW50ZXJ2YWw6IGFueTtcbiAgcHJpdmF0ZSBfb3JpZ2luYXRvcjogQWRkcmVzcztcbiAgcHJpdmF0ZSBfcmVjZWl2ZXI6IEFkZHJlc3M7XG4gIHByaXZhdGUgX21lc3NhZ2VTdWJqZWN0OiBTdWJqZWN0PE1lc3NhZ2U+O1xuICBwcml2YXRlIF9sYXRlbmN5UGVyU2VxdWVuY2U6IExhdGVuY3lTdG9wd2F0Y2g7XG5cbiAgY29uc3RydWN0b3IoY29ubmVjdGlvbjogSUNvbm5lY3Rpb24sIG9yaWdpbmF0b3I6IEFkZHJlc3MsIHJlY2VpdmVyOiBBZGRyZXNzLCBjbG9jazogSUNsb2NrKSB7XG4gICAgc3VwZXIoY29ubmVjdGlvbiwgY2xvY2spO1xuICAgIHRoaXMuX3JlY2VpdmVTbGlkaW5nV2luZG93ID0gbmV3IFNsaWRpbmdXaW5kb3coKTtcbiAgICB0aGlzLl9lY2hvU2xpZGluZ1dpbmRvdyA9IG5ldyBTbGlkaW5nV2luZG93KCk7XG4gICAgdGhpcy5fb3JpZ2luYXRvciA9IG9yaWdpbmF0b3I7XG4gICAgdGhpcy5fcmVjZWl2ZXIgPSByZWNlaXZlcjtcbiAgICB0aGlzLl9tZXNzYWdlU3ViamVjdCA9IG5ldyBTdWJqZWN0PE1lc3NhZ2U+KCk7XG4gICAgdGhpcy5fbGF0ZW5jeVBlclNlcXVlbmNlID0gbmV3IExhdGVuY3lTdG9wd2F0Y2goY2xvY2spO1xuICB9XG5cbiAgcHJpdmF0ZSBlbWl0TWVzc2FnZShtZXNzYWdlOiBNZXNzYWdlKSB7XG4gICAgdGhpcy5fbWVzc2FnZVN1YmplY3QubmV4dChtZXNzYWdlKTtcbiAgfVxuXG4gIHByaXZhdGUgc2VuZFBvbmcocmVjZWl2ZXI6IEFkZHJlc3MsIHNlcXVlbmNlOiBudW1iZXIpIHtcbiAgICBjb25zdCBwb25nID0gbmV3IFBvbmcoXG4gICAgICB0aGlzLl9vcmlnaW5hdG9yLFxuICAgICAgcmVjZWl2ZXIsXG4gICAgICBzZXF1ZW5jZVxuICAgICk7XG4gICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLl9vcmlnaW5hdG9yLmdldElkKCkpLmRlYnVnKFxuICAgICAgYHNlbmQgcG9uZyB0byAke3JlY2VpdmVyLmdldElkKCl9YCxcbiAgICAgIHBvbmdcbiAgICApO1xuICAgIHRoaXMuZW1pdE1lc3NhZ2UocG9uZyk7XG4gIH1cblxuICBwcml2YXRlIHNlbmRQaW5nKCkge1xuICAgIHRoaXMuX2VjaG9TbGlkaW5nV2luZG93LnNsaWRlKCk7XG4gICAgY29uc3QgbmV4dFNlcXVlbmNlID0gdGhpcy5fZWNob1NsaWRpbmdXaW5kb3cuZ2V0U2VxdWVuY2VOdW1iZXIoKTtcbiAgICBjb25zdCBwaW5nID0gbmV3IFBpbmcoXG4gICAgICB0aGlzLl9vcmlnaW5hdG9yLFxuICAgICAgdGhpcy5fcmVjZWl2ZXIsXG4gICAgICBuZXh0U2VxdWVuY2VcbiAgICApO1xuICAgIExvZ2dlci5nZXRMb2dnZXIodGhpcy5fb3JpZ2luYXRvci5nZXRJZCgpKS5kZWJ1ZyhcbiAgICAgIGBzZW5kIHBpbmcgdG8gJHt0aGlzLl9yZWNlaXZlci5nZXRJZCgpfWAsXG4gICAgICBwaW5nXG4gICAgKTtcbiAgICB0aGlzLmVtaXRNZXNzYWdlKHBpbmcpO1xuICAgIHRoaXMuX2xhdGVuY3lQZXJTZXF1ZW5jZS5zdGFydChuZXh0U2VxdWVuY2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVQaW5nKG1lc3NhZ2U6IFBpbmcpIHtcbiAgICBMb2dnZXIuZ2V0TG9nZ2VyKHRoaXMuX29yaWdpbmF0b3IuZ2V0SWQoKSlcbiAgICAgIC5kZWJ1ZyhcbiAgICAgICAgYGhhbmRsZSBwaW5nIGZyb20gJHttZXNzYWdlLmdldFNlbmRlcigpLmdldElkKCl9YCxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgYHJlY2VpdmUgc2xpZGluZyB3aW5kb3c6YCxcbiAgICAgICAgYFske0FycmF5LmZyb20odGhpcy5fcmVjZWl2ZVNsaWRpbmdXaW5kb3cudmFsdWVzKCkpLmpvaW4oJywgJyl9XWBcbiAgICAgICk7XG4gICAgdGhpcy5zZW5kUG9uZyhtZXNzYWdlLmdldFNlbmRlcigpLCBtZXNzYWdlLmdldEJvZHkoKSk7XG4gICAgdGhpcy5fcmVjZWl2ZVNsaWRpbmdXaW5kb3cuYWRkKG1lc3NhZ2UuZ2V0Qm9keSgpKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlUG9uZyhtZXNzYWdlOiBQb25nKSB7XG4gICAgY29uc3Qgc2VxdWVuY2UgPSBtZXNzYWdlLmdldEJvZHkoKTtcbiAgICB0aGlzLl9lY2hvU2xpZGluZ1dpbmRvdy5hZGQoc2VxdWVuY2UpO1xuICAgIHRoaXMuX2xhdGVuY3lQZXJTZXF1ZW5jZS5zdG9wKHNlcXVlbmNlKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RXEoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gKHRoaXMuX2VjaG9TbGlkaW5nV2luZG93LnNpemUpIC8gQ29uZmlndXJhdGlvbk1hcC5nZXREZWZhdWx0KCkuU0xJRElOR19XSU5ET1dfU0laRTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0UnEoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gKHRoaXMuX3JlY2VpdmVTbGlkaW5nV2luZG93LnNpemUpIC8gQ29uZmlndXJhdGlvbk1hcC5nZXREZWZhdWx0KCkuU0xJRElOR19XSU5ET1dfU0laRTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRUcSgpOiBudW1iZXIge1xuICAgIGNvbnN0IHJxID0gdGhpcy5nZXRScSgpO1xuICAgIGlmIChycSA9PT0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRxID0gdGhpcy5nZXRFcSgpIC8gcnE7XG4gICAgICBpZiAodHEgPiAxKSB7XG4gICAgICAgIC8vIEVxIHNob3VsZCBub3QgZXhjZWVkIFJxXG4gICAgICAgIHJldHVybiBDb25maWd1cmF0aW9uTWFwLmdldERlZmF1bHQoKS5ERUZBVUxUX1FVQUxJVFk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdHE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldExhdGVuY3lRdWFsaXR5KHJlbW90ZVBlZXJzOiBSZW1vdGVQZWVyVGFibGUpOiBudW1iZXIge1xuICAgIGNvbnN0IGNvbmZpZ3VyYXRpb24gPSBDb25maWd1cmF0aW9uTWFwLmdldERlZmF1bHQoKTtcbiAgICBjb25zdCBteUxhdGVuY3kgPSB0aGlzLmdldEF2ZXJhZ2VMYXRlbmN5KCk7XG4gICAgaWYgKG15TGF0ZW5jeSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGNvbmZpZ3VyYXRpb24uREVGQVVMVF9RVUFMSVRZO1xuICAgIH1cblxuICAgIGNvbnN0IGFsbExhdGVuY2llcyA9IHJlbW90ZVBlZXJzXG4gICAgICAuYWdncmVnYXRlQ29ubmVjdGlvbnMoXG4gICAgICAgIHRhYmxlID0+IHRhYmxlXG4gICAgICAgICAgLmZpbHRlckJ5UHJvdG9jb2woUHJvdG9jb2wuV0VCUlRDX0RBVEEpXG4gICAgICAgICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOKVxuICAgICAgKVxuICAgICAgLm1hcChcbiAgICAgICAgKGNvbm5lY3Rpb246IElDb25uZWN0aW9uKSA9PiAoY29ubmVjdGlvbi5nZXRNZXRlcigpIGFzIFRyYW5zbWlzc2lvbkNvbm5lY3Rpb25NZXRlcikuZ2V0QXZlcmFnZUxhdGVuY3koKVxuICAgICAgKVxuICAgICAgLmZpbHRlcihcbiAgICAgICAgdmFsdWUgPT4gdmFsdWUgPiAwXG4gICAgICApO1xuXG4gICAgaWYgKGFsbExhdGVuY2llcy5sZW5ndGggPD0gMSkge1xuICAgICAgcmV0dXJuIENvbmZpZ3VyYXRpb25NYXAuZ2V0RGVmYXVsdCgpLkRFRkFVTFRfUVVBTElUWTtcbiAgICB9XG5cbiAgICBjb25zdCBiZXN0TGF0ZW5jeTogbnVtYmVyID0gYWxsTGF0ZW5jaWVzXG4gICAgICAucmVkdWNlKFxuICAgICAgICAocHJldmlvdXMsIGN1cnJlbnQpID0+IGN1cnJlbnQgPCBwcmV2aW91cyA/IGN1cnJlbnQgOiBwcmV2aW91cywgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJcbiAgICAgICk7XG4gICAgY29uc3Qgd29yc3RMYXRlbmN5OiBudW1iZXIgPSBhbGxMYXRlbmNpZXNcbiAgICAgIC5yZWR1Y2UoXG4gICAgICAgIChwcmV2aW91cywgY3VycmVudCkgPT4gY3VycmVudCA+IHByZXZpb3VzID8gY3VycmVudCA6IHByZXZpb3VzLCAwXG4gICAgICApO1xuXG4gICAgc3dpdGNoIChteUxhdGVuY3kpIHtcbiAgICAgIGNhc2UgYmVzdExhdGVuY3k6XG4gICAgICAgIHJldHVybiAxLjA7XG4gICAgICBjYXNlIHdvcnN0TGF0ZW5jeTpcbiAgICAgICAgcmV0dXJuIDAuMDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAxIC0gKG15TGF0ZW5jeSAtIGJlc3RMYXRlbmN5KSAvICh3b3JzdExhdGVuY3kgLSBiZXN0TGF0ZW5jeSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldEF2ZXJhZ2VMYXRlbmN5KCk6IG51bWJlciB7XG4gICAgY29uc3QgY29uZmlndXJhdGlvbiA9IENvbmZpZ3VyYXRpb25NYXAuZ2V0RGVmYXVsdCgpO1xuICAgIGNvbnN0IGxhdGVuY3lWYWx1ZXMgPSB0aGlzLl9sYXRlbmN5UGVyU2VxdWVuY2UuYXNBcnJheSgpO1xuXG4gICAgaWYgKGxhdGVuY3lWYWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gY29uZmlndXJhdGlvbi5ERUZBVUxUX1FVQUxJVFk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE1hdGgubWF4KFxuICAgICAgbGF0ZW5jeVZhbHVlc1xuICAgICAgICAucmVkdWNlKFxuICAgICAgICAgIChwcmV2aW91cywgY3VycmVudCkgPT4gcHJldmlvdXMgKyBjdXJyZW50LCAwKVxuICAgICAgLyBsYXRlbmN5VmFsdWVzLmxlbmd0aCxcbiAgICAgIGNvbmZpZ3VyYXRpb24uREVGQVVMVF9RVUFMSVRZXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRRdWFsaXR5KHJlbW90ZVBlZXJzOiBSZW1vdGVQZWVyVGFibGUpOiBudW1iZXIge1xuICAgICAgcmV0dXJuICh0aGlzLmdldFRxKCkgKyB0aGlzLmdldExhdGVuY3lRdWFsaXR5KHJlbW90ZVBlZXJzKSkgLyAyO1xuICB9XG5cbiAgcHVibGljIG9uTWVzc2FnZShtZXNzYWdlOiBNZXNzYWdlKTogdm9pZCB7XG4gICAgc3VwZXIub25NZXNzYWdlKG1lc3NhZ2UpO1xuICAgIGlmIChtZXNzYWdlLmdldFN1YmplY3QoKSA9PT0gTWVzc2FnZVN1YmplY3QuUElORykge1xuICAgICAgdGhpcy5oYW5kbGVQaW5nKG1lc3NhZ2UgYXMgUGluZyk7XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLmdldFN1YmplY3QoKSA9PT0gTWVzc2FnZVN1YmplY3QuUE9ORykge1xuICAgICAgdGhpcy5oYW5kbGVQb25nKG1lc3NhZ2UgYXMgUG9uZyk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG9ic2VydmVNZXNzYWdlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fbWVzc2FnZVN1YmplY3Q7XG4gIH1cblxuICBwdWJsaWMgc3RhcnQoKTogdm9pZCB7XG4gICAgc3VwZXIuc3RhcnQoKTtcbiAgICB0aGlzLl9waW5nSW50ZXJ2YWwgPSB0aGlzLl9jbG9jay5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLnNlbmRQaW5nKCk7XG4gICAgfSwgQ29uZmlndXJhdGlvbk1hcC5nZXREZWZhdWx0KCkuVFJBTlNNSVNTSU9OX1BJTkdfSU5URVJWQUwpO1xuICB9XG5cbiAgcHVibGljIHN0b3AoKTogdm9pZCB7XG4gICAgc3VwZXIuc3RvcCgpO1xuICAgIGlmICh0aGlzLl9waW5nSW50ZXJ2YWwpIHtcbiAgICAgIHRoaXMuX2Nsb2NrLmNsZWFySW50ZXJ2YWwodGhpcy5fcGluZ0ludGVydmFsKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFNpbXBsZVBlZXIgZnJvbSAnc2ltcGxlLXBlZXInO1xuaW1wb3J0IHtJQ2xvY2t9IGZyb20gJy4uL2Nsb2NrL2ludGVyZmFjZSc7XG5pbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi4vbG9nZ2VyL2xvZ2dlcic7XG5pbXBvcnQge0FkZHJlc3N9IGZyb20gJy4uL21lc3NhZ2UvYWRkcmVzcyc7XG5pbXBvcnQge0Nvbm5lY3Rpb25OZWdvdGlhdGlvblR5cGV9IGZyb20gJy4uL21lc3NhZ2UvY29ubmVjdGlvbi1uZWdvdGlhdGlvbic7XG5pbXBvcnQge01lc3NhZ2VTdWJqZWN0fSBmcm9tICcuLi9tZXNzYWdlL2ludGVyZmFjZSc7XG5pbXBvcnQge01lc3NhZ2V9IGZyb20gJy4uL21lc3NhZ2UvbWVzc2FnZSc7XG5pbXBvcnQge0Fic3RyYWN0Q29ubmVjdGlvbn0gZnJvbSAnLi9jb25uZWN0aW9uJztcbmltcG9ydCB7Q29ubmVjdGlvblN0YXRlLCBJQ29ubmVjdGlvbiwgSUNvbm5lY3Rpb25PcHRpb25zLCBJV2ViUlRDQ29ubmVjdGlvbk9wdGlvbnMsIE5lZ290aWF0aW9uU3RhdGV9IGZyb20gJy4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFdlYlJUQ0Nvbm5lY3Rpb24gZXh0ZW5kcyBBYnN0cmFjdENvbm5lY3Rpb24gaW1wbGVtZW50cyBJQ29ubmVjdGlvbiB7XG5cbiAgcHJvdGVjdGVkIF9jbGllbnQ6IFNpbXBsZVBlZXIuSW5zdGFuY2U7XG4gIHByb3RlY3RlZCBfb3B0aW9uczogSVdlYlJUQ0Nvbm5lY3Rpb25PcHRpb25zO1xuICBwcm90ZWN0ZWQgX3NpbXBsZVBlZXJPcHRpb25zOiBTaW1wbGVQZWVyLk9wdGlvbnM7XG5cbiAgY29uc3RydWN0b3IoYWRkcmVzczogQWRkcmVzcywgY2xvY2s6IElDbG9jaywgb3B0aW9uczogSUNvbm5lY3Rpb25PcHRpb25zKSB7XG4gICAgc3VwZXIoYWRkcmVzcywgY2xvY2ssIG9wdGlvbnMpO1xuICAgIHRoaXMuX3NpbXBsZVBlZXJPcHRpb25zID0ge3RyaWNrbGU6IGZhbHNlfTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlT2ZmZXIobWl0b3Npc0lkOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9uZWdvdGlhdGlvblN0YXRlID0gTmVnb3RpYXRpb25TdGF0ZS5XQUlUSU5HX0ZPUl9PRkZFUjtcbiAgICB0aGlzLl9zaW1wbGVQZWVyT3B0aW9ucy5pbml0aWF0b3IgPSB0cnVlO1xuICAgIHRoaXMuX2NsaWVudCA9IG5ldyBTaW1wbGVQZWVyKHRoaXMuX3NpbXBsZVBlZXJPcHRpb25zKTtcbiAgICB0aGlzLl9jbGllbnQub24oJ3NpZ25hbCcsIChvZmZlcjogU2ltcGxlUGVlci5TaWduYWxEYXRhKSA9PiB7XG4gICAgICBjb25zdCBib2R5ID0gT2JqZWN0LmFzc2lnbihvZmZlciwgdGhpcy5nZXRBZGRpdGlvbmFsT2ZmZXJQYXlsb2FkKCkpO1xuICAgICAgTG9nZ2VyLmdldExvZ2dlcihtaXRvc2lzSWQpXG4gICAgICAgIC5kZWJ1Zyhgd2VicnRjIG9mZmVyIGZvciAke3RoaXMuZ2V0QWRkcmVzcygpLmdldElkKCl9IHJlYWR5YCwgSlNPTi5zdHJpbmdpZnkob2ZmZXIpKTtcbiAgICAgIHRoaXMub25NZXNzYWdlKG5ldyBNZXNzYWdlKFxuICAgICAgICB0aGlzLmdldE15QWRkcmVzcygpLFxuICAgICAgICBuZXcgQWRkcmVzcyh0aGlzLmdldEFkZHJlc3MoKS5nZXRJZCgpKSxcbiAgICAgICAgTWVzc2FnZVN1YmplY3QuQ09OTkVDVElPTl9ORUdPVElBVElPTixcbiAgICAgICAgYm9keVxuICAgICAgKSk7XG4gICAgICB0aGlzLl9uZWdvdGlhdGlvblN0YXRlID0gTmVnb3RpYXRpb25TdGF0ZS5XQUlUSU5HX0ZPUl9BTlNXRVI7XG4gICAgfSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgY3JlYXRlQW5zd2VyKG1pdG9zaXNJZDogc3RyaW5nLCBvcHRpb25zOiBJV2ViUlRDQ29ubmVjdGlvbk9wdGlvbnMpIHtcbiAgICBjb25zdCBvZmZlcjogU2ltcGxlUGVlci5TaWduYWxEYXRhID0gb3B0aW9ucy5wYXlsb2FkO1xuICAgIHRoaXMuX25lZ290aWF0aW9uU3RhdGUgPSBOZWdvdGlhdGlvblN0YXRlLldBSVRJTkdfRk9SX0FOU1dFUjtcbiAgICB0aGlzLl9zaW1wbGVQZWVyT3B0aW9ucy5pbml0aWF0b3IgPSBmYWxzZTtcbiAgICB0aGlzLl9jbGllbnQgPSBuZXcgU2ltcGxlUGVlcih0aGlzLl9zaW1wbGVQZWVyT3B0aW9ucyk7XG4gICAgdGhpcy5fY2xpZW50LnNpZ25hbChvZmZlcik7XG4gICAgdGhpcy5fY2xpZW50Lm9uKCdzaWduYWwnLCAoYW5zd2VyOiBTaW1wbGVQZWVyLlNpZ25hbERhdGEpID0+IHtcbiAgICAgIExvZ2dlci5nZXRMb2dnZXIobWl0b3Npc0lkKVxuICAgICAgICAuZGVidWcoYHdlYnJ0YyBhbnN3ZXIgZm9yICR7dGhpcy5nZXRBZGRyZXNzKCkuZ2V0SWQoKX0gcmVhZHlgLCBKU09OLnN0cmluZ2lmeShhbnN3ZXIpKTtcbiAgICAgIHRoaXMub25NZXNzYWdlKG5ldyBNZXNzYWdlKFxuICAgICAgICB0aGlzLmdldE15QWRkcmVzcygpLFxuICAgICAgICBuZXcgQWRkcmVzcyh0aGlzLmdldEFkZHJlc3MoKS5nZXRJZCgpKSxcbiAgICAgICAgTWVzc2FnZVN1YmplY3QuQ09OTkVDVElPTl9ORUdPVElBVElPTixcbiAgICAgICAgYW5zd2VyXG4gICAgICApKTtcbiAgICAgIHRoaXMuX25lZ290aWF0aW9uU3RhdGUgPSBOZWdvdGlhdGlvblN0YXRlLldBSVRJTkdfRk9SX0VTVEFCTElTSDtcbiAgICB9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBnZXRBZGRpdGlvbmFsT2ZmZXJQYXlsb2FkKCk6IHsgW2tleTogc3RyaW5nXTogYW55IH07XG5cbiAgcHJvdGVjdGVkIGdldE15QWRkcmVzcygpOiBBZGRyZXNzIHtcbiAgICByZXR1cm4gbmV3IEFkZHJlc3ModGhpcy5fb3B0aW9ucy5taXRvc2lzSWQsIHRoaXMuZ2V0QWRkcmVzcygpLmdldFByb3RvY29sKCksIHRoaXMuZ2V0SWQoKSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0UlRDUGVlckNvbm5lY3Rpb24oKTogUlRDUGVlckNvbm5lY3Rpb24ge1xuICAgIGlmICh0aGlzLl9jbGllbnQpIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuX3BjO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRTdGF0cygpOiBQcm9taXNlPEFycmF5PFJUQ1N0YXRzPj4ge1xuICAgIGNvbnN0IHJ0Y3BjID0gdGhpcy5nZXRSVENQZWVyQ29ubmVjdGlvbigpO1xuICAgIGlmICghcnRjcGMpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgbm8gc3RhdHMgZm9yIG1pc3NpbmcgY29ubmVjdGlvbiB0byAke3RoaXMuZ2V0TXlBZGRyZXNzKCkuZ2V0SWQoKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPEFycmF5PFJUQ1N0YXRzPj4ocmVzb2x2ZSA9PiB7XG4gICAgICBydGNwYy5nZXRTdGF0cygpXG4gICAgICAgIC50aGVuKChyZXBvcnQ6IFJUQ1N0YXRzUmVwb3J0KSA9PiB7XG4gICAgICAgICAgY29uc3Qgc3RhdHNBcnJheTogQXJyYXk8UlRDU3RhdHM+ID0gW107XG4gICAgICAgICAgcmVwb3J0LmZvckVhY2goKHN0YXRzOiBSVENTdGF0cykgPT4ge1xuICAgICAgICAgICAgc3RhdHNBcnJheS5wdXNoKHN0YXRzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXNvbHZlKHN0YXRzQXJyYXkpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBjbG9zZUNsaWVudCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fY2xpZW50KSB7XG4gICAgICB0aGlzLl9jbGllbnQuZGVzdHJveSgpO1xuICAgICAgdGhpcy5fY2xpZW50ID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vbkNsb3NlKCd3ZWJydGMgcGVlciBjb25uZWN0aW9uIHdhcyBjbG9zZWQgYW5kIG5vIGNsaWVudCBleGlzdHM7IHByb2JhYmx5IG90aGVyIGNsaWVudCBoYXMgY2xvc2VkJyk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGJpbmRDbGllbnRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgdGhpcy5fY2xpZW50Lm9uKCdjb25uZWN0JywgKCkgPT4ge1xuICAgICAgdGhpcy5vbk9wZW4odGhpcyk7XG4gICAgfSk7XG4gICAgdGhpcy5fY2xpZW50Lm9uKCdkYXRhJywgKGRhdGE6IHN0cmluZykgPT4ge1xuICAgICAgdGhpcy5vbk1lc3NhZ2UoTWVzc2FnZS5mcm9tU3RyaW5nKGRhdGEpKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jbGllbnQub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgdGhpcy5vbkNsb3NlKCd3ZWJydGMgcGVlciBjb25uZWN0aW9uIGNsb3NlJyk7XG4gICAgfSk7XG4gICAgdGhpcy5fY2xpZW50Lm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgdGhpcy5vbkVycm9yKGVycm9yKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvcGVuQ2xpZW50KCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5fb3B0aW9ucykge1xuICAgICAgdGhyb3cgIG5ldyBFcnJvcignd2VicnRjIGNhbm5vdCBiZSBvcGVuZWQgd2l0aG91dCBvcHRpb25zJyk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9vcHRpb25zLnBheWxvYWQpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5fb3B0aW9ucy5wYXlsb2FkLnR5cGUpIHtcbiAgICAgICAgY2FzZSBDb25uZWN0aW9uTmVnb3RpYXRpb25UeXBlLk9GRkVSOlxuICAgICAgICAgIHRoaXMuY3JlYXRlQW5zd2VyKHRoaXMuX29wdGlvbnMubWl0b3Npc0lkLCB0aGlzLl9vcHRpb25zKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDb25uZWN0aW9uTmVnb3RpYXRpb25UeXBlLkFOU1dFUjpcbiAgICAgICAgICB0aGlzLmVzdGFibGlzaCh0aGlzLl9vcHRpb25zKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgd2VicnRjIG9wdGlvbnMgdW5zdXBwb3J0ZWQgJHt0aGlzLl9vcHRpb25zLnBheWxvYWQudHlwZX1gXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jcmVhdGVPZmZlcih0aGlzLl9vcHRpb25zLm1pdG9zaXNJZCk7XG4gICAgfVxuICAgIHRoaXMuYmluZENsaWVudExpc3RlbmVycygpO1xuICB9XG5cbiAgcHVibGljIGlzSW5pdGlhdG9yKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9zaW1wbGVQZWVyT3B0aW9ucy5pbml0aWF0b3I7XG4gIH1cblxuICBwdWJsaWMgc2VuZChtZXNzYWdlOiBNZXNzYWdlKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLl9jbGllbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgd2VicnRjIGNsaWVudCBub3QgaW5pdGlhbGl6ZWRgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZ2V0U3RhdGUoKSAhPT0gQ29ubmVjdGlvblN0YXRlLk9QRU4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgd2VicnRjIGNhbm5vdCBzZW5kIHRvICR7dGhpcy5nZXRTdGF0ZSgpfSBjb25uZWN0aW9uYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2NsaWVudC5zZW5kKG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGVzdGFibGlzaChvcHRpb25zOiBJV2ViUlRDQ29ubmVjdGlvbk9wdGlvbnMpIHtcbiAgICBjb25zdCBhbnN3ZXI6IFNpbXBsZVBlZXIuU2lnbmFsRGF0YSA9IG9wdGlvbnMucGF5bG9hZDtcbiAgICBMb2dnZXIuZ2V0TG9nZ2VyKHRoaXMuX29wdGlvbnMubWl0b3Npc0lkKVxuICAgICAgLmRlYnVnKGB3ZWJydGMgYW5zd2VyIGZvciAke3RoaXMuZ2V0QWRkcmVzcygpLmdldElkKCl9IG5lZ290aWF0aW5nYCwgSlNPTi5zdHJpbmdpZnkoYW5zd2VyKSk7XG4gICAgdGhpcy5fY2xpZW50LnNpZ25hbChhbnN3ZXIpO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBTaW1wbGVQZWVyIGZyb20gJ3NpbXBsZS1wZWVyJztcbmltcG9ydCB7SUNsb2NrfSBmcm9tICcuLi9jbG9jay9pbnRlcmZhY2UnO1xuaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuLi9tZXNzYWdlL2FkZHJlc3MnO1xuaW1wb3J0IHtNZXNzYWdlfSBmcm9tICcuLi9tZXNzYWdlL21lc3NhZ2UnO1xuaW1wb3J0IHtUcmFuc21pc3Npb25Db25uZWN0aW9uTWV0ZXJ9IGZyb20gJy4uL21ldGVyaW5nL2Nvbm5lY3Rpb24tbWV0ZXIvdHJhbnNtaXNzaW9uLWNvbm5lY3Rpb24tbWV0ZXInO1xuaW1wb3J0IHtJQ29ubmVjdGlvbiwgSUNvbm5lY3Rpb25PcHRpb25zLCBJV2ViUlRDQ29ubmVjdGlvbk9wdGlvbnN9IGZyb20gJy4vaW50ZXJmYWNlJztcbmltcG9ydCB7V2ViUlRDQ29ubmVjdGlvbn0gZnJvbSAnLi93ZWJydGMnO1xuXG5leHBvcnQgY2xhc3MgV2ViUlRDRGF0YUNvbm5lY3Rpb24gZXh0ZW5kcyBXZWJSVENDb25uZWN0aW9uIGltcGxlbWVudHMgSUNvbm5lY3Rpb24ge1xuXG4gIHByaXZhdGUgc3RhdGljIF9zdGF0c0RhdGFDaGFubmVsTGFiZWwgPSAnc3RhdHMnO1xuICBwcml2YXRlIF91bnJlbGlhYmxlQ2hhbm5lbDogUlRDRGF0YUNoYW5uZWw7XG4gIHByb3RlY3RlZCBfbWV0ZXI6IFRyYW5zbWlzc2lvbkNvbm5lY3Rpb25NZXRlcjtcblxuICBjb25zdHJ1Y3RvcihhZGRyZXNzOiBBZGRyZXNzLCBjbG9jazogSUNsb2NrLCBvcHRpb25zOiBJQ29ubmVjdGlvbk9wdGlvbnMpIHtcbiAgICBzdXBlcihhZGRyZXNzLCBjbG9jaywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLl9tZXRlciA9IG5ldyBUcmFuc21pc3Npb25Db25uZWN0aW9uTWV0ZXIoXG4gICAgICB0aGlzLFxuICAgICAgdGhpcy5nZXRNeUFkZHJlc3MoKSxcbiAgICAgIHRoaXMuZ2V0QWRkcmVzcygpLFxuICAgICAgdGhpcy5fY2xvY2tcbiAgICApO1xuICAgIHRoaXMuX21ldGVyXG4gICAgICAub2JzZXJ2ZU1lc3NhZ2VzKClcbiAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2VPdmVyVW5yZWxpYWJsZUNoYW5uZWwuYmluZCh0aGlzKVxuICAgICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc2VuZE1lc3NhZ2VPdmVyVW5yZWxpYWJsZUNoYW5uZWwobWVzc2FnZTogTWVzc2FnZSk6IHZvaWQge1xuICAgIGlmICh0aGlzLl91bnJlbGlhYmxlQ2hhbm5lbCAmJiB0aGlzLl91bnJlbGlhYmxlQ2hhbm5lbC5yZWFkeVN0YXRlID09PSAnb3BlbicpIHtcbiAgICAgIHRoaXMuX3VucmVsaWFibGVDaGFubmVsLnNlbmQobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGxpc3Rlbk9uVW5yZWxpYWJsZUNoYW5uZWwoKTogdm9pZCB7XG4gICAgdGhpcy5fdW5yZWxpYWJsZUNoYW5uZWwub25tZXNzYWdlID0gKGV2ZW50OiBNZXNzYWdlRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBNZXNzYWdlLmZyb21TdHJpbmcoZXZlbnQuZGF0YSk7XG4gICAgICB0aGlzLl9tZXRlci5vbk1lc3NhZ2UobWVzc2FnZSk7XG4gICAgfTtcbiAgfVxuXG4gIHByb3RlY3RlZCBiaW5kQ2xpZW50TGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIHN1cGVyLmJpbmRDbGllbnRMaXN0ZW5lcnMoKTtcbiAgICBjb25zdCBzdXBlck9uRGF0YUNoYW5uZWwgPSB0aGlzLmdldFJUQ1BlZXJDb25uZWN0aW9uKCkub25kYXRhY2hhbm5lbDtcbiAgICB0aGlzLmdldFJUQ1BlZXJDb25uZWN0aW9uKCkub25kYXRhY2hhbm5lbCA9IChldmVudDogUlRDRGF0YUNoYW5uZWxFdmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmNoYW5uZWwubGFiZWwgPT09IFdlYlJUQ0RhdGFDb25uZWN0aW9uLl9zdGF0c0RhdGFDaGFubmVsTGFiZWwpIHtcbiAgICAgICAgdGhpcy5fdW5yZWxpYWJsZUNoYW5uZWwgPSBldmVudC5jaGFubmVsO1xuICAgICAgICB0aGlzLmxpc3Rlbk9uVW5yZWxpYWJsZUNoYW5uZWwoKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHN1cGVyT25EYXRhQ2hhbm5lbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzdXBlck9uRGF0YUNoYW5uZWwuY2FsbCh0aGlzLl9jbGllbnQsIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldEFkZGl0aW9uYWxPZmZlclBheWxvYWQoKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgcHVibGljIGVzdGFibGlzaChvcHRpb25zOiBJV2ViUlRDQ29ubmVjdGlvbk9wdGlvbnMpOiB2b2lkIHtcbiAgICBzdXBlci5lc3RhYmxpc2gob3B0aW9ucyk7XG4gICAgdGhpcy5fdW5yZWxpYWJsZUNoYW5uZWwgPSBzdXBlci5nZXRSVENQZWVyQ29ubmVjdGlvbigpXG4gICAgICAuY3JlYXRlRGF0YUNoYW5uZWwoXG4gICAgICAgIFdlYlJUQ0RhdGFDb25uZWN0aW9uLl9zdGF0c0RhdGFDaGFubmVsTGFiZWwsXG4gICAgICAgIHtcbiAgICAgICAgICBvcmRlcmVkOiBmYWxzZSxcbiAgICAgICAgICBtYXhSZXRyYW5zbWl0czogMFxuICAgICAgICB9XG4gICAgICApO1xuICAgIHRoaXMubGlzdGVuT25VbnJlbGlhYmxlQ2hhbm5lbCgpO1xuICB9XG59XG4iLCJpbXBvcnQge0Nvbm5lY3Rpb25NZXRlcn0gZnJvbSAnLi9jb25uZWN0aW9uLW1ldGVyJztcbmltcG9ydCB7SUNvbm5lY3Rpb25NZXRlcn0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgY2xhc3MgU3RyZWFtQ29ubmVjdGlvbk1ldGVyIGV4dGVuZHMgQ29ubmVjdGlvbk1ldGVyIGltcGxlbWVudHMgSUNvbm5lY3Rpb25NZXRlciB7XG5cbiAgcHVibGljIGdldFF1YWxpdHkoKTogbnVtYmVyIHtcbiAgICAvLyBUT0RPOiBHZXQgcXVhbGl0eSBmcm9tIFdlYlJUQ1BlZXJDb25uZWN0aW9uXG4gICAgcmV0dXJuIDAuMTtcbiAgfVxuXG4gIHB1YmxpYyBpc0xhc3RTZWVuRXhwaXJlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgc3RhcnQoKTogdm9pZCB7XG4gIH1cblxuICBwdWJsaWMgc3RvcCgpOiB2b2lkIHtcbiAgfVxufVxuIiwiaW1wb3J0IHtDb25uZWN0aW9uTWV0ZXJ9IGZyb20gJy4vY29ubmVjdGlvbi1tZXRlcic7XG5pbXBvcnQge0lDb25uZWN0aW9uTWV0ZXJ9IGZyb20gJy4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIE5vb3BDb25uZWN0aW9uTWV0ZXIgZXh0ZW5kcyBDb25uZWN0aW9uTWV0ZXIgaW1wbGVtZW50cyBJQ29ubmVjdGlvbk1ldGVyIHtcbiAgcHVibGljIGdldFF1YWxpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIHB1YmxpYyBpc0xhc3RTZWVuRXhwaXJlZCgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgc3RhcnQoKTogdm9pZCB7XG4gIH1cblxuICBwdWJsaWMgc3RvcCgpOiB2b2lkIHtcbiAgfVxufVxuIiwiaW1wb3J0IHtJQ2xvY2t9IGZyb20gJy4uL2Nsb2NrL2ludGVyZmFjZSc7XG5pbXBvcnQge0FkZHJlc3N9IGZyb20gJy4uL21lc3NhZ2UvYWRkcmVzcyc7XG5pbXBvcnQge01lc3NhZ2V9IGZyb20gJy4uL21lc3NhZ2UvbWVzc2FnZSc7XG5pbXBvcnQge05vb3BDb25uZWN0aW9uTWV0ZXJ9IGZyb20gJy4uL21ldGVyaW5nL2Nvbm5lY3Rpb24tbWV0ZXIvbm9vcC1jb25uZWN0aW9uLW1ldGVyJztcbmltcG9ydCB7QWJzdHJhY3RDb25uZWN0aW9ufSBmcm9tICcuL2Nvbm5lY3Rpb24nO1xuaW1wb3J0IHtDb25uZWN0aW9uU3RhdGUsIElDb25uZWN0aW9uLCBJQ29ubmVjdGlvbk9wdGlvbnN9IGZyb20gJy4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIFdlYlNvY2tldENvbm5lY3Rpb24gZXh0ZW5kcyBBYnN0cmFjdENvbm5lY3Rpb24gaW1wbGVtZW50cyBJQ29ubmVjdGlvbiB7XG5cbiAgcHJpdmF0ZSBfY2xpZW50OiBXZWJTb2NrZXQ7XG5cbiAgY29uc3RydWN0b3IoYWRkcmVzczogQWRkcmVzcywgY2xvY2s6IElDbG9jaywgb3B0aW9uczogSUNvbm5lY3Rpb25PcHRpb25zKSB7XG4gICAgc3VwZXIoYWRkcmVzcywgY2xvY2ssIG9wdGlvbnMpO1xuICAgIHRoaXMuX21ldGVyID0gbmV3IE5vb3BDb25uZWN0aW9uTWV0ZXIodGhpcywgY2xvY2spO1xuICB9XG5cbiAgcHJpdmF0ZSBvblNvY2tldE9wZW4oKSB7XG4gICAgdGhpcy5vbk9wZW4odGhpcyk7XG4gIH1cblxuICBwcml2YXRlIG9uU29ja2V0Q2xvc2UoZXZlbnQ6IEV2ZW50KSB7XG4gICAgdGhpcy5vbkNsb3NlKGV2ZW50KTtcbiAgfVxuXG4gIHByaXZhdGUgb25Tb2NrZXRNZXNzYWdlKGV2ZW50OiBNZXNzYWdlRXZlbnQpIHtcbiAgICB0aGlzLm9uTWVzc2FnZShNZXNzYWdlLmZyb21TdHJpbmcoZXZlbnQuZGF0YSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBvblNvY2tldEVycm9yKGV2ZW50OiBFdmVudCkge1xuICAgIHRoaXMub25FcnJvcihldmVudCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgY2xvc2VDbGllbnQoKTogdm9pZCB7XG4gICAgdGhpcy5fY2xpZW50LmNsb3NlKCk7XG4gICAgdGhpcy5fY2xpZW50ID0gbnVsbDtcbiAgfVxuXG4gIHB1YmxpYyBzZW5kKG1lc3NhZ2U6IE1lc3NhZ2UpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuX2NsaWVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdzb2NrZXQgY2xpZW50IG5vdCBpbml0aWFsaXplZCcpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5nZXRTdGF0ZSgpICE9PSBDb25uZWN0aW9uU3RhdGUuT1BFTikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBzb2NrZXQgY29ubmVjdGlvbiBub3QgaW4gb3BlbiBzdGF0ZSAoJHt0aGlzLmdldFN0YXRlKCl9KWApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fY2xpZW50LnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHNvY2tldCBjbGllbnQgbm90IGluIG9wZW4gc3RhdGUgKCR7dGhpcy5fY2xpZW50LnJlYWR5U3RhdGV9KWApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jbGllbnQuc2VuZChtZXNzYWdlLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBvcGVuQ2xpZW50KCkge1xuICAgIHRoaXMuX2NsaWVudCA9IG5ldyBXZWJTb2NrZXQoYCR7dGhpcy5fYWRkcmVzcy5nZXRQcm90b2NvbCgpfTovLyR7dGhpcy5fYWRkcmVzcy5nZXRMb2NhdGlvbigpfWApO1xuICAgIHRoaXMuX2NsaWVudC5vbm9wZW4gPSB0aGlzLm9uU29ja2V0T3Blbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2NsaWVudC5vbmNsb3NlID0gdGhpcy5vblNvY2tldENsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fY2xpZW50Lm9ubWVzc2FnZSA9IHRoaXMub25Tb2NrZXRNZXNzYWdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fY2xpZW50Lm9uZXJyb3IgPSB0aGlzLm9uU29ja2V0RXJyb3IuYmluZCh0aGlzKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtJQ29ubmVjdGlvbkNvbnN0cnVjdG9yLCBQcm90b2NvbH0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtWaWFDb25uZWN0aW9ufSBmcm9tICcuL3ZpYSc7XG5pbXBvcnQge1dlYlJUQ0RhdGFDb25uZWN0aW9ufSBmcm9tICcuL3dlYnJ0Yy1kYXRhJztcbmltcG9ydCB7V2ViUlRDU3RyZWFtQ29ubmVjdGlvbn0gZnJvbSAnLi93ZWJydGMtc3RyZWFtJztcbmltcG9ydCB7V2ViU29ja2V0Q29ubmVjdGlvbn0gZnJvbSAnLi93ZWJzb2NrZXQnO1xuXG5leHBvcnQgY29uc3QgUHJvdG9jb2xDb25uZWN0aW9uTWFwOiBNYXA8UHJvdG9jb2wsIElDb25uZWN0aW9uQ29uc3RydWN0b3I+ID0gbmV3IE1hcCgpO1xuUHJvdG9jb2xDb25uZWN0aW9uTWFwLnNldChQcm90b2NvbC5XRUJTT0NLRVQsIFdlYlNvY2tldENvbm5lY3Rpb24pO1xuUHJvdG9jb2xDb25uZWN0aW9uTWFwLnNldChQcm90b2NvbC5XRUJTT0NLRVRfVU5TRUNVUkUsIFdlYlNvY2tldENvbm5lY3Rpb24pO1xuUHJvdG9jb2xDb25uZWN0aW9uTWFwLnNldChQcm90b2NvbC5XRUJSVENfREFUQSwgV2ViUlRDRGF0YUNvbm5lY3Rpb24pO1xuUHJvdG9jb2xDb25uZWN0aW9uTWFwLnNldChQcm90b2NvbC5XRUJSVENfU1RSRUFNLCBXZWJSVENTdHJlYW1Db25uZWN0aW9uKTtcblByb3RvY29sQ29ubmVjdGlvbk1hcC5zZXQoUHJvdG9jb2wuVklBLCBWaWFDb25uZWN0aW9uKTtcblByb3RvY29sQ29ubmVjdGlvbk1hcC5zZXQoUHJvdG9jb2wuVklBX01VTFRJLCBWaWFDb25uZWN0aW9uKTtcbiIsImltcG9ydCB7U3ViamVjdH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge0lDbG9ja30gZnJvbSAnLi4vY2xvY2svaW50ZXJmYWNlJztcbmltcG9ydCB7Q2h1cm5UeXBlfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtMb2dnZXJ9IGZyb20gJy4uL2xvZ2dlci9sb2dnZXInO1xuaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuLi9tZXNzYWdlL2FkZHJlc3MnO1xuaW1wb3J0IHtNZXNzYWdlfSBmcm9tICcuLi9tZXNzYWdlL21lc3NhZ2UnO1xuaW1wb3J0IHtTdHJlYW1Db25uZWN0aW9uTWV0ZXJ9IGZyb20gJy4uL21ldGVyaW5nL2Nvbm5lY3Rpb24tbWV0ZXIvc3RyZWFtLWNvbm5lY3Rpb24tbWV0ZXInO1xuaW1wb3J0IHtJU3RyZWFtQ2h1cm5FdmVudH0gZnJvbSAnLi4vc3RyZWFtL2ludGVyZmFjZSc7XG5pbXBvcnQge0lDb25uZWN0aW9uLCBJV2ViUlRDU3RyZWFtQ29ubmVjdGlvbk9wdGlvbnN9IGZyb20gJy4vaW50ZXJmYWNlJztcbmltcG9ydCB7V2ViUlRDQ29ubmVjdGlvbn0gZnJvbSAnLi93ZWJydGMnO1xuXG5leHBvcnQgY2xhc3MgV2ViUlRDU3RyZWFtQ29ubmVjdGlvbiBleHRlbmRzIFdlYlJUQ0Nvbm5lY3Rpb24gaW1wbGVtZW50cyBJQ29ubmVjdGlvbiB7XG5cbiAgcHJpdmF0ZSBfc3RyZWFtU3ViamVjdDogU3ViamVjdDxJU3RyZWFtQ2h1cm5FdmVudD47XG4gIHByaXZhdGUgX2NoYW5uZWxJZDogc3RyaW5nO1xuICBwcml2YXRlIF9zdHJlYW06IE1lZGlhU3RyZWFtO1xuXG4gIGNvbnN0cnVjdG9yKGFkZHJlc3M6IEFkZHJlc3MsIGNsb2NrOiBJQ2xvY2ssIG9wdGlvbnM6IElXZWJSVENTdHJlYW1Db25uZWN0aW9uT3B0aW9ucykge1xuICAgIHN1cGVyKGFkZHJlc3MsIGNsb2NrLCBvcHRpb25zKTtcbiAgICB0aGlzLl9tZXRlciA9IG5ldyBTdHJlYW1Db25uZWN0aW9uTWV0ZXIodGhpcywgY2xvY2spO1xuICAgIHRoaXMuX3N0cmVhbVN1YmplY3QgPSBuZXcgU3ViamVjdCgpO1xuICAgIHRoaXMuc2V0U3RyZWFtKG9wdGlvbnMuc3RyZWFtKTtcbiAgfVxuXG4gIHByaXZhdGUgYmluZFN0cmVhbUxpc3RlbmVycygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fc3RyZWFtKSB7XG4gICAgICB0aGlzLl9zdHJlYW0ub25hY3RpdmUgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuX3N0cmVhbVN1YmplY3QubmV4dCh7XG4gICAgICAgICAgdHlwZTogQ2h1cm5UeXBlLkFEREVELFxuICAgICAgICAgIHN0cmVhbTogdGhpcy5fc3RyZWFtLFxuICAgICAgICAgIGNoYW5uZWxJZDogdGhpcy5fY2hhbm5lbElkXG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIHRoaXMuX3N0cmVhbS5vbmluYWN0aXZlID0gKCkgPT4ge1xuICAgICAgICB0aGlzLl9zdHJlYW1TdWJqZWN0Lm5leHQoe1xuICAgICAgICAgIHR5cGU6IENodXJuVHlwZS5SRU1PVkVELFxuICAgICAgICAgIHN0cmVhbTogdGhpcy5fc3RyZWFtLFxuICAgICAgICAgIGNoYW5uZWxJZDogdGhpcy5fY2hhbm5lbElkXG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgY3JlYXRlQW5zd2VyKG1pdG9zaXNJZDogc3RyaW5nLCBvcHRpb25zOiBJV2ViUlRDU3RyZWFtQ29ubmVjdGlvbk9wdGlvbnMpIHtcbiAgICB0aGlzLl9jaGFubmVsSWQgPSBvcHRpb25zLmNoYW5uZWxJZDtcbiAgICBzdXBlci5jcmVhdGVBbnN3ZXIobWl0b3Npc0lkLCBvcHRpb25zKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRBZGRpdGlvbmFsT2ZmZXJQYXlsb2FkKCk6IHsgW3A6IHN0cmluZ106IGFueSB9IHtcbiAgICAvLyBUT0RPOiBXaHkgZG9lc24ndCBpdCBtYXR0ZXIgaWYgaWQgaXMgYW55P1xuICAgIHJldHVybiB7Y2hhbm5lbElkOiB0aGlzLmdldENoYW5uZWxJZCgpIHx8ICdhbnknfTtcbiAgfVxuXG4gIHByb3RlY3RlZCBjbG9zZUNsaWVudCgpOiB2b2lkIHtcbiAgICB0aGlzLnJlbW92ZVN0cmVhbSgpO1xuICAgIHN1cGVyLmNsb3NlQ2xpZW50KCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYmluZENsaWVudExpc3RlbmVycygpOiB2b2lkIHtcbiAgICBzdXBlci5iaW5kQ2xpZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fY2xpZW50Lm9uKCd0cmFjaycsICh0cmFjazogTWVkaWFTdHJlYW1UcmFjaywgc3RyZWFtOiBNZWRpYVN0cmVhbSkgPT4ge1xuICAgICAgdGhpcy5zZXRTdHJlYW0oc3RyZWFtKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jbGllbnQub24oJ3N0cmVhbScsIChzdHJlYW06IE1lZGlhU3RyZWFtKSA9PiB7XG4gICAgICB0aGlzLnNldFN0cmVhbShzdHJlYW0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIHNlbmQobWVzc2FnZTogTWVzc2FnZSk6IHZvaWQge1xuICAgIExvZ2dlci5nZXRMb2dnZXIodGhpcy5fYWRkcmVzcy5nZXRJZCgpKS5lcnJvcignc3RyZWFtIGNvbm5lY3Rpb24gY2FuIG5vdCBzZW5kIG1lc3NhZ2VzJywgbWVzc2FnZSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q2hhbm5lbElkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICh0aGlzLl9vcHRpb25zIGFzIElXZWJSVENTdHJlYW1Db25uZWN0aW9uT3B0aW9ucykuY2hhbm5lbElkIHx8IHRoaXMuX2NoYW5uZWxJZDtcbiAgfVxuXG4gIHB1YmxpYyBzZXRTdHJlYW0oc3RyZWFtOiBNZWRpYVN0cmVhbSk6IHZvaWQge1xuICAgIGlmIChzdHJlYW0pIHtcbiAgICAgIHRoaXMuX3N0cmVhbSA9IHN0cmVhbTtcbiAgICAgIHRoaXMuX3NpbXBsZVBlZXJPcHRpb25zLnN0cmVhbSA9IHN0cmVhbTtcbiAgICAgIHRoaXMuYmluZFN0cmVhbUxpc3RlbmVycygpO1xuICAgICAgdGhpcy5fc3RyZWFtU3ViamVjdC5uZXh0KHtcbiAgICAgICAgc3RyZWFtOiB0aGlzLl9zdHJlYW0sXG4gICAgICAgIGNoYW5uZWxJZDogdGhpcy5fY2hhbm5lbElkLFxuICAgICAgICB0eXBlOiBDaHVyblR5cGUuQURERURcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbW92ZVN0cmVhbSgpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXRTdHJlYW0oKTogTWVkaWFTdHJlYW0ge1xuICAgIHJldHVybiB0aGlzLl9zdHJlYW07XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlU3RyZWFtKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9zdHJlYW0pIHtcbiAgICAgIGNvbnN0IHN0cmVhbSA9IHRoaXMuX3N0cmVhbTtcbiAgICAgIHN0cmVhbVxuICAgICAgICAuZ2V0VHJhY2tzKClcbiAgICAgICAgLmZvckVhY2goXG4gICAgICAgICAgdHJhY2sgPT4gdHJhY2suc3RvcCgpXG4gICAgICAgICk7XG4gICAgICB0aGlzLl9zdHJlYW0gPSBudWxsO1xuICAgICAgdGhpcy5fc3RyZWFtU3ViamVjdC5uZXh0KHtcbiAgICAgICAgc3RyZWFtOiBzdHJlYW0sXG4gICAgICAgIGNoYW5uZWxJZDogdGhpcy5fY2hhbm5lbElkLFxuICAgICAgICB0eXBlOiBDaHVyblR5cGUuUkVNT1ZFRFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG9ic2VydmVTdHJlYW1DaHVybigpOiBTdWJqZWN0PElTdHJlYW1DaHVybkV2ZW50PiB7XG4gICAgcmV0dXJuIHRoaXMuX3N0cmVhbVN1YmplY3Q7XG4gIH1cbn1cbiIsImltcG9ydCB7Q29uZmlndXJhdGlvbk1hcH0gZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBSb3V0ZXJBbGl2ZUhpZ2hzY29yZSB7XG4gIHByaXZhdGUgX3JhbmtQZXJTZXF1ZW5jZU1hcDogTWFwPG51bWJlciwgbnVtYmVyPjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9yYW5rUGVyU2VxdWVuY2VNYXAgPSBuZXcgTWFwKCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IGxlbmd0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9yYW5rUGVyU2VxdWVuY2VNYXAuc2l6ZTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0SGlnaGVzdFNlcXVlbmNlKCkge1xuICAgIHJldHVybiBBcnJheVxuICAgICAgLmZyb20odGhpcy5fcmFua1BlclNlcXVlbmNlTWFwLmtleXMoKSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBhIC0gYilcbiAgICAgIC5wb3AoKTtcbiAgfVxuXG4gIHByaXZhdGUgY2xlYW5VcE9sZFNlcXVlbmNlcygpIHtcbiAgICBjb25zdCBoaWdoZXN0U2VxdWVuY2UgPSB0aGlzLmdldEhpZ2hlc3RTZXF1ZW5jZSgpO1xuICAgIGNvbnN0IHJlbW92ZUtleXMgPSBBcnJheVxuICAgICAgLmZyb20odGhpcy5fcmFua1BlclNlcXVlbmNlTWFwLmtleXMoKSlcbiAgICAgIC5maWx0ZXIoXG4gICAgICAgIGtleSA9PiBoaWdoZXN0U2VxdWVuY2UgLSBrZXkgPj0gQ29uZmlndXJhdGlvbk1hcC5nZXREZWZhdWx0KCkuUk9VVEVSX0FMSVZFX0hJR0hTQ09SRV9XSU5ET1dfU0laRVxuICAgICAgKTtcbiAgICByZW1vdmVLZXlzXG4gICAgICAuZm9yRWFjaChcbiAgICAgICAga2V5ID0+IHtcbiAgICAgICAgICB0aGlzLl9yYW5rUGVyU2VxdWVuY2VNYXAuZGVsZXRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgYWRkU2VxdWVuY2Uoc2VxdWVuY2U6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuX3JhbmtQZXJTZXF1ZW5jZU1hcC5zZXQoc2VxdWVuY2UsIG51bGwpO1xuICAgIHRoaXMuY2xlYW5VcE9sZFNlcXVlbmNlcygpO1xuICB9XG5cbiAgcHVibGljIHNldFJhbmtGb3JTZXF1ZW5jZShzZXF1ZW5jZTogbnVtYmVyLCByYW5rOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCByYW5rUGVyU2VxdWVuY2UgPSB0aGlzLl9yYW5rUGVyU2VxdWVuY2VNYXAuZ2V0KHNlcXVlbmNlKTtcbiAgICBpZiAocmFua1BlclNlcXVlbmNlID09PSBudWxsKSB7XG4gICAgICB0aGlzLl9yYW5rUGVyU2VxdWVuY2VNYXAuc2V0KHNlcXVlbmNlLCByYW5rKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaGFzUmVjZWl2ZWRTZXF1ZW5jZShzZXF1ZW5jZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhdGhpcy5fcmFua1BlclNlcXVlbmNlTWFwLmdldChzZXF1ZW5jZSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0QXZlcmFnZVJhbmtpbmcoKTogbnVtYmVyIHtcbiAgICBjb25zdCBjb25maWd1cmF0aW9uID0gQ29uZmlndXJhdGlvbk1hcC5nZXREZWZhdWx0KCk7XG4gICAgaWYgKHRoaXMuX3JhbmtQZXJTZXF1ZW5jZU1hcC5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgbGV0IHRvdGFsID0gMDtcbiAgICBjb25zdCBtYXhDb25uZWN0aW9ucyA9IGNvbmZpZ3VyYXRpb24uRElSRUNUX0NPTk5FQ1RJT05TX01BWDtcbiAgICBjb25zdCBlbnRyaWVzID0gdGhpcy5fcmFua1BlclNlcXVlbmNlTWFwLmVudHJpZXMoKTtcbiAgICBsZXQgZW50cnkgPSBlbnRyaWVzLm5leHQoKTtcbiAgICB3aGlsZSAoIWVudHJ5LmRvbmUpIHtcbiAgICAgIGNvbnN0IFtrZXksIHJhbmtdID0gZW50cnkudmFsdWU7XG4gICAgICBpZiAocmFuaykge1xuICAgICAgICB0b3RhbCArPSAobWF4Q29ubmVjdGlvbnMgLSByYW5rICsgMSkgLyBtYXhDb25uZWN0aW9ucztcbiAgICAgIH1cbiAgICAgIGVudHJ5ID0gZW50cmllcy5uZXh0KCk7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLnBvdygoKHRvdGFsIC8gdGhpcy5fcmFua1BlclNlcXVlbmNlTWFwLnNpemUpIHx8IGNvbmZpZ3VyYXRpb24uREVGQVVMVF9ST1VURVJfUkFOSyksIDIpO1xuICB9XG5cbiAgcHVibGljIHJlc2V0KCk6IHZvaWQge1xuICAgIHRoaXMuX3JhbmtQZXJTZXF1ZW5jZU1hcC5jbGVhcigpO1xuICB9XG59XG4iLCJpbXBvcnQge2ZpbHRlcn0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHtJQ2xvY2t9IGZyb20gJy4uL2Nsb2NrL2ludGVyZmFjZSc7XG5pbXBvcnQge0NvbmZpZ3VyYXRpb25NYXB9IGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHtDb25uZWN0aW9uVGFibGV9IGZyb20gJy4uL2Nvbm5lY3Rpb24vY29ubmVjdGlvbi10YWJsZSc7XG5pbXBvcnQge0Nvbm5lY3Rpb25TdGF0ZSwgSUNvbm5lY3Rpb24sIFByb3RvY29sfSBmcm9tICcuLi9jb25uZWN0aW9uL2ludGVyZmFjZSc7XG5pbXBvcnQge1ZpYUNvbm5lY3Rpb259IGZyb20gJy4uL2Nvbm5lY3Rpb24vdmlhJztcbmltcG9ydCB7Q2h1cm5UeXBlfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtMb2dnZXJ9IGZyb20gJy4uL2xvZ2dlci9sb2dnZXInO1xuaW1wb3J0IHtSZW1vdGVQZWVyVGFibGV9IGZyb20gJy4uL3BlZXIvcmVtb3RlLXBlZXItdGFibGUnO1xuaW1wb3J0IHtPYnNlcnZhYmxlTWFwfSBmcm9tICcuLi91dGlsL29ic2VydmFibGUtbWFwJztcbmltcG9ydCB7SUNvbm5lY3Rpb25FdmVudFR5cGUsIElDb25uZWN0aW9uTWV0ZXIsIElDb25uZWN0aW9uTWV0ZXJFdmVudH0gZnJvbSAnLi9jb25uZWN0aW9uLW1ldGVyL2ludGVyZmFjZSc7XG5pbXBvcnQge1ZpYUNvbm5lY3Rpb25NZXRlcn0gZnJvbSAnLi9jb25uZWN0aW9uLW1ldGVyL3ZpYS1jb25uZWN0aW9uLW1ldGVyJztcbmltcG9ydCB7SU1ldGVyfSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQge1JvdXRlckFsaXZlSGlnaHNjb3JlfSBmcm9tICcuL3JvdXRlci1hbGl2ZS1oaWdoc2NvcmUnO1xuXG5leHBvcnQgY2xhc3MgUmVtb3RlUGVlck1ldGVyIGltcGxlbWVudHMgSU1ldGVyIHtcblxuICBwcml2YXRlIHJlYWRvbmx5IF9jbG9jazogSUNsb2NrO1xuICBwcml2YXRlIHJlYWRvbmx5IF9yZW1vdGVQZWVySWQ6IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSBfY29ubmVjdGlvbnNQZXJBZGRyZXNzOiBPYnNlcnZhYmxlTWFwPHN0cmluZywgSUNvbm5lY3Rpb24+O1xuICBwcml2YXRlIF9wdW5pc2hlZENvbm5lY3Rpb25zID0gMDtcbiAgcHJpdmF0ZSBfcHJvdGVjdGVkQ29ubmVjdGlvbnMgPSAwO1xuICBwcml2YXRlIF9yb3V0ZXJBbGl2ZUhpZ2hTY29yZTogUm91dGVyQWxpdmVIaWdoc2NvcmU7XG5cbiAgY29uc3RydWN0b3IoY29ubmVjdGlvbnNQZXJBZGRyZXNzOiBPYnNlcnZhYmxlTWFwPHN0cmluZywgSUNvbm5lY3Rpb24+LCByZW1vdGVQZWVySWQ6IHN0cmluZywgY2xvY2s6IElDbG9jaykge1xuICAgIHRoaXMuX2Nvbm5lY3Rpb25zUGVyQWRkcmVzcyA9IGNvbm5lY3Rpb25zUGVyQWRkcmVzcztcbiAgICB0aGlzLl9yZW1vdGVQZWVySWQgPSByZW1vdGVQZWVySWQ7XG4gICAgdGhpcy5fY2xvY2sgPSBjbG9jaztcbiAgICB0aGlzLl9yb3V0ZXJBbGl2ZUhpZ2hTY29yZSA9IG5ldyBSb3V0ZXJBbGl2ZUhpZ2hzY29yZSgpO1xuICAgIHRoaXMubGlzdGVuT25Db25uZWN0aW9uQ2h1cm4oKTtcbiAgfVxuXG4gIHByaXZhdGUgbGlzdGVuT25Db25uZWN0aW9uQ2h1cm4oKSB7XG4gICAgdGhpcy5fY29ubmVjdGlvbnNQZXJBZGRyZXNzXG4gICAgICAub2JzZXJ2ZSgpXG4gICAgICAucGlwZShcbiAgICAgICAgZmlsdGVyKGV2ID0+IGV2LnR5cGUgPT09IENodXJuVHlwZS5BRERFRClcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKGV2KSA9PiB7XG4gICAgICAgIChldi52YWx1ZS5nZXRNZXRlcigpIGFzIElDb25uZWN0aW9uTWV0ZXIpXG4gICAgICAgICAgLm9ic2VydmUoKVxuICAgICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgICB0aGlzLmxpc3Rlbk9uQ29ubmVjdGlvbk1ldGVyLmJpbmQodGhpcylcbiAgICAgICAgICApO1xuICAgICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGxpc3Rlbk9uQ29ubmVjdGlvbk1ldGVyKGV2ZW50OiBJQ29ubmVjdGlvbk1ldGVyRXZlbnQpIHtcbiAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgIGNhc2UgSUNvbm5lY3Rpb25FdmVudFR5cGUuUFVOSVNIRUQ6XG4gICAgICAgIExvZ2dlci5nZXRMb2dnZXIoZXZlbnQuY29ubmVjdGlvbi5nZXRBZGRyZXNzKCkuZ2V0SWQoKSlcbiAgICAgICAgICAuaW5mbyhgcHVuaXNoIGNvbm5lY3Rpb24gdG8gJHtldmVudC5jb25uZWN0aW9uLmdldEFkZHJlc3MoKS5nZXRJZCgpfWAsIGV2ZW50LmNvbm5lY3Rpb24pO1xuICAgICAgICB0aGlzLl9wdW5pc2hlZENvbm5lY3Rpb25zKys7XG4gICAgICAgIHRoaXMuX2Nsb2NrLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuX3B1bmlzaGVkQ29ubmVjdGlvbnMtLTtcbiAgICAgICAgfSwgQ29uZmlndXJhdGlvbk1hcC5nZXREZWZhdWx0KCkuQ09OTkVDVElPTl9NRVRFUl9QVU5JU0hNRU5UX1RJTUUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgSUNvbm5lY3Rpb25FdmVudFR5cGUuVU5QVU5JU0hFRDpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIElDb25uZWN0aW9uRXZlbnRUeXBlLlBST1RFQ1RFRDpcbiAgICAgICAgdGhpcy5fcHJvdGVjdGVkQ29ubmVjdGlvbnMrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIElDb25uZWN0aW9uRXZlbnRUeXBlLlVOUFJPVEVDVEVEOlxuICAgICAgICB0aGlzLl9wcm90ZWN0ZWRDb25uZWN0aW9ucy0tO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldENvbm5lY3Rpb25UYWJsZSgpOiBDb25uZWN0aW9uVGFibGUge1xuICAgIHJldHVybiBDb25uZWN0aW9uVGFibGUuZnJvbUl0ZXJhYmxlKHRoaXMuX2Nvbm5lY3Rpb25zUGVyQWRkcmVzcy52YWx1ZXMoKSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0TGFzdFNlZW4oKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb25uZWN0aW9uVGFibGUoKVxuICAgICAgLm1hcChcbiAgICAgICAgY29ubmVjdGlvbiA9PiAoY29ubmVjdGlvbi5nZXRNZXRlcigpIGFzIElDb25uZWN0aW9uTWV0ZXIpLmdldExhc3RTZWVuKClcbiAgICAgIClcbiAgICAgIC5yZWR1Y2UoXG4gICAgICAgIChwcmV2aW91cywgY3VycmVudCkgPT4gTWF0aC5taW4ocHJldmlvdXMsIGN1cnJlbnQpLFxuICAgICAgICAwXG4gICAgICApO1xuICB9XG5cbiAgcHVibGljIGxhc3RTZWVuSXNFeHBpcmVkKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHVuRXhwaXJlZENvbm5lY3Rpb24gPSB0aGlzLmdldENvbm5lY3Rpb25UYWJsZSgpXG4gICAgICAuZmluZChcbiAgICAgICAgY29ubmVjdGlvbiA9PiAoY29ubmVjdGlvbi5nZXRNZXRlcigpIGFzIElDb25uZWN0aW9uTWV0ZXIpLmlzTGFzdFNlZW5FeHBpcmVkKCkgPT09IGZhbHNlXG4gICAgICApO1xuICAgIHJldHVybiAhdW5FeHBpcmVkQ29ubmVjdGlvbjtcbiAgfVxuXG4gIC8vIHJldHVybnMgdmFsdWUgYmV0d2VlbiAwIGFuZCAxIHdoaWNoIGlzIHRoZSBhdmVyYWdlIHRxIG9mIGFsbCBjb25uZWN0aW9uc1xuICBwdWJsaWMgZ2V0QXZlcmFnZUNvbm5lY3Rpb25RdWFsaXR5KHJlbW90ZVBlZXJzOiBSZW1vdGVQZWVyVGFibGUpOiBudW1iZXIge1xuICAgIGNvbnN0IG1lYXN1cmVkQ29ubmVjdGlvbnMgPSB0aGlzLmdldENvbm5lY3Rpb25UYWJsZSgpXG4gICAgICAuZmlsdGVyQnlQcm90b2NvbChQcm90b2NvbC5XRUJSVENfREFUQSwgUHJvdG9jb2wuV0VCU09DS0VULCBQcm90b2NvbC5XRUJTT0NLRVRfVU5TRUNVUkUsIFByb3RvY29sLlZJQSlcbiAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTik7XG5cbiAgICBpZiAobWVhc3VyZWRDb25uZWN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBDb25maWd1cmF0aW9uTWFwLmdldERlZmF1bHQoKS5ERUZBVUxUX1FVQUxJVFk7XG4gICAgfVxuXG4gICAgY29uc3QgcXVhbGl0eSA9IG1lYXN1cmVkQ29ubmVjdGlvbnNcbiAgICAgIC5tYXAoXG4gICAgICAgIGNvbm5lY3Rpb24gPT4gY29ubmVjdGlvbi5nZXRNZXRlcigpLmdldFF1YWxpdHkocmVtb3RlUGVlcnMpXG4gICAgICApXG4gICAgICAucmVkdWNlKFxuICAgICAgICAocHJldmlvdXMsIGN1cnJlbnQpID0+IHByZXZpb3VzICsgY3VycmVudCxcbiAgICAgICAgMFxuICAgICAgKTtcbiAgICByZXR1cm4gcXVhbGl0eSAvIG1lYXN1cmVkQ29ubmVjdGlvbnMubGVuZ3RoO1xuICB9XG5cbiAgcHVibGljIGdldEJlc3RDb25uZWN0aW9uUXVhbGl0eShyZW1vdGVQZWVyczogUmVtb3RlUGVlclRhYmxlKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb25uZWN0aW9uVGFibGUoKVxuICAgICAgLm1hcChcbiAgICAgICAgY29ubmVjdGlvbiA9PiBjb25uZWN0aW9uLmdldE1ldGVyKCkuZ2V0UXVhbGl0eShyZW1vdGVQZWVycylcbiAgICAgIClcbiAgICAgIC5yZWR1Y2UoXG4gICAgICAgIChwcmV2aW91cywgY3VycmVudCkgPT4gTWF0aC5tYXgocHJldmlvdXMsIGN1cnJlbnQpLFxuICAgICAgICAwXG4gICAgICApO1xuICB9XG5cbiAgLy8gcmV0dXJucyAxIGlmIHBlZXIgcmVwb3J0ZWQgdG9vIGZldyBjb25uZWN0aW9ucyBhbmQgYXQgbGVhc3Qgb25lIGNvbm5lY3Rpb24gaXMgcHJvdGVjdGVkLCBlbHNlIDBcbiAgcHVibGljIGdldENvbm5lY3Rpb25Qcm90ZWN0aW9uKCk6IDAgfCAxIHtcbiAgICAvLyBUT0RPOiBVc2Ugcm9sZSBzcGVjaWZpYyBjb25maWd1cmF0aW9uIGZvciB0aGlzIHJlbW90ZSBwZWVyXG4gICAgY29uc3QgdW5zYXRpc2ZpZWQgPSB0aGlzLmdldENvbm5lY3Rpb25UYWJsZSgpLmZpbHRlckJ5UHJvdG9jb2woUHJvdG9jb2wuVklBKS5sZW5ndGggPFxuICAgICAgQ29uZmlndXJhdGlvbk1hcC5nZXREZWZhdWx0KCkuRElSRUNUX0NPTk5FQ1RJT05TX0dPQUxfTUlOO1xuICAgIGlmICh1bnNhdGlzZmllZCkge1xuICAgICAgaWYgKHRoaXMuX3Byb3RlY3RlZENvbm5lY3Rpb25zID4gMCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICAvLyBpcyB1c2VkIHRvIGZpbmQgYSBQZWVyWCB3ZXJlIHRoZSBwcm9iYWJpbGl0eSBpcyB0aGUgaGlnaGVzdCB0aGF0IGEgY29ubmVjdGlvbiBjYW4gYmUgb3BlbmVkXG4gIC8vIGJhc2VkIG9uIHRoZSBmZWVkYmFjayBvZiBkaXJlY3QgY29ubmVjdGVkIHBlZXJzIHdobyB3ZXJlIHJlcG9ydGluZyBQZWVyWCBhcyB0aGVpciBkaXJlY3QgbmVpZ2hib3JcbiAgLy8gdGhlIG1vcmUgcGVlcnMgcmVwb3J0aW5nIFBlZXJYIHRoZSBsb3dlc3QgdGhlIHByb2JhYmlsaXR5IHRoYXQgYSBjb25uZWN0aW9uIGNhbiBiZSBvcGVuZWRcbiAgcHVibGljIGdldENvbm5lY3Rpb25TYXR1cmF0aW9uKHJlbW90ZVBlZXJzOiBSZW1vdGVQZWVyVGFibGUpOiBudW1iZXIge1xuICAgIGNvbnN0IHZpYUNvbm5lY3Rpb25Db3VudCA9IHJlbW90ZVBlZXJzXG4gICAgICAuY291bnRDb25uZWN0aW9ucyhcbiAgICAgICAgdGFibGUgPT4gdGFibGVcbiAgICAgICAgICAuZmlsdGVyQnlQcm90b2NvbChQcm90b2NvbC5WSUEpXG4gICAgICAgICAgLmZpbHRlckJ5TG9jYXRpb24odGhpcy5fcmVtb3RlUGVlcklkKVxuICAgICAgKTtcblxuICAgIGNvbnN0IGRpcmVjdENvbm5lY3Rpb25Db3VudCA9IHJlbW90ZVBlZXJzXG4gICAgICAuZmlsdGVyQnlJZCh0aGlzLl9yZW1vdGVQZWVySWQpXG4gICAgICAuY291bnRDb25uZWN0aW9ucyhcbiAgICAgICAgdGFibGUgPT4gdGFibGVcbiAgICAgICAgICAuZmlsdGVyRGlyZWN0RGF0YSgpXG4gICAgICApO1xuXG4gICAgY29uc3QgY29ubmVjdGlvbkNvdW50ID0gdmlhQ29ubmVjdGlvbkNvdW50ICsgZGlyZWN0Q29ubmVjdGlvbkNvdW50O1xuXG4gICAgLy8gVE9ETzogVXNlIHJvbGUgc3BlY2lmaWMgY29uZmlndXJhdGlvbiBmb3IgdGhpcyByZW1vdGUgcGVlclxuICAgIGNvbnN0IGNvbmZpZ3VyYXRpb24gPSBDb25maWd1cmF0aW9uTWFwLmdldERlZmF1bHQoKTtcbiAgICBjb25zdCBzYXR1cmF0aW9uID0gKChjb25maWd1cmF0aW9uLkRJUkVDVF9DT05ORUNUSU9OU19NQVggLSBjb25uZWN0aW9uQ291bnQpIC8gY29uZmlndXJhdGlvbi5ESVJFQ1RfQ09OTkVDVElPTlNfR09BTF9NQVgpO1xuICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCgwLCBzYXR1cmF0aW9uKSwgMSk7XG4gIH1cblxuICAvLyByZXR1cm5zIHZhbHVlIGJldHdlZW4gMCBhbmQgMS4gV2hlbiBubyBjb25uZWN0aW9uIGlzIHB1bmlzaGVkIGl0IHJldHVybnMgMSwgd2hlbiBhbGwgYXJlIHB1bmlzaGVkIDBcbiAgcHVibGljIGdldEF2ZXJhZ2VDb25uZWN0aW9uUHVuaXNobWVudCgpOiBudW1iZXIge1xuICAgIGNvbnN0IGRpcmVjdENvbm5lY3Rpb25zID0gdGhpcy5fY29ubmVjdGlvbnNQZXJBZGRyZXNzXG4gICAgICAuYXNUYWJsZSgpXG4gICAgICAuZmlsdGVyKFxuICAgICAgICBjb25uZWN0aW9uID0+IGNvbm5lY3Rpb25cbiAgICAgICAgICAuZ2V0QWRkcmVzcygpXG4gICAgICAgICAgLmlzUHJvdG9jb2woUHJvdG9jb2wuV0VCUlRDX0RBVEEsIFByb3RvY29sLldFQlNPQ0tFVF9VTlNFQ1VSRSwgUHJvdG9jb2wuV0VCU09DS0VUKVxuICAgICAgKTtcbiAgICBjb25zdCBwdW5pc2hlZENvbm5lY3Rpb25Db3VudCA9IGRpcmVjdENvbm5lY3Rpb25zLmxlbmd0aCAtIHRoaXMuX3B1bmlzaGVkQ29ubmVjdGlvbnM7XG4gICAgaWYgKGRpcmVjdENvbm5lY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiBwdW5pc2hlZENvbm5lY3Rpb25Db3VudCAvIGRpcmVjdENvbm5lY3Rpb25zLmxlbmd0aDtcbiAgfVxuXG4gIC8vIHJldHVybnMgdGhlIHF1YWxpdHkgb2YgdGhpcyBwZWVyIHRoYXQgaXMgcmVwb3J0ZWQgdG8gb3VyIGRpcmVjdCBjb25uZWN0aW9uc1xuICBwdWJsaWMgZ2V0UGVlclVwZGF0ZVF1YWxpdHkocmVtb3RlUGVlcnM6IFJlbW90ZVBlZXJUYWJsZSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QmVzdENvbm5lY3Rpb25RdWFsaXR5KHJlbW90ZVBlZXJzKSAqIHRoaXMuZ2V0Q29ubmVjdGlvblNhdHVyYXRpb24ocmVtb3RlUGVlcnMpICogdGhpcy5nZXRSb3V0ZXJMaW5rUXVhbGl0eSgpO1xuICB9XG5cbiAgcHVibGljIGdldEF2ZXJhZ2VSb3V0ZXJMaW5rUXVhbGl0eShyZW1vdGVQZWVyczogUmVtb3RlUGVlclRhYmxlKTogbnVtYmVyIHtcbiAgICBjb25zdCBjb25uZWN0aW9uVGFibGU6IENvbm5lY3Rpb25UYWJsZSA9IENvbm5lY3Rpb25UYWJsZS5mcm9tSXRlcmFibGUodGhpcy5fY29ubmVjdGlvbnNQZXJBZGRyZXNzLnZhbHVlcygpKTtcblxuICAgIGNvbnN0IGRpcmVjdENvbm5lY3Rpb25zID0gY29ubmVjdGlvblRhYmxlLmZpbHRlckRpcmVjdERhdGEoKTtcblxuICAgIGlmIChkaXJlY3RDb25uZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRSb3V0ZXJMaW5rUXVhbGl0eSgpO1xuICAgIH1cblxuICAgIGNvbnN0IHZpYUNvbm5lY3Rpb25zID0gY29ubmVjdGlvblRhYmxlLmZpbHRlckJ5UHJvdG9jb2woUHJvdG9jb2wuVklBKTtcblxuICAgIGlmICh2aWFDb25uZWN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHJldHVybiB2aWFDb25uZWN0aW9uc1xuICAgICAgLm1hcChcbiAgICAgICAgKGNvbm5lY3Rpb246IFZpYUNvbm5lY3Rpb24pID0+XG4gICAgICAgICAgKGNvbm5lY3Rpb24uZ2V0TWV0ZXIoKSBhcyBWaWFDb25uZWN0aW9uTWV0ZXIpLmdldFJvdXRlckxpbmtRdWFsaXR5KHJlbW90ZVBlZXJzKVxuICAgICAgKVxuICAgICAgLnJlZHVjZShcbiAgICAgICAgKHByZXZpb3VzOiBudW1iZXIsIGN1cnJlbnQ6IG51bWJlcikgPT4gcHJldmlvdXMgKyBjdXJyZW50LCAwXG4gICAgICApIC8gdmlhQ29ubmVjdGlvbnMubGVuZ3RoO1xuICB9XG5cbiAgcHVibGljIGdldFJvdXRlckxpbmtRdWFsaXR5KCk6IG51bWJlciB7XG4gICAgY29uc3Qgcm91dGVyTGlua1F1YWxpdHkgPSB0aGlzLmdldFJvdXRlckFsaXZlSGlnaFNjb3JlKCkuZ2V0QXZlcmFnZVJhbmtpbmcoKTtcbiAgICBpZiAocm91dGVyTGlua1F1YWxpdHkgPT09IDApIHtcbiAgICAgIHJldHVybiBDb25maWd1cmF0aW9uTWFwLmdldERlZmF1bHQoKS5ERUZBVUxUX1FVQUxJVFk7XG4gICAgfVxuICAgIHJldHVybiByb3V0ZXJMaW5rUXVhbGl0eTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRBY3F1aXNpdGlvblF1YWxpdHkocmVtb3RlUGVlcnM6IFJlbW90ZVBlZXJUYWJsZSk6IG51bWJlciB7XG4gICAgY29uc3Qgcm91dGVyUXVhbGl0eSA9IHRoaXMuZ2V0QXZlcmFnZVJvdXRlckxpbmtRdWFsaXR5KHJlbW90ZVBlZXJzKTtcbiAgICBjb25zdCBjb25uZWN0aW9uUXVhbGl0eSA9IHRoaXMuZ2V0QXZlcmFnZUNvbm5lY3Rpb25RdWFsaXR5KHJlbW90ZVBlZXJzKTtcbiAgICBjb25zdCBzYXR1cmF0aW9uID0gdGhpcy5nZXRDb25uZWN0aW9uU2F0dXJhdGlvbihyZW1vdGVQZWVycyk7XG4gICAgcmV0dXJuIHJvdXRlclF1YWxpdHkgKiBjb25uZWN0aW9uUXVhbGl0eSAqIHNhdHVyYXRpb247XG4gIH1cblxuICBwdWJsaWMgZ2V0Um91dGVyQWxpdmVIaWdoU2NvcmUoKTogUm91dGVyQWxpdmVIaWdoc2NvcmUge1xuICAgIHJldHVybiB0aGlzLl9yb3V0ZXJBbGl2ZUhpZ2hTY29yZTtcbiAgfVxuXG4gIC8qXG4gICAqIFRPRE9cbiAgICogaXMgaXQgYSBnb29kIGlkZWEgdG8gaGF2ZSB0aGUgcHJvdGVjdGlvbiBxdWFsaXR5IGFrYSBuZXdiaWUgYm9udXMgYXMgYSBxdWFsaXR5IHZlY3Rvcj9cbiAgICogSXQgaXMgZ29vZCB0byBwcm90ZWN0IHRoZSBwZWVyIHNvIHNoZSBpcyBub3QgY2xlYW5lZCB1cCBpbW1lZGlhdGVseSBidXQgbWF5YmUgbm90IGFzIGEgZ2VuZXJhbCBxdWFsaXR5XG4gICAqIGJlY2F1c2UgaXQgb25seSBoYXMgdGhlIG1lYW5pbmcgdGhhdCBoZSBpcyBuZXdcbiAgICovXG4gIHB1YmxpYyBnZXRRdWFsaXR5KHJlbW90ZVBlZXJzOiBSZW1vdGVQZWVyVGFibGUpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmdldEF2ZXJhZ2VDb25uZWN0aW9uUXVhbGl0eShyZW1vdGVQZWVycykgKiAodGhpcy5nZXRBdmVyYWdlQ29ubmVjdGlvblB1bmlzaG1lbnQoKSArIHRoaXMuZ2V0Q29ubmVjdGlvblByb3RlY3Rpb24oKSk7XG4gIH1cblxuICBwdWJsaWMgc3RhcnQoKTogdm9pZCB7XG4gIH1cblxuICBwdWJsaWMgc3RvcCgpOiB2b2lkIHtcbiAgICB0aGlzLl9jbG9jay5zdG9wKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7VGFibGV9IGZyb20gJy4vdGFibGUnO1xuXG5leHBvcnQgY2xhc3MgVGFibGVWaWV3PFY+IGV4dGVuZHMgVGFibGU8ViwgVGFibGVWaWV3PFY+PiB7XG59XG4iLCJpbXBvcnQge1N1YmplY3R9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtDaHVyblR5cGV9IGZyb20gJy4uL2ludGVyZmFjZSc7XG5pbXBvcnQge1RhYmxlVmlld30gZnJvbSAnLi90YWJsZS12aWV3JztcblxuZXhwb3J0IGludGVyZmFjZSBJT2JzZXJ2YWJsZU1hcEV2ZW50PFY+IHtcbiAgdHlwZTogQ2h1cm5UeXBlO1xuICB2YWx1ZTogVjtcbn1cblxuZXhwb3J0IGNsYXNzIE9ic2VydmFibGVNYXA8SywgVj4gZXh0ZW5kcyBNYXA8SywgVj4ge1xuICBwcml2YXRlIHJlYWRvbmx5IF9zdWJqZWN0OiBTdWJqZWN0PElPYnNlcnZhYmxlTWFwRXZlbnQ8Vj4+O1xuXG4gIGNvbnN0cnVjdG9yKGVudHJpZXM/OiBSZWFkb25seUFycmF5PFtLLCBWXT4gfCBudWxsKSB7XG4gICAgc3VwZXIoZW50cmllcyk7XG4gICAgdGhpcy5fc3ViamVjdCA9IG5ldyBTdWJqZWN0KCk7XG4gIH1cblxuICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7XG4gICAgQXJyYXkuZnJvbSh0aGlzLnZhbHVlcygpKVxuICAgICAgLmZvckVhY2goXG4gICAgICAgICh2YWx1ZTogVikgPT5cbiAgICAgICAgICB0aGlzLl9zdWJqZWN0Lm5leHQoe1xuICAgICAgICAgICAgdHlwZTogQ2h1cm5UeXBlLlJFTU9WRUQsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICB9KVxuICAgICAgKTtcbiAgICBzdXBlci5jbGVhcigpO1xuICB9XG5cbiAgcHVibGljIGRlbGV0ZShrZXk6IEspOiBib29sZWFuIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0KGtleSk7XG4gICAgY29uc3Qgc3VjY2VzcyA9IHN1cGVyLmRlbGV0ZShrZXkpO1xuICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICB0aGlzLl9zdWJqZWN0Lm5leHQoe1xuICAgICAgICB0eXBlOiBDaHVyblR5cGUuUkVNT1ZFRCxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHN1Y2Nlc3M7XG4gIH1cblxuICBwdWJsaWMgc2V0KGtleTogSywgdmFsdWU6IFYpOiB0aGlzIHtcbiAgICBjb25zdCBzdWNjZXNzID0gc3VwZXIuc2V0KGtleSwgdmFsdWUpO1xuICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICB0aGlzLl9zdWJqZWN0Lm5leHQoe1xuICAgICAgICB0eXBlOiBDaHVyblR5cGUuQURERUQsXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzdWNjZXNzO1xuICB9XG5cbiAgcHVibGljIGFzVGFibGUoKTogVGFibGVWaWV3PFY+IHtcbiAgICByZXR1cm4gVGFibGVWaWV3LmZyb21JdGVyYWJsZSh0aGlzLnZhbHVlcygpKTtcbiAgfVxuXG4gIHB1YmxpYyBrZXlzQXNMaXN0KCk6IEFycmF5PEs+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmtleXMoKSk7XG4gIH1cblxuICBwdWJsaWMgdmFsdWVzQXNMaXN0KCk6IEFycmF5PFY+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnZhbHVlcygpKTtcbiAgfVxuXG4gIHB1YmxpYyBlbnRyaWVzQXNMaXN0KCk6IEFycmF5PFtLLCBWXT4ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuZW50cmllcygpKTtcbiAgfVxuXG4gIHB1YmxpYyBvYnNlcnZlKCk6IFN1YmplY3Q8SU9ic2VydmFibGVNYXBFdmVudDxWPj4ge1xuICAgIHJldHVybiB0aGlzLl9zdWJqZWN0O1xuICB9XG5cbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5fc3ViamVjdC5jb21wbGV0ZSgpO1xuICB9XG59XG4iLCJpbXBvcnQge1N1YmplY3R9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtJQ2xvY2t9IGZyb20gJy4uL2Nsb2NrL2ludGVyZmFjZSc7XG5pbXBvcnQge0Nvbm5lY3Rpb25UYWJsZX0gZnJvbSAnLi4vY29ubmVjdGlvbi9jb25uZWN0aW9uLXRhYmxlJztcbmltcG9ydCB7Q29ubmVjdGlvblN0YXRlLCBJQ29ubmVjdGlvbiwgSUNvbm5lY3Rpb25DaHVybkV2ZW50LCBJQ29ubmVjdGlvbk9wdGlvbnMsIFByb3RvY29sfSBmcm9tICcuLi9jb25uZWN0aW9uL2ludGVyZmFjZSc7XG5pbXBvcnQge1Byb3RvY29sQ29ubmVjdGlvbk1hcH0gZnJvbSAnLi4vY29ubmVjdGlvbi9wcm90b2NvbC1tYXAnO1xuaW1wb3J0IHtDaHVyblR5cGV9IGZyb20gJy4uL2ludGVyZmFjZSc7XG5pbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi4vbG9nZ2VyL2xvZ2dlcic7XG5pbXBvcnQge0FkZHJlc3N9IGZyb20gJy4uL21lc3NhZ2UvYWRkcmVzcyc7XG5pbXBvcnQge0lNZXNzYWdlfSBmcm9tICcuLi9tZXNzYWdlL2ludGVyZmFjZSc7XG5pbXBvcnQge1JlbW90ZVBlZXJNZXRlcn0gZnJvbSAnLi4vbWV0ZXJpbmcvcmVtb3RlLXBlZXItbWV0ZXInO1xuaW1wb3J0IHtSb2xlVHlwZX0gZnJvbSAnLi4vcm9sZS9pbnRlcmZhY2UnO1xuaW1wb3J0IHtPYnNlcnZhYmxlTWFwfSBmcm9tICcuLi91dGlsL29ic2VydmFibGUtbWFwJztcbmltcG9ydCB7UmVtb3RlUGVlclRhYmxlfSBmcm9tICcuL3JlbW90ZS1wZWVyLXRhYmxlJztcblxuZXhwb3J0IGNsYXNzIFJlbW90ZVBlZXIge1xuXG4gIHByaXZhdGUgX2lkOiBzdHJpbmc7XG4gIHByaXZhdGUgX2Nsb2NrOiBJQ2xvY2s7XG4gIHByaXZhdGUgX21ldGVyOiBSZW1vdGVQZWVyTWV0ZXI7XG4gIHByaXZhdGUgX21pdG9zaXNJZDogc3RyaW5nO1xuICBwcml2YXRlIF9wdWJsaWNLZXk6IHN0cmluZztcbiAgcHJpdmF0ZSBfcm9sZVR5cGVzOiBBcnJheTxSb2xlVHlwZT47XG4gIHByaXZhdGUgcmVhZG9ubHkgX2Nvbm5lY3Rpb25zUGVyQWRkcmVzczogT2JzZXJ2YWJsZU1hcDxzdHJpbmcsIElDb25uZWN0aW9uPjtcbiAgcHJpdmF0ZSByZWFkb25seSBfb3BlbkNvbm5lY3Rpb25Qcm9taXNlczogTWFwPElDb25uZWN0aW9uLCBQcm9taXNlPFJlbW90ZVBlZXI+PjtcbiAgcHJpdmF0ZSByZWFkb25seSBfY29ubmVjdGlvbkNodXJuU3ViamVjdDogU3ViamVjdDxJQ29ubmVjdGlvbkNodXJuRXZlbnQ+O1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBtaXRvc2lzSWQ6IHN0cmluZywgY2xvY2s6IElDbG9jaykge1xuICAgIHRoaXMuX2lkID0gaWQ7XG4gICAgdGhpcy5fbWl0b3Npc0lkID0gbWl0b3Npc0lkO1xuICAgIHRoaXMuX2Nsb2NrID0gY2xvY2s7XG4gICAgdGhpcy5fcm9sZVR5cGVzID0gW1JvbGVUeXBlLlBFRVJdO1xuICAgIHRoaXMuX2Nvbm5lY3Rpb25zUGVyQWRkcmVzcyA9IG5ldyBPYnNlcnZhYmxlTWFwKCk7XG4gICAgdGhpcy5fb3BlbkNvbm5lY3Rpb25Qcm9taXNlcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLl9jb25uZWN0aW9uQ2h1cm5TdWJqZWN0ID0gbmV3IFN1YmplY3QoKTtcbiAgICB0aGlzLl9tZXRlciA9IG5ldyBSZW1vdGVQZWVyTWV0ZXIodGhpcy5fY29ubmVjdGlvbnNQZXJBZGRyZXNzLCB0aGlzLl9pZCwgY2xvY2suZm9yaygpKTtcbiAgfVxuXG4gIHByaXZhdGUgbGlzdGVuT25Db25uZWN0aW9uQ2hhbmdlcyhjb25uZWN0aW9uOiBJQ29ubmVjdGlvbik6IHZvaWQge1xuICAgIGNvbm5lY3Rpb24ub2JzZXJ2ZVN0YXRlQ2hhbmdlKCkuc3Vic2NyaWJlKChldikgPT4ge1xuICAgICAgc3dpdGNoIChldikge1xuICAgICAgICBjYXNlIENvbm5lY3Rpb25TdGF0ZS5DTE9TRUQ6XG4gICAgICAgICAgdGhpcy5jbGVhblVwUm91dGVyRm9yTGFzdERpcmVjdChjb25uZWN0aW9uLmdldEFkZHJlc3MoKSk7XG4gICAgICAgICAgdGhpcy5fY29ubmVjdGlvbnNQZXJBZGRyZXNzLmRlbGV0ZShjb25uZWN0aW9uLmdldEFkZHJlc3MoKS50b1N0cmluZygpKTtcbiAgICAgICAgICB0aGlzLl9jb25uZWN0aW9uQ2h1cm5TdWJqZWN0Lm5leHQoe2Nvbm5lY3Rpb246IGNvbm5lY3Rpb24sIHR5cGU6IENodXJuVHlwZS5SRU1PVkVEfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBMb2dnZXIuZ2V0TG9nZ2VyKHRoaXMuX21pdG9zaXNJZClcbiAgICAgICAgLmRlYnVnKGAke2Nvbm5lY3Rpb24uZ2V0QWRkcmVzcygpLmdldFByb3RvY29sKCl9IGNvbm5lY3Rpb24gdG8gJHtjb25uZWN0aW9uLmdldEFkZHJlc3MoKS5nZXRJZCgpfSAke2V2LnRvU3RyaW5nKCl9YCwgY29ubmVjdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNsZWFuVXBSb3V0ZXJGb3JMYXN0RGlyZWN0KGFkZHJlc3M6IEFkZHJlc3MpIHtcbiAgICBpZiAoYWRkcmVzcy5pc1Byb3RvY29sKFByb3RvY29sLldFQlJUQ19EQVRBKSkge1xuICAgICAgY29uc3QgaGFzRGlyZWN0Q29uZW5jdGlvbnMgPSB0aGlzLmdldENvbm5lY3Rpb25UYWJsZSgpLmZpbHRlckRpcmVjdERhdGEoKS5sZW5ndGggPiAwO1xuICAgICAgaWYgKCFoYXNEaXJlY3RDb25lbmN0aW9ucykge1xuICAgICAgICB0aGlzLmdldE1ldGVyKCkuZ2V0Um91dGVyQWxpdmVIaWdoU2NvcmUoKS5yZXNldCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgb3BlbkNvbm5lY3Rpb24oY29ubmVjdGlvbjogSUNvbm5lY3Rpb24pOiBQcm9taXNlPFJlbW90ZVBlZXI+IHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuX29wZW5Db25uZWN0aW9uUHJvbWlzZXMuZ2V0KGNvbm5lY3Rpb24pO1xuICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgc3dpdGNoIChjb25uZWN0aW9uLmdldFN0YXRlKCkpIHtcbiAgICAgICAgY2FzZSBDb25uZWN0aW9uU3RhdGUuT1BFTjpcbiAgICAgICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENvbm5lY3Rpb25TdGF0ZS5DTE9TSU5HOlxuICAgICAgICBjYXNlIENvbm5lY3Rpb25TdGF0ZS5FUlJPUjpcbiAgICAgICAgICBwcm9taXNlID0gUHJvbWlzZS5yZWplY3QoYHdpbGwgbm90IGNvbm5lY3QgdG8gY29ubmVjdGlvbiBpbiAke2Nvbm5lY3Rpb24uZ2V0U3RhdGUoKX1gKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDb25uZWN0aW9uU3RhdGUuQ0xPU0VEOlxuICAgICAgICAgIHByb21pc2UgPSBuZXcgUHJvbWlzZTxSZW1vdGVQZWVyPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25uZWN0aW9uLm9wZW4oKVxuICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmNhdGNoKChyZWFzb246IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3BlbkNvbm5lY3Rpb25Qcm9taXNlcy5kZWxldGUoY29ubmVjdGlvbik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuX29wZW5Db25uZWN0aW9uUHJvbWlzZXMuc2V0KGNvbm5lY3Rpb24sIHByb21pc2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignb3BlbmluZyBjb25uZWN0aW9uIHNob3VsZCBiZSBpbiBtYXAnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUNvbm5lY3Rpb24oYWRkcmVzczogQWRkcmVzcywgb3B0aW9ucz86IElDb25uZWN0aW9uT3B0aW9ucyk6IElDb25uZWN0aW9uIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLm1pdG9zaXNJZCA9IG9wdGlvbnMubWl0b3Npc0lkIHx8IHRoaXMuX21pdG9zaXNJZDtcblxuICAgIGNvbnN0IGNvbm5lY3Rpb25DbGFzcyA9IFByb3RvY29sQ29ubmVjdGlvbk1hcC5nZXQoYWRkcmVzcy5nZXRQcm90b2NvbCgpKTtcbiAgICBpZiAoIWNvbm5lY3Rpb25DbGFzcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBwcm90b2NvbCAke2FkZHJlc3MuZ2V0UHJvdG9jb2woKX1gKTtcbiAgICB9XG4gICAgY29uc3QgY29ubmVjdGlvbiA9IG5ldyBjb25uZWN0aW9uQ2xhc3MoYWRkcmVzcywgdGhpcy5fY2xvY2suZm9yaygpLCBvcHRpb25zKTtcbiAgICB0aGlzLl9jb25uZWN0aW9uc1BlckFkZHJlc3Muc2V0KGFkZHJlc3MudG9TdHJpbmcoKSwgY29ubmVjdGlvbik7XG4gICAgdGhpcy5fY29ubmVjdGlvbkNodXJuU3ViamVjdC5uZXh0KHtjb25uZWN0aW9uOiBjb25uZWN0aW9uLCB0eXBlOiBDaHVyblR5cGUuQURERUR9KTtcbiAgICB0aGlzLmxpc3Rlbk9uQ29ubmVjdGlvbkNoYW5nZXMoY29ubmVjdGlvbik7XG4gICAgcmV0dXJuIGNvbm5lY3Rpb247XG4gIH1cblxuICBwdWJsaWMgZ2V0SWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5faWQ7XG4gIH1cblxuICBwdWJsaWMgZ2V0Um9sZXMoKTogQXJyYXk8Um9sZVR5cGU+IHtcbiAgICByZXR1cm4gdGhpcy5fcm9sZVR5cGVzO1xuICB9XG5cbiAgcHVibGljIHNldFJvbGVzKHJvbGVUeXBlczogQXJyYXk8Um9sZVR5cGU+KTogdm9pZCB7XG4gICAgdGhpcy5fcm9sZVR5cGVzID0gcm9sZVR5cGVzO1xuICB9XG5cbiAgcHVibGljIGdldFB1YmxpY0tleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9wdWJsaWNLZXk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q29ubmVjdGlvblRhYmxlKCk6IENvbm5lY3Rpb25UYWJsZSB7XG4gICAgcmV0dXJuIENvbm5lY3Rpb25UYWJsZS5mcm9tSXRlcmFibGUoXG4gICAgICB0aGlzLl9jb25uZWN0aW9uc1BlckFkZHJlc3MudmFsdWVzKClcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGdldE1ldGVyKCk6IFJlbW90ZVBlZXJNZXRlciB7XG4gICAgcmV0dXJuIHRoaXMuX21ldGVyO1xuICB9XG5cbiAgcHVibGljIGdldFF1YWxpdHkocmVtb3RlUGVlcnM6IFJlbW90ZVBlZXJUYWJsZSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX21ldGVyLmdldFF1YWxpdHkocmVtb3RlUGVlcnMpO1xuICB9XG5cbiAgcHVibGljIGdldENvbm5lY3Rpb25Gb3JBZGRyZXNzKGFkZHJlc3M6IEFkZHJlc3MpOiBJQ29ubmVjdGlvbiB7XG4gICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25zUGVyQWRkcmVzcy5nZXQoYWRkcmVzcy50b1N0cmluZygpKTtcbiAgfVxuXG4gIHB1YmxpYyBoYXNSb2xlKC4uLnJvbGVUeXBlczogQXJyYXk8Um9sZVR5cGU+KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX3JvbGVUeXBlc1xuICAgICAgLmZpbHRlcihyb2xlVHlwZSA9PiByb2xlVHlwZXMuaW5kZXhPZihyb2xlVHlwZSkgPj0gMClcbiAgICAgIC5sZW5ndGggPiAwO1xuICB9XG5cbiAgcHVibGljIGNvbm5lY3QoYWRkcmVzczogQWRkcmVzcywgb3B0aW9ucz86IElDb25uZWN0aW9uT3B0aW9ucyk6IFByb21pc2U8UmVtb3RlUGVlcj4ge1xuICAgIGNvbnN0IHB1bmlzaFZhbHVlID0gdGhpcy5nZXRNZXRlcigpLmdldEF2ZXJhZ2VDb25uZWN0aW9uUHVuaXNobWVudCgpO1xuICAgIGlmIChwdW5pc2hWYWx1ZSA8IDApIHtcbiAgICAgIExvZ2dlci5nZXRMb2dnZXIodGhpcy5fbWl0b3Npc0lkKVxuICAgICAgICAud2FybihgcHVuaXNoIHZhbHVlIG9mICR7dGhpcy5nZXRJZCgpfSBpcyAke3B1bmlzaFZhbHVlfWApO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBjYW4gbm90IGNvbm5lY3QgdG8gcGVlciAke3RoaXMuZ2V0SWQoKX0gYmVjYXVzZSBpdHMgcHVuaXNoIHZhbHVlIGlzICR7cHVuaXNoVmFsdWV9YCk7XG4gICAgfVxuICAgIGxldCBjb25uZWN0aW9uID0gdGhpcy5fY29ubmVjdGlvbnNQZXJBZGRyZXNzLmdldChhZGRyZXNzLnRvU3RyaW5nKCkpO1xuICAgIGlmICghY29ubmVjdGlvbikge1xuICAgICAgY29ubmVjdGlvbiA9IHRoaXMuY3JlYXRlQ29ubmVjdGlvbihhZGRyZXNzLCBvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMub3BlbkNvbm5lY3Rpb24oY29ubmVjdGlvbikuY2F0Y2goXG4gICAgICByZWFzb24gPT4ge1xuICAgICAgICBMb2dnZXIuZ2V0TG9nZ2VyKHRoaXMuX21pdG9zaXNJZClcbiAgICAgICAgICAuZXJyb3IoYGNhbiBub3Qgb3BlbiBjb25uZWN0aW9uIHRvICR7YWRkcmVzcy5nZXRJZCgpfWAsIHJlYXNvbik7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICAgICAgfVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgb2JzZXJ2ZUNodXJuKCk6IFN1YmplY3Q8SUNvbm5lY3Rpb25DaHVybkV2ZW50PiB7XG4gICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25DaHVyblN1YmplY3Q7XG4gIH1cblxuICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBpZDogdGhpcy5faWQsXG4gICAgICAgIHJvbGVzOiB0aGlzLl9yb2xlVHlwZXMsXG4gICAgICAgIGNvbm5lY3Rpb25zOiB0aGlzLl9jb25uZWN0aW9uc1BlckFkZHJlc3Mua2V5c0FzTGlzdCgpXG4gICAgICB9LFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgMlxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLl9tZXRlci5zdG9wKCk7XG4gICAgdGhpcy5fY29ubmVjdGlvbnNQZXJBZGRyZXNzLmZvckVhY2goXG4gICAgICBjb25uZWN0aW9uID0+IGNvbm5lY3Rpb24uY2xvc2UoKVxuICAgICk7XG4gICAgdGhpcy5vYnNlcnZlQ2h1cm4oKS5zdWJzY3JpYmUoXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLl9jb25uZWN0aW9uc1BlckFkZHJlc3Muc2l6ZSA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25DaHVyblN1YmplY3QuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5fY2xvY2suc3RvcCgpO1xuICB9XG59XG4iLCJpbXBvcnQge0Nvbm5lY3Rpb25UYWJsZX0gZnJvbSAnLi4vY29ubmVjdGlvbi9jb25uZWN0aW9uLXRhYmxlJztcbmltcG9ydCB7UmVtb3RlUGVlck1ldGVyfSBmcm9tICcuLi9tZXRlcmluZy9yZW1vdGUtcGVlci1tZXRlcic7XG5pbXBvcnQge1JvbGVUeXBlfSBmcm9tICcuLi9yb2xlL2ludGVyZmFjZSc7XG5pbXBvcnQge1RhYmxlfSBmcm9tICcuLi91dGlsL3RhYmxlJztcbmltcG9ydCB7UmVtb3RlUGVlcn0gZnJvbSAnLi9yZW1vdGUtcGVlcic7XG5cbmV4cG9ydCBjbGFzcyBSZW1vdGVQZWVyVGFibGUgZXh0ZW5kcyBUYWJsZTxSZW1vdGVQZWVyLCBSZW1vdGVQZWVyVGFibGU+IHtcblxuICBwdWJsaWMgZmlsdGVyQ29ubmVjdGlvbnMoY2FsbGJhY2tmbjogKHRhYmxlOiBDb25uZWN0aW9uVGFibGUpID0+IENvbm5lY3Rpb25UYWJsZSk6IFJlbW90ZVBlZXJUYWJsZSB7XG4gICAgcmV0dXJuIG5ldyBSZW1vdGVQZWVyVGFibGUoXG4gICAgICB0aGlzLl92YWx1ZXMuZmlsdGVyKFxuICAgICAgICBwZWVyID0+XG4gICAgICAgICAgY2FsbGJhY2tmbihwZWVyLmdldENvbm5lY3Rpb25UYWJsZSgpKS5sZW5ndGggPiAwXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBhZ2dyZWdhdGVDb25uZWN0aW9ucyhjYWxsYmFja2ZuOiAodGFibGU6IENvbm5lY3Rpb25UYWJsZSkgPT4gQ29ubmVjdGlvblRhYmxlKTogQ29ubmVjdGlvblRhYmxlIHtcbiAgICByZXR1cm4gbmV3IENvbm5lY3Rpb25UYWJsZShcbiAgICAgIHRoaXMuX3ZhbHVlc1xuICAgICAgICAubWFwKFxuICAgICAgICAgIHJlbW90ZVBlZXIgPT4gcmVtb3RlUGVlci5nZXRDb25uZWN0aW9uVGFibGUoKVxuICAgICAgICApXG4gICAgICAgIC5tYXAoXG4gICAgICAgICAgY29ubmVjdGlvblRhYmxlID0+IGNhbGxiYWNrZm4oY29ubmVjdGlvblRhYmxlKS5hc0FycmF5KClcbiAgICAgICAgKVxuICAgICAgICAucmVkdWNlKFxuICAgICAgICAgIChwcmV2aW91cywgY3VycmVudCkgPT4gcHJldmlvdXMuY29uY2F0KGN1cnJlbnQpXG4gICAgICAgICAgLCBbXVxuICAgICAgICApXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBmaWx0ZXJCeVJvbGUoLi4ucm9sZXM6IEFycmF5PFJvbGVUeXBlPik6IFJlbW90ZVBlZXJUYWJsZSB7XG4gICAgcmV0dXJuIG5ldyBSZW1vdGVQZWVyVGFibGUoXG4gICAgICB0aGlzLl92YWx1ZXMuZmlsdGVyKFxuICAgICAgICBwZWVyID0+XG4gICAgICAgICAgcGVlci5oYXNSb2xlKC4uLnJvbGVzKVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgZmlsdGVySXNQcm90ZWN0ZWQoaXNQcm90ZWN0ZWQ6IGJvb2xlYW4pOiBSZW1vdGVQZWVyVGFibGUge1xuICAgIHJldHVybiBuZXcgUmVtb3RlUGVlclRhYmxlKFxuICAgICAgdGhpcy5fdmFsdWVzLmZpbHRlcihcbiAgICAgICAgcGVlciA9PlxuICAgICAgICAgIHBlZXIuZ2V0TWV0ZXIoKS5nZXRDb25uZWN0aW9uUHJvdGVjdGlvbigpID09PSAoaXNQcm90ZWN0ZWQgPyAxIDogMClcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGZpbHRlckJ5SWQocGVlcklkOiBzdHJpbmcpOiBSZW1vdGVQZWVyVGFibGUge1xuICAgIHJldHVybiBuZXcgUmVtb3RlUGVlclRhYmxlKFxuICAgICAgdGhpcy5fdmFsdWVzLmZpbHRlcihcbiAgICAgICAgcGVlciA9PiBwZWVyLmdldElkKCkgPT09IHBlZXJJZFxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgc29ydEJ5UXVhbGl0eShjYWxsYmFja2ZuOiAobWV0ZXI6IFJlbW90ZVBlZXJNZXRlcikgPT4gbnVtYmVyID0gbWV0ZXIgPT4gbWV0ZXIuZ2V0UXVhbGl0eSh0aGlzKSk6IFJlbW90ZVBlZXJUYWJsZSB7XG4gICAgcmV0dXJuIHRoaXMuc29ydEJ5KHBlZXIgPT4gY2FsbGJhY2tmbihwZWVyLmdldE1ldGVyKCkpKTtcbiAgfVxuXG4gIHB1YmxpYyBjb3VudENvbm5lY3Rpb25zKGNhbGxiYWNrZm46ICh0YWJsZTogQ29ubmVjdGlvblRhYmxlKSA9PiBDb25uZWN0aW9uVGFibGUgPSB0YWJsZSA9PiB0YWJsZSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlc1xuICAgICAgLm1hcChcbiAgICAgICAgcGVlciA9PiBjYWxsYmFja2ZuKHBlZXIuZ2V0Q29ubmVjdGlvblRhYmxlKCkpLmxlbmd0aFxuICAgICAgKVxuICAgICAgLnJlZHVjZShcbiAgICAgICAgKHByZXZpb3VzLCBjdXJyZW50KSA9PiBwcmV2aW91cyArIGN1cnJlbnQsXG4gICAgICAgIDBcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgc29ydEJ5SWQoKTogUmVtb3RlUGVlclRhYmxlIHtcbiAgICByZXR1cm4gdGhpcy5zb3J0QnkoXG4gICAgICBwZWVyID0+IHBlZXIuZ2V0SWQoKVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoXG4gICAgICB0aGlzLl92YWx1ZXNcbiAgICAgICAgLm1hcChwZWVyID0+IHBlZXIuZ2V0SWQoKSksXG4gICAgICB1bmRlZmluZWQsXG4gICAgICAyXG4gICAgKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtTdWJqZWN0fSBmcm9tICdyeGpzJztcbmltcG9ydCB7ZmlsdGVyfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQge0lDbG9ja30gZnJvbSAnLi4vY2xvY2svaW50ZXJmYWNlJztcbmltcG9ydCB7Q29uZmlndXJhdGlvbiwgQ29uZmlndXJhdGlvbk1hcH0gZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5pbXBvcnQge1xuICBDb25uZWN0aW9uU3RhdGUsXG4gIElDb25uZWN0aW9uLFxuICBJQ29ubmVjdGlvbkNodXJuRXZlbnQsXG4gIElDb25uZWN0aW9uT3B0aW9ucyxcbiAgSVZpYUNvbm5lY3Rpb25PcHRpb25zLFxuICBJV2ViUlRDQ29ubmVjdGlvbk9wdGlvbnMsXG4gIFByb3RvY29sXG59IGZyb20gJy4uL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcbmltcG9ydCB7V2ViUlRDQ29ubmVjdGlvbn0gZnJvbSAnLi4vY29ubmVjdGlvbi93ZWJydGMnO1xuaW1wb3J0IHtDaHVyblR5cGV9IGZyb20gJy4uL2ludGVyZmFjZSc7XG5pbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi4vbG9nZ2VyL2xvZ2dlcic7XG5pbXBvcnQge0FkZHJlc3N9IGZyb20gJy4uL21lc3NhZ2UvYWRkcmVzcyc7XG5pbXBvcnQge0Nvbm5lY3Rpb25OZWdvdGlhdGlvbiwgQ29ubmVjdGlvbk5lZ290aWF0aW9uVHlwZX0gZnJvbSAnLi4vbWVzc2FnZS9jb25uZWN0aW9uLW5lZ290aWF0aW9uJztcbmltcG9ydCB7SU1lc3NhZ2UsIE1lc3NhZ2VTdWJqZWN0fSBmcm9tICcuLi9tZXNzYWdlL2ludGVyZmFjZSc7XG5pbXBvcnQge01lc3NhZ2V9IGZyb20gJy4uL21lc3NhZ2UvbWVzc2FnZSc7XG5pbXBvcnQge1BlZXJTdWdnZXN0aW9ufSBmcm9tICcuLi9tZXNzYWdlL3BlZXItc3VnZ2VzdGlvbic7XG5pbXBvcnQge1BlZXJVcGRhdGV9IGZyb20gJy4uL21lc3NhZ2UvcGVlci11cGRhdGUnO1xuaW1wb3J0IHtSb3V0ZXJBbGl2ZX0gZnJvbSAnLi4vbWVzc2FnZS9yb3V0ZXItYWxpdmUnO1xuaW1wb3J0IHtVbmtub3duUGVlcn0gZnJvbSAnLi4vbWVzc2FnZS91bmtub3duLXBlZXInO1xuaW1wb3J0IHtWaWFDb25uZWN0aW9uTWV0ZXJ9IGZyb20gJy4uL21ldGVyaW5nL2Nvbm5lY3Rpb24tbWV0ZXIvdmlhLWNvbm5lY3Rpb24tbWV0ZXInO1xuaW1wb3J0IHtSb2xlVHlwZX0gZnJvbSAnLi4vcm9sZS9pbnRlcmZhY2UnO1xuaW1wb3J0IHtSb2xlTWFuYWdlcn0gZnJvbSAnLi4vcm9sZS9yb2xlLW1hbmFnZXInO1xuaW1wb3J0IHtJUGVlckNodXJuRXZlbnR9IGZyb20gJy4vaW50ZXJmYWNlJztcbmltcG9ydCB7UmVtb3RlUGVlcn0gZnJvbSAnLi9yZW1vdGUtcGVlcic7XG5pbXBvcnQge1JlbW90ZVBlZXJUYWJsZX0gZnJvbSAnLi9yZW1vdGUtcGVlci10YWJsZSc7XG5cbmV4cG9ydCBjbGFzcyBQZWVyTWFuYWdlciB7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBfbXlJZDogc3RyaW5nO1xuICBwcml2YXRlIF9yb2xlTWFuYWdlcjogUm9sZU1hbmFnZXI7XG4gIHByaXZhdGUgX2FjcXVpc2l0aW9uQm9vc3Q6IG51bWJlcjtcbiAgcHJpdmF0ZSBfY2xvY2s6IElDbG9jaztcbiAgcHJpdmF0ZSBfcGVlcnM6IEFycmF5PFJlbW90ZVBlZXI+O1xuICBwcml2YXRlIF9wZWVyQ2h1cm5TdWJqZWN0OiBTdWJqZWN0PElQZWVyQ2h1cm5FdmVudD47XG4gIHByaXZhdGUgX3BlZXJDb25uZWN0aW9uQ2h1cm5TdWJqZWN0OiBTdWJqZWN0PElDb25uZWN0aW9uQ2h1cm5FdmVudD47XG5cbiAgY29uc3RydWN0b3IobXlJZDogc3RyaW5nLCByb2xlTWFuYWdlcjogUm9sZU1hbmFnZXIsIGNsb2NrOiBJQ2xvY2spIHtcbiAgICB0aGlzLl9teUlkID0gbXlJZDtcbiAgICB0aGlzLl9yb2xlTWFuYWdlciA9IHJvbGVNYW5hZ2VyO1xuICAgIHRoaXMuX2FjcXVpc2l0aW9uQm9vc3QgPSAwO1xuICAgIHRoaXMuX2Nsb2NrID0gY2xvY2s7XG4gICAgdGhpcy5fcGVlcnMgPSBbXTtcbiAgICB0aGlzLl9wZWVyQ2h1cm5TdWJqZWN0ID0gbmV3IFN1YmplY3QoKTtcbiAgICB0aGlzLl9wZWVyQ29ubmVjdGlvbkNodXJuU3ViamVjdCA9IG5ldyBTdWJqZWN0KCk7XG4gIH1cblxuICBwcml2YXRlIG9uQ29ubmVjdGlvblJlbW92ZWQoY29ubmVjdGlvbjogSUNvbm5lY3Rpb24sIHJlbW90ZVBlZXI6IFJlbW90ZVBlZXIpOiB2b2lkIHtcbiAgICBpZiAocmVtb3RlUGVlci5nZXRDb25uZWN0aW9uVGFibGUoKS5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIFJlbW92ZSB0aGUgcGVlciBlbnRpcmVseSBpZiBubyBjb25uZWN0aW9ucyBhcmUgbGVmdFxuICAgICAgdGhpcy5yZW1vdmVQZWVyKHJlbW90ZVBlZXIpO1xuICAgICAgdGhpcy5zZW5kVW5rbm93blBlZXJUb0RpcmVjdFBlZXJzKHJlbW90ZVBlZXIuZ2V0SWQoKSk7XG4gICAgfVxuICAgIGlmIChyZW1vdGVQZWVyLmdldENvbm5lY3Rpb25UYWJsZSgpLmZpbHRlckRpcmVjdERhdGEoKS5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIFJlbW92ZSBhbGwgdmlhIGNvbm5lY3Rpb25zIHRoYXQgd2VudCBvdmVyIHRoaXMgcGVlclxuICAgICAgdGhpcy5nZXRQZWVyVGFibGUoKVxuICAgICAgICAuZm9yRWFjaChcbiAgICAgICAgICBwZWVyID0+IHBlZXJcbiAgICAgICAgICAgIC5nZXRDb25uZWN0aW9uVGFibGUoKVxuICAgICAgICAgICAgLmZpbHRlckJ5UHJvdG9jb2woUHJvdG9jb2wuVklBLCBQcm90b2NvbC5WSUFfTVVMVEkpXG4gICAgICAgICAgICAuZmlsdGVyQnlMb2NhdGlvbihyZW1vdGVQZWVyLmdldElkKCkpXG4gICAgICAgICAgICAuZm9yRWFjaChcbiAgICAgICAgICAgICAgdmlhQ29ubmVjdGlvbiA9PiB7XG4gICAgICAgICAgICAgICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLl9teUlkKS53YXJuKCdjbG9zZSB2aWEgY29ubmVjdGlvbiBiZWNhdXNlIHBhcmVudCBjb25uZWN0aW9uIHdhcyBjbG9zZWQnLCB2aWFDb25uZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB2aWFDb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5fcGVlckNvbm5lY3Rpb25DaHVyblN1YmplY3QubmV4dCh7Y29ubmVjdGlvbjogY29ubmVjdGlvbiwgdHlwZTogQ2h1cm5UeXBlLlJFTU9WRUR9KTtcbiAgfVxuXG4gIHByaXZhdGUgb25Db25uZWN0aW9uQWRkZWQoY29ubmVjdGlvbjogSUNvbm5lY3Rpb24sIHJlbW90ZVBlZXI6IFJlbW90ZVBlZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9wZWVyQ29ubmVjdGlvbkNodXJuU3ViamVjdC5uZXh0KHtjb25uZWN0aW9uOiBjb25uZWN0aW9uLCB0eXBlOiBDaHVyblR5cGUuQURERUR9KTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q29uZmlndXJhdGlvbigpOiBDb25maWd1cmF0aW9uIHtcbiAgICByZXR1cm4gdGhpcy5fcm9sZU1hbmFnZXIuZ2V0Q29uZmlndXJhdGlvbigpO1xuICB9XG5cbiAgcHJpdmF0ZSBicm9hZGNhc3RBbGxvd2VkKG1lc3NhZ2U6IElNZXNzYWdlKTogYm9vbGVhbiB7XG4gICAgc3dpdGNoIChtZXNzYWdlLmdldFN1YmplY3QoKSkge1xuICAgICAgY2FzZSBNZXNzYWdlU3ViamVjdC5ST1VURVJfQUxJVkU6XG4gICAgICAgIHJldHVybiAhdGhpcy5fcm9sZU1hbmFnZXIuaGFzUm9sZShSb2xlVHlwZS5TSUdOQUwpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2VuZFVua25vd25QZWVyVG9EaXJlY3RQZWVycyh1bmtub3duUGVlcklkOiBzdHJpbmcpIHtcbiAgICB0aGlzLmdldFBlZXJUYWJsZSgpXG4gICAgICAuZmlsdGVyQ29ubmVjdGlvbnMoXG4gICAgICAgIHRhYmxlID0+IHRhYmxlXG4gICAgICAgICAgLmZpbHRlckRpcmVjdCgpXG4gICAgICAgICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOKVxuICAgICAgKVxuICAgICAgLmZvckVhY2gocGVlciA9PiB7XG4gICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZVRvUGVlcihcbiAgICAgICAgICAgIHBlZXIsXG4gICAgICAgICAgICBuZXcgVW5rbm93blBlZXIoXG4gICAgICAgICAgICAgIG5ldyBBZGRyZXNzKHRoaXMuZ2V0TXlJZCgpKSxcbiAgICAgICAgICAgICAgbmV3IEFkZHJlc3MocGVlci5nZXRJZCgpKSxcbiAgICAgICAgICAgICAgdW5rbm93blBlZXJJZFxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLmdldE15SWQoKSkud2FybihgdGVsbCBkaXJlY3QgcGVlcnMgdGhhdCBwZWVyICR7dW5rbm93blBlZXJJZH0gZG9lcyBub3QgZXhpc3QgYW55bW9yZWApO1xuICB9XG5cbiAgcHJpdmF0ZSBicm9hZGNhc3QobWVzc2FnZTogSU1lc3NhZ2UpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5icm9hZGNhc3RBbGxvd2VkKG1lc3NhZ2UpKSB7XG4gICAgICBsZXQgZm9yd2FyZFBlZXJzID0gdGhpcy5nZXRQZWVyVGFibGUoKVxuICAgICAgICAuZmlsdGVyQ29ubmVjdGlvbnMoXG4gICAgICAgICAgdGFibGUgPT4gdGFibGVcbiAgICAgICAgICAgIC5maWx0ZXJEaXJlY3REYXRhKClcbiAgICAgICAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTilcbiAgICAgICAgKTtcbiAgICAgIGlmIChtZXNzYWdlLmdldEluYm91bmRBZGRyZXNzKCkpIHtcbiAgICAgICAgZm9yd2FyZFBlZXJzID0gZm9yd2FyZFBlZXJzLmV4Y2x1ZGUoXG4gICAgICAgICAgdGFibGUgPT4gdGFibGUuZmlsdGVyQnlJZChtZXNzYWdlLmdldEluYm91bmRBZGRyZXNzKCkuZ2V0SWQoKSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGZvcndhcmRQZWVyc1xuICAgICAgICAuZm9yRWFjaChcbiAgICAgICAgICBwZWVyID0+IHRoaXMuc2VuZE1lc3NhZ2VUb1BlZXIocGVlciwgbWVzc2FnZSlcbiAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLmdldE15SWQoKSkud2FybihcbiAgICAgICAgYCR7bWVzc2FnZS5nZXRTdWJqZWN0KCl9IGlzIG5vdCBhbGxvd2VkIHRvIGJlIGJyb2FkY2FzdGBcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVWaWFQZWVyKHJlbW90ZVBlZXI6IFJlbW90ZVBlZXIsIHZpYVBlZXJJZDogc3RyaW5nLCBxdWFsaXR5PzogbnVtYmVyKSB7XG4gICAgcmVtb3RlUGVlclxuICAgICAgLmdldENvbm5lY3Rpb25UYWJsZSgpXG4gICAgICAuZmlsdGVyQnlQcm90b2NvbChQcm90b2NvbC5WSUEsIFByb3RvY29sLlZJQV9NVUxUSSlcbiAgICAgIC5maWx0ZXJCeUxvY2F0aW9uKHZpYVBlZXJJZClcbiAgICAgIC5mb3JFYWNoKChjb25uZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IG1ldGVyOiBWaWFDb25uZWN0aW9uTWV0ZXIgPSBjb25uZWN0aW9uLmdldE1ldGVyKCkgYXMgVmlhQ29ubmVjdGlvbk1ldGVyO1xuICAgICAgICBtZXRlci51cGRhdGVMYXN0U2VlbigpO1xuICAgICAgICBpZiAocXVhbGl0eSkge1xuICAgICAgICAgIG1ldGVyLnNldFF1YWxpdHkocXVhbGl0eSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgLypcbiAgICogUmV0dXJucyBlaXRoZXI6XG4gICAqIC0gdGhlIGdpdmVuIHJlbW90ZSBwZWVyIHdoZW4gaXQgaGFzIGF0IGxlYXN0IG9uIGRpcmVjdCBjb25uZWN0aW9uXG4gICAqIC0gYSBkaXJlY3QgcGVlciB0aGF0IGlzIGEgdmlhIHBlZXIgb2YgdGhlIHBlZXIgaW4gcXVlc3Rpb25cbiAgICogLSBhIGRpcmVjdCBwZWVyIHRoYXQga25vd3MgdGhlIHJvdXRlciBpbiBjYXNlIG5vIHJlbW90ZVBlZXIgZXhpc3QgaW4gcGVlciB0YWJsZVxuICAgKi9cbiAgcHJpdmF0ZSByZXNvbHZlUGVlcihyZW1vdGVQZWVyOiBSZW1vdGVQZWVyKTogUmVtb3RlUGVlciB7XG4gICAgaWYgKCFyZW1vdGVQZWVyKSB7XG4gICAgICBpZiAoIXRoaXMuX3JvbGVNYW5hZ2VyLmhhc1JvbGUoUm9sZVR5cGUuUk9VVEVSKSkge1xuICAgICAgICBjb25zdCByb3V0ZXIgPSB0aGlzLmdldFBlZXJUYWJsZSgpLmZpbHRlckJ5Um9sZShSb2xlVHlwZS5ST1VURVIpLnBvcCgpO1xuICAgICAgICBpZiAocm91dGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZVBlZXIocm91dGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBoYXNEaXJlY3RDb25uZWN0aW9ucyA9IHRoaXMuZ2V0UGVlclRhYmxlKClcbiAgICAgIC5maWx0ZXJCeUlkKHJlbW90ZVBlZXIuZ2V0SWQoKSlcbiAgICAgIC5jb3VudENvbm5lY3Rpb25zKFxuICAgICAgICBjb25uZWN0aW9uVGFibGUgPT5cbiAgICAgICAgICBjb25uZWN0aW9uVGFibGUuZmlsdGVyRGlyZWN0RGF0YSgpLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOKVxuICAgICAgKSA+IDA7XG4gICAgaWYgKGhhc0RpcmVjdENvbm5lY3Rpb25zKSB7XG4gICAgICByZXR1cm4gcmVtb3RlUGVlcjtcbiAgICB9IGVsc2UgaWYgKHJlbW90ZVBlZXIpIHtcbiAgICAgIGxldCBiZXN0VmlhQ29ubmVjdG9yOiBJQ29ubmVjdGlvbjtcbiAgICAgIGNvbnN0IHZpYVBlZXJzID0gcmVtb3RlUGVlclxuICAgICAgICAuZ2V0Q29ubmVjdGlvblRhYmxlKClcbiAgICAgICAgLmZpbHRlckJ5UHJvdG9jb2woUHJvdG9jb2wuVklBLCBQcm90b2NvbC5WSUFfTVVMVEkpO1xuICAgICAgaWYgKHJlbW90ZVBlZXIuaGFzUm9sZShSb2xlVHlwZS5ST1VURVIpKSB7XG4gICAgICAgIGJlc3RWaWFDb25uZWN0b3IgPSB2aWFQZWVyc1xuICAgICAgICAgIC5zb3J0QnkoXG4gICAgICAgICAgICBjb25uZWN0aW9uID0+XG4gICAgICAgICAgICAgIChjb25uZWN0aW9uLmdldE1ldGVyKCkgYXMgVmlhQ29ubmVjdGlvbk1ldGVyKS5nZXRSb3V0ZXJMaW5rUXVhbGl0eSh0aGlzLmdldFBlZXJUYWJsZSgpKVxuICAgICAgICAgIClcbiAgICAgICAgICAucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiZXN0VmlhQ29ubmVjdG9yID0gdmlhUGVlcnNcbiAgICAgICAgICAuc29ydEJ5UXVhbGl0eSh0aGlzLmdldFBlZXJUYWJsZSgpKVxuICAgICAgICAgIC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIGlmIChiZXN0VmlhQ29ubmVjdG9yKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFBlZXJCeUlkKGJlc3RWaWFDb25uZWN0b3IuZ2V0QWRkcmVzcygpLmdldExvY2F0aW9uKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2VuZE1lc3NhZ2VUb1BlZXIocGVlcjogUmVtb3RlUGVlciwgbWVzc2FnZTogSU1lc3NhZ2UpIHtcbiAgICBjb25zdCBjb25uZWN0aW9uOiBJQ29ubmVjdGlvbiA9IHBlZXIuZ2V0Q29ubmVjdGlvblRhYmxlKClcbiAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTilcbiAgICAgIC5maWx0ZXJEaXJlY3REYXRhKClcbiAgICAgIC5zb3J0QnlRdWFsaXR5KHRoaXMuZ2V0UGVlclRhYmxlKCkpXG4gICAgICAucG9wKCk7XG4gICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbm5lY3Rpb24uc2VuZChtZXNzYWdlKTtcbiAgICAgICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLmdldE15SWQoKSlcbiAgICAgICAgICAuZGVidWcoYHNlbmRpbmcgJHttZXNzYWdlLmdldFN1YmplY3QoKX0gdG8gJHtjb25uZWN0aW9uLmdldEFkZHJlc3MoKS5nZXRJZCgpfWAsIG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIExvZ2dlci5nZXRMb2dnZXIodGhpcy5nZXRNeUlkKCkpXG4gICAgICAgICAgLmVycm9yKGBjYW5ub3Qgc2VuZCAke21lc3NhZ2UuZ2V0U3ViamVjdCgpfSB0byAke2Nvbm5lY3Rpb24uZ2V0QWRkcmVzcygpLmdldElkKCl9YCwgZXJyb3IpO1xuICAgICAgICBjb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLmdldE15SWQoKSlcbiAgICAgICAgLmVycm9yKGBzZW5kaW5nIGZhaWxlZCBiZWNhdXNlIG5vIGNvbm5lY3Rpb24gdG8gJHtwZWVyLmdldElkKCl9YCwgbWVzc2FnZSwgcGVlcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldE15SWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fbXlJZDtcbiAgfVxuXG4gIHB1YmxpYyBjb25uZWN0VG8oYWRkcmVzczogQWRkcmVzcywgb3B0aW9ucz86IElDb25uZWN0aW9uT3B0aW9ucyk6IFByb21pc2U8UmVtb3RlUGVlcj4ge1xuICAgIGxldCBwZWVyID0gdGhpcy5nZXRQZWVyQnlJZChhZGRyZXNzLmdldElkKCkpO1xuXG4gICAgaWYgKHBlZXIgJiYgcGVlci5nZXRDb25uZWN0aW9uRm9yQWRkcmVzcyhhZGRyZXNzKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwZWVyKTtcbiAgICB9XG5cbiAgICBjb25zdCBkaXJlY3RQZWVycyA9IHRoaXMuZ2V0UGVlclRhYmxlKClcbiAgICAgIC5maWx0ZXJDb25uZWN0aW9ucyhcbiAgICAgICAgdGFibGUgPT4gdGFibGUuZmlsdGVyRGlyZWN0KClcbiAgICAgICk7XG4gICAgY29uc3QgaXNWaWFBZGRyZXNzID0gYWRkcmVzcy5pc1Byb3RvY29sKFByb3RvY29sLlZJQSwgUHJvdG9jb2wuVklBX01VTFRJKTtcbiAgICBpZiAoIWlzVmlhQWRkcmVzcyAmJiBkaXJlY3RQZWVycy5sZW5ndGggPj0gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkuRElSRUNUX0NPTk5FQ1RJT05TX01BWCkge1xuICAgICAgY29uc3QgcmVqZWN0UmVhc29uID0gYHJlamVjdGluZyAke2FkZHJlc3MuZ2V0SWQoKX0gYmVjYXVzZSBtYXggY29ubmVjdGlvbnMgcmVhY2hlZGA7XG4gICAgICBMb2dnZXIuZ2V0TG9nZ2VyKHRoaXMuZ2V0TXlJZCgpKVxuICAgICAgICAuZXJyb3IocmVqZWN0UmVhc29uKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWplY3RSZWFzb24pO1xuICAgIH1cblxuICAgIGlmICghcGVlcikge1xuICAgICAgcGVlciA9IG5ldyBSZW1vdGVQZWVyKGFkZHJlc3MuZ2V0SWQoKSwgdGhpcy5fbXlJZCwgdGhpcy5fY2xvY2suZm9yaygpKTtcblxuICAgICAgcGVlci5vYnNlcnZlQ2h1cm4oKVxuICAgICAgICAucGlwZShcbiAgICAgICAgICBmaWx0ZXIoZXYgPT4gZXYudHlwZSA9PT0gQ2h1cm5UeXBlLlJFTU9WRUQpXG4gICAgICAgIClcbiAgICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgICBldiA9PiB0aGlzLm9uQ29ubmVjdGlvblJlbW92ZWQoZXYuY29ubmVjdGlvbiwgcGVlcilcbiAgICAgICAgKTtcblxuICAgICAgcGVlci5vYnNlcnZlQ2h1cm4oKVxuICAgICAgICAucGlwZShcbiAgICAgICAgICBmaWx0ZXIoZXYgPT4gZXYudHlwZSA9PT0gQ2h1cm5UeXBlLkFEREVEKVxuICAgICAgICApXG4gICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgZXYgPT4gdGhpcy5vbkNvbm5lY3Rpb25BZGRlZChldi5jb25uZWN0aW9uLCBwZWVyKVxuICAgICAgICApO1xuXG4gICAgICB0aGlzLl9wZWVycy5wdXNoKHBlZXIpO1xuXG4gICAgICB0aGlzLl9wZWVyQ2h1cm5TdWJqZWN0Lm5leHQoe3BlZXI6IHBlZXIsIHR5cGU6IENodXJuVHlwZS5BRERFRH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwZWVyLmNvbm5lY3QoYWRkcmVzcywgb3B0aW9ucylcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHBlZXI7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAgIExvZ2dlci5nZXRMb2dnZXIodGhpcy5fbXlJZClcbiAgICAgICAgICAud2FybihgY2Fubm90IG9wZW4gY29ubmVjdGlvbiB0byAke2FkZHJlc3MuZ2V0SWQoKX1gLCByZWFzb24pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGNvbm5lY3RUb1ZpYShyZW1vdGVBZGRyZXNzOiBBZGRyZXNzLCBvcHRpb25zPzogSUNvbm5lY3Rpb25PcHRpb25zKTogUHJvbWlzZTxSZW1vdGVQZWVyPiB7XG4gICAgY29uc3QgdmlhUGVlciA9IHRoaXMuZ2V0UGVlckJ5SWQocmVtb3RlQWRkcmVzcy5nZXRMb2NhdGlvbigpKTtcbiAgICBpZiAodmlhUGVlcikge1xuICAgICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLmdldE15SWQoKSkuaW5mbyhgY29ubmVjdCB0byB2aWEgJHtyZW1vdGVBZGRyZXNzLmdldElkKCl9YCwgcmVtb3RlQWRkcmVzcyk7XG4gICAgICBjb25zdCBwYXJlbnQgPSB2aWFQZWVyXG4gICAgICAgIC5nZXRDb25uZWN0aW9uVGFibGUoKVxuICAgICAgICAuZmlsdGVyRGlyZWN0RGF0YSgpXG4gICAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTilcbiAgICAgICAgLnNoaWZ0KCk7XG4gICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICBjb25zdCByZWFzb24gPSBgY2Fubm90IGNvbm5lY3QgdG8gJHtyZW1vdGVBZGRyZXNzLmdldElkKCl9IGJlY2F1c2UgcGFyZW50IGhhcyBubyBvcGVuIGRpcmVjdCBjb25uZWN0aW9uYDtcbiAgICAgICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLl9teUlkKS5lcnJvcihyZWFzb24pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHtwYXlsb2FkOiB7fX07XG4gICAgICBvcHRpb25zLnBheWxvYWQucXVhbGl0eSA9IHBhcmVudC5nZXRNZXRlcigpLmdldFF1YWxpdHkodGhpcy5nZXRQZWVyVGFibGUoKSk7XG4gICAgICBvcHRpb25zLnBheWxvYWQucGFyZW50ID0gcGFyZW50O1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICAgICAgLmNvbm5lY3RUbyhyZW1vdGVBZGRyZXNzLCBvcHRpb25zIGFzIElWaWFDb25uZWN0aW9uT3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJlYXNvbiA9IGBjYW5ub3QgY29ubmVjdCB0byAke3JlbW90ZUFkZHJlc3MuZ2V0SWQoKX0gYmVjYXVzZSB2aWEgJHtyZW1vdGVBZGRyZXNzLmdldExvY2F0aW9uKCl9IGlzIG1pc3NpbmdgO1xuICAgICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLl9teUlkKS5lcnJvcihyZWFzb24pO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlYXNvbik7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGVuc3VyZUNvbm5lY3Rpb24ocmVtb3RlQWRkcmVzczogQWRkcmVzcywgb3B0aW9ucz86IElDb25uZWN0aW9uT3B0aW9ucyk6IFByb21pc2U8UmVtb3RlUGVlcj4ge1xuICAgIGNvbnN0IGV4aXN0aW5nUmVtb3RlUGVlciA9IHRoaXMuZ2V0UGVlckJ5SWQocmVtb3RlQWRkcmVzcy5nZXRJZCgpKTtcblxuICAgIGlmICghZXhpc3RpbmdSZW1vdGVQZWVyKSB7XG4gICAgICBpZiAocmVtb3RlQWRkcmVzcy5nZXRJZCgpID09PSByZW1vdGVBZGRyZXNzLmdldExvY2F0aW9uKCkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICAgIGBkaXJlY3QgY29ubmVjdGlvbiB0byAke3JlbW90ZUFkZHJlc3MuZ2V0SWQoKX0gZGlzYXBwZWFyZWRgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIExvZ2dlci5nZXRMb2dnZXIodGhpcy5nZXRNeUlkKCkpLmluZm8oYGVuc3VyZSBjb25uZWN0aW9uIHRvIG5ldyBwZWVyICR7cmVtb3RlQWRkcmVzcy5nZXRJZCgpfWAsIHJlbW90ZUFkZHJlc3MpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0VG9WaWEocmVtb3RlQWRkcmVzcywgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGV4aXN0aW5nUmVtb3RlUGVlci5nZXRJZCgpID09PSB0aGlzLl9teUlkKSB7XG4gICAgICAvLyByZW1vdGUgcGVlciBpcyBtZVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCd3aWxsIG5vdCBjb25uZWN0IHRvIG15c2VsZicpO1xuICAgIH1cblxuICAgIGlmICghZXhpc3RpbmdSZW1vdGVQZWVyLmdldENvbm5lY3Rpb25Gb3JBZGRyZXNzKHJlbW90ZUFkZHJlc3MpKSB7XG4gICAgICBMb2dnZXIuZ2V0TG9nZ2VyKHRoaXMuZ2V0TXlJZCgpKS5pbmZvKGBhZGQgbmV3IHZpYSBjb25uZWN0aW9uIHRvIGV4aXN0aW5nIHBlZXIgJHtyZW1vdGVBZGRyZXNzLmdldElkKCl9YCwgcmVtb3RlQWRkcmVzcyk7XG4gICAgICByZXR1cm4gdGhpcy5jb25uZWN0VG9WaWEocmVtb3RlQWRkcmVzcywgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChyZW1vdGVBZGRyZXNzLmlzUHJvdG9jb2woUHJvdG9jb2wuVklBLCBQcm90b2NvbC5WSUFfTVVMVEkpKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBWaWFDb25uZWN0aW9uIHByb3BlcnRpZXMgbGlrZSBsYXN0U2Vlbi4gVGhpcyBtdXN0IG9ubHkgaGFwcGVuIGZvciB2aWEgY29ubmVjdGlvbiBub3QgZm9yIGRpcmVjdFxuICAgICAgICBsZXQgcXVhbGl0eTtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5wYXlsb2FkLnF1YWxpdHkpIHtcbiAgICAgICAgICBxdWFsaXR5ID0gb3B0aW9ucy5wYXlsb2FkLnF1YWxpdHk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVWaWFQZWVyKGV4aXN0aW5nUmVtb3RlUGVlciwgcmVtb3RlQWRkcmVzcy5nZXRMb2NhdGlvbigpLCBxdWFsaXR5KTtcbiAgICAgICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLl9teUlkKVxuICAgICAgICAgIC5kZWJ1ZyhgdXBkYXRlICR7cmVtb3RlQWRkcmVzcy5nZXRQcm90b2NvbCgpfSBjb25uZWN0aW9uICR7ZXhpc3RpbmdSZW1vdGVQZWVyLmdldElkKCl9YCwgZXhpc3RpbmdSZW1vdGVQZWVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZXhpc3RpbmdSZW1vdGVQZWVyKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ2V0QWNxdWlzaXRpb25Cb29zdCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9hY3F1aXNpdGlvbkJvb3N0O1xuICB9XG5cbiAgcHVibGljIGFjdGl2YXRlQWNxdWlzaXRpb25Cb29zdCgpOiB2b2lkIHtcbiAgICB0aGlzLl9hY3F1aXNpdGlvbkJvb3N0ID0gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkuRElSRUNUX0NPTk5FQ1RJT05fQk9PU1RfQU1PVU5UO1xuICAgIHRoaXMuX2Nsb2NrLnNldFRpbWVvdXQoXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2FjcXVpc2l0aW9uQm9vc3QgPSAwO1xuICAgICAgfSxcbiAgICAgIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLkRJUkVDVF9DT05ORUNUSU9OX0JPT1NUX1RJTUVPVVRcbiAgICApO1xuICB9XG5cbiAgcHVibGljIHNlbmRQZWVyVXBkYXRlKHJlY2VpdmVySWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGRpcmVjdFBlZXJzID0gdGhpc1xuICAgICAgLmdldFBlZXJUYWJsZSgpXG4gICAgICAuZmlsdGVyQnlSb2xlKFJvbGVUeXBlLlBFRVIpXG4gICAgICAuZmlsdGVyQ29ubmVjdGlvbnMoXG4gICAgICAgIHRhYmxlID0+IHRhYmxlXG4gICAgICAgICAgLmZpbHRlckRpcmVjdERhdGEoKVxuICAgICAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTilcbiAgICAgICk7XG5cbiAgICBjb25zdCBwZWVyVXBkYXRlID0gbmV3IFBlZXJVcGRhdGUoXG4gICAgICBuZXcgQWRkcmVzcyh0aGlzLmdldE15SWQoKSksXG4gICAgICBuZXcgQWRkcmVzcyhyZWNlaXZlcklkKSxcbiAgICAgIGRpcmVjdFBlZXJzLFxuICAgICAgdGhpcy5nZXRQZWVyVGFibGUoKVxuICAgICk7XG4gICAgdGhpcy5zZW5kTWVzc2FnZShwZWVyVXBkYXRlKTtcbiAgfVxuXG4gIHB1YmxpYyBzZW5kUGVlclN1Z2dlc3Rpb24ocmVjZWl2ZXJJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgZGlyZWN0UGVlcnMgPSB0aGlzXG4gICAgICAuZ2V0UGVlclRhYmxlKClcbiAgICAgIC5maWx0ZXJCeVJvbGUoUm9sZVR5cGUuUEVFUilcbiAgICAgIC5maWx0ZXJDb25uZWN0aW9ucyhcbiAgICAgICAgdGFibGUgPT4gdGFibGVcbiAgICAgICAgICAuZmlsdGVyRGlyZWN0RGF0YSgpXG4gICAgICAgICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOKVxuICAgICAgKTtcblxuICAgIGNvbnN0IHBlZXJVcGRhdGUgPSBuZXcgUGVlclN1Z2dlc3Rpb24oXG4gICAgICBuZXcgQWRkcmVzcyh0aGlzLmdldE15SWQoKSksXG4gICAgICBuZXcgQWRkcmVzcyhyZWNlaXZlcklkKSxcbiAgICAgIGRpcmVjdFBlZXJzLFxuICAgICAgdGhpcy5nZXRQZWVyVGFibGUoKVxuICAgICk7XG4gICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLmdldE15SWQoKSlcbiAgICAgIC5kZWJ1Zyhgc2VuZCBwZWVyIHN1Z2dlc3Rpb24gdG8gJHtyZWNlaXZlcklkfWApO1xuICAgIHRoaXMuc2VuZE1lc3NhZ2UocGVlclVwZGF0ZSk7XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlUm91dGVyQWxpdmUoYWxpdmVNZXNzYWdlOiBSb3V0ZXJBbGl2ZSwgaXNGaXJzdEFsaXZlRm9yU2VxdWVuY2U6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBhbGl2ZVNlcXVlbmNlID0gYWxpdmVNZXNzYWdlLmdldEJvZHkoKS5zZXF1ZW5jZTtcbiAgICBjb25zdCBpbkJvdW5kUGVlciA9IHRoaXMuZ2V0UGVlckJ5SWQoYWxpdmVNZXNzYWdlLmdldEluYm91bmRBZGRyZXNzKCkuZ2V0SWQoKSk7XG4gICAgY29uc3QgZGlyZWN0UGVlcnMgPSB0aGlzLmdldFBlZXJUYWJsZSgpXG4gICAgICAuZmlsdGVyQ29ubmVjdGlvbnMoXG4gICAgICAgIGNvbm5lY3Rpb25UYWJsZSA9PiBjb25uZWN0aW9uVGFibGUuZmlsdGVyRGlyZWN0RGF0YSgpXG4gICAgICApO1xuICAgIGlmIChpc0ZpcnN0QWxpdmVGb3JTZXF1ZW5jZSkge1xuICAgICAgY29uc3Qgcm91dGVyUGVlciA9IHRoaXMuZ2V0UGVlckJ5SWQoYWxpdmVNZXNzYWdlLmdldFNlbmRlcigpLmdldElkKCkpO1xuICAgICAgaWYgKHJvdXRlclBlZXIpIHtcbiAgICAgICAgcm91dGVyUGVlci5zZXRSb2xlcyhbUm9sZVR5cGUuUEVFUiwgUm9sZVR5cGUuUk9VVEVSXSk7XG4gICAgICB9XG4gICAgICBkaXJlY3RQZWVycy5mb3JFYWNoKFxuICAgICAgICBwZWVyID0+IHBlZXIuZ2V0TWV0ZXIoKS5nZXRSb3V0ZXJBbGl2ZUhpZ2hTY29yZSgpLmFkZFNlcXVlbmNlKGFsaXZlU2VxdWVuY2UpXG4gICAgICApO1xuICAgICAgaW5Cb3VuZFBlZXJcbiAgICAgICAgLmdldE1ldGVyKClcbiAgICAgICAgLmdldFJvdXRlckFsaXZlSGlnaFNjb3JlKClcbiAgICAgICAgLnNldFJhbmtGb3JTZXF1ZW5jZShhbGl2ZVNlcXVlbmNlLCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGlyZWN0UGVlcnNUaGF0SGF2ZUFscmVhZHlSZWNlaXZlZEFsaXZlU2VxdWVuY2UgPSBkaXJlY3RQZWVyc1xuICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgIHBlZXIgPT4gcGVlclxuICAgICAgICAgICAgLmdldE1ldGVyKClcbiAgICAgICAgICAgIC5nZXRSb3V0ZXJBbGl2ZUhpZ2hTY29yZSgpXG4gICAgICAgICAgICAuaGFzUmVjZWl2ZWRTZXF1ZW5jZShhbGl2ZVNlcXVlbmNlKVxuICAgICAgICApO1xuICAgICAgaW5Cb3VuZFBlZXJcbiAgICAgICAgLmdldE1ldGVyKClcbiAgICAgICAgLmdldFJvdXRlckFsaXZlSGlnaFNjb3JlKClcbiAgICAgICAgLnNldFJhbmtGb3JTZXF1ZW5jZShhbGl2ZVNlcXVlbmNlLCBkaXJlY3RQZWVyc1RoYXRIYXZlQWxyZWFkeVJlY2VpdmVkQWxpdmVTZXF1ZW5jZS5sZW5ndGggKyAxKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlU3VnZ2VzdGVkUGVlcnMocGVlclN1Z2dlc3Rpb246IFBlZXJTdWdnZXN0aW9uLCB2aWFQZWVySWQ6IHN0cmluZykge1xuICAgIGNvbnN0IHNlbmRlcklkID0gcGVlclN1Z2dlc3Rpb24uZ2V0U2VuZGVyKCkuZ2V0SWQoKTtcblxuICAgIGNvbnN0IHVwZGF0ZWRQZWVySWRzOiBBcnJheTxzdHJpbmc+ID0gW107XG5cbiAgICBwZWVyU3VnZ2VzdGlvblxuICAgICAgLmdldEJvZHkoKVxuICAgICAgLmZpbHRlcihcbiAgICAgICAgZW50cnkgPT4gZW50cnkucGVlcklkICE9PSB0aGlzLl9teUlkXG4gICAgICApXG4gICAgICAuZm9yRWFjaChcbiAgICAgICAgZW50cnkgPT4ge1xuICAgICAgICAgIHVwZGF0ZWRQZWVySWRzLnB1c2goZW50cnkucGVlcklkKTtcbiAgICAgICAgICBjb25zdCBwZWVyRXhpc3RlZEJlZm9yZSA9ICEhdGhpcy5nZXRQZWVyQnlJZChlbnRyeS5wZWVySWQpO1xuICAgICAgICAgIHRoaXMuZW5zdXJlQ29ubmVjdGlvbihcbiAgICAgICAgICAgIG5ldyBBZGRyZXNzKGVudHJ5LnBlZXJJZCwgUHJvdG9jb2wuVklBX01VTFRJLCB2aWFQZWVySWQpKVxuICAgICAgICAgICAgLnRoZW4oXG4gICAgICAgICAgICAgIHJlbW90ZVBlZXIgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IE9ubHkgc2V0IHJvbGVzIGlmIHBlZXJVcGRhdGUgZnJvbSBzdXBlcmlvclxuICAgICAgICAgICAgICAgIGlmICghcGVlckV4aXN0ZWRCZWZvcmUpIHtcbiAgICAgICAgICAgICAgICAgIHJlbW90ZVBlZXIuc2V0Um9sZXMoZW50cnkucm9sZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKS5jYXRjaChcbiAgICAgICAgICAgIHJlYXNvbiA9PiBMb2dnZXIuZ2V0TG9nZ2VyKHRoaXMuZ2V0TXlJZCgpKS5kZWJ1ZyhyZWFzb24pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgIHRoaXMuZ2V0UGVlclRhYmxlKClcbiAgICAgIC5mb3JFYWNoKFxuICAgICAgICBwZWVyID0+IHBlZXJcbiAgICAgICAgICAuZ2V0Q29ubmVjdGlvblRhYmxlKClcbiAgICAgICAgICAuZmlsdGVyQnlQcm90b2NvbChQcm90b2NvbC5WSUEpXG4gICAgICAgICAgLmZpbHRlckJ5TG9jYXRpb24oc2VuZGVySWQpXG4gICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgIGNvbm5lY3Rpb24gPT5cbiAgICAgICAgICAgICAgdXBkYXRlZFBlZXJJZHMuaW5kZXhPZihjb25uZWN0aW9uLmdldEFkZHJlc3MoKS5nZXRJZCgpKSA9PT0gLTFcbiAgICAgICAgICApXG4gICAgICAgICAgLmZvckVhY2goXG4gICAgICAgICAgICBjb25uZWN0aW9uID0+IGNvbm5lY3Rpb24uY2xvc2UoKVxuICAgICAgICAgIClcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlUGVlcnMocGVlclVwZGF0ZTogUGVlclVwZGF0ZSwgdmlhUGVlcklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBzZW5kZXJJZCA9IHBlZXJVcGRhdGUuZ2V0U2VuZGVyKCkuZ2V0SWQoKTtcblxuICAgIGNvbnN0IHVwZGF0ZWRQZWVySWRzOiBBcnJheTxzdHJpbmc+ID0gW107XG5cbiAgICBpZiAoc2VuZGVySWQgIT09IHZpYVBlZXJJZCkge1xuICAgICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLmdldE15SWQoKSlcbiAgICAgICAgLmVycm9yKGB3aWxsIG5vdCBhY2NlcHQgcGVlci11cGRhdGUgZnJvbSAke3NlbmRlcklkfSB2aWEgJHt2aWFQZWVySWR9YCwgcGVlclVwZGF0ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcGVlclVwZGF0ZVxuICAgICAgLmdldEJvZHkoKVxuICAgICAgLmZpbHRlcihcbiAgICAgICAgZW50cnkgPT4gZW50cnkucGVlcklkICE9PSB0aGlzLl9teUlkXG4gICAgICApXG4gICAgICAuZm9yRWFjaChcbiAgICAgICAgZW50cnkgPT4ge1xuICAgICAgICAgIHVwZGF0ZWRQZWVySWRzLnB1c2goZW50cnkucGVlcklkKTtcbiAgICAgICAgICBjb25zdCBwZWVyRXhpc3RlZEJlZm9yZSA9ICEhdGhpcy5nZXRQZWVyQnlJZChlbnRyeS5wZWVySWQpO1xuICAgICAgICAgIHRoaXMuZW5zdXJlQ29ubmVjdGlvbihcbiAgICAgICAgICAgIG5ldyBBZGRyZXNzKGVudHJ5LnBlZXJJZCwgUHJvdG9jb2wuVklBLCBzZW5kZXJJZCksXG4gICAgICAgICAgICB7cGF5bG9hZDoge3F1YWxpdHk6IGVudHJ5LnF1YWxpdHl9fVxuICAgICAgICAgIClcbiAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICByZW1vdGVQZWVyID0+IHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBPbmx5IHNldCByb2xlcyBpZiBwZWVyVXBkYXRlIGZyb20gc3VwZXJpb3JcbiAgICAgICAgICAgICAgICByZW1vdGVQZWVyLnNldFJvbGVzKGVudHJ5LnJvbGVzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKS5jYXRjaChcbiAgICAgICAgICAgIHJlYXNvbiA9PiBMb2dnZXIuZ2V0TG9nZ2VyKHRoaXMuZ2V0TXlJZCgpKS5kZWJ1ZyhyZWFzb24pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgIHRoaXMuZ2V0UGVlclRhYmxlKClcbiAgICAgIC5mb3JFYWNoKFxuICAgICAgICBwZWVyID0+IHBlZXJcbiAgICAgICAgICAuZ2V0Q29ubmVjdGlvblRhYmxlKClcbiAgICAgICAgICAuZmlsdGVyQnlQcm90b2NvbChQcm90b2NvbC5WSUEpXG4gICAgICAgICAgLmZpbHRlckJ5TG9jYXRpb24oc2VuZGVySWQpXG4gICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgIGNvbm5lY3Rpb24gPT5cbiAgICAgICAgICAgICAgdXBkYXRlZFBlZXJJZHMuaW5kZXhPZihjb25uZWN0aW9uLmdldEFkZHJlc3MoKS5nZXRJZCgpKSA9PT0gLTFcbiAgICAgICAgICApXG4gICAgICAgICAgLmZvckVhY2goXG4gICAgICAgICAgICBjb25uZWN0aW9uID0+IGNvbm5lY3Rpb24uY2xvc2UoKVxuICAgICAgICAgIClcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgbmVnb3RpYXRlQ29ubmVjdGlvbihjb25uZWN0aW9uTmVnb3RpYXRpb246IENvbm5lY3Rpb25OZWdvdGlhdGlvbik6IHZvaWQge1xuICAgIGNvbnN0IGxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIodGhpcy5fbXlJZCk7XG4gICAgY29uc3Qgc2VuZGVyQWRkcmVzcyA9IGNvbm5lY3Rpb25OZWdvdGlhdGlvbi5nZXRTZW5kZXIoKTtcbiAgICBjb25zdCByZWNlaXZlckFkZHJlc3MgPSBjb25uZWN0aW9uTmVnb3RpYXRpb24uZ2V0UmVjZWl2ZXIoKTtcbiAgICBjb25zdCBuZWdvdGlhdGlvbiA9IGNvbm5lY3Rpb25OZWdvdGlhdGlvbi5nZXRCb2R5KCk7XG4gICAgY29uc3QgbGFzdEhvcFBlZXIgPSB0aGlzLmdldFBlZXJCeUlkKGNvbm5lY3Rpb25OZWdvdGlhdGlvbi5nZXRJbmJvdW5kQWRkcmVzcygpLmdldElkKCkpO1xuXG4gICAgY29uc3QgZGlyZWN0Q29ubmVjdGlvbkNvdW50ID0gdGhpcy5nZXRQZWVyVGFibGUoKVxuICAgICAgLmNvdW50Q29ubmVjdGlvbnMoXG4gICAgICAgIHRhYmxlID0+IHRhYmxlXG4gICAgICAgICAgLmZpbHRlckRpcmVjdCgpXG4gICAgICAgICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOKVxuICAgICAgKTtcblxuICAgIGxldCBoYXNSZWFjaGVkTWF4Q29ubmVjdGlvbnMgPSBkaXJlY3RDb25uZWN0aW9uQ291bnQgPj0gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkuRElSRUNUX0NPTk5FQ1RJT05TX01BWDtcblxuICAgIGlmICh0aGlzLl9yb2xlTWFuYWdlci5oYXNSb2xlKFJvbGVUeXBlLlJPVVRFUikpIHtcbiAgICAgIGhhc1JlYWNoZWRNYXhDb25uZWN0aW9ucyA9IGRpcmVjdENvbm5lY3Rpb25Db3VudCA+PSB0aGlzLmdldENvbmZpZ3VyYXRpb24oKS5ESVJFQ1RfQ09OTkVDVElPTlNfR09BTF9NQVg7XG4gICAgfVxuXG4gICAgaWYgKGhhc1JlYWNoZWRNYXhDb25uZWN0aW9ucyAmJlxuICAgICAgbmVnb3RpYXRpb24udHlwZSA9PT0gQ29ubmVjdGlvbk5lZ290aWF0aW9uVHlwZS5PRkZFUlxuICAgICkge1xuICAgICAgbG9nZ2VyLmRlYnVnKGBpIGhhdmUgJHtkaXJlY3RDb25uZWN0aW9uQ291bnR9IGNvbm5lY3Rpb25zYCk7XG4gICAgICBsb2dnZXIuaW5mbygndG9vIG1hbnkgY29ubmVjdGlvbnMgYWxyZWFkeScsIGNvbm5lY3Rpb25OZWdvdGlhdGlvbik7XG4gICAgICBjb25zdCByZWplY3Rpb24gPSBuZXcgTWVzc2FnZShcbiAgICAgICAgcmVjZWl2ZXJBZGRyZXNzLFxuICAgICAgICBuZXcgQWRkcmVzcyhzZW5kZXJBZGRyZXNzLmdldElkKCkpLFxuICAgICAgICBNZXNzYWdlU3ViamVjdC5DT05ORUNUSU9OX05FR09USUFUSU9OLFxuICAgICAgICB7dHlwZTogQ29ubmVjdGlvbk5lZ290aWF0aW9uVHlwZS5SRUpFQ1RJT059XG4gICAgICApO1xuICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZWplY3Rpb24pO1xuICAgICAgdGhpcy5zZW5kUGVlclN1Z2dlc3Rpb24oc2VuZGVyQWRkcmVzcy5nZXRJZCgpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRpb25zOiBJV2ViUlRDQ29ubmVjdGlvbk9wdGlvbnMgPSB7XG4gICAgICBtaXRvc2lzSWQ6IHRoaXMuX215SWQsXG4gICAgICBwYXlsb2FkOiB7XG4gICAgICAgIHR5cGU6IG5lZ290aWF0aW9uLnR5cGUsXG4gICAgICAgIHNkcDogbmVnb3RpYXRpb24uc2RwXG4gICAgICB9XG4gICAgfTtcbiAgICBzd2l0Y2ggKG5lZ290aWF0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgQ29ubmVjdGlvbk5lZ290aWF0aW9uVHlwZS5PRkZFUjpcbiAgICAgICAgdGhpcy5jb25uZWN0VG8oc2VuZGVyQWRkcmVzcywgb3B0aW9ucylcbiAgICAgICAgICAuY2F0Y2goXG4gICAgICAgICAgICBlcnJvciA9PlxuICAgICAgICAgICAgICBsb2dnZXIud2FybihgJHtzZW5kZXJBZGRyZXNzLmdldFByb3RvY29sKCl9IG9mZmVyIGNvbm5lY3Rpb24gdG8gJHtzZW5kZXJBZGRyZXNzfSBmYWlsZWRgLCBlcnJvcilcbiAgICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29ubmVjdGlvbk5lZ290aWF0aW9uVHlwZS5BTlNXRVI6XG4gICAgICAgIHRoaXMuY29ubmVjdFRvKHNlbmRlckFkZHJlc3MpLnRoZW4oXG4gICAgICAgICAgcmVtb3RlUGVlciA9PiB7XG4gICAgICAgICAgICBjb25zdCB3ZWJSVENDb25uZWN0aW9uOiBXZWJSVENDb25uZWN0aW9uID1cbiAgICAgICAgICAgICAgcmVtb3RlUGVlci5nZXRDb25uZWN0aW9uRm9yQWRkcmVzcyhzZW5kZXJBZGRyZXNzKSBhcyBXZWJSVENDb25uZWN0aW9uO1xuICAgICAgICAgICAgaWYgKHdlYlJUQ0Nvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgd2ViUlRDQ29ubmVjdGlvbi5lc3RhYmxpc2gob3B0aW9ucyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoYCR7c2VuZGVyQWRkcmVzcy5nZXRQcm90b2NvbCgpfSBjb25uZWN0aW9uICR7c2VuZGVyQWRkcmVzcy5nZXRMb2NhdGlvbigpfSBub3QgZm91bmRgLCBjb25uZWN0aW9uTmVnb3RpYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKS5jYXRjaChcbiAgICAgICAgICBlcnJvciA9PlxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oYCR7c2VuZGVyQWRkcmVzcy5nZXRQcm90b2NvbCgpfSBhbnN3ZXIgY29ubmVjdGlvbiB0byAke3NlbmRlckFkZHJlc3N9IGZhaWxlZGAsIGVycm9yKVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29ubmVjdGlvbk5lZ290aWF0aW9uVHlwZS5SRUpFQ1RJT046XG4gICAgICAgIHRoaXMuZ2V0UGVlckJ5SWQoc2VuZGVyQWRkcmVzcy5nZXRJZCgpKVxuICAgICAgICAgIC5nZXRDb25uZWN0aW9uVGFibGUoKVxuICAgICAgICAgIC5maWx0ZXJCeVByb3RvY29sKFByb3RvY29sLldFQlJUQ19EQVRBKVxuICAgICAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTklORylcbiAgICAgICAgICAuZm9yRWFjaChcbiAgICAgICAgICAgIGNvbm5lY3Rpb24gPT4ge1xuICAgICAgICAgICAgICBsb2dnZXIud2FybihgJHtzZW5kZXJBZGRyZXNzLmdldFByb3RvY29sKCl9IGNvbm5lY3Rpb24gbmVnb3RpYXRpb24gcmVqZWN0ZWQgYnkgJHtzZW5kZXJBZGRyZXNzfWAsIGNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgICBjb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYHVuc3VwcG9ydGVkICR7c2VuZGVyQWRkcmVzcy5nZXRQcm90b2NvbCgpfSBjb25uZWN0aW9uIG5lZ290aWF0aW9uIHR5cGUgJHtuZWdvdGlhdGlvbi50eXBlfWBcbiAgICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc2VuZE1lc3NhZ2UobWVzc2FnZTogSU1lc3NhZ2UpOiBib29sZWFuIHtcbiAgICBpZiAobWVzc2FnZS5nZXRUdGwoKSA8IDEpIHtcbiAgICAgIExvZ2dlci5nZXRMb2dnZXIodGhpcy5fbXlJZClcbiAgICAgICAgLndhcm4oYG1lc3NhZ2UgJHttZXNzYWdlLmdldElkKCl9IGZyb20gJHttZXNzYWdlLmdldFNlbmRlcigpLmdldElkKCl9IHRpbWVkIG91dGAsIG1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLmRlY3JlYXNlVHRsKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmdldFJlY2VpdmVyKCkuZ2V0SWQoKSA9PT0gQ29uZmlndXJhdGlvbk1hcC5nZXREZWZhdWx0KCkuQlJPQURDQVNUX0FERFJFU1MpIHtcbiAgICAgIHRoaXMuYnJvYWRjYXN0KG1lc3NhZ2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgZXhpc3RpbmdQZWVyO1xuICAgIGNvbnN0IHByb3RvY29sID0gbWVzc2FnZS5nZXRSZWNlaXZlcigpLmdldFByb3RvY29sKCk7XG4gICAgaWYgKCFwcm90b2NvbCkge1xuICAgICAgZXhpc3RpbmdQZWVyID0gdGhpcy5yZXNvbHZlUGVlcih0aGlzLmdldFBlZXJCeUlkKG1lc3NhZ2UuZ2V0UmVjZWl2ZXIoKS5nZXRJZCgpKSk7XG4gICAgfSBlbHNlIGlmIChwcm90b2NvbCA9PT0gUHJvdG9jb2wuVklBIHx8IHByb3RvY29sID09PSBQcm90b2NvbC5WSUFfTVVMVEkpIHtcbiAgICAgIGV4aXN0aW5nUGVlciA9IHRoaXMuZ2V0UGVlckJ5SWQobWVzc2FnZS5nZXRSZWNlaXZlcigpLmdldExvY2F0aW9uKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleGlzdGluZ1BlZXIgPSB0aGlzLmdldFBlZXJCeUlkKG1lc3NhZ2UuZ2V0UmVjZWl2ZXIoKS5nZXRJZCgpKTtcbiAgICB9XG4gICAgaWYgKGV4aXN0aW5nUGVlcikge1xuICAgICAgcmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2VUb1BlZXIoZXhpc3RpbmdQZWVyLCBtZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLl9teUlkKVxuICAgICAgICAud2FybihgZmFpbGVkIHRvIHNlbmQgbWVzc2FnZSB0byAke21lc3NhZ2UuZ2V0UmVjZWl2ZXIoKS5nZXRJZCgpfWAsIG1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXRQZWVyVGFibGUoKTogUmVtb3RlUGVlclRhYmxlIHtcbiAgICByZXR1cm4gbmV3IFJlbW90ZVBlZXJUYWJsZSh0aGlzLl9wZWVycyk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UGVlckJ5SWQoaWQ6IHN0cmluZyk6IFJlbW90ZVBlZXIge1xuICAgIHJldHVybiB0aGlzLl9wZWVycy5maW5kKHAgPT4gcC5nZXRJZCgpID09PSBpZCk7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlUGVlcihyZW1vdGVQZWVyOiBSZW1vdGVQZWVyKTogdm9pZCB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLl9wZWVycy5pbmRleE9mKHJlbW90ZVBlZXIpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLl9wZWVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICB0aGlzLl9wZWVyQ2h1cm5TdWJqZWN0Lm5leHQoe3BlZXI6IHJlbW90ZVBlZXIsIHR5cGU6IENodXJuVHlwZS5SRU1PVkVEfSk7XG4gICAgcmVtb3RlUGVlci5kZXN0cm95KCk7XG4gIH1cblxuICBwdWJsaWMgb2JzZXJ2ZVBlZXJDaHVybigpOiBTdWJqZWN0PElQZWVyQ2h1cm5FdmVudD4ge1xuICAgIHJldHVybiB0aGlzLl9wZWVyQ2h1cm5TdWJqZWN0O1xuICB9XG5cbiAgcHVibGljIG9ic2VydmVQZWVyQ29ubmVjdGlvbkNodXJuKCk6IFN1YmplY3Q8SUNvbm5lY3Rpb25DaHVybkV2ZW50PiB7XG4gICAgcmV0dXJuIHRoaXMuX3BlZXJDb25uZWN0aW9uQ2h1cm5TdWJqZWN0O1xuICB9XG5cbiAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgY291bnQ6IHRoaXMuX3BlZXJzLmxlbmd0aCxcbiAgICAgICAgcmVtb3RlUGVlcnM6IHRoaXMuX3BlZXJzXG4gICAgICB9LFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgMlxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLl9wZWVyQ2h1cm5TdWJqZWN0LmNvbXBsZXRlKCk7XG4gICAgdGhpcy5fcGVlcnMuZm9yRWFjaChyZW1vdGVQZWVyID0+IHRoaXMucmVtb3ZlUGVlcihyZW1vdGVQZWVyKSk7XG4gICAgdGhpcy5fY2xvY2suc3RvcCgpO1xuICB9XG59XG4iLCJpbXBvcnQge0lDb25uZWN0aW9ufSBmcm9tICcuLi9jb25uZWN0aW9uL2ludGVyZmFjZSc7XG5pbXBvcnQge0lNZXNzYWdlfSBmcm9tICcuLi9tZXNzYWdlL2ludGVyZmFjZSc7XG5pbXBvcnQge0lUYXNrU2NoZWR1bGUsIE1pdG9zaXN9IGZyb20gJy4uL21pdG9zaXMnO1xuaW1wb3J0IHtSZW1vdGVQZWVyfSBmcm9tICcuLi9wZWVyL3JlbW90ZS1wZWVyJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0Um9sZSB7XG5cbiAgcHJpdmF0ZSBfaW5pdGlhbGl6ZWQ6IGJvb2xlYW47XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2luaXRpYWxpemVkID0gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgYWJzdHJhY3QgZ2V0VGFza1NjaGVkdWxlKCk6IEFycmF5PElUYXNrU2NoZWR1bGU+O1xuXG4gIHB1YmxpYyBpc0luaXRpYWxpemVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9pbml0aWFsaXplZDtcbiAgfVxuXG4gIHB1YmxpYyBvbkluaXQobWl0b3NpczogTWl0b3Npcyk6IHZvaWQge1xuICB9XG5cbiAgcHVibGljIG9uQ29ubmVjdGlvbkNsb3NlKG1pdG9zaXM6IE1pdG9zaXMsIGNvbm5lY3Rpb246IElDb25uZWN0aW9uKTogdm9pZCB7XG4gIH1cblxuICBwdWJsaWMgb25Db25uZWN0aW9uT3BlbihtaXRvc2lzOiBNaXRvc2lzLCBjb25uZWN0aW9uOiBJQ29ubmVjdGlvbik6IHZvaWQge1xuICB9XG5cbiAgcHVibGljIG9uTWVzc2FnZShtaXRvc2lzOiBNaXRvc2lzLCBtZXNzYWdlOiBJTWVzc2FnZSk6IHZvaWQge1xuICB9XG5cbiAgcHVibGljIHJlcXVpcmVzUGVlcihyZW1vdGVQZWVyOiBSZW1vdGVQZWVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCJpbXBvcnQge0FkZHJlc3N9IGZyb20gJy4vYWRkcmVzcyc7XG5pbXBvcnQge01lc3NhZ2VTdWJqZWN0fSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQge01lc3NhZ2V9IGZyb20gJy4vbWVzc2FnZSc7XG5cbmV4cG9ydCBjbGFzcyBJbnRyb2R1Y3Rpb24gZXh0ZW5kcyBNZXNzYWdlIHtcbiAgcHJvdGVjdGVkIF9ib2R5OiBudWxsO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihzZW5kZXI6IEFkZHJlc3MsIHJlY2VpdmVyOiBBZGRyZXNzKSB7XG4gICAgc3VwZXIoc2VuZGVyLCByZWNlaXZlciwgTWVzc2FnZVN1YmplY3QuSU5UUk9EVUNUSU9OLCBudWxsKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRCb2R5KCk6IG51bGwge1xuICAgIHJldHVybiB0aGlzLl9ib2R5O1xuICB9XG59XG4iLCJpbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi4vLi4vbG9nZ2VyL2xvZ2dlcic7XG5pbXBvcnQge0ludHJvZHVjdGlvbn0gZnJvbSAnLi4vLi4vbWVzc2FnZS9pbnRyb2R1Y3Rpb24nO1xuaW1wb3J0IHtNaXRvc2lzfSBmcm9tICcuLi8uLi9taXRvc2lzJztcbmltcG9ydCB7Um9sZVR5cGV9IGZyb20gJy4uL2ludGVyZmFjZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZW5kSW50cm9kdWN0aW9uKG1pdG9zaXM6IE1pdG9zaXMpOiB2b2lkIHtcbiAgY29uc3QgaW50cm9kdWN0aW9uID0gbmV3IEludHJvZHVjdGlvbihcbiAgICBtaXRvc2lzLmdldE15QWRkcmVzcygpLFxuICAgIG1pdG9zaXMuZ2V0U2lnbmFsQWRkcmVzcygpXG4gICk7XG4gIExvZ2dlci5nZXRMb2dnZXIobWl0b3Npcy5nZXRNeUFkZHJlc3MoKS5nZXRJZCgpKS5kZWJ1ZygnY29ubmVjdGluZyB0byBzaWduYWwnKTtcbiAgbWl0b3Npcy5nZXRQZWVyTWFuYWdlcigpXG4gICAgLmNvbm5lY3RUbyhtaXRvc2lzLmdldFNpZ25hbEFkZHJlc3MoKSlcbiAgICAudGhlbihcbiAgICAgIHNpZ25hbCA9PiB7XG4gICAgICAgIHNpZ25hbC5zZXRSb2xlcyhbUm9sZVR5cGUuU0lHTkFMXSk7XG4gICAgICAgIG1pdG9zaXMuZ2V0UGVlck1hbmFnZXIoKS5zZW5kTWVzc2FnZShpbnRyb2R1Y3Rpb24pO1xuICAgICAgfVxuICAgICkuY2F0Y2goXG4gICAgZXJyb3IgPT5cbiAgICAgIExvZ2dlci5nZXRMb2dnZXIobWl0b3Npcy5nZXRNeUFkZHJlc3MoKS5nZXRJZCgpKS53YXJuKCdjb25uZWN0aW5nIHRvIHNpZ25hbCBmYWlsZWQnLCBlcnJvcilcbiAgKTtcbn1cbiIsImltcG9ydCB7Q29ubmVjdGlvblN0YXRlLCBQcm90b2NvbH0gZnJvbSAnLi4vLi4vY29ubmVjdGlvbi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtNaXRvc2lzfSBmcm9tICcuLi8uLi9taXRvc2lzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlRHVwbGljYXRlQ29ubmVjdGlvbnMobWl0b3NpczogTWl0b3Npcyk6IHZvaWQge1xuICBtaXRvc2lzXG4gICAgLmdldFBlZXJUYWJsZSgpXG4gICAgLmZvckVhY2goXG4gICAgICByZW1vdGVQZWVyID0+IHtcbiAgICAgICAgY29uc3QgZGlyZWN0ID0gcmVtb3RlUGVlclxuICAgICAgICAgIC5nZXRDb25uZWN0aW9uVGFibGUoKVxuICAgICAgICAgIC5maWx0ZXJEaXJlY3QoKVxuICAgICAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTik7XG4gICAgICAgIGlmIChkaXJlY3QubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LnZhbHVlcyhQcm90b2NvbClcbiAgICAgICAgICAuZm9yRWFjaChcbiAgICAgICAgICAgIHByb3RvY29sID0+IHtcbiAgICAgICAgICAgICAgZGlyZWN0XG4gICAgICAgICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPT4gY29ubmVjdGlvbi5nZXRBZGRyZXNzKCkuaXNQcm90b2NvbChwcm90b2NvbClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLnNvcnRCeShcbiAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPT4gY29ubmVjdGlvbi5nZXRBZGRyZXNzKCkuZ2V0TG9jYXRpb24oKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuc2xpY2UoMSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChcbiAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPT4gY29ubmVjdGlvbi5jbG9zZSgpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgfVxuICAgICk7XG59XG4iLCJpbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi4vLi4vbG9nZ2VyL2xvZ2dlcic7XG5pbXBvcnQge01pdG9zaXN9IGZyb20gJy4uLy4uL21pdG9zaXMnO1xuaW1wb3J0IHtSb2xlVHlwZX0gZnJvbSAnLi4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGRlZ3JhZGVUb05ld2JpZShtaXRvc2lzOiBNaXRvc2lzKTogdm9pZCB7XG4gIGNvbnN0IHJvbGVNYW5hZ2VyID0gbWl0b3Npcy5nZXRSb2xlTWFuYWdlcigpO1xuXG4gIGlmIChyb2xlTWFuYWdlci5oYXNSb2xlKFJvbGVUeXBlLlJPVVRFUiwgUm9sZVR5cGUuTkVXQklFKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHJvdXRlckNvbm5lY3Rpb25Db3VudCA9IG1pdG9zaXNcbiAgICAuZ2V0UGVlck1hbmFnZXIoKVxuICAgIC5nZXRQZWVyVGFibGUoKVxuICAgIC5maWx0ZXJCeVJvbGUoUm9sZVR5cGUuUk9VVEVSKVxuICAgIC5jb3VudENvbm5lY3Rpb25zKCk7XG5cbiAgaWYgKHJvdXRlckNvbm5lY3Rpb25Db3VudCA9PT0gMCkge1xuICAgIExvZ2dlci5nZXRMb2dnZXIobWl0b3Npcy5nZXRNeUFkZHJlc3MoKS5nZXRJZCgpKVxuICAgICAgLmluZm8oJ2xvc3QgYWxsIGNvbm5lY3Rpb25zIHRvIHJvdXRlciwgYmVjb21pbmcgYSBuZXdiaWUgYWdhaW4nKTtcblxuICAgIHJvbGVNYW5hZ2VyXG4gICAgICAuZ2V0Um9sZXMoKVxuICAgICAgLmZvckVhY2goXG4gICAgICAgIHJvbGVUeXBlID0+IHJvbGVNYW5hZ2VyLnJlbW92ZVJvbGUocm9sZVR5cGUpXG4gICAgICApO1xuICAgIHJvbGVNYW5hZ2VyLmFkZFJvbGUoUm9sZVR5cGUuTkVXQklFKTtcblxuICAgIG1pdG9zaXNcbiAgICAgIC5nZXRQZWVyTWFuYWdlcigpXG4gICAgICAuZ2V0UGVlclRhYmxlKClcbiAgICAgIC5mb3JFYWNoKFxuICAgICAgICByZW1vdGVQZWVyID0+IHJlbW90ZVBlZXIuZ2V0TWV0ZXIoKS5nZXRSb3V0ZXJBbGl2ZUhpZ2hTY29yZSgpLnJlc2V0KClcbiAgICAgICk7XG5cblxuICB9XG59XG4iLCJpbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi4vLi4vbG9nZ2VyL2xvZ2dlcic7XG5pbXBvcnQge01pdG9zaXN9IGZyb20gJy4uLy4uL21pdG9zaXMnO1xuaW1wb3J0IHtSb2xlVHlwZX0gZnJvbSAnLi4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZVJvdXRlckNvbm5lY3Rpb24obWl0b3NpczogTWl0b3Npcyk6IHZvaWQge1xuICBpZiAobWl0b3Npcy5nZXRSb2xlTWFuYWdlcigpLmhhc1JvbGUoUm9sZVR5cGUuUk9VVEVSKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHJvdXRlckNvbm5lY3Rpb25Db3VudCA9IG1pdG9zaXNcbiAgICAuZ2V0UGVlck1hbmFnZXIoKVxuICAgIC5nZXRQZWVyVGFibGUoKVxuICAgIC5maWx0ZXJCeVJvbGUoUm9sZVR5cGUuUk9VVEVSKVxuICAgIC5jb3VudENvbm5lY3Rpb25zKCk7XG5cbiAgaWYgKHJvdXRlckNvbm5lY3Rpb25Db3VudCA9PT0gMCkge1xuICAgIExvZ2dlci5nZXRMb2dnZXIobWl0b3Npcy5nZXRNeUFkZHJlc3MoKS5nZXRJZCgpKVxuICAgICAgLmRlYnVnKCdsb3N0IGFsbCBjb25uZWN0aW9ucyB0byByb3V0ZXInKTtcbiAgICBtaXRvc2lzLmdldFJvbGVNYW5hZ2VyKCkuYWRkUm9sZShSb2xlVHlwZS5ORVdCSUUpO1xuICB9XG59XG4iLCJpbXBvcnQge0FkZHJlc3N9IGZyb20gJy4vYWRkcmVzcyc7XG5pbXBvcnQge0lDaGFubmVsQW5ub3VuY2VtZW50LCBNZXNzYWdlU3ViamVjdH0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtNZXNzYWdlfSBmcm9tICcuL21lc3NhZ2UnO1xuXG5leHBvcnQgY2xhc3MgQ2hhbm5lbEFubm91bmNlbWVudCBleHRlbmRzIE1lc3NhZ2Uge1xuXG4gIHByb3RlY3RlZCBfYm9keTogQXJyYXk8SUNoYW5uZWxBbm5vdW5jZW1lbnQ+O1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihzZW5kZXI6IEFkZHJlc3MsIHJlY2VpdmVyOiBBZGRyZXNzLCBib2R5OiBBcnJheTxJQ2hhbm5lbEFubm91bmNlbWVudD4pIHtcbiAgICBzdXBlcihzZW5kZXIsIHJlY2VpdmVyLCBNZXNzYWdlU3ViamVjdC5DSEFOTkVMX0FOTk9VTkNFTUVOVCwgYm9keSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Qm9keSgpOiBBcnJheTxJQ2hhbm5lbEFubm91bmNlbWVudD4ge1xuICAgIHJldHVybiB0aGlzLl9ib2R5O1xuICB9XG59XG4iLCJpbXBvcnQge0Nvbm5lY3Rpb25TdGF0ZX0gZnJvbSAnLi4vLi4vY29ubmVjdGlvbi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuLi8uLi9tZXNzYWdlL2FkZHJlc3MnO1xuaW1wb3J0IHtDaGFubmVsQW5ub3VuY2VtZW50fSBmcm9tICcuLi8uLi9tZXNzYWdlL2NoYW5uZWwtYW5ub3VuY2VtZW50JztcbmltcG9ydCB7SUNoYW5uZWxBbm5vdW5jZW1lbnR9IGZyb20gJy4uLy4uL21lc3NhZ2UvaW50ZXJmYWNlJztcbmltcG9ydCB7TWl0b3Npc30gZnJvbSAnLi4vLi4vbWl0b3Npcyc7XG5pbXBvcnQge1JvbGVUeXBlfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgZnVuY3Rpb24gcHVibGlzaENoYW5uZWxBbm5vdW5jZW1lbnQobWl0b3NpczogTWl0b3Npcyk6IHZvaWQge1xuICBjb25zdCBhbm5vdW5jZW1lbnRzOiBBcnJheTxJQ2hhbm5lbEFubm91bmNlbWVudD4gPSBtaXRvc2lzXG4gICAgLmdldFN0cmVhbU1hbmFnZXIoKVxuICAgIC5nZXRDaGFubmVsVGFibGUoKVxuICAgIC5maWx0ZXIoXG4gICAgICBjaGFubmVsID0+IGNoYW5uZWxcbiAgICAgICAgLmdldFByb3ZpZGVyVGFibGUoKVxuICAgICAgICAuaGFzKFxuICAgICAgICBwcm92aWRlciA9PiBwcm92aWRlci5pc1NvdXJjZSgpICYmIHByb3ZpZGVyLmlzTGl2ZSgpICYmIHByb3ZpZGVyLmlzQWN0aXZlKClcbiAgICAgIClcbiAgICApXG4gICAgLm1hcChcbiAgICAgIGNoYW5uZWwgPT4ge1xuICAgICAgICBjb25zdCBhbm5vdW5jZW1lbnQgPSBjaGFubmVsLmFzQW5ub3VuY2VtZW50KCk7XG4gICAgICAgIGNvbnN0IG15SWQgPSBtaXRvc2lzLmdldE15QWRkcmVzcygpLmdldElkKCk7XG4gICAgICAgIGNvbnN0IGlBbVByb3ZpZGVyID0gYW5ub3VuY2VtZW50LnByb3ZpZGVycy5maW5kKHByb3ZpZGVyID0+IHByb3ZpZGVyLnBlZXJJZCA9PT0gbXlJZCk7XG4gICAgICAgIGNvbnN0IGNhcGFjaXR5ID0gbWl0b3Npcy5nZXRTdHJlYW1NYW5hZ2VyKCkuZ2V0TXlDYXBhY2l0eSgpO1xuICAgICAgICBpZiAoaUFtUHJvdmlkZXIpIHtcbiAgICAgICAgICBpQW1Qcm92aWRlci5jYXBhY2l0eSA9IGNhcGFjaXR5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFubm91bmNlbWVudC5wcm92aWRlcnMucHVzaChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcGVlcklkOiBteUlkLFxuICAgICAgICAgICAgICBjYXBhY2l0eTogY2FwYWNpdHlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbm5vdW5jZW1lbnQ7XG4gICAgICB9XG4gICAgKTtcblxuICBpZiAoYW5ub3VuY2VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBkaXJlY3RQZWVycyA9IG1pdG9zaXNcbiAgICAuZ2V0UGVlck1hbmFnZXIoKVxuICAgIC5nZXRQZWVyVGFibGUoKVxuICAgIC5maWx0ZXJCeVJvbGUoUm9sZVR5cGUuUEVFUilcbiAgICAuZmlsdGVyQ29ubmVjdGlvbnMoXG4gICAgICB0YWJsZSA9PiB0YWJsZVxuICAgICAgICAuZmlsdGVyRGlyZWN0KClcbiAgICAgICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOKVxuICAgICk7XG5cbiAgZGlyZWN0UGVlcnNcbiAgICAuZm9yRWFjaChwZWVyID0+IHtcbiAgICAgIGNvbnN0IGNoYW5uZWxBbm5vdW5jZW1lbnQgPSBuZXcgQ2hhbm5lbEFubm91bmNlbWVudChcbiAgICAgICAgbWl0b3Npcy5nZXRNeUFkZHJlc3MoKSxcbiAgICAgICAgbmV3IEFkZHJlc3MocGVlci5nZXRJZCgpKSxcbiAgICAgICAgYW5ub3VuY2VtZW50c1xuICAgICAgKTtcbiAgICAgIG1pdG9zaXMuZ2V0UGVlck1hbmFnZXIoKS5zZW5kTWVzc2FnZShjaGFubmVsQW5ub3VuY2VtZW50KTtcbiAgICB9KTtcbn1cbiIsImltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi9hZGRyZXNzJztcbmltcG9ydCB7TWVzc2FnZVN1YmplY3R9IGZyb20gJy4vaW50ZXJmYWNlJztcbmltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi9tZXNzYWdlJztcblxuZXhwb3J0IGNsYXNzIFBlZXJBbGl2ZSBleHRlbmRzIE1lc3NhZ2Uge1xuICBwcm90ZWN0ZWQgX2JvZHk6IG51bGw7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKHNlbmRlcjogQWRkcmVzcywgcmVjZWl2ZXI6IEFkZHJlc3MpIHtcbiAgICBzdXBlcihzZW5kZXIsIHJlY2VpdmVyLCBNZXNzYWdlU3ViamVjdC5QRUVSX0FMSVZFLCBudWxsKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRCb2R5KCk6IG51bGwge1xuICAgIHJldHVybiB0aGlzLl9ib2R5O1xuICB9XG59XG4iLCJpbXBvcnQge0Nvbm5lY3Rpb25TdGF0ZSwgUHJvdG9jb2x9IGZyb20gJy4uLy4uL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcbmltcG9ydCB7QWRkcmVzc30gZnJvbSAnLi4vLi4vbWVzc2FnZS9hZGRyZXNzJztcbmltcG9ydCB7UGVlckFsaXZlfSBmcm9tICcuLi8uLi9tZXNzYWdlL3BlZXItYWxpdmUnO1xuaW1wb3J0IHtNaXRvc2lzfSBmcm9tICcuLi8uLi9taXRvc2lzJztcbmltcG9ydCB7Um9sZVR5cGV9IGZyb20gJy4uL2ludGVyZmFjZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwdWJsaXNoUGVlckFsaXZlKG1pdG9zaXM6IE1pdG9zaXMpOiB2b2lkIHtcbiAgaWYgKG1pdG9zaXMuZ2V0Um9sZU1hbmFnZXIoKS5oYXNSb2xlKFJvbGVUeXBlLlJPVVRFUikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCByb3V0ZXJzID0gbWl0b3Npc1xuICAgIC5nZXRQZWVyTWFuYWdlcigpXG4gICAgLmdldFBlZXJUYWJsZSgpXG4gICAgLmZpbHRlckJ5Um9sZShSb2xlVHlwZS5ST1VURVIpXG4gICAgLmZpbHRlckNvbm5lY3Rpb25zKFxuICAgICAgcGVlclRhYmxlID0+IHBlZXJUYWJsZVxuICAgICAgICAuZmlsdGVyQnlTdGF0ZXMoQ29ubmVjdGlvblN0YXRlLk9QRU4pXG4gICAgKVxuICAgIC5leGNsdWRlKFxuICAgICAgcGVlclRhYmxlID0+IHBlZXJUYWJsZVxuICAgICAgICAuZmlsdGVyQ29ubmVjdGlvbnMoXG4gICAgICAgICAgY29ubmVjdGlvblRhYmxlID0+IGNvbm5lY3Rpb25UYWJsZVxuICAgICAgICAgICAgLmZpbHRlckJ5UHJvdG9jb2woXG4gICAgICAgICAgICAgIFByb3RvY29sLlZJQSxcbiAgICAgICAgICAgICAgUHJvdG9jb2wuV0VCUlRDX0RBVEEsXG4gICAgICAgICAgICAgIFByb3RvY29sLldFQlNPQ0tFVCxcbiAgICAgICAgICAgICAgUHJvdG9jb2wuV0VCU09DS0VUX1VOU0VDVVJFXG4gICAgICAgICAgICApXG4gICAgICAgICAgLy8gRXhjbHVkZSBkaXJlY3QgYW5kIHNpbmdsZS1ob3AgdmlhIHJvdXRlcnNcbiAgICAgICAgICAvLyBiZWNhdXNlIHRoZXkgYXJlIHJlcG9ydGVkIGJ5IGRpcmVjdCBwZWVyc1xuICAgICAgICAgIC8vIG9mIHRoZSByb3V0ZXIgYW55d2F5LlxuICAgICAgICApXG4gICAgKTtcblxuICByb3V0ZXJzXG4gICAgLmZvckVhY2goXG4gICAgICByb3V0ZXIgPT4gbWl0b3Npc1xuICAgICAgICAuZ2V0UGVlck1hbmFnZXIoKVxuICAgICAgICAuc2VuZE1lc3NhZ2UoXG4gICAgICAgICAgbmV3IFBlZXJBbGl2ZShcbiAgICAgICAgICAgIG1pdG9zaXMuZ2V0TXlBZGRyZXNzKCksXG4gICAgICAgICAgICBuZXcgQWRkcmVzcyhyb3V0ZXIuZ2V0SWQoKSlcbiAgICAgICAgICApXG4gICAgICAgICkpO1xufVxuIiwiaW1wb3J0IHtDb25uZWN0aW9uU3RhdGV9IGZyb20gJy4uLy4uL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcbmltcG9ydCB7TWl0b3Npc30gZnJvbSAnLi4vLi4vbWl0b3Npcyc7XG5pbXBvcnQge1JvbGVUeXBlfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgZnVuY3Rpb24gcHVibGlzaFBlZXJVcGRhdGUobWl0b3NpczogTWl0b3Npcyk6IHZvaWQge1xuICBtaXRvc2lzXG4gICAgLmdldFBlZXJNYW5hZ2VyKClcbiAgICAuZ2V0UGVlclRhYmxlKClcbiAgICAuZmlsdGVyQnlSb2xlKFJvbGVUeXBlLlBFRVIpXG4gICAgLmZpbHRlckNvbm5lY3Rpb25zKFxuICAgICAgdGFibGUgPT4gdGFibGVcbiAgICAgICAgLmZpbHRlckRpcmVjdERhdGEoKVxuICAgICAgICAuZmlsdGVyQnlTdGF0ZXMoQ29ubmVjdGlvblN0YXRlLk9QRU4pXG4gICAgKVxuICAgIC5mb3JFYWNoKHBlZXIgPT4gbWl0b3Npc1xuICAgICAgLmdldFBlZXJNYW5hZ2VyKClcbiAgICAgIC5zZW5kUGVlclVwZGF0ZShwZWVyLmdldElkKCkpXG4gICAgKTtcbn1cbiIsImltcG9ydCB7TG9nZ2VyfSBmcm9tICcuLi8uLi9sb2dnZXIvbG9nZ2VyJztcbmltcG9ydCB7TWl0b3Npc30gZnJvbSAnLi4vLi4vbWl0b3Npcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVFeHBpcmVkQ29ubmVjdGlvbnMobWl0b3NpczogTWl0b3Npcyk6IHZvaWQge1xuICBtaXRvc2lzLmdldFBlZXJNYW5hZ2VyKClcbiAgICAuZ2V0UGVlclRhYmxlKClcbiAgICAuYWdncmVnYXRlQ29ubmVjdGlvbnMoXG4gICAgICBjb25uZWN0aW9uVGFibGUgPT4gY29ubmVjdGlvblRhYmxlXG4gICAgICAgIC5maWx0ZXJCeU1ldGVyKG1ldGVyID0+IG1ldGVyLmlzTGFzdFNlZW5FeHBpcmVkKCkpXG4gICAgKVxuICAgIC5mb3JFYWNoKFxuICAgICAgY29ubmVjdGlvbiA9PiB7XG4gICAgICAgIExvZ2dlci5nZXRMb2dnZXIobWl0b3Npcy5nZXRNeUFkZHJlc3MoKS5nZXRJZCgpKVxuICAgICAgICAgIC5kZWJ1ZyhgcmVtb3ZpbmcgZXhwaXJlZCBjb25uZWN0aW9uICR7Y29ubmVjdGlvbi5nZXRBZGRyZXNzKCkuZ2V0SWQoKX1gLCBjb25uZWN0aW9uKTtcbiAgICAgICAgY29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgfVxuICAgICk7XG59XG4iLCJpbXBvcnQge0Nvbm5lY3Rpb25TdGF0ZX0gZnJvbSAnLi4vLi4vY29ubmVjdGlvbi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtMb2dnZXJ9IGZyb20gJy4uLy4uL2xvZ2dlci9sb2dnZXInO1xuaW1wb3J0IHtNaXRvc2lzfSBmcm9tICcuLi8uLi9taXRvc2lzJztcbmltcG9ydCB7Um9sZVR5cGV9IGZyb20gJy4uL2ludGVyZmFjZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVTaWduYWwobWl0b3NpczogTWl0b3Npcyk6IHZvaWQge1xuICBpZiAobWl0b3Npcy5nZXRSb2xlTWFuYWdlcigpLmhhc1JvbGUoUm9sZVR5cGUuUk9VVEVSKSkge1xuICAgIC8vIERvIG5vdCBhYmFuZG9uIHNpZ25hbCBpZiB3ZSBhcmUgcm91dGVyLlxuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHBlZXJUYWJsZSA9IG1pdG9zaXNcbiAgICAuZ2V0UGVlck1hbmFnZXIoKVxuICAgIC5nZXRQZWVyVGFibGUoKTtcblxuICBjb25zdCBzaWduYWxzID0gcGVlclRhYmxlXG4gICAgLmZpbHRlckJ5Um9sZShSb2xlVHlwZS5TSUdOQUwpXG4gICAgLmZpbHRlckNvbm5lY3Rpb25zKFxuICAgICAgdGFibGUgPT4gdGFibGVcbiAgICAgICAgLmZpbHRlckRpcmVjdCgpXG4gICAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTilcbiAgICApO1xuXG4gIGlmIChzaWduYWxzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChtaXRvc2lzLmdldFJvbGVNYW5hZ2VyKCkuaGFzUm9sZShSb2xlVHlwZS5ORVdCSUUpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgcm91dGVyQ29ubmVjdGlvbnMgPSBwZWVyVGFibGVcbiAgICAuZmlsdGVyQnlSb2xlKFJvbGVUeXBlLlJPVVRFUilcbiAgICAuYWdncmVnYXRlQ29ubmVjdGlvbnMoXG4gICAgICB0YWJsZSA9PiB0YWJsZVxuICAgICAgICAuZmlsdGVyQnlTdGF0ZXMoQ29ubmVjdGlvblN0YXRlLk9QRU4pXG4gICAgICAgIC5leGNsdWRlKFxuICAgICAgICAgIGV4Y2x1ZGVUYWJsZSA9PiBleGNsdWRlVGFibGVcbiAgICAgICAgICAgIC5maWx0ZXJCeUxvY2F0aW9uKFxuICAgICAgICAgICAgICAuLi5zaWduYWxzLm1hcChzaWduYWwgPT4gc2lnbmFsLmdldElkKCkpXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICApO1xuXG4gIGNvbnN0IGRpcmVjdENvbm5lY3Rpb25zID0gcGVlclRhYmxlXG4gICAgLmV4Y2x1ZGUoXG4gICAgICB0YWJsZSA9PiB0YWJsZS5maWx0ZXJCeVJvbGUoUm9sZVR5cGUuU0lHTkFMKVxuICAgIClcbiAgICAuYWdncmVnYXRlQ29ubmVjdGlvbnMoXG4gICAgICB0YWJsZSA9PiB0YWJsZVxuICAgICAgICAuZmlsdGVyRGlyZWN0RGF0YSgpXG4gICAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTilcbiAgICApO1xuXG4gIC8vIFdoZW4gaXQgZG9lcyBub3QgaGF2ZSBhIHJvdXRlciB5ZXQgb3IgbGVzcyB0aGFuIDIgY29ubmVjdGlvbnMsIG1lYW5pbmcgaXQgaXMgb25seSBjb25uZWN0ZWQgdmlhIHNpZ25hbCwgZG8gbm90IHJlbW92ZVxuICAvLyBUT0RPOiBNYWtlIHRoaXMgdGhyZXNob2xkIGNvbmZpZ3VyYWJsZVxuICBpZiAocm91dGVyQ29ubmVjdGlvbnMubGVuZ3RoID09PSAwIHx8IGRpcmVjdENvbm5lY3Rpb25zLmxlbmd0aCA8IDIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBMb2dnZXIuZ2V0TG9nZ2VyKG1pdG9zaXMuZ2V0TXlBZGRyZXNzKCkuZ2V0SWQoKSlcbiAgICAuaW5mbyhcbiAgICAgICdjbG9zZSBjb25uZWN0aW9uIHRvIHNpZ25hbHMnLFxuICAgICAgYHJvdXRlcnM6ICR7cm91dGVyQ29ubmVjdGlvbnMubGVuZ3RofWAsXG4gICAgICBgY29ubmVjdGlvbnM6ICR7ZGlyZWN0Q29ubmVjdGlvbnMubGVuZ3RofWAsXG4gICAgICAuLi5zaWduYWxzXG4gICAgKTtcblxuICBzaWduYWxzXG4gICAgLmZvckVhY2goXG4gICAgICBzaWduYWwgPT4gc2lnbmFsXG4gICAgICAgIC5nZXRDb25uZWN0aW9uVGFibGUoKVxuICAgICAgICAuZmlsdGVyRGlyZWN0RGF0YSgpXG4gICAgICAgIC5mb3JFYWNoKFxuICAgICAgICAgIGNvbm5lY3Rpb24gPT4gY29ubmVjdGlvbi5jbG9zZSgpXG4gICAgICAgIClcbiAgICApO1xufVxuIiwiaW1wb3J0IHtDb25uZWN0aW9uU3RhdGUsIElDb25uZWN0aW9uLCBMb2dnZXIsIE1pdG9zaXN9IGZyb20gJy4uLy4uL21pdG9zaXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gbG9vc2VEaXJlY3RDb25uZWN0aW9ucyhtaXRvc2lzOiBNaXRvc2lzLCBjb3VudDogbnVtYmVyKTogdm9pZCB7XG4gIGlmIChjb3VudCA8IDEpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjb25maWd1cmF0aW9uID0gbWl0b3Npcy5nZXRSb2xlTWFuYWdlcigpLmdldENvbmZpZ3VyYXRpb24oKTtcblxuICBjb25zdCBtYXhHb2FsID0gY29uZmlndXJhdGlvbi5ESVJFQ1RfQ09OTkVDVElPTlNfR09BTF9NQVg7XG4gIGNvbnN0IG1pbkdvYWwgPSBjb25maWd1cmF0aW9uLkRJUkVDVF9DT05ORUNUSU9OU19HT0FMX01JTjtcblxuICBjb25zdCBkaXJlY3RQZWVycyA9IG1pdG9zaXNcbiAgICAuZ2V0UGVlck1hbmFnZXIoKVxuICAgIC5nZXRQZWVyVGFibGUoKVxuICAgIC5maWx0ZXJDb25uZWN0aW9ucyhcbiAgICAgIHRhYmxlID0+IHRhYmxlXG4gICAgICAgIC5maWx0ZXJEaXJlY3REYXRhKClcbiAgICAgICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOKVxuICAgICk7XG5cbiAgY29uc3QgZGlyZWN0Q29ubmVjdGlvbnMgPSBkaXJlY3RQZWVyc1xuICAgIC5hZ2dyZWdhdGVDb25uZWN0aW9ucyhcbiAgICAgIHRhYmxlID0+IHRhYmxlXG4gICAgICAgIC5maWx0ZXJEaXJlY3REYXRhKClcbiAgICAgICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOKVxuICAgICk7XG5cbiAgbGV0IGNsb3NhYmxlUGVlcnMgPSBkaXJlY3RQZWVyc1xuICAgIC5maWx0ZXIoXG4gICAgICByZW1vdGVQZWVyID0+IG1pdG9zaXNcbiAgICAgICAgLmdldFJvbGVNYW5hZ2VyKClcbiAgICAgICAgLmdldFJvbGVzUmVxdWlyaW5nUGVlcihyZW1vdGVQZWVyKS5sZW5ndGggPT09IDBcbiAgICApXG4gICAgLmZpbHRlcklzUHJvdGVjdGVkKGZhbHNlKTtcblxuICBjb25zdCBiZXN0Um91dGVyTGluayA9IGRpcmVjdFBlZXJzXG4gICAgLmZpbHRlcihcbiAgICAgIHJlbW90ZVBlZXIgPT4gcmVtb3RlUGVlci5nZXRNZXRlcigpLmdldFJvdXRlckxpbmtRdWFsaXR5KCkgPT09IDFcbiAgICApXG4gICAgLnBvcCgpO1xuXG4gIGlmIChiZXN0Um91dGVyTGluaykge1xuICAgIGNsb3NhYmxlUGVlcnMgPSBjbG9zYWJsZVBlZXJzXG4gICAgICAuZmlsdGVyKFxuICAgICAgICByZW1vdGVQZWVyID0+IHJlbW90ZVBlZXIuZ2V0SWQoKSAhPT0gYmVzdFJvdXRlckxpbmsuZ2V0SWQoKVxuICAgICAgKTtcbiAgfVxuXG4gIGNvbnN0IGNsb3NhYmxlQ29ubmVjdGlvbnMgPSBjbG9zYWJsZVBlZXJzXG4gICAgLmFnZ3JlZ2F0ZUNvbm5lY3Rpb25zKFxuICAgICAgdGFibGUgPT4gdGFibGVcbiAgICAgICAgLmZpbHRlckRpcmVjdERhdGEoKVxuICAgICAgICAuZmlsdGVyQnlTdGF0ZXMoQ29ubmVjdGlvblN0YXRlLk9QRU4pXG4gICAgKVxuICAgIC5zb3J0QnkoXG4gICAgICBjb25uZWN0aW9uID0+IHtcbiAgICAgICAgaWYgKGNvbm5lY3Rpb24uZ2V0TWV0ZXIoKS5pc1Byb3RlY3RlZCgpKSB7XG4gICAgICAgICAgcmV0dXJuIDEuMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gY29ubmVjdGlvbi5nZXRNZXRlcigpLmdldFF1YWxpdHkobWl0b3Npcy5nZXRQZWVyTWFuYWdlcigpLmdldFBlZXJUYWJsZSgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG5cbiAgY29uc3Qgb3Zlck1pbkdvYWwgPSBNYXRoLm1heChjbG9zYWJsZUNvbm5lY3Rpb25zLmxlbmd0aCAtIG1pbkdvYWwsIDApO1xuICBjb25zdCBvdmVyTWF4R29hbCA9IE1hdGgubWF4KGRpcmVjdENvbm5lY3Rpb25zLmxlbmd0aCAtIG1heEdvYWwsIDApO1xuICBjb25zdCBzYWZlQ2xvc2FibGVDb25uZWN0aW9uQ291bnQgPSBNYXRoLm1pbihvdmVyTWluR29hbCwgb3Zlck1heEdvYWwsIGNvdW50KTtcblxuICBpZiAoc2FmZUNsb3NhYmxlQ29ubmVjdGlvbkNvdW50ID4gMCkge1xuICAgIGNsb3NhYmxlQ29ubmVjdGlvbnNcbiAgICAgIC5zbGljZSgwLCBzYWZlQ2xvc2FibGVDb25uZWN0aW9uQ291bnQpXG4gICAgICAuZm9yRWFjaChcbiAgICAgICAgKGNvbm5lY3Rpb246IElDb25uZWN0aW9uKSA9PiB7XG4gICAgICAgICAgTG9nZ2VyLmdldExvZ2dlcihtaXRvc2lzLmdldE15QWRkcmVzcygpLmdldElkKCkpXG4gICAgICAgICAgICAuZGVidWcoYGxvb3Npbmcgd29yc3QgY29ubmVjdGlvbiAke2Nvbm5lY3Rpb24uZ2V0QWRkcmVzcygpLmdldElkKCl9YCwgY29ubmVjdGlvbik7XG4gICAgICAgICAgY29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICApO1xuICB9IGVsc2Uge1xuICAgIExvZ2dlci5nZXRMb2dnZXIobWl0b3Npcy5nZXRNeUFkZHJlc3MoKS5nZXRJZCgpKVxuICAgICAgLndhcm4oYGNhbiBub3QgbG9vc2UgcGVlcnMgYmVjYXVzZSBubyBjbG9zYWJsZSBjb25uZWN0aW9uIGlzIGF2YWlsYWJsZWApO1xuICB9XG59XG4iLCJpbXBvcnQge0Nvbm5lY3Rpb25TdGF0ZX0gZnJvbSAnLi4vLi4vY29ubmVjdGlvbi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtNaXRvc2lzfSBmcm9tICcuLi8uLi9taXRvc2lzJztcbmltcG9ydCB7bG9vc2VEaXJlY3RDb25uZWN0aW9uc30gZnJvbSAnLi9sb29zZS1kaXJlY3QtY29ubmVjdGlvbnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlU3VwZXJmbHVvdXNDb25uZWN0aW9ucyhtaXRvc2lzOiBNaXRvc2lzKTogdm9pZCB7XG4gIGNvbnN0IGNvbmZpZ3VyYXRpb24gPSBtaXRvc2lzLmdldFJvbGVNYW5hZ2VyKCkuZ2V0Q29uZmlndXJhdGlvbigpO1xuXG4gIGNvbnN0IGRpcmVjdENvbm5lY3Rpb25Db3VudCA9IG1pdG9zaXNcbiAgICAuZ2V0UGVlck1hbmFnZXIoKVxuICAgIC5nZXRQZWVyVGFibGUoKVxuICAgIC5jb3VudENvbm5lY3Rpb25zKFxuICAgICAgdGFibGUgPT4gdGFibGVcbiAgICAgICAgLmZpbHRlckRpcmVjdERhdGEoKVxuICAgICAgICAuZmlsdGVyQnlTdGF0ZXMoQ29ubmVjdGlvblN0YXRlLk9QRU4pXG4gICAgKTtcblxuICBjb25zdCBzdXBlcmZsdW91c0Nvbm5lY3Rpb25Db3VudCA9IGRpcmVjdENvbm5lY3Rpb25Db3VudCAtIGNvbmZpZ3VyYXRpb24uRElSRUNUX0NPTk5FQ1RJT05TX0dPQUxfTUFYO1xuXG4gIGxvb3NlRGlyZWN0Q29ubmVjdGlvbnMobWl0b3Npcywgc3VwZXJmbHVvdXNDb25uZWN0aW9uQ291bnQpO1xufVxuIiwiaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuLi8uLi9tZXNzYWdlL2FkZHJlc3MnO1xuaW1wb3J0IHtDb25uZWN0aW9uTmVnb3RpYXRpb25UeXBlfSBmcm9tICcuLi8uLi9tZXNzYWdlL2Nvbm5lY3Rpb24tbmVnb3RpYXRpb24nO1xuaW1wb3J0IHtNZXNzYWdlU3ViamVjdH0gZnJvbSAnLi4vLi4vbWVzc2FnZS9pbnRlcmZhY2UnO1xuaW1wb3J0IHtNZXNzYWdlfSBmcm9tICcuLi8uLi9tZXNzYWdlL21lc3NhZ2UnO1xuaW1wb3J0IHtNaXRvc2lzLCBQcm90b2NvbH0gZnJvbSAnLi4vLi4vbWl0b3Npcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0U3RyZWFtQ29ubmVjdGlvbihtaXRvc2lzOiBNaXRvc2lzKTogdm9pZCB7XG4gIGNvbnN0IGFjdGl2ZWx5U3RyZWFtaW5nID0gbWl0b3Npc1xuICAgIC5nZXRTdHJlYW1NYW5hZ2VyKClcbiAgICAuZ2V0Q2hhbm5lbFRhYmxlKClcbiAgICAuaGFzKFxuICAgICAgY2hhbm5lbCA9PiBjaGFubmVsLmlzQWN0aXZlKClcbiAgICApO1xuXG4gIGlmIChhY3RpdmVseVN0cmVhbWluZykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIG1pdG9zaXNcbiAgICAuZ2V0U3RyZWFtTWFuYWdlcigpXG4gICAgLmdldENoYW5uZWxUYWJsZSgpXG4gICAgLm1hcChcbiAgICAgIGNoYW5uZWwgPT4gY2hhbm5lbFxuICAgICAgICAuZ2V0UHJvdmlkZXJUYWJsZSgpXG4gICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgcHJvdmlkZXIgPT5cbiAgICAgICAgICAgIHByb3ZpZGVyLmdldENhcGFjaXR5KCkgPiAwICYmXG4gICAgICAgICAgICBwcm92aWRlci5nZXRQZWVySWQoKSAhPT0gbWl0b3Npcy5nZXRNeUFkZHJlc3MoKS5nZXRJZCgpXG4gICAgICAgIClcbiAgICAgICAgLm1hcChcbiAgICAgICAgICBwcm92aWRlciA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge3BlZXJJZDogcHJvdmlkZXIuZ2V0UGVlcklkKCksIGNoYW5uZWxJZDogY2hhbm5lbC5nZXRJZCgpfTtcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICApXG4gICAgLnJlZHVjZShcbiAgICAgIChwcmV2aW91cywgY3VycmVudCkgPT4gcHJldmlvdXMuY29uY2F0KGN1cnJlbnQpLCBbXVxuICAgIClcbiAgICAuZm9yRWFjaChcbiAgICAgIChpbnRlcmVzdDogeyBwZWVySWQ6IHN0cmluZywgY2hhbm5lbElkOiBzdHJpbmcgfSkgPT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE1lc3NhZ2UoXG4gICAgICAgICAgbmV3IEFkZHJlc3MobWl0b3Npcy5nZXRNeUFkZHJlc3MoKS5nZXRJZCgpLCBQcm90b2NvbC5XRUJSVENfU1RSRUFNKSxcbiAgICAgICAgICBuZXcgQWRkcmVzcyhpbnRlcmVzdC5wZWVySWQpLFxuICAgICAgICAgIE1lc3NhZ2VTdWJqZWN0LkNPTk5FQ1RJT05fTkVHT1RJQVRJT04sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogQ29ubmVjdGlvbk5lZ290aWF0aW9uVHlwZS5SRVFVRVNULFxuICAgICAgICAgICAgY2hhbm5lbElkOiBpbnRlcmVzdC5jaGFubmVsSWRcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIG1pdG9zaXMuZ2V0UGVlck1hbmFnZXIoKS5zZW5kTWVzc2FnZShyZXF1ZXN0KTtcbiAgICAgIH1cbiAgICApO1xufVxuIiwiaW1wb3J0IHtQcm90b2NvbH0gZnJvbSAnLi4vLi4vY29ubmVjdGlvbi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtMb2dnZXJ9IGZyb20gJy4uLy4uL2xvZ2dlci9sb2dnZXInO1xuaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuLi8uLi9tZXNzYWdlL2FkZHJlc3MnO1xuaW1wb3J0IHtNaXRvc2lzfSBmcm9tICcuLi8uLi9taXRvc2lzJztcbmltcG9ydCB7UmVtb3RlUGVlcn0gZnJvbSAnLi4vLi4vcGVlci9yZW1vdGUtcGVlcic7XG5pbXBvcnQge1JvbGVUeXBlfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgZnVuY3Rpb24gYWNxdWlyZURpcmVjdENvbm5lY3Rpb25zKG1pdG9zaXM6IE1pdG9zaXMsIGNvdW50OiBudW1iZXIpOiBBcnJheTxQcm9taXNlPFJlbW90ZVBlZXI+PiB7XG4gIGlmIChjb3VudCA8IDEpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBjb25zdCBwZWVyVGFibGUgPSBtaXRvc2lzXG4gICAgLmdldFBlZXJNYW5hZ2VyKClcbiAgICAuZ2V0UGVlclRhYmxlKCk7XG5cbiAgbGV0IHZpYVBlZXJzID0gcGVlclRhYmxlXG4gICAgLmZpbHRlckNvbm5lY3Rpb25zKFxuICAgICAgdGFibGUgPT4gdGFibGUuZmlsdGVyQnlQcm90b2NvbChQcm90b2NvbC5WSUEpXG4gICAgKVxuICAgIC5maWx0ZXJCeVJvbGUoUm9sZVR5cGUuUEVFUilcbiAgICAuZXhjbHVkZShcbiAgICAgIHRhYmxlID0+IHRhYmxlXG4gICAgICAgIC5maWx0ZXJDb25uZWN0aW9ucyhcbiAgICAgICAgICBjb25uZWN0aW9uVGFibGUgPT4gY29ubmVjdGlvblRhYmxlLmZpbHRlckRpcmVjdERhdGEoKVxuICAgICAgICApXG4gICAgKTtcblxuICBpZiAodmlhUGVlcnMubGVuZ3RoIDw9IDEpIHtcbiAgICB2aWFQZWVycyA9IHBlZXJUYWJsZVxuICAgICAgLmZpbHRlckNvbm5lY3Rpb25zKFxuICAgICAgICB0YWJsZSA9PiB0YWJsZS5maWx0ZXJCeVByb3RvY29sKFByb3RvY29sLlZJQSwgUHJvdG9jb2wuVklBX01VTFRJKVxuICAgICAgKVxuICAgICAgLmZpbHRlckJ5Um9sZShSb2xlVHlwZS5QRUVSKVxuICAgICAgLmV4Y2x1ZGUoXG4gICAgICAgIHRhYmxlID0+IHRhYmxlXG4gICAgICAgICAgLmZpbHRlckNvbm5lY3Rpb25zKFxuICAgICAgICAgICAgY29ubmVjdGlvblRhYmxlID0+IGNvbm5lY3Rpb25UYWJsZS5maWx0ZXJEaXJlY3REYXRhKClcbiAgICAgICAgICApXG4gICAgICApO1xuICB9XG5cbiAgdmlhUGVlcnMuZXhjbHVkZShcbiAgICB0YWJsZSA9PiB0YWJsZS5maWx0ZXIoXG4gICAgICBwZWVyID0+IHtcbiAgICAgICAgcmV0dXJuIHBlZXIuZ2V0TWV0ZXIoKS5nZXRBdmVyYWdlQ29ubmVjdGlvblB1bmlzaG1lbnQoKSA8IDA7XG4gICAgICB9XG4gICAgKVxuICApO1xuXG4gIHJldHVybiB2aWFQZWVyc1xuICAgIC5zb3J0QnkoXG4gICAgICAocGVlcjogUmVtb3RlUGVlcikgPT5cbiAgICAgICAgcGVlci5nZXRNZXRlcigpLmdldEFjcXVpc2l0aW9uUXVhbGl0eShwZWVyVGFibGUpXG4gICAgKVxuICAgIC5yZXZlcnNlKClcbiAgICAuc2xpY2UoMCwgY291bnQpXG4gICAgLm1hcChcbiAgICAgIChwZWVyOiBSZW1vdGVQZWVyKSA9PiB7XG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSBuZXcgQWRkcmVzcyhwZWVyLmdldElkKCksIFByb3RvY29sLldFQlJUQ19EQVRBKTtcbiAgICAgICAgTG9nZ2VyLmdldExvZ2dlcihtaXRvc2lzLmdldE15QWRkcmVzcygpLmdldElkKCkpXG4gICAgICAgICAgLmRlYnVnKGBjb25uZWN0aW5nIHRvICR7cGVlci5nZXRJZCgpfSB3aXRoIHF1YWxpdHkgJHtwZWVyLmdldE1ldGVyKCkuZ2V0UXVhbGl0eShtaXRvc2lzLmdldFBlZXJNYW5hZ2VyKCkuZ2V0UGVlclRhYmxlKCkpfWAsIHBlZXIpO1xuICAgICAgICByZXR1cm4gbWl0b3Npc1xuICAgICAgICAgIC5nZXRQZWVyTWFuYWdlcigpXG4gICAgICAgICAgLmNvbm5lY3RUbyhhZGRyZXNzKVxuICAgICAgICAgIC5jYXRjaChcbiAgICAgICAgICAgIGVyciA9PlxuICAgICAgICAgICAgICBMb2dnZXIuZ2V0TG9nZ2VyKG1pdG9zaXMuZ2V0TXlBZGRyZXNzKCkuZ2V0SWQoKSlcbiAgICAgICAgICAgICAgICAuZGVidWcoYGNhbiBub3QgYWNxdWlyZSAke3BlZXIuZ2V0SWQoKX1gLCBlcnIpXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICApO1xufVxuIiwiaW1wb3J0IHtDb25uZWN0aW9uU3RhdGV9IGZyb20gJy4uLy4uL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcbmltcG9ydCB7TG9nZ2VyfSBmcm9tICcuLi8uLi9sb2dnZXIvbG9nZ2VyJztcbmltcG9ydCB7TWl0b3Npc30gZnJvbSAnLi4vLi4vbWl0b3Npcyc7XG5pbXBvcnQge2FjcXVpcmVEaXJlY3RDb25uZWN0aW9uc30gZnJvbSAnLi9hY3F1aXJlLWRpcmVjdC1jb25uZWN0aW9ucyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXRpc2Z5Q29ubmVjdGlvbkdvYWwobWl0b3NpczogTWl0b3Npcyk6IHZvaWQge1xuICBjb25zdCBjb25maWd1cmF0aW9uID0gbWl0b3Npcy5nZXRSb2xlTWFuYWdlcigpLmdldENvbmZpZ3VyYXRpb24oKTtcblxuICBjb25zdCBkaXJlY3RDb25uZWN0aW9uQ291bnQgPSBtaXRvc2lzXG4gICAgLmdldFBlZXJNYW5hZ2VyKClcbiAgICAuZ2V0UGVlclRhYmxlKClcbiAgICAuY291bnRDb25uZWN0aW9ucyhcbiAgICAgIHRhYmxlID0+IHRhYmxlXG4gICAgICAgIC5maWx0ZXJEaXJlY3REYXRhKClcbiAgICAgICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOLCBDb25uZWN0aW9uU3RhdGUuT1BFTklORylcbiAgICApO1xuXG4gIGNvbnN0IGJvb3N0ID0gbWl0b3Npcy5nZXRQZWVyTWFuYWdlcigpLmdldEFjcXVpc2l0aW9uQm9vc3QoKTtcbiAgY29uc3QgYWNxdWlzaXRpb25Hb2FsID0gKFxuICAgIGNvbmZpZ3VyYXRpb24uRElSRUNUX0NPTk5FQ1RJT05TX0dPQUxfTUlOIC0gZGlyZWN0Q29ubmVjdGlvbkNvdW50ICsgYm9vc3RcbiAgKTtcblxuICBpZiAoYWNxdWlzaXRpb25Hb2FsID4gMCkge1xuICAgIExvZ2dlci5nZXRMb2dnZXIobWl0b3Npcy5nZXRNeUFkZHJlc3MoKS5nZXRJZCgpKVxuICAgICAgLmRlYnVnKFxuICAgICAgICBgbmVlZCB0byBhY3F1aXJlICR7YWNxdWlzaXRpb25Hb2FsfSBwZWVyc2AsXG4gICAgICAgIGBtaW4gZ29hbCBpcyAke2NvbmZpZ3VyYXRpb24uRElSRUNUX0NPTk5FQ1RJT05TX0dPQUxfTUlOfWAsXG4gICAgICAgIGBib29zdCBpcyAke2Jvb3N0fWAsXG4gICAgICAgIGBhbHJlYWR5IGhhdmUgJHtkaXJlY3RDb25uZWN0aW9uQ291bnR9IGNvbm5lY3Rpb25zYFxuICAgICAgKTtcbiAgICBjb25zdCBwcm9taXNlcyA9IGFjcXVpcmVEaXJlY3RDb25uZWN0aW9ucyhtaXRvc2lzLCBhY3F1aXNpdGlvbkdvYWwpO1xuICAgIFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgLmNhdGNoKFxuICAgICAgICByZWFzb24gPT5cbiAgICAgICAgICBMb2dnZXIuZ2V0TG9nZ2VyKG1pdG9zaXMuZ2V0TXlBZGRyZXNzKCkuZ2V0SWQoKSlcbiAgICAgICAgICAgIC53YXJuKCdjb3VsZCBub3Qgc2F0aXNmeSBjb25uZWN0aW9uIGdvYWwnLCByZWFzb24pXG4gICAgICApO1xuICB9XG59XG4iLCJpbXBvcnQge0Nvbm5lY3Rpb25TdGF0ZSwgTG9nZ2VyLCBNaXRvc2lzfSBmcm9tICcuLi8uLi9taXRvc2lzJztcbmltcG9ydCB7YWNxdWlyZURpcmVjdENvbm5lY3Rpb25zfSBmcm9tICcuL2FjcXVpcmUtZGlyZWN0LWNvbm5lY3Rpb25zJztcbmltcG9ydCB7bG9vc2VEaXJlY3RDb25uZWN0aW9uc30gZnJvbSAnLi9sb29zZS1kaXJlY3QtY29ubmVjdGlvbnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gdHJ5T3RoZXJQZWVycyhtaXRvc2lzOiBNaXRvc2lzKTogdm9pZCB7XG4gIGNvbnN0IGNvbmZpZ3VyYXRpb24gPSBtaXRvc2lzLmdldFJvbGVNYW5hZ2VyKCkuZ2V0Q29uZmlndXJhdGlvbigpO1xuXG4gIGNvbnN0IHBlZXJUYWJsZSA9IG1pdG9zaXNcbiAgICAuZ2V0UGVlck1hbmFnZXIoKVxuICAgIC5nZXRQZWVyVGFibGUoKTtcblxuICBjb25zdCBkaXJlY3RDb25uZWN0aW9ucyA9IHBlZXJUYWJsZVxuICAgIC5hZ2dyZWdhdGVDb25uZWN0aW9ucyhcbiAgICAgIGNvbm5lY3Rpb25UYWJsZSA9PiBjb25uZWN0aW9uVGFibGVcbiAgICAgICAgLmZpbHRlckRpcmVjdERhdGEoKVxuICAgICAgICAuZmlsdGVyQnlTdGF0ZXMoQ29ubmVjdGlvblN0YXRlLk9QRU4sIENvbm5lY3Rpb25TdGF0ZS5PUEVOSU5HKVxuICAgICk7XG5cbiAgY29uc3QgZGlyZWN0Q29ubmVjdGlvbkNvdW50ID0gZGlyZWN0Q29ubmVjdGlvbnMubGVuZ3RoO1xuICBjb25zdCBvcGVuaW5nQ29ubmVjdGlvbkNvdW50ID0gZGlyZWN0Q29ubmVjdGlvbnNcbiAgICAuZmlsdGVyQnlTdGF0ZXMoQ29ubmVjdGlvblN0YXRlLk9QRU5JTkcpXG4gICAgLmxlbmd0aDtcblxuICBpZiAoXG4gICAgZGlyZWN0Q29ubmVjdGlvbkNvdW50IDwgY29uZmlndXJhdGlvbi5ESVJFQ1RfQ09OTkVDVElPTlNfR09BTF9NSU4gfHxcbiAgICBvcGVuaW5nQ29ubmVjdGlvbkNvdW50ID4gMFxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBhY3F1aXNpdGlvbkdvYWwgPSBNYXRoLm1pbihcbiAgICBjb25maWd1cmF0aW9uLlRSWV9PVEhFUl9QRUVSU19DT1VOVCArIG1pdG9zaXMuZ2V0UGVlck1hbmFnZXIoKS5nZXRBY3F1aXNpdGlvbkJvb3N0KCksXG4gICAgY29uZmlndXJhdGlvbi5ESVJFQ1RfQ09OTkVDVElPTlNfTUFYIC0gZGlyZWN0Q29ubmVjdGlvbkNvdW50XG4gICk7XG5cbiAgY29uc3QgcHJvbWlzZXMgPSBhY3F1aXJlRGlyZWN0Q29ubmVjdGlvbnMobWl0b3NpcywgYWNxdWlzaXRpb25Hb2FsKTtcbiAgcHJvbWlzZXNcbiAgICAuZm9yRWFjaChcbiAgICAgIHByb21pc2UgPT4gcHJvbWlzZVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgY29uc3QgbmV3RGlyZWN0Q29ubmVjdGlvbkNvdW50ID0gcGVlclRhYmxlXG4gICAgICAgICAgICAuY291bnRDb25uZWN0aW9ucyhcbiAgICAgICAgICAgICAgY29ubmVjdGlvblRhYmxlID0+IGNvbm5lY3Rpb25UYWJsZVxuICAgICAgICAgICAgICAgIC5maWx0ZXJEaXJlY3REYXRhKClcbiAgICAgICAgICAgICAgICAuZmlsdGVyQnlTdGF0ZXMoQ29ubmVjdGlvblN0YXRlLk9QRU4sIENvbm5lY3Rpb25TdGF0ZS5PUEVOSU5HKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAobmV3RGlyZWN0Q29ubmVjdGlvbkNvdW50ID4gZGlyZWN0Q29ubmVjdGlvbkNvdW50KSB7XG4gICAgICAgICAgICBsb29zZURpcmVjdENvbm5lY3Rpb25zKG1pdG9zaXMsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKFxuICAgICAgICAgIHJlYXNvbiA9PlxuICAgICAgICAgICAgTG9nZ2VyLmdldExvZ2dlcihtaXRvc2lzLmdldE15QWRkcmVzcygpLmdldElkKCkpXG4gICAgICAgICAgICAgIC53YXJuKCdjb3VsZCBub3QgdHJ5IG5ldyBwZWVycycsIHJlYXNvbilcbiAgICAgICAgKVxuICAgICk7XG59XG4iLCJpbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi4vLi4vbG9nZ2VyL2xvZ2dlcic7XG5pbXBvcnQge01pdG9zaXN9IGZyb20gJy4uLy4uL21pdG9zaXMnO1xuaW1wb3J0IHtSb2xlVHlwZX0gZnJvbSAnLi4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGRlZ3JhZGVUb1BlZXIobWl0b3NpczogTWl0b3Npcyk6IHZvaWQge1xuICBjb25zdCByb2xlTWFuYWdlciA9IG1pdG9zaXMuZ2V0Um9sZU1hbmFnZXIoKTtcblxuICBjb25zdCBub1NpZ25hbCA9IG1pdG9zaXMuZ2V0UGVlclRhYmxlKCkuZmlsdGVyQnlSb2xlKFJvbGVUeXBlLlNJR05BTCkubGVuZ3RoID09PSAwO1xuICBpZiAocm9sZU1hbmFnZXIuaGFzUm9sZShSb2xlVHlwZS5ST1VURVIpICYmIG5vU2lnbmFsKSB7XG4gICAgTG9nZ2VyLmdldExvZ2dlcihtaXRvc2lzLmdldE15QWRkcmVzcygpLmdldElkKCkpLmRlYnVnKCdsb3N0IHNpZ25hbCBjb25uZWN0aW9uJyk7XG4gICAgcm9sZU1hbmFnZXIucmVtb3ZlUm9sZShSb2xlVHlwZS5ST1VURVIpO1xuICB9XG59XG4iLCJpbXBvcnQge0Nvbm5lY3Rpb25TdGF0ZX0gZnJvbSAnLi4vLi4vY29ubmVjdGlvbi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuLi8uLi9tZXNzYWdlL2FkZHJlc3MnO1xuaW1wb3J0IHtQZWVyVXBkYXRlfSBmcm9tICcuLi8uLi9tZXNzYWdlL3BlZXItdXBkYXRlJztcbmltcG9ydCB7TWl0b3Npc30gZnJvbSAnLi4vLi4vbWl0b3Npcyc7XG5pbXBvcnQge1JvbGVUeXBlfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xuXG5leHBvcnQgZnVuY3Rpb24gcHVibGlzaFNpZ25hbEFuZFJvdXRlclVwZGF0ZShtaXRvc2lzOiBNaXRvc2lzKTogdm9pZCB7XG4gIC8vIFRoaXMgdXBkYXRlIGlzIHNlbnQgYmV0d2VlbiBzaWduYWxzIGFuZCByb3V0ZXJzXG5cbiAgY29uc3Qgc2lnbmFsc0FuZFJvdXRlcnMgPSBtaXRvc2lzXG4gICAgLmdldFBlZXJNYW5hZ2VyKClcbiAgICAuZ2V0UGVlclRhYmxlKClcbiAgICAuZmlsdGVyQnlSb2xlKFJvbGVUeXBlLlNJR05BTCwgUm9sZVR5cGUuUk9VVEVSKVxuICAgIC5maWx0ZXJDb25uZWN0aW9ucyhcbiAgICAgIHRhYmxlID0+IHRhYmxlXG4gICAgICAgIC5maWx0ZXJEaXJlY3REYXRhKClcbiAgICAgICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOKVxuICAgICk7XG5cbiAgc2lnbmFsc0FuZFJvdXRlcnNcbiAgICAuZm9yRWFjaChwZWVyID0+IG1pdG9zaXNcbiAgICAgIC5nZXRQZWVyTWFuYWdlcigpXG4gICAgICAuc2VuZE1lc3NhZ2UoXG4gICAgICAgIG5ldyBQZWVyVXBkYXRlKFxuICAgICAgICAgIG1pdG9zaXMuZ2V0TXlBZGRyZXNzKCksXG4gICAgICAgICAgbmV3IEFkZHJlc3MocGVlci5nZXRJZCgpKSxcbiAgICAgICAgICBzaWduYWxzQW5kUm91dGVycyxcbiAgICAgICAgICBtaXRvc2lzLmdldFBlZXJNYW5hZ2VyKCkuZ2V0UGVlclRhYmxlKClcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG59XG4iLCJpbXBvcnQge0FkZHJlc3N9IGZyb20gJy4vYWRkcmVzcyc7XG5pbXBvcnQge0lGbG9vZGFibGVNZXNzYWdlLCBNZXNzYWdlU3ViamVjdH0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtNZXNzYWdlfSBmcm9tICcuL21lc3NhZ2UnO1xuXG5leHBvcnQgY2xhc3MgUm91dGVyQWxpdmUgZXh0ZW5kcyBNZXNzYWdlIGltcGxlbWVudHMgSUZsb29kYWJsZU1lc3NhZ2Uge1xuICBwcm90ZWN0ZWQgX2JvZHk6IHsgc2VxdWVuY2U6IG51bWJlciB9O1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihzZW5kZXI6IEFkZHJlc3MsIHJlY2VpdmVyOiBBZGRyZXNzLCBib2R5OiB7IHNlcXVlbmNlOiBudW1iZXIgfSkge1xuICAgIHN1cGVyKHNlbmRlciwgcmVjZWl2ZXIsIE1lc3NhZ2VTdWJqZWN0LlJPVVRFUl9BTElWRSwgbnVsbCk7XG4gICAgdGhpcy5fYm9keSA9IGJvZHk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Qm9keSgpOiB7IHNlcXVlbmNlOiBudW1iZXIgfSB7XG4gICAgcmV0dXJuIHRoaXMuX2JvZHk7XG4gIH1cbn1cbiIsImltcG9ydCB7Q29uZmlndXJhdGlvbk1hcH0gZnJvbSAnLi4vLi4vY29uZmlndXJhdGlvbic7XG5pbXBvcnQge0FkZHJlc3N9IGZyb20gJy4uLy4uL21lc3NhZ2UvYWRkcmVzcyc7XG5pbXBvcnQge1JvdXRlckFsaXZlfSBmcm9tICcuLi8uLi9tZXNzYWdlL3JvdXRlci1hbGl2ZSc7XG5pbXBvcnQge01pdG9zaXMsIFJvbGVUeXBlfSBmcm9tICcuLi8uLi9taXRvc2lzJztcbmltcG9ydCB7Um91dGVyfSBmcm9tICcuLi9yb3V0ZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VuZFJvdXRlckFsaXZlKG1pdG9zaXM6IE1pdG9zaXMpOiB2b2lkIHtcbiAgY29uc3Qgcm91dGVyOiBSb3V0ZXIgPSBtaXRvc2lzXG4gICAgLmdldFJvbGVNYW5hZ2VyKClcbiAgICAuZ2V0Um9sZShSb2xlVHlwZS5ST1VURVIpIGFzIFJvdXRlcjtcblxuICBpZiAoIXJvdXRlcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHNlcXVlbmNlTnVtYmVyID0gcm91dGVyLm5leHRTZXF1ZW5jZU51bWJlcigpO1xuXG4gIG1pdG9zaXMuZ2V0UGVlck1hbmFnZXIoKS5zZW5kTWVzc2FnZShuZXcgUm91dGVyQWxpdmUoXG4gICAgbWl0b3Npcy5nZXRNeUFkZHJlc3MoKSxcbiAgICBuZXcgQWRkcmVzcyhDb25maWd1cmF0aW9uTWFwLmdldERlZmF1bHQoKS5CUk9BRENBU1RfQUREUkVTUyksXG4gICAge3NlcXVlbmNlOiBzZXF1ZW5jZU51bWJlcn1cbiAgKSk7XG59XG4iLCJpbXBvcnQge1JvbGVUeXBlfSBmcm9tICcuLi9yb2xlL2ludGVyZmFjZSc7XG5pbXBvcnQge0FkZHJlc3N9IGZyb20gJy4vYWRkcmVzcyc7XG5pbXBvcnQge01lc3NhZ2VTdWJqZWN0fSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQge01lc3NhZ2V9IGZyb20gJy4vbWVzc2FnZSc7XG5cbmV4cG9ydCBjbGFzcyBSb2xlVXBkYXRlIGV4dGVuZHMgTWVzc2FnZSB7XG4gIHByb3RlY3RlZCBfYm9keTogQXJyYXk8Um9sZVR5cGU+O1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihzZW5kZXI6IEFkZHJlc3MsIHJlY2VpdmVyOiBBZGRyZXNzLCByb2xlczogQXJyYXk8Um9sZVR5cGU+KSB7XG4gICAgc3VwZXIoc2VuZGVyLCByZWNlaXZlciwgTWVzc2FnZVN1YmplY3QuUk9MRV9VUERBVEUsIHJvbGVzKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRCb2R5KCk6IEFycmF5PFJvbGVUeXBlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2JvZHk7XG4gIH1cbn1cbiIsImltcG9ydCB7Q29uZmlndXJhdGlvbk1hcH0gZnJvbSAnLi4vLi4vY29uZmlndXJhdGlvbic7XG5pbXBvcnQge0Nvbm5lY3Rpb25TdGF0ZX0gZnJvbSAnLi4vLi4vY29ubmVjdGlvbi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtBZGRyZXNzfSBmcm9tICcuLi8uLi9tZXNzYWdlL2FkZHJlc3MnO1xuaW1wb3J0IHtNZXNzYWdlU3ViamVjdH0gZnJvbSAnLi4vLi4vbWVzc2FnZS9pbnRlcmZhY2UnO1xuaW1wb3J0IHtNZXNzYWdlfSBmcm9tICcuLi8uLi9tZXNzYWdlL21lc3NhZ2UnO1xuaW1wb3J0IHtQZWVyVXBkYXRlfSBmcm9tICcuLi8uLi9tZXNzYWdlL3BlZXItdXBkYXRlJztcbmltcG9ydCB7Um9sZVVwZGF0ZX0gZnJvbSAnLi4vLi4vbWVzc2FnZS9yb2xlLXVwZGF0ZSc7XG5pbXBvcnQge01pdG9zaXN9IGZyb20gJy4uLy4uL21pdG9zaXMnO1xuaW1wb3J0IHtSZW1vdGVQZWVyVGFibGV9IGZyb20gJy4uLy4uL3BlZXIvcmVtb3RlLXBlZXItdGFibGUnO1xuaW1wb3J0IHtSb2xlVHlwZX0gZnJvbSAnLi4vaW50ZXJmYWNlJztcblxuZnVuY3Rpb24gcHJvbW90ZVRvUm9sZXMoYWRkcmVzczogQWRkcmVzcywgcm9sZXM6IEFycmF5PFJvbGVUeXBlPiwgbWl0b3NpczogTWl0b3Npcyk6IHZvaWQge1xuICBjb25zdCBleGlzdGluZ1BlZXIgPSBtaXRvc2lzXG4gICAgLmdldFBlZXJNYW5hZ2VyKClcbiAgICAuZ2V0UGVlckJ5SWQoYWRkcmVzcy5nZXRJZCgpKTtcblxuICBleGlzdGluZ1BlZXIuc2V0Um9sZXMocm9sZXMpO1xuXG4gIGNvbnN0IHJvbGVVcGRhdGUgPSBuZXcgUm9sZVVwZGF0ZShcbiAgICBtaXRvc2lzLmdldE15QWRkcmVzcygpLFxuICAgIGFkZHJlc3MsXG4gICAgcm9sZXNcbiAgKTtcbiAgbWl0b3Npcy5nZXRQZWVyTWFuYWdlcigpLnNlbmRNZXNzYWdlKHJvbGVVcGRhdGUpO1xufVxuXG5mdW5jdGlvbiBzZW5kRXhpc3RpbmdSb3V0ZXJzKGFkZHJlc3M6IEFkZHJlc3MsIHJvdXRlcnM6IFJlbW90ZVBlZXJUYWJsZSwgbWl0b3NpczogTWl0b3Npcyk6IHZvaWQge1xuICBjb25zdCB0YWJsZVVwZGF0ZSA9IG5ldyBQZWVyVXBkYXRlKFxuICAgIG1pdG9zaXMuZ2V0TXlBZGRyZXNzKCksXG4gICAgYWRkcmVzcyxcbiAgICByb3V0ZXJzLFxuICAgIG1pdG9zaXMuZ2V0UGVlck1hbmFnZXIoKS5nZXRQZWVyVGFibGUoKVxuICApO1xuICBtaXRvc2lzLmdldFBlZXJNYW5hZ2VyKCkuc2VuZE1lc3NhZ2UodGFibGVVcGRhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb25ib2FyZE5ld2JpZShtaXRvc2lzOiBNaXRvc2lzLCBtZXNzYWdlOiBNZXNzYWdlKTogdm9pZCB7XG4gIGNvbnN0IHNlbmRlciA9IG1lc3NhZ2UuZ2V0U2VuZGVyKCk7XG4gIGNvbnN0IHJvdXRlcnMgPSBtaXRvc2lzXG4gICAgLmdldFBlZXJNYW5hZ2VyKClcbiAgICAuZ2V0UGVlclRhYmxlKClcbiAgICAuZmlsdGVyQnlSb2xlKFJvbGVUeXBlLlJPVVRFUilcbiAgICAuZmlsdGVyQ29ubmVjdGlvbnMoXG4gICAgICB0YWJsZSA9PiB0YWJsZVxuICAgICAgICAuZmlsdGVyRGlyZWN0KClcbiAgICAgICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOLCBDb25uZWN0aW9uU3RhdGUuT1BFTklORylcbiAgICApO1xuICBjb25zdCBzZW5kZXJJc1JvdXRlciA9IHJvdXRlcnMuZmlsdGVyKHBlZXIgPT4gcGVlci5nZXRJZCgpID09PSBzZW5kZXIuZ2V0SWQoKSkubGVuZ3RoO1xuXG4gIGlmIChtZXNzYWdlLmdldFN1YmplY3QoKSA9PT0gTWVzc2FnZVN1YmplY3QuSU5UUk9EVUNUSU9OKSB7XG4gICAgaWYgKHNlbmRlcklzUm91dGVyIHx8IHJvdXRlcnMubGVuZ3RoIDwgQ29uZmlndXJhdGlvbk1hcC5nZXREZWZhdWx0KCkuTUFYX1JPVVRFUlNfUEVSX1NJR05BTCkge1xuICAgICAgcHJvbW90ZVRvUm9sZXMoc2VuZGVyLCBbUm9sZVR5cGUuUEVFUiwgUm9sZVR5cGUuUk9VVEVSXSwgbWl0b3Npcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb21vdGVUb1JvbGVzKHNlbmRlciwgW1JvbGVUeXBlLlBFRVJdLCBtaXRvc2lzKTtcbiAgICB9XG4gICAgc2VuZEV4aXN0aW5nUm91dGVycyhzZW5kZXIsIHJvdXRlcnMsIG1pdG9zaXMpO1xuICB9XG59XG4iLCJpbXBvcnQge0lSb2xlQ29uc3RydWN0b3IsIFJvbGVUeXBlfSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQge05ld2JpZX0gZnJvbSAnLi9uZXdiaWUnO1xuaW1wb3J0IHtQZWVyfSBmcm9tICcuL3BlZXInO1xuaW1wb3J0IHtSb3V0ZXJ9IGZyb20gJy4vcm91dGVyJztcbmltcG9ydCB7U2lnbmFsfSBmcm9tICcuL3NpZ25hbCc7XG5cbmV4cG9ydCBjb25zdCBSb2xlVHlwZU1hcDogTWFwPFJvbGVUeXBlLCBJUm9sZUNvbnN0cnVjdG9yPiA9IG5ldyBNYXAoKTtcblJvbGVUeXBlTWFwLnNldChSb2xlVHlwZS5QRUVSLCBQZWVyKTtcblJvbGVUeXBlTWFwLnNldChSb2xlVHlwZS5ORVdCSUUsIE5ld2JpZSk7XG5Sb2xlVHlwZU1hcC5zZXQoUm9sZVR5cGUuUk9VVEVSLCBSb3V0ZXIpO1xuUm9sZVR5cGVNYXAuc2V0KFJvbGVUeXBlLlNJR05BTCwgU2lnbmFsKTtcbiIsImltcG9ydCB7TWVzc2FnZX0gZnJvbSAnLi4vbWVzc2FnZS9tZXNzYWdlJztcbmltcG9ydCB7SVRhc2tTY2hlZHVsZSwgTWl0b3NpcywgVGFza1BoYXNlfSBmcm9tICcuLi9taXRvc2lzJztcbmltcG9ydCB7SVJvbGV9IGZyb20gJy4vaW50ZXJmYWNlJztcbmltcG9ydCB7QWJzdHJhY3RSb2xlfSBmcm9tICcuL3JvbGUnO1xuaW1wb3J0IHtjbG9zZUR1cGxpY2F0ZUNvbm5lY3Rpb25zfSBmcm9tICcuL3Rhc2svY2xvc2UtZHVwbGljYXRlLWNvbm5lY3Rpb25zJztcbmltcG9ydCB7ZGVncmFkZVRvTmV3YmllfSBmcm9tICcuL3Rhc2svZGVncmFkZS10by1uZXdiaWUnO1xuaW1wb3J0IHtlbnN1cmVSb3V0ZXJDb25uZWN0aW9ufSBmcm9tICcuL3Rhc2svZW5zdXJlLXJvdXRlci1jb25uZWN0aW9uJztcbmltcG9ydCB7cHVibGlzaENoYW5uZWxBbm5vdW5jZW1lbnR9IGZyb20gJy4vdGFzay9wdWJsaXNoLWNoYW5uZWwtYW5ub3VuY2VtZW50JztcbmltcG9ydCB7cHVibGlzaFBlZXJBbGl2ZX0gZnJvbSAnLi90YXNrL3B1Ymxpc2gtcGVlci1hbGl2ZSc7XG5pbXBvcnQge3B1Ymxpc2hQZWVyVXBkYXRlfSBmcm9tICcuL3Rhc2svcHVibGlzaC1wZWVyLXVwZGF0ZSc7XG5pbXBvcnQge3JlbW92ZUV4cGlyZWRDb25uZWN0aW9uc30gZnJvbSAnLi90YXNrL3JlbW92ZS1leHBpcmVkLWNvbm5lY3Rpb25zJztcbmltcG9ydCB7cmVtb3ZlU2lnbmFsfSBmcm9tICcuL3Rhc2svcmVtb3ZlLXNpZ25hbCc7XG5pbXBvcnQge3JlbW92ZVN1cGVyZmx1b3VzQ29ubmVjdGlvbnN9IGZyb20gJy4vdGFzay9yZW1vdmUtc3VwZXJmbHVvdXMtY29ubmVjdGlvbnMnO1xuaW1wb3J0IHtyZXF1ZXN0U3RyZWFtQ29ubmVjdGlvbn0gZnJvbSAnLi90YXNrL3JlcXVlc3Qtc3RyZWFtLWNvbm5lY3Rpb24nO1xuaW1wb3J0IHtzYXRpc2Z5Q29ubmVjdGlvbkdvYWx9IGZyb20gJy4vdGFzay9zYXRpc2Z5LWNvbm5lY3Rpb24tZ29hbCc7XG5pbXBvcnQge3NlbmRBbHRlcm5hdGl2ZXN9IGZyb20gJy4vdGFzay9zZW5kLWFsdGVybmF0aXZlcyc7XG5pbXBvcnQge3RyeU90aGVyUGVlcnN9IGZyb20gJy4vdGFzay90cnktb3RoZXItcGVlcnMnO1xuXG5leHBvcnQgY2xhc3MgUGVlciBleHRlbmRzIEFic3RyYWN0Um9sZSBpbXBsZW1lbnRzIElSb2xlIHtcblxuICBwdWJsaWMgZ2V0VGFza1NjaGVkdWxlKCk6IEFycmF5PElUYXNrU2NoZWR1bGU+IHtcbiAgICByZXR1cm4gW1xuICAgICAge3BoYXNlOiBUYXNrUGhhc2UuQ0xFQU4sIGludGVydmFsOiAxLCB0YXNrOiByZW1vdmVTaWduYWx9LFxuICAgICAge3BoYXNlOiBUYXNrUGhhc2UuQ0xFQU4sIGludGVydmFsOiAxLCB0YXNrOiBjbG9zZUR1cGxpY2F0ZUNvbm5lY3Rpb25zfSxcbiAgICAgIHtwaGFzZTogVGFza1BoYXNlLkNMRUFOLCBpbnRlcnZhbDogMSwgdGFzazogcmVtb3ZlRXhwaXJlZENvbm5lY3Rpb25zfSxcbiAgICAgIHtwaGFzZTogVGFza1BoYXNlLkNMRUFOLCBpbnRlcnZhbDogMSwgdGFzazogcmVtb3ZlU3VwZXJmbHVvdXNDb25uZWN0aW9uc30sXG4gICAgICB7cGhhc2U6IFRhc2tQaGFzZS5DTEVBTiwgaW50ZXJ2YWw6IDEsIHRhc2s6IGRlZ3JhZGVUb05ld2JpZX0sXG4gICAgICB7cGhhc2U6IFRhc2tQaGFzZS5DTEVBTiwgaW50ZXJ2YWw6IDEsIHRhc2s6IGVuc3VyZVJvdXRlckNvbm5lY3Rpb259LFxuXG4gICAgICB7cGhhc2U6IFRhc2tQaGFzZS5BQ1FVSVJFLCBpbnRlcnZhbDogMSwgdGFzazogc2F0aXNmeUNvbm5lY3Rpb25Hb2FsfSxcbiAgICAgIHtwaGFzZTogVGFza1BoYXNlLkFDUVVJUkUsIGludGVydmFsOiAxLCB0YXNrOiByZXF1ZXN0U3RyZWFtQ29ubmVjdGlvbn0sXG4gICAgICB7cGhhc2U6IFRhc2tQaGFzZS5BQ1FVSVJFLCBpbnRlcnZhbDogNjAsIHRhc2s6IHRyeU90aGVyUGVlcnN9LFxuXG4gICAgICB7cGhhc2U6IFRhc2tQaGFzZS5QVUJMSVNILCBpbnRlcnZhbDogNCwgdGFzazogcHVibGlzaFBlZXJVcGRhdGV9LFxuICAgICAge3BoYXNlOiBUYXNrUGhhc2UuUFVCTElTSCwgaW50ZXJ2YWw6IDIsIHRhc2s6IHB1Ymxpc2hDaGFubmVsQW5ub3VuY2VtZW50fSxcbiAgICAgIHtwaGFzZTogVGFza1BoYXNlLlBVQkxJU0gsIGludGVydmFsOiA0LCB0YXNrOiBwdWJsaXNoUGVlckFsaXZlfVxuICAgIF07XG4gIH1cblxuICBwdWJsaWMgb25Jbml0KG1pdG9zaXM6IE1pdG9zaXMpOiB2b2lkIHtcbiAgICBtaXRvc2lzLmdldFBlZXJNYW5hZ2VyKCkuYWN0aXZhdGVBY3F1aXNpdGlvbkJvb3N0KCk7XG4gIH1cblxuICBwdWJsaWMgb25NZXNzYWdlKG1pdG9zaXM6IE1pdG9zaXMsIG1lc3NhZ2U6IE1lc3NhZ2UpOiB2b2lkIHtcbiAgICBzZW5kQWx0ZXJuYXRpdmVzKG1pdG9zaXMsIG1lc3NhZ2UpO1xuICB9XG59XG4iLCJpbXBvcnQge0Nvbm5lY3Rpb25TdGF0ZX0gZnJvbSAnLi4vLi4vY29ubmVjdGlvbi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtNZXNzYWdlU3ViamVjdH0gZnJvbSAnLi4vLi4vbWVzc2FnZS9pbnRlcmZhY2UnO1xuaW1wb3J0IHtNZXNzYWdlfSBmcm9tICcuLi8uLi9tZXNzYWdlL21lc3NhZ2UnO1xuaW1wb3J0IHtNaXRvc2lzfSBmcm9tICcuLi8uLi9taXRvc2lzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRBbHRlcm5hdGl2ZXMobWl0b3NpczogTWl0b3NpcywgbWVzc2FnZTogTWVzc2FnZSkge1xuICBjb25zdCBjb25maWd1cmF0aW9uID0gbWl0b3Npcy5nZXRSb2xlTWFuYWdlcigpLmdldENvbmZpZ3VyYXRpb24oKTtcblxuICBjb25zdCBwZWVyTWFuYWdlciA9IG1pdG9zaXMuZ2V0UGVlck1hbmFnZXIoKTtcbiAgaWYgKG1lc3NhZ2UuZ2V0U3ViamVjdCgpICE9PSBNZXNzYWdlU3ViamVjdC5DT05ORUNUSU9OX05FR09USUFUSU9OIHx8XG4gICAgbWVzc2FnZS5nZXRSZWNlaXZlcigpLmdldElkKCkgIT09IHBlZXJNYW5hZ2VyLmdldE15SWQoKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGRpcmVjdENvbm5lY3Rpb25zID0gcGVlck1hbmFnZXJcbiAgICAuZ2V0UGVlclRhYmxlKClcbiAgICAuY291bnRDb25uZWN0aW9ucyhcbiAgICAgIHRhYmxlID0+IHRhYmxlXG4gICAgICAgIC5maWx0ZXJEaXJlY3REYXRhKClcbiAgICAgICAgLmZpbHRlckJ5U3RhdGVzKENvbm5lY3Rpb25TdGF0ZS5PUEVOKVxuICAgICk7XG5cbiAgaWYgKGRpcmVjdENvbm5lY3Rpb25zID49IGNvbmZpZ3VyYXRpb24uRElSRUNUX0NPTk5FQ1RJT05TX01BWCkge1xuICAgIHBlZXJNYW5hZ2VyXG4gICAgICAuZ2V0UGVlclRhYmxlKClcbiAgICAgIC5maWx0ZXJCeUlkKG1lc3NhZ2UuZ2V0U2VuZGVyKCkuZ2V0SWQoKSlcbiAgICAgIC5leGNsdWRlKFxuICAgICAgICB0YWJsZSA9PiB0YWJsZS5maWx0ZXJDb25uZWN0aW9ucyhcbiAgICAgICAgICBwZWVyID0+IHBlZXJcbiAgICAgICAgICAgIC5maWx0ZXJEaXJlY3REYXRhKClcbiAgICAgICAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTilcbiAgICAgICAgKVxuICAgICAgKVxuICAgICAgLmZvckVhY2goXG4gICAgICAgIHBlZXIgPT4gcGVlck1hbmFnZXIuc2VuZFBlZXJTdWdnZXN0aW9uKHBlZXIuZ2V0SWQoKSlcbiAgICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCB7SVRhc2tTY2hlZHVsZSwgVGFza1BoYXNlfSBmcm9tICcuLi9taXRvc2lzJztcbmltcG9ydCB7UmVtb3RlUGVlcn0gZnJvbSAnLi4vcGVlci9yZW1vdGUtcGVlcic7XG5pbXBvcnQge0lSb2xlLCBSb2xlVHlwZX0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtBYnN0cmFjdFJvbGV9IGZyb20gJy4vcm9sZSc7XG5pbXBvcnQge3NlbmRJbnRyb2R1Y3Rpb259IGZyb20gJy4vdGFzay9zZW5kLWludHJvZHVjdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBOZXdiaWUgZXh0ZW5kcyBBYnN0cmFjdFJvbGUgaW1wbGVtZW50cyBJUm9sZSB7XG5cbiAgcHVibGljIGdldFRhc2tTY2hlZHVsZSgpOiBBcnJheTxJVGFza1NjaGVkdWxlPiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtwaGFzZTogVGFza1BoYXNlLlBVQkxJU0gsIGludGVydmFsOiAxLCB0YXNrOiBzZW5kSW50cm9kdWN0aW9ufVxuICAgIF07XG4gIH1cblxuICBwdWJsaWMgcmVxdWlyZXNQZWVyKHJlbW90ZVBlZXI6IFJlbW90ZVBlZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gcmVtb3RlUGVlci5oYXNSb2xlKFJvbGVUeXBlLlNJR05BTCk7XG4gIH1cbn1cbiIsImltcG9ydCB7UmVtb3RlUGVlcn0gZnJvbSAnLi4vcGVlci9yZW1vdGUtcGVlcic7XG5pbXBvcnQge0lSb2xlLCBJVGFza1NjaGVkdWxlLCBSb2xlVHlwZSwgVGFza1BoYXNlfSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQge0Fic3RyYWN0Um9sZX0gZnJvbSAnLi9yb2xlJztcbmltcG9ydCB7ZGVncmFkZVRvUGVlcn0gZnJvbSAnLi90YXNrL2RlZ3JhZGUtdG8tcGVlcic7XG5pbXBvcnQge3B1Ymxpc2hTaWduYWxBbmRSb3V0ZXJVcGRhdGV9IGZyb20gJy4vdGFzay9wdWJsaXNoLXNpZ25hbC1hbmQtcm91dGVyLXVwZGF0ZSc7XG5pbXBvcnQge3NlbmRSb3V0ZXJBbGl2ZX0gZnJvbSAnLi90YXNrL3NlbmQtcm91dGVyLWFsaXZlJztcblxuZXhwb3J0IGNsYXNzIFJvdXRlciBleHRlbmRzIEFic3RyYWN0Um9sZSBpbXBsZW1lbnRzIElSb2xlIHtcblxuICBwcml2YXRlIF9zZXF1ZW5jZU51bWJlciA9IDE7XG5cbiAgcHVibGljIGdldFRhc2tTY2hlZHVsZSgpOiBBcnJheTxJVGFza1NjaGVkdWxlPiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtwaGFzZTogVGFza1BoYXNlLkNMRUFOLCBpbnRlcnZhbDogMSwgdGFzazogZGVncmFkZVRvUGVlcn0sXG5cbiAgICAgIHtwaGFzZTogVGFza1BoYXNlLlBVQkxJU0gsIGludGVydmFsOiA0LCB0YXNrOiBwdWJsaXNoU2lnbmFsQW5kUm91dGVyVXBkYXRlfSxcbiAgICAgIHtwaGFzZTogVGFza1BoYXNlLlBVQkxJU0gsIGludGVydmFsOiA0LCB0YXNrOiBzZW5kUm91dGVyQWxpdmV9XG4gICAgXTtcbiAgfVxuXG4gIHB1YmxpYyByZXF1aXJlc1BlZXIocmVtb3RlUGVlcjogUmVtb3RlUGVlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiByZW1vdGVQZWVyLmhhc1JvbGUoUm9sZVR5cGUuU0lHTkFMKTtcbiAgfVxuXG4gIHB1YmxpYyBuZXh0U2VxdWVuY2VOdW1iZXIoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fc2VxdWVuY2VOdW1iZXIrKztcbiAgfVxufVxuIiwiaW1wb3J0IHtNZXNzYWdlfSBmcm9tICcuLi9tZXNzYWdlL21lc3NhZ2UnO1xuaW1wb3J0IHtNaXRvc2lzfSBmcm9tICcuLi9taXRvc2lzJztcbmltcG9ydCB7UmVtb3RlUGVlcn0gZnJvbSAnLi4vcGVlci9yZW1vdGUtcGVlcic7XG5pbXBvcnQge0lSb2xlLCBJVGFza1NjaGVkdWxlLCBSb2xlVHlwZSwgVGFza1BoYXNlfSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQge0Fic3RyYWN0Um9sZX0gZnJvbSAnLi9yb2xlJztcbmltcG9ydCB7b25ib2FyZE5ld2JpZX0gZnJvbSAnLi90YXNrL29uYm9hcmQtbmV3YmllJztcbmltcG9ydCB7cHVibGlzaFNpZ25hbEFuZFJvdXRlclVwZGF0ZX0gZnJvbSAnLi90YXNrL3B1Ymxpc2gtc2lnbmFsLWFuZC1yb3V0ZXItdXBkYXRlJztcblxuZXhwb3J0IGNsYXNzIFNpZ25hbCBleHRlbmRzIEFic3RyYWN0Um9sZSBpbXBsZW1lbnRzIElSb2xlIHtcblxuICBwdWJsaWMgZ2V0VGFza1NjaGVkdWxlKCk6IEFycmF5PElUYXNrU2NoZWR1bGU+IHtcbiAgICByZXR1cm4gW1xuICAgICAge3BoYXNlOiBUYXNrUGhhc2UuUFVCTElTSCwgaW50ZXJ2YWw6IDQsIHRhc2s6IHB1Ymxpc2hTaWduYWxBbmRSb3V0ZXJVcGRhdGV9XG4gICAgXTtcbiAgfVxuXG4gIHB1YmxpYyBvbk1lc3NhZ2UobWl0b3NpczogTWl0b3NpcywgbWVzc2FnZTogTWVzc2FnZSk6IHZvaWQge1xuICAgIG9uYm9hcmROZXdiaWUobWl0b3NpcywgbWVzc2FnZSk7XG4gIH1cblxuICBwdWJsaWMgcmVxdWlyZXNQZWVyKHJlbW90ZVBlZXI6IFJlbW90ZVBlZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gcmVtb3RlUGVlci5oYXNSb2xlKFJvbGVUeXBlLlJPVVRFUik7XG4gIH1cbn1cbiIsImltcG9ydCB7U3ViamVjdH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge0NvbmZpZ3VyYXRpb24sIENvbmZpZ3VyYXRpb25NYXB9IGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHtMb2dnZXJ9IGZyb20gJy4uL2xvZ2dlci9sb2dnZXInO1xuaW1wb3J0IHtJTWVzc2FnZX0gZnJvbSAnLi4vbWVzc2FnZS9pbnRlcmZhY2UnO1xuaW1wb3J0IHtSb2xlVXBkYXRlfSBmcm9tICcuLi9tZXNzYWdlL3JvbGUtdXBkYXRlJztcbmltcG9ydCB7Q2h1cm5UeXBlLCBJQ29ubmVjdGlvbiwgSVJvbGVDaHVybkV2ZW50LCBNaXRvc2lzLCBPYnNlcnZhYmxlTWFwfSBmcm9tICcuLi9taXRvc2lzJztcbmltcG9ydCB7UmVtb3RlUGVlcn0gZnJvbSAnLi4vcGVlci9yZW1vdGUtcGVlcic7XG5pbXBvcnQge0lSb2xlLCBSb2xlUHJpb3JpdHlNYXAsIFJvbGVUeXBlfSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQge1JvbGVUeXBlTWFwfSBmcm9tICcuL3JvbGUtbWFwJztcblxuZXhwb3J0IGNsYXNzIFJvbGVNYW5hZ2VyIHtcblxuICBwcml2YXRlIHJlYWRvbmx5IF9teUlkOiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgX3JvbGVzOiBPYnNlcnZhYmxlTWFwPFJvbGVUeXBlLCBJUm9sZT47XG4gIHByaXZhdGUgcmVhZG9ubHkgX3JvbGVDaHVyblN1YmplY3Q6IFN1YmplY3Q8SVJvbGVDaHVybkV2ZW50PjtcblxuICBwdWJsaWMgY29uc3RydWN0b3IobXlJZDogc3RyaW5nLCByb2xlczogQXJyYXk8Um9sZVR5cGU+KSB7XG4gICAgdGhpcy5fbXlJZCA9IG15SWQ7XG4gICAgdGhpcy5fcm9sZXMgPSBuZXcgT2JzZXJ2YWJsZU1hcCgpO1xuICAgIHRoaXMuX3JvbGVDaHVyblN1YmplY3QgPSBuZXcgU3ViamVjdCgpO1xuICAgIHJvbGVzLmZvckVhY2goKHIpID0+IHRoaXMuYWRkUm9sZShyKSk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldENvbmZpZ3VyYXRpb25Gb3JSb2xlcyhyb2xlczogQXJyYXk8Um9sZVR5cGU+KTogQ29uZmlndXJhdGlvbiB7XG4gICAgcmV0dXJuIHJvbGVzXG4gICAgICAubWFwKHJvbGVUeXBlID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwcmlvcml0eTogUm9sZVByaW9yaXR5TWFwLmdldChyb2xlVHlwZSksXG4gICAgICAgICAgY29uZmlnOiBDb25maWd1cmF0aW9uTWFwLmdldChyb2xlVHlwZSlcbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgICAucmVkdWNlKFxuICAgICAgICAocHJldmlvdXMsIGN1cnJlbnQpID0+IHByZXZpb3VzLnByaW9yaXR5IDwgY3VycmVudC5wcmlvcml0eSA/IGN1cnJlbnQgOiBwcmV2aW91cyxcbiAgICAgICAge3ByaW9yaXR5OiAwLCBjb25maWc6IENvbmZpZ3VyYXRpb25NYXAuZ2V0RGVmYXVsdCgpfVxuICAgICAgKS5jb25maWc7XG4gIH1cblxuICBwdWJsaWMgYWRkUm9sZShyb2xlVHlwZTogUm9sZVR5cGUpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuX3JvbGVzLmhhcyhyb2xlVHlwZSkpIHtcbiAgICAgIGNvbnN0IHJvbGVDbGFzcyA9IFJvbGVUeXBlTWFwLmdldChyb2xlVHlwZSk7XG4gICAgICBjb25zdCByb2xlOiBJUm9sZSA9IG5ldyByb2xlQ2xhc3MoKTtcbiAgICAgIHRoaXMuX3JvbGVzLnNldChyb2xlVHlwZSwgcm9sZSk7XG4gICAgICB0aGlzLl9yb2xlQ2h1cm5TdWJqZWN0Lm5leHQoe3R5cGU6IENodXJuVHlwZS5BRERFRCwgcm9sZTogcm9sZVR5cGV9KTtcbiAgICAgIExvZ2dlci5nZXRMb2dnZXIodGhpcy5fbXlJZCkuaW5mbyhgYWRkZWQgcm9sZSAke3JvbGVUeXBlfWAsIGBub3cgaGF2ZSByb2xlczogJHt0aGlzLmdldFJvbGVzKCl9YCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlbW92ZVJvbGUocm9sZVR5cGU6IFJvbGVUeXBlKTogdm9pZCB7XG4gICAgdGhpcy5fcm9sZXMuZGVsZXRlKHJvbGVUeXBlKTtcbiAgICB0aGlzLl9yb2xlQ2h1cm5TdWJqZWN0Lm5leHQoe3R5cGU6IENodXJuVHlwZS5SRU1PVkVELCByb2xlOiByb2xlVHlwZX0pO1xuICAgIExvZ2dlci5nZXRMb2dnZXIodGhpcy5fbXlJZCkuaW5mbyhgcmVtb3ZlZCByb2xlICR7cm9sZVR5cGV9YCwgYGxlZnQgd2l0aCByb2xlczogJHt0aGlzLmdldFJvbGVzKCl9YCk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlUm9sZXMocm9sZVVwZGF0ZTogUm9sZVVwZGF0ZSk6IHZvaWQge1xuICAgIC8vIFRPRE86IE9ubHkgYWNjZXB0IHJvbGUgdXBkYXRlIGZyb20gc3VwZXJpb3JcbiAgICBjb25zdCByb2xlVHlwZXM6IEFycmF5PFJvbGVUeXBlPiA9IHJvbGVVcGRhdGUuZ2V0Qm9keSgpO1xuICAgIHRoaXMuX3JvbGVzLmZvckVhY2goKHJvbGUsIHJvbGVUeXBlKSA9PiB7XG4gICAgICBpZiAocm9sZVR5cGVzLmluZGV4T2Yocm9sZVR5cGUpID09PSAtMSkge1xuICAgICAgICB0aGlzLnJlbW92ZVJvbGUocm9sZVR5cGUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJvbGVUeXBlcy5mb3JFYWNoKHJvbGVUeXBlID0+IHtcbiAgICAgIHRoaXMuYWRkUm9sZShyb2xlVHlwZSk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgb25UaWNrKG1pdG9zaXM6IE1pdG9zaXMpOiB2b2lkIHtcbiAgICB0aGlzLl9yb2xlc1xuICAgICAgLnZhbHVlc0FzTGlzdCgpXG4gICAgICAuZm9yRWFjaChcbiAgICAgICAgcm9sZSA9PiB7XG4gICAgICAgICAgaWYgKCFyb2xlLmlzSW5pdGlhbGl6ZWQoKSkge1xuICAgICAgICAgICAgcm9sZS5vbkluaXQobWl0b3Npcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuICAgIHRoaXMuX3JvbGVzXG4gICAgICAuZW50cmllc0FzTGlzdCgpXG4gICAgICAubWFwKFxuICAgICAgICBlbnRyeSA9PlxuICAgICAgICAgIGVudHJ5WzFdXG4gICAgICAgICAgICAuZ2V0VGFza1NjaGVkdWxlKClcbiAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgIHNjaGVkdWxlID0+XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7dHlwZTogZW50cnlbMF0sIHJvbGU6IGVudHJ5WzFdfSwgc2NoZWR1bGUpXG4gICAgICAgICAgICApXG4gICAgICApXG4gICAgICAucmVkdWNlKFxuICAgICAgICAocHJldmlvdXMsIGN1cnJlbnQpID0+IHByZXZpb3VzLmNvbmNhdChjdXJyZW50KSwgW11cbiAgICAgIClcbiAgICAgIC5maWx0ZXIoXG4gICAgICAgIHNjaGVkdWxlID0+IG1pdG9zaXMuZ2V0Q2xvY2soKS5nZXRUaWNrKCkgJSBzY2hlZHVsZS5pbnRlcnZhbCA9PT0gMFxuICAgICAgKVxuICAgICAgLnNvcnQoXG4gICAgICAgIHNjaGVkdWxlID0+IHtcbiAgICAgICAgICBjb25zdCByb2xlUHJpb3JpdHkgPSBSb2xlUHJpb3JpdHlNYXAuZ2V0KHNjaGVkdWxlLnR5cGUpO1xuICAgICAgICAgIGNvbnN0IHBoYXNlUHJpb3JpdHkgPSBzY2hlZHVsZS5waGFzZTtcbiAgICAgICAgICByZXR1cm4gcGhhc2VQcmlvcml0eSAqIDEwMCArIHJvbGVQcmlvcml0eTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgLnJldmVyc2UoKVxuICAgICAgLmZvckVhY2goXG4gICAgICAgIHNjaGVkdWxlID0+IHNjaGVkdWxlLnRhc2sobWl0b3NpcylcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgb25NZXNzYWdlKG1pdG9zaXM6IE1pdG9zaXMsIG1lc3NhZ2U6IElNZXNzYWdlKTogdm9pZCB7XG4gICAgdGhpcy5fcm9sZXMuZm9yRWFjaChyb2xlID0+IHJvbGUub25NZXNzYWdlKG1pdG9zaXMsIG1lc3NhZ2UpKTtcbiAgfVxuXG4gIHB1YmxpYyBvbkNvbm5lY3Rpb25PcGVuKG1pdG9zaXM6IE1pdG9zaXMsIGNvbm5lY3Rpb246IElDb25uZWN0aW9uKTogdm9pZCB7XG4gICAgdGhpcy5fcm9sZXMuZm9yRWFjaChyb2xlID0+IHJvbGUub25Db25uZWN0aW9uT3BlbihtaXRvc2lzLCBjb25uZWN0aW9uKSk7XG4gIH1cblxuICBwdWJsaWMgb25Db25uZWN0aW9uQ2xvc2UobWl0b3NpczogTWl0b3NpcywgY29ubmVjdGlvbjogSUNvbm5lY3Rpb24pOiB2b2lkIHtcbiAgICB0aGlzLl9yb2xlcy5mb3JFYWNoKHJvbGUgPT4gcm9sZS5vbkNvbm5lY3Rpb25DbG9zZShtaXRvc2lzLCBjb25uZWN0aW9uKSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q29uZmlndXJhdGlvbigpOiBDb25maWd1cmF0aW9uIHtcbiAgICByZXR1cm4gUm9sZU1hbmFnZXIuZ2V0Q29uZmlndXJhdGlvbkZvclJvbGVzKEFycmF5LmZyb20odGhpcy5fcm9sZXMua2V5cygpKSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Um9sZXNSZXF1aXJpbmdQZWVyKHJlbW90ZVBlZXI6IFJlbW90ZVBlZXIpOiBBcnJheTxSb2xlVHlwZT4ge1xuICAgIHJldHVybiB0aGlzLmdldFJvbGVzKClcbiAgICAgIC5maWx0ZXIoXG4gICAgICAgIHJvbGVUeXBlID0+IHRoaXMuX3JvbGVzLmdldChyb2xlVHlwZSkucmVxdWlyZXNQZWVyKHJlbW90ZVBlZXIpXG4gICAgICApO1xuICB9XG5cbiAgcHVibGljIGdldFJvbGVzKCk6IEFycmF5PFJvbGVUeXBlPiB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fcm9sZXMua2V5cygpKTtcbiAgfVxuXG4gIHB1YmxpYyBoYXNSb2xlKC4uLnJvbGVUeXBlczogQXJyYXk8Um9sZVR5cGU+KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Um9sZXMoKVxuICAgICAgLmZpbHRlcihyb2xlVHlwZSA9PiByb2xlVHlwZXMuaW5kZXhPZihyb2xlVHlwZSkgPj0gMClcbiAgICAgIC5sZW5ndGggPiAwO1xuICB9XG5cbiAgcHVibGljIGdldFJvbGUocm9sZVR5cGU6IFJvbGVUeXBlKTogSVJvbGUge1xuICAgIHJldHVybiB0aGlzLl9yb2xlcy5nZXQocm9sZVR5cGUpO1xuICB9XG5cbiAgcHVibGljIG9ic2VydmVSb2xlQ2h1cm4oKTogU3ViamVjdDxJUm9sZUNodXJuRXZlbnQ+IHtcbiAgICByZXR1cm4gdGhpcy5fcm9sZUNodXJuU3ViamVjdDtcbiAgfVxuXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGNvdW50OiB0aGlzLl9yb2xlcy5zaXplLFxuICAgICAgICByb2xlVHlwZXM6IEFycmF5LmZyb20odGhpcy5fcm9sZXMua2V5cygpKVxuICAgICAgfSxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIDJcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5fcm9sZXMuY2xlYXIoKTtcbiAgICB0aGlzLl9yb2xlQ2h1cm5TdWJqZWN0LmNvbXBsZXRlKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7U3ViamVjdH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge0NodXJuVHlwZX0gZnJvbSAnLi4vaW50ZXJmYWNlJztcbmltcG9ydCB7SVN0cmVhbUNodXJuRXZlbnR9IGZyb20gJy4vaW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIFByb3ZpZGVyIHtcblxuICBwcml2YXRlIHJlYWRvbmx5IF9wZWVySWQ6IHN0cmluZztcbiAgcHJpdmF0ZSBfc3RyZWFtOiBNZWRpYVN0cmVhbTtcbiAgcHJpdmF0ZSBfaXNTb3VyY2U6IGJvb2xlYW47XG4gIHByaXZhdGUgX2NhcGFjaXR5OiBudW1iZXI7XG4gIHByaXZhdGUgX3N0cmVhbUNodXJuU3ViamVjdDogU3ViamVjdDxJU3RyZWFtQ2h1cm5FdmVudD47XG5cbiAgY29uc3RydWN0b3IocGVlcklkOiBzdHJpbmcsIGNhcGFjaXR5ID0gMCkge1xuICAgIHRoaXMuX3BlZXJJZCA9IHBlZXJJZDtcbiAgICB0aGlzLl9jYXBhY2l0eSA9IGNhcGFjaXR5O1xuICAgIHRoaXMuX3N0cmVhbUNodXJuU3ViamVjdCA9IG5ldyBTdWJqZWN0KCk7XG4gIH1cblxuICBwdWJsaWMgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuX3N0cmVhbSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N0cmVhbS5hY3RpdmU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRJc1NvdXJjZSgpOiB2b2lkIHtcbiAgICB0aGlzLl9pc1NvdXJjZSA9IHRydWU7XG4gIH1cblxuICBwdWJsaWMgc2V0SXNTaW5rKCk6IHZvaWQge1xuICAgIHRoaXMuX2lzU291cmNlID0gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgaXNTb3VyY2UoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuX3N0cmVhbSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2lzU291cmNlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgaXNTaW5rKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLl9zdHJlYW0pIHtcbiAgICAgIHJldHVybiAhdGhpcy5faXNTb3VyY2U7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBpc0xpdmUoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuX3N0cmVhbSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N0cmVhbVxuICAgICAgICAuZ2V0VHJhY2tzKClcbiAgICAgICAgLm1hcChcbiAgICAgICAgICAodHJhY2s6IE1lZGlhU3RyZWFtVHJhY2spID0+IHRyYWNrLnJlYWR5U3RhdGUgPT09ICdsaXZlJ1xuICAgICAgICApXG4gICAgICAgIC5pbmNsdWRlcyh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHVibGljIGlzTG9jYWwoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuX3N0cmVhbSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N0cmVhbVxuICAgICAgICAuZ2V0VHJhY2tzKClcbiAgICAgICAgLm1hcChcbiAgICAgICAgICAodHJhY2s6IE1lZGlhU3RyZWFtVHJhY2spID0+ICF0cmFjay5yZW1vdGVcbiAgICAgICAgKVxuICAgICAgICAuaW5jbHVkZXModHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQZWVySWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fcGVlcklkO1xuICB9XG5cbiAgcHVibGljIGdldFN0cmVhbUlkKCk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMuX3N0cmVhbSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N0cmVhbS5pZDtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ2V0U3RyZWFtKCk6IE1lZGlhU3RyZWFtIHtcbiAgICByZXR1cm4gdGhpcy5fc3RyZWFtO1xuICB9XG5cbiAgcHVibGljIHNldFN0cmVhbSh2YWx1ZTogTWVkaWFTdHJlYW0pOiB2b2lkIHtcbiAgICB0aGlzLl9zdHJlYW1DaHVyblN1YmplY3QubmV4dChcbiAgICAgIHtcbiAgICAgICAgdHlwZTogQ2h1cm5UeXBlLkFEREVELFxuICAgICAgICBzdHJlYW06IHZhbHVlLFxuICAgICAgICBjaGFubmVsSWQ6IG51bGxcbiAgICAgIH1cbiAgICApO1xuICAgIHRoaXMuX3N0cmVhbSA9IHZhbHVlO1xuICB9XG5cbiAgcHVibGljIGdldENhcGFjaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcGFjaXR5O1xuICB9XG5cbiAgcHVibGljIHNldENhcGFjaXR5KHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9jYXBhY2l0eSA9IHZhbHVlO1xuICB9XG5cbiAgcHVibGljIG9ic2VydmVTdHJlYW1DaHVybigpOiBTdWJqZWN0PElTdHJlYW1DaHVybkV2ZW50PiB7XG4gICAgcmV0dXJuIHRoaXMuX3N0cmVhbUNodXJuU3ViamVjdDtcbiAgfVxuXG4gIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9zdHJlYW0pIHtcbiAgICAgIHRoaXMuX3N0cmVhbVxuICAgICAgICAuZ2V0VHJhY2tzKClcbiAgICAgICAgLmZvckVhY2goXG4gICAgICAgICAgdHJhY2sgPT4gdHJhY2suc3RvcCgpXG4gICAgICAgICk7XG4gICAgICB0aGlzLl9zdHJlYW1DaHVyblN1YmplY3QubmV4dChcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IENodXJuVHlwZS5SRU1PVkVELFxuICAgICAgICAgIHN0cmVhbTogdGhpcy5fc3RyZWFtLFxuICAgICAgICAgIGNoYW5uZWxJZDogbnVsbFxuICAgICAgICB9XG4gICAgICApO1xuICAgICAgdGhpcy5fc3RyZWFtID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5fc3RyZWFtQ2h1cm5TdWJqZWN0LmNvbXBsZXRlKCk7XG4gIH1cblxuICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBpZDogdGhpcy5fcGVlcklkLFxuICAgICAgICBjYXBhY2l0eTogdGhpcy5fY2FwYWNpdHksXG4gICAgICAgIHN0cmVhbTogdGhpcy5nZXRTdHJlYW1JZCgpLFxuICAgICAgICBhY3RpdmU6IHRoaXMuaXNBY3RpdmUoKSxcbiAgICAgICAgbGl2ZTogdGhpcy5pc0xpdmUoKSxcbiAgICAgICAgbG9jYWw6IHRoaXMuaXNMb2NhbCgpXG4gICAgICB9LFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgMlxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCB7U3ViamVjdH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge0lDaGFubmVsQW5ub3VuY2VtZW50fSBmcm9tICcuLi9tZXNzYWdlL2ludGVyZmFjZSc7XG5pbXBvcnQge0lPYnNlcnZhYmxlTWFwRXZlbnQsIE9ic2VydmFibGVNYXB9IGZyb20gJy4uL3V0aWwvb2JzZXJ2YWJsZS1tYXAnO1xuaW1wb3J0IHtUYWJsZVZpZXd9IGZyb20gJy4uL3V0aWwvdGFibGUtdmlldyc7XG5pbXBvcnQge0lTdHJlYW1DaHVybkV2ZW50fSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQge1Byb3ZpZGVyfSBmcm9tICcuL3Byb3ZpZGVyJztcblxuZXhwb3J0IGNsYXNzIENoYW5uZWwge1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgX2lkOiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgX3Byb3ZpZGVyUGVySWQ6IE9ic2VydmFibGVNYXA8c3RyaW5nLCBQcm92aWRlcj47XG4gIHByaXZhdGUgcmVhZG9ubHkgX3N0cmVhbUNodXJuU3ViamVjdDogU3ViamVjdDxJU3RyZWFtQ2h1cm5FdmVudD47XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9pZCA9IGlkO1xuICAgIHRoaXMuX3Byb3ZpZGVyUGVySWQgPSBuZXcgT2JzZXJ2YWJsZU1hcCgpO1xuICAgIHRoaXMuX3N0cmVhbUNodXJuU3ViamVjdCA9IG5ldyBTdWJqZWN0KCk7XG4gIH1cblxuICBwdWJsaWMgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb3ZpZGVyUGVySWRcbiAgICAgIC5hc1RhYmxlKClcbiAgICAgIC5oYXMoXG4gICAgICAgIHByb3ZpZGVyID0+IHByb3ZpZGVyLmlzQWN0aXZlKClcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgZ2V0SWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5faWQ7XG4gIH1cblxuICBwdWJsaWMgaXNMaXZlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9wcm92aWRlclBlcklkXG4gICAgICAuYXNUYWJsZSgpXG4gICAgICAuaGFzKFxuICAgICAgICBwcm92aWRlciA9PiBwcm92aWRlci5pc0xpdmUoKVxuICAgICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBhZGRQcm92aWRlcihwcm92aWRlcjogUHJvdmlkZXIpOiB2b2lkIHtcbiAgICBwcm92aWRlci5vYnNlcnZlU3RyZWFtQ2h1cm4oKVxuICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgKGV2OiBJU3RyZWFtQ2h1cm5FdmVudCkgPT4gdGhpcy5fc3RyZWFtQ2h1cm5TdWJqZWN0Lm5leHQoXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogZXYudHlwZSxcbiAgICAgICAgICAgIHN0cmVhbTogZXYuc3RyZWFtLFxuICAgICAgICAgICAgY2hhbm5lbElkOiB0aGlzLl9pZFxuICAgICAgICAgIH0pXG4gICAgICApO1xuICAgIHRoaXMuX3Byb3ZpZGVyUGVySWQuc2V0KHByb3ZpZGVyLmdldFBlZXJJZCgpLCBwcm92aWRlcik7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlUHJvdmlkZXIocGVlcklkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuZ2V0UHJvdmlkZXIocGVlcklkKTtcbiAgICBpZiAocHJvdmlkZXIpIHtcbiAgICAgIHByb3ZpZGVyLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3Byb3ZpZGVyUGVySWQuZGVsZXRlKHBlZXJJZCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0T3JTZXRQcm92aWRlcihwZWVySWQ6IHN0cmluZyk6IFByb3ZpZGVyIHtcbiAgICBsZXQgcHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyKHBlZXJJZCk7XG4gICAgaWYgKCFwcm92aWRlcikge1xuICAgICAgcHJvdmlkZXIgPSBuZXcgUHJvdmlkZXIocGVlcklkKTtcbiAgICAgIHRoaXMuYWRkUHJvdmlkZXIocHJvdmlkZXIpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvdmlkZXI7XG4gIH1cblxuICBwdWJsaWMgZ2V0UHJvdmlkZXIocGVlcklkOiBzdHJpbmcpOiBQcm92aWRlciB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb3ZpZGVyUGVySWQuZ2V0KHBlZXJJZCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UHJvdmlkZXJUYWJsZSgpOiBUYWJsZVZpZXc8UHJvdmlkZXI+IHtcbiAgICByZXR1cm4gdGhpcy5fcHJvdmlkZXJQZXJJZC5hc1RhYmxlKCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0TWVkaWFTdHJlYW0oKTogTWVkaWFTdHJlYW0ge1xuICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuX3Byb3ZpZGVyUGVySWRcbiAgICAgIC5hc1RhYmxlKClcbiAgICAgIC5maW5kKFxuICAgICAgICBwcm92aWRlciA9PiBwcm92aWRlci5pc0FjdGl2ZSgpICYmIHByb3ZpZGVyLmlzTGl2ZSgpICYmIHByb3ZpZGVyLmlzU291cmNlKClcbiAgICAgICk7XG4gICAgaWYgKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIHNvdXJjZS5nZXRTdHJlYW0oKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYXNBbm5vdW5jZW1lbnQoKTogSUNoYW5uZWxBbm5vdW5jZW1lbnQge1xuICAgIHJldHVybiB7XG4gICAgICBjaGFubmVsSWQ6IHRoaXMuX2lkLFxuICAgICAgcHJvdmlkZXJzOiB0aGlzLl9wcm92aWRlclBlcklkXG4gICAgICAgIC5hc1RhYmxlKClcbiAgICAgICAgLm1hcChcbiAgICAgICAgICBwcm92aWRlciA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBwZWVySWQ6IHByb3ZpZGVyLmdldFBlZXJJZCgpLFxuICAgICAgICAgICAgICBjYXBhY2l0eTogcHJvdmlkZXIuZ2V0Q2FwYWNpdHkoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIG9ic2VydmVQcm92aWRlckNodXJuKCk6IFN1YmplY3Q8SU9ic2VydmFibGVNYXBFdmVudDxQcm92aWRlcj4+IHtcbiAgICByZXR1cm4gdGhpcy5fcHJvdmlkZXJQZXJJZC5vYnNlcnZlKCk7XG4gIH1cblxuICBwdWJsaWMgb2JzZXJ2ZVN0cmVhbUNodXJuKCk6IFN1YmplY3Q8SVN0cmVhbUNodXJuRXZlbnQ+IHtcbiAgICByZXR1cm4gdGhpcy5fc3RyZWFtQ2h1cm5TdWJqZWN0O1xuICB9XG5cbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5fcHJvdmlkZXJQZXJJZFxuICAgICAgLmZvckVhY2goXG4gICAgICAgIHByb3ZpZGVyID0+IHByb3ZpZGVyLmRlc3Ryb3koKVxuICAgICAgKTtcbiAgICB0aGlzLl9wcm92aWRlclBlcklkLmRlc3Ryb3koKTtcbiAgICB0aGlzLl9zdHJlYW1DaHVyblN1YmplY3QuY29tcGxldGUoKTtcbiAgfVxuXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGlkOiB0aGlzLl9pZCxcbiAgICAgICAgcHJvdmlkZXJzOiB0aGlzLl9wcm92aWRlclBlcklkLmtleXNBc0xpc3QoKVxuICAgICAgfSxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIDJcbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQge1N1YmplY3R9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtmaWx0ZXJ9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7Q29uZmlndXJhdGlvbk1hcH0gZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5pbXBvcnQge0Nvbm5lY3Rpb25TdGF0ZSwgSUNvbm5lY3Rpb24sIElXZWJSVENTdHJlYW1Db25uZWN0aW9uT3B0aW9ucywgTmVnb3RpYXRpb25TdGF0ZSwgUHJvdG9jb2x9IGZyb20gJy4uL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcbmltcG9ydCB7V2ViUlRDQ29ubmVjdGlvbn0gZnJvbSAnLi4vY29ubmVjdGlvbi93ZWJydGMnO1xuaW1wb3J0IHtXZWJSVENTdHJlYW1Db25uZWN0aW9ufSBmcm9tICcuLi9jb25uZWN0aW9uL3dlYnJ0Yy1zdHJlYW0nO1xuaW1wb3J0IHtDaHVyblR5cGV9IGZyb20gJy4uL2ludGVyZmFjZSc7XG5pbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi4vbG9nZ2VyL2xvZ2dlcic7XG5pbXBvcnQge0FkZHJlc3N9IGZyb20gJy4uL21lc3NhZ2UvYWRkcmVzcyc7XG5pbXBvcnQge0Nvbm5lY3Rpb25OZWdvdGlhdGlvbiwgQ29ubmVjdGlvbk5lZ290aWF0aW9uVHlwZX0gZnJvbSAnLi4vbWVzc2FnZS9jb25uZWN0aW9uLW5lZ290aWF0aW9uJztcbmltcG9ydCB7SUNoYW5uZWxBbm5vdW5jZW1lbnQsIE1lc3NhZ2VTdWJqZWN0fSBmcm9tICcuLi9tZXNzYWdlL2ludGVyZmFjZSc7XG5pbXBvcnQge01lc3NhZ2V9IGZyb20gJy4uL21lc3NhZ2UvbWVzc2FnZSc7XG5pbXBvcnQge1BlZXJNYW5hZ2VyfSBmcm9tICcuLi9wZWVyL3BlZXItbWFuYWdlcic7XG5pbXBvcnQge1JvbGVUeXBlfSBmcm9tICcuLi9yb2xlL2ludGVyZmFjZSc7XG5pbXBvcnQge0lPYnNlcnZhYmxlTWFwRXZlbnQsIE9ic2VydmFibGVNYXB9IGZyb20gJy4uL3V0aWwvb2JzZXJ2YWJsZS1tYXAnO1xuaW1wb3J0IHtUYWJsZVZpZXd9IGZyb20gJy4uL3V0aWwvdGFibGUtdmlldyc7XG5pbXBvcnQge3V1aWR9IGZyb20gJy4uL3V0aWwvdXVpZCc7XG5pbXBvcnQge0NoYW5uZWx9IGZyb20gJy4vY2hhbm5lbCc7XG5cbmV4cG9ydCBjbGFzcyBTdHJlYW1NYW5hZ2VyIHtcblxuICBwcml2YXRlIHJlYWRvbmx5IF9teUlkOiBzdHJpbmc7XG4gIHByaXZhdGUgX2NoYW5uZWxQZXJJZDogT2JzZXJ2YWJsZU1hcDxzdHJpbmcsIENoYW5uZWw+O1xuICBwcml2YXRlIF9wZWVyTWFuYWdlcjogUGVlck1hbmFnZXI7XG5cbiAgY29uc3RydWN0b3IobXlJZDogc3RyaW5nLCBwZWVyTWFuYWdlcjogUGVlck1hbmFnZXIpIHtcbiAgICB0aGlzLl9teUlkID0gbXlJZDtcbiAgICB0aGlzLl9wZWVyTWFuYWdlciA9IHBlZXJNYW5hZ2VyO1xuICAgIHRoaXMuX2NoYW5uZWxQZXJJZCA9IG5ldyBPYnNlcnZhYmxlTWFwKCk7XG4gICAgdGhpcy5saXN0ZW5PbkNoYW5uZWxDaHVybigpO1xuICB9XG5cbiAgcHJpdmF0ZSBjbGVhblVwRW1wdHlDaGFubmVscygpOiB2b2lkIHtcbiAgICB0aGlzLl9jaGFubmVsUGVySWQub2JzZXJ2ZSgpXG4gICAgICAucGlwZShcbiAgICAgICAgZmlsdGVyKFxuICAgICAgICAgIGNoYW5uZWxFdmVudCA9PiBjaGFubmVsRXZlbnQudHlwZSA9PT0gQ2h1cm5UeXBlLkFEREVEXG4gICAgICAgIClcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgIGNoYW5uZWxFdmVudCA9PiB7XG4gICAgICAgICAgY29uc3QgY2hhbm5lbCA9IGNoYW5uZWxFdmVudC52YWx1ZTtcbiAgICAgICAgICBjaGFubmVsLm9ic2VydmVQcm92aWRlckNodXJuKClcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICBmaWx0ZXIoXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJFdmVudCA9PiBwcm92aWRlckV2ZW50LnR5cGUgPT09IENodXJuVHlwZS5SRU1PVkVEXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbC5nZXRQcm92aWRlclRhYmxlKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoYW5uZWwoY2hhbm5lbC5nZXRJZCgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gIH1cblxuICBwcml2YXRlIHB1c2hNeU93bkNoYW5uZWxzT3V0KCk6IHZvaWQge1xuICAgIHRoaXMuX2NoYW5uZWxQZXJJZC5vYnNlcnZlKClcbiAgICAgIC5waXBlKFxuICAgICAgICBmaWx0ZXIoXG4gICAgICAgICAgZXYgPT4ge1xuICAgICAgICAgICAgaWYgKGV2LnR5cGUgPT09IENodXJuVHlwZS5BRERFRCkge1xuICAgICAgICAgICAgICByZXR1cm4gZXYudmFsdWVcbiAgICAgICAgICAgICAgICAuZ2V0UHJvdmlkZXJUYWJsZSgpXG4gICAgICAgICAgICAgICAgLmhhcyhcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyID0+XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyLmdldFBlZXJJZCgpID09PSB0aGlzLl9teUlkICYmXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyLmlzQWN0aXZlKCkgJiZcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIuaXNMaXZlKCkgJiZcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIuaXNTb3VyY2UoKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKFxuICAgICAgICBldiA9PiB0aGlzLnB1c2hTdHJlYW0oZXYudmFsdWUuZ2V0SWQoKSwgZXYudmFsdWUuZ2V0TWVkaWFTdHJlYW0oKSlcbiAgICAgICk7XG4gIH1cblxuICBwcml2YXRlIGxpc3Rlbk9uQ2hhbm5lbENodXJuKCk6IHZvaWQge1xuICAgIHRoaXMuY2xlYW5VcEVtcHR5Q2hhbm5lbHMoKTtcbiAgICB0aGlzLnB1c2hNeU93bkNoYW5uZWxzT3V0KCk7XG4gIH1cblxuICBwcml2YXRlIHNldENhcGFjaXR5Rm9yUGVlcihwZWVySWQ6IHN0cmluZywgY2FwYWNpdHk6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuX2NoYW5uZWxQZXJJZFxuICAgICAgLmFzVGFibGUoKVxuICAgICAgLmZvckVhY2goXG4gICAgICAgIGNoYW5uZWwgPT4ge1xuICAgICAgICAgIGNvbnN0IHByb3ZpZGVyID0gY2hhbm5lbC5nZXRPclNldFByb3ZpZGVyKHBlZXJJZCk7XG4gICAgICAgICAgcHJvdmlkZXIuc2V0Q2FwYWNpdHkoY2FwYWNpdHkpO1xuICAgICAgICB9XG4gICAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBwdXNoU3RyZWFtVG8oY2hhbm5lbElkOiBzdHJpbmcsIHN0cmVhbTogTWVkaWFTdHJlYW0sIHBlZXJJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgYWRkcmVzcyA9IG5ldyBBZGRyZXNzKFxuICAgICAgcGVlcklkLFxuICAgICAgUHJvdG9jb2wuV0VCUlRDX1NUUkVBTVxuICAgICk7XG4gICAgY29uc3QgY2xvbmVkU3RyZWFtID0gc3RyZWFtLmNsb25lKCk7XG4gICAgY29uc3Qgb3B0aW9uczogSVdlYlJUQ1N0cmVhbUNvbm5lY3Rpb25PcHRpb25zID0ge1xuICAgICAgbWl0b3Npc0lkOiB0aGlzLl9teUlkLFxuICAgICAgY2hhbm5lbElkOiBjaGFubmVsSWQsXG4gICAgICBzdHJlYW06IGNsb25lZFN0cmVhbVxuICAgIH07XG4gICAgdGhpcy5fcGVlck1hbmFnZXJcbiAgICAgIC5jb25uZWN0VG8oYWRkcmVzcywgb3B0aW9ucylcbiAgICAgIC50aGVuKFxuICAgICAgICByZW1vdGVQZWVyID0+IHtcbiAgICAgICAgICBMb2dnZXIuZ2V0TG9nZ2VyKHRoaXMuX215SWQpXG4gICAgICAgICAgICAuaW5mbyhgcHVzaGluZyBzdHJlYW0gdG8gJHtyZW1vdGVQZWVyLmdldElkKCl9YCwgcmVtb3RlUGVlcik7XG4gICAgICAgICAgY29uc3QgY2hhbm5lbCA9IHRoaXMuZ2V0T3JTZXRDaGFubmVsKGNoYW5uZWxJZCk7XG4gICAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBjaGFubmVsLmdldE9yU2V0UHJvdmlkZXIocGVlcklkKTtcbiAgICAgICAgICBwcm92aWRlci5zZXRTdHJlYW0oY2xvbmVkU3RyZWFtKTtcbiAgICAgICAgICBwcm92aWRlci5zZXRJc1NpbmsoKTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgTG9nZ2VyLmdldExvZ2dlcih0aGlzLl9teUlkKVxuICAgICAgICAgIC5pbmZvKGBjYW4gbm90IG9wZW4gc3RyZWFtIHRvICR7cGVlcklkfWAsIGVycik7XG4gICAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcHVzaFN0cmVhbShjaGFubmVsSWQ6IHN0cmluZywgc3RyZWFtOiBNZWRpYVN0cmVhbSk6IHZvaWQge1xuICAgIHRoaXMuX3BlZXJNYW5hZ2VyXG4gICAgICAuZ2V0UGVlclRhYmxlKClcbiAgICAgIC5maWx0ZXJCeVJvbGUoUm9sZVR5cGUuUEVFUilcbiAgICAgIC5maWx0ZXIoXG4gICAgICAgIHBlZXIgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmdldE9yU2V0Q2hhbm5lbChjaGFubmVsSWQpLmdldFByb3ZpZGVyKHBlZXIuZ2V0SWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYW1JQWxyZWFkeVN0cmVhbWluZ1RvKHBlZXIuZ2V0SWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICAgIC5leGNsdWRlKFxuICAgICAgICBwZWVycyA9PiBwZWVyc1xuICAgICAgICAgIC5maWx0ZXJDb25uZWN0aW9ucyhcbiAgICAgICAgICAgIHRhYmxlID0+IHRhYmxlXG4gICAgICAgICAgICAgIC5maWx0ZXJCeVByb3RvY29sKFByb3RvY29sLldFQlJUQ19TVFJFQU0pXG4gICAgICAgICAgKVxuICAgICAgKVxuICAgICAgLmZpbHRlckNvbm5lY3Rpb25zKFxuICAgICAgICB0YWJsZSA9PiB0YWJsZVxuICAgICAgICAgIC5maWx0ZXJEaXJlY3QoKVxuICAgICAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTilcbiAgICAgIClcbiAgICAgIC5zb3J0QnlRdWFsaXR5KClcbiAgICAgIC5yZXZlcnNlKClcbiAgICAgIC5zbGljZSgwLCB0aGlzLmdldE15Q2FwYWNpdHkoKSlcbiAgICAgIC5mb3JFYWNoKFxuICAgICAgICBwZWVyID0+IHRoaXMucHVzaFN0cmVhbVRvKGNoYW5uZWxJZCwgc3RyZWFtLCBwZWVyLmdldElkKCkpXG4gICAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBvbkNvbm5lY3Rpb25BZGRlZFN0cmVhbShjb25uZWN0aW9uOiBXZWJSVENTdHJlYW1Db25uZWN0aW9uLCBzdHJlYW06IE1lZGlhU3RyZWFtKTogdm9pZCB7XG4gICAgY29uc3QgY2hhbm5lbCA9IHRoaXMuZ2V0T3JTZXRDaGFubmVsKGNvbm5lY3Rpb24uZ2V0Q2hhbm5lbElkKCkpO1xuICAgIGNvbnN0IHBlZXJJZCA9IGNvbm5lY3Rpb24uZ2V0QWRkcmVzcygpLmdldElkKCk7XG4gICAgY29uc3QgcHJvdmlkZXIgPSBjaGFubmVsLmdldE9yU2V0UHJvdmlkZXIocGVlcklkKTtcbiAgICBwcm92aWRlci5zZXRTdHJlYW0oc3RyZWFtKTtcbiAgICBwcm92aWRlci5zZXRJc1NvdXJjZSgpO1xuICAgIGlmICghY29ubmVjdGlvbi5pc0luaXRpYXRvcigpKSB7XG4gICAgICB0aGlzLnB1c2hTdHJlYW0oY2hhbm5lbC5nZXRJZCgpLCBzdHJlYW0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgb25Db25uZWN0aW9uUmVtb3ZlZFN0cmVhbShjb25uZWN0aW9uOiBXZWJSVENTdHJlYW1Db25uZWN0aW9uKTogdm9pZCB7XG4gICAgY29uc3QgY2hhbm5lbCA9IHRoaXMuX2NoYW5uZWxQZXJJZC5nZXQoY29ubmVjdGlvbi5nZXRDaGFubmVsSWQoKSk7XG4gICAgaWYgKGNoYW5uZWwpIHtcbiAgICAgIGNvbnN0IHBlZXJJZCA9IGNvbm5lY3Rpb24uZ2V0QWRkcmVzcygpLmdldElkKCk7XG4gICAgICBjaGFubmVsLnJlbW92ZVByb3ZpZGVyKHBlZXJJZCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhbUlBbHJlYWR5U3RyZWFtaW5nVG8ocGVlcklkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCByZXF1ZXN0ZXIgPSB0aGlzLl9wZWVyTWFuYWdlci5nZXRQZWVyQnlJZChwZWVySWQpO1xuICAgIGlmIChyZXF1ZXN0ZXIpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0ZXJcbiAgICAgICAgLmdldENvbm5lY3Rpb25UYWJsZSgpXG4gICAgICAgIC5maWx0ZXJCeVByb3RvY29sKFByb3RvY29sLldFQlJUQ19TVFJFQU0pXG4gICAgICAgIC5sZW5ndGggPiAwO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgZ2V0T3JTZXRDaGFubmVsKGNoYW5uZWxJZDogc3RyaW5nKTogQ2hhbm5lbCB7XG4gICAgbGV0IGNoYW5uZWwgPSB0aGlzLl9jaGFubmVsUGVySWQuZ2V0KGNoYW5uZWxJZCk7XG4gICAgaWYgKCFjaGFubmVsKSB7XG4gICAgICBjaGFubmVsID0gbmV3IENoYW5uZWwoY2hhbm5lbElkKTtcbiAgICAgIHRoaXMuX2NoYW5uZWxQZXJJZC5zZXQoY2hhbm5lbC5nZXRJZCgpLCBjaGFubmVsKTtcbiAgICAgIExvZ2dlci5nZXRMb2dnZXIodGhpcy5fbXlJZCkuaW5mbyhgYWRkaW5nIGNoYW5uZWwgJHtjaGFubmVsLmdldElkKCl9YCwgY2hhbm5lbCk7XG4gICAgfVxuICAgIHJldHVybiBjaGFubmVsO1xuICB9XG5cbiAgcHVibGljIHJlbW92ZUNoYW5uZWwoY2hhbm5lbElkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBjaGFubmVsID0gdGhpcy5fY2hhbm5lbFBlcklkLmdldChjaGFubmVsSWQpO1xuICAgIGlmIChjaGFubmVsKSB7XG4gICAgICBjaGFubmVsLmRlc3Ryb3koKTtcbiAgICAgIExvZ2dlci5nZXRMb2dnZXIodGhpcy5fbXlJZCkuaW5mbyhgcmVtb3ZpbmcgY2hhbm5lbCAke2NoYW5uZWwuZ2V0SWQoKX1gLCBjaGFubmVsKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NoYW5uZWxQZXJJZC5kZWxldGUoY2hhbm5lbElkKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRNeUNhcGFjaXR5KCk6IG51bWJlciB7XG4gICAgY29uc3Qgb3V0Ym91bmRTdHJlYW1Db3VudCA9IHRoaXMuX3BlZXJNYW5hZ2VyXG4gICAgICAuZ2V0UGVlclRhYmxlKClcbiAgICAgIC5jb3VudENvbm5lY3Rpb25zKFxuICAgICAgICB0YWJsZSA9PiB0YWJsZVxuICAgICAgICAgIC5maWx0ZXJCeVN0YXRlcyhDb25uZWN0aW9uU3RhdGUuT1BFTklORywgQ29ubmVjdGlvblN0YXRlLk9QRU4pXG4gICAgICAgICAgLmZpbHRlckJ5UHJvdG9jb2woUHJvdG9jb2wuV0VCUlRDX1NUUkVBTSlcbiAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgY29ubmVjdGlvbiA9PiAoY29ubmVjdGlvbiBhcyBXZWJSVENDb25uZWN0aW9uKS5pc0luaXRpYXRvcigpXG4gICAgICAgICAgKVxuICAgICAgKTtcbiAgICBjb25zdCBjb25maWcgPSBDb25maWd1cmF0aW9uTWFwLmdldERlZmF1bHQoKTtcbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgY29uZmlnLk9VVEJPVU5EX1NUUkVBTV9DT05ORUNUSU9OUyAtIG91dGJvdW5kU3RyZWFtQ291bnQpO1xuICB9XG5cbiAgcHVibGljIG9uQ29ubmVjdGlvbk9wZW4oY29ubmVjdGlvbjogSUNvbm5lY3Rpb24pOiB2b2lkIHtcbiAgICBpZiAoY29ubmVjdGlvbi5nZXRBZGRyZXNzKCkuZ2V0UHJvdG9jb2woKSA9PT0gUHJvdG9jb2wuV0VCUlRDX1NUUkVBTSkge1xuICAgICAgY29uc3Qgc3RyZWFtQ29ubmVjdGlvbiA9IGNvbm5lY3Rpb24gYXMgV2ViUlRDU3RyZWFtQ29ubmVjdGlvbjtcbiAgICAgIGNvbnN0IHN0cmVhbSA9IHN0cmVhbUNvbm5lY3Rpb24uZ2V0U3RyZWFtKCk7XG4gICAgICBpZiAoc3RyZWFtKSB7XG4gICAgICAgIHRoaXMub25Db25uZWN0aW9uQWRkZWRTdHJlYW0oc3RyZWFtQ29ubmVjdGlvbiwgc3RyZWFtKTtcbiAgICAgIH1cbiAgICAgIHN0cmVhbUNvbm5lY3Rpb24ub2JzZXJ2ZVN0cmVhbUNodXJuKClcbiAgICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgICBldiA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGV2LnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSBDaHVyblR5cGUuQURERUQ6XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbm5lY3Rpb25BZGRlZFN0cmVhbShzdHJlYW1Db25uZWN0aW9uLCBldi5zdHJlYW0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIENodXJuVHlwZS5SRU1PVkVEOlxuICAgICAgICAgICAgICAgIHRoaXMub25Db25uZWN0aW9uUmVtb3ZlZFN0cmVhbShzdHJlYW1Db25uZWN0aW9uKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG9uQ29ubmVjdGlvbkNsb3NlKGNvbm5lY3Rpb246IElDb25uZWN0aW9uKTogdm9pZCB7XG4gICAgaWYgKGNvbm5lY3Rpb24uZ2V0QWRkcmVzcygpLmdldFByb3RvY29sKCkgPT09IFByb3RvY29sLldFQlJUQ19TVFJFQU0pIHtcbiAgICAgIGNvbnN0IHN0cmVhbUNvbm5lY3Rpb24gPSBjb25uZWN0aW9uIGFzIFdlYlJUQ1N0cmVhbUNvbm5lY3Rpb247XG4gICAgICB0aGlzLm9uQ29ubmVjdGlvblJlbW92ZWRTdHJlYW0oc3RyZWFtQ29ubmVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG5lZ290aWF0ZUNvbm5lY3Rpb24oY29ubmVjdGlvbk5lZ290aWF0aW9uOiBDb25uZWN0aW9uTmVnb3RpYXRpb24pOiB2b2lkIHtcbiAgICBjb25zdCBsb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKHRoaXMuX215SWQpO1xuICAgIGNvbnN0IHNlbmRlckFkZHJlc3MgPSBjb25uZWN0aW9uTmVnb3RpYXRpb24uZ2V0U2VuZGVyKCk7XG4gICAgY29uc3QgcmVjZWl2ZXJBZGRyZXNzID0gY29ubmVjdGlvbk5lZ290aWF0aW9uLmdldFJlY2VpdmVyKCk7XG4gICAgY29uc3QgbmVnb3RpYXRpb24gPSBjb25uZWN0aW9uTmVnb3RpYXRpb24uZ2V0Qm9keSgpO1xuXG4gICAgY29uc3QgcmVqZWN0aW9uID0gbmV3IE1lc3NhZ2UoXG4gICAgICByZWNlaXZlckFkZHJlc3MsXG4gICAgICBzZW5kZXJBZGRyZXNzLFxuICAgICAgTWVzc2FnZVN1YmplY3QuQ09OTkVDVElPTl9ORUdPVElBVElPTixcbiAgICAgIHt0eXBlOiBDb25uZWN0aW9uTmVnb3RpYXRpb25UeXBlLlJFSkVDVElPTiwgY2hhbm5lbElkOiBuZWdvdGlhdGlvbi5jaGFubmVsSWR9XG4gICAgKTtcblxuICAgIGlmIChuZWdvdGlhdGlvbi50eXBlID09PSBDb25uZWN0aW9uTmVnb3RpYXRpb25UeXBlLk9GRkVSKSB7XG4gICAgICBpZiAobmVnb3RpYXRpb24uY2hhbm5lbElkKSB7XG4gICAgICAgIGNvbnN0IGxvY2FsQ2hhbm5lbCA9IHRoaXMuZ2V0TG9jYWxDaGFubmVsKCk7XG4gICAgICAgIGlmIChsb2NhbENoYW5uZWwgJiYgbG9jYWxDaGFubmVsLmdldElkKCkgPT09IG5lZ290aWF0aW9uLmNoYW5uZWxJZCkge1xuICAgICAgICAgIGxvZ2dlci5pbmZvKCd3aWxsIG5vdCBhY2NlcHQgb2ZmZXIgZm9yIG15IG93biBjaGFubmVsJywgY29ubmVjdGlvbk5lZ290aWF0aW9uKTtcbiAgICAgICAgICB0aGlzLl9wZWVyTWFuYWdlci5zZW5kTWVzc2FnZShyZWplY3Rpb24pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmJvdW5kQ29ubmVjdGlvbnNGb3JDaGFubmVsID0gdGhpcy5fcGVlck1hbmFnZXIuZ2V0UGVlclRhYmxlKClcbiAgICAgICAgICAuYWdncmVnYXRlQ29ubmVjdGlvbnMoXG4gICAgICAgICAgICBjb25uZWN0aW9ucyA9PiBjb25uZWN0aW9uc1xuICAgICAgICAgICAgICAuZmlsdGVyQnlQcm90b2NvbChQcm90b2NvbC5XRUJSVENfU1RSRUFNKVxuICAgICAgICAgICAgICAuZmlsdGVyQnlTdGF0ZXMoQ29ubmVjdGlvblN0YXRlLk9QRU5JTkcsIENvbm5lY3Rpb25TdGF0ZS5PUEVOKVxuICAgICAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgICAgIChjb25uZWN0aW9uOiBXZWJSVENTdHJlYW1Db25uZWN0aW9uKSA9PiBjb25uZWN0aW9uLmdldENoYW5uZWxJZCgpID09PSBuZWdvdGlhdGlvbi5jaGFubmVsSWRcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgICAgIChjb25uZWN0aW9uOiBXZWJSVENDb25uZWN0aW9uKSA9PiAhY29ubmVjdGlvbi5pc0luaXRpYXRvcigpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0+IGNvbm5lY3Rpb24uZ2V0TmVnb3RpYXRpb25TdGF0ZSgpID49IE5lZ290aWF0aW9uU3RhdGUuV0FJVElOR19GT1JfQU5TV0VSXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICBpZiAoaW5ib3VuZENvbm5lY3Rpb25zRm9yQ2hhbm5lbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgcGVuZGluZ0Nvbm5lY3Rpb25Db3VudCA9IGluYm91bmRDb25uZWN0aW9uc0ZvckNoYW5uZWxcbiAgICAgICAgICAgIC5jb3VudChcbiAgICAgICAgICAgICAgY29ubmVjdGlvbiA9PiBjb25uZWN0aW9uLmdldE5lZ290aWF0aW9uU3RhdGUoKSA8IE5lZ290aWF0aW9uU3RhdGUuRVNUQUJMSVNIRURcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHBlbmRpbmdDb25uZWN0aW9uQ291bnQgPiAwKSB7XG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnYWxyZWFkeSBnb3QgcGVuZGluZyBwcm92aWRlcnMgZm9yIHRoaXMgY2hhbm5lbCBvZmZlcicsIGNvbm5lY3Rpb25OZWdvdGlhdGlvbik7XG4gICAgICAgICAgICB0aGlzLl9wZWVyTWFuYWdlci5zZW5kTWVzc2FnZShyZWplY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBhY3RpdmVMaXZlU291cmNlcyA9IHRoaXNcbiAgICAgICAgICAgIC5nZXRPclNldENoYW5uZWwobmVnb3RpYXRpb24uY2hhbm5lbElkKVxuICAgICAgICAgICAgLmdldFByb3ZpZGVyVGFibGUoKVxuICAgICAgICAgICAgLmNvdW50KFxuICAgICAgICAgICAgICBwcm92aWRlciA9PiBwcm92aWRlci5pc0FjdGl2ZSgpICYmIHByb3ZpZGVyLmlzTGl2ZSgpICYmIHByb3ZpZGVyLmlzU291cmNlKClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGFjdGl2ZUxpdmVTb3VyY2VzID4gMCkge1xuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ2FscmVhZHkgZ290IGFjdGl2ZSBwcm92aWRlciBmb3IgdGhpcyBjaGFubmVsIG9mZmVyJywgY29ubmVjdGlvbk5lZ290aWF0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuX3BlZXJNYW5hZ2VyLnNlbmRNZXNzYWdlKHJlamVjdGlvbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dnZXIuZXJyb3IoJ2dvdCBzdHJlYW0gb2ZmZXIgd2l0aG91dCBjaGFubmVsIGlkJywgY29ubmVjdGlvbk5lZ290aWF0aW9uKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG9wdGlvbnM6IElXZWJSVENTdHJlYW1Db25uZWN0aW9uT3B0aW9ucyA9IHtcbiAgICAgIG1pdG9zaXNJZDogdGhpcy5fbXlJZCxcbiAgICAgIGNoYW5uZWxJZDogbmVnb3RpYXRpb24uY2hhbm5lbElkLFxuICAgICAgcGF5bG9hZDoge1xuICAgICAgICB0eXBlOiBuZWdvdGlhdGlvbi50eXBlLFxuICAgICAgICBzZHA6IG5lZ290aWF0aW9uLnNkcFxuICAgICAgfVxuICAgIH07XG4gICAgc3dpdGNoIChuZWdvdGlhdGlvbi50eXBlKSB7XG4gICAgICBjYXNlIENvbm5lY3Rpb25OZWdvdGlhdGlvblR5cGUuUkVRVUVTVDpcbiAgICAgICAgaWYgKHRoaXMuZ2V0TXlDYXBhY2l0eSgpID4gMCkge1xuICAgICAgICAgIGlmICghdGhpcy5hbUlBbHJlYWR5U3RyZWFtaW5nVG8oc2VuZGVyQWRkcmVzcy5nZXRJZCgpKSkge1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbElkID0gbmVnb3RpYXRpb24uY2hhbm5lbElkO1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbCA9IHRoaXMuZ2V0T3JTZXRDaGFubmVsKGNoYW5uZWxJZCk7XG4gICAgICAgICAgICBjb25zdCBzdWl0YWJsZVNvdXJjZSA9IGNoYW5uZWxcbiAgICAgICAgICAgICAgLmdldFByb3ZpZGVyVGFibGUoKVxuICAgICAgICAgICAgICAuaGFzKFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyID0+IHByb3ZpZGVyLmlzU291cmNlKCkgJiYgcHJvdmlkZXIuaXNMaXZlKCkgJiYgcHJvdmlkZXIuaXNBY3RpdmUoKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHN1aXRhYmxlU291cmNlKSB7XG4gICAgICAgICAgICAgIHRoaXMucHVzaFN0cmVhbVRvKGNoYW5uZWxJZCwgY2hhbm5lbC5nZXRNZWRpYVN0cmVhbSgpLCBzZW5kZXJBZGRyZXNzLmdldElkKCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oYG5vIGFjdGl2ZSBzdHJlYW0gZm9yIHRoaXMgY2hhbm5lbCwgaWdub3JpbmcgcmVxdWVzdCBmcm9tICR7c2VuZGVyQWRkcmVzcy5nZXRJZCgpfWAsIGNvbm5lY3Rpb25OZWdvdGlhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKGBhbHJlYWR5IHN0cmVhbWluZyB0byAke3NlbmRlckFkZHJlc3MuZ2V0SWQoKX0sIGlnbm9yaW5nIHJlcXVlc3RgLCBjb25uZWN0aW9uTmVnb3RpYXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2dnZXIuaW5mbyhgbm8gY2FwYWNpdHkgdG8gZnVsZmlsbCBzdHJlYW0gcmVxdWVzdCBmcm9tICR7c2VuZGVyQWRkcmVzcy5nZXRJZCgpfWAsIGNvbm5lY3Rpb25OZWdvdGlhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbm5lY3Rpb25OZWdvdGlhdGlvblR5cGUuT0ZGRVI6XG4gICAgICAgIGlmIChzZW5kZXJBZGRyZXNzLmdldFByb3RvY29sKCkgPT09IFByb3RvY29sLldFQlJUQ19TVFJFQU0pIHtcbiAgICAgICAgICAob3B0aW9ucyBhcyBJV2ViUlRDU3RyZWFtQ29ubmVjdGlvbk9wdGlvbnMpLmNoYW5uZWxJZCA9IGNvbm5lY3Rpb25OZWdvdGlhdGlvbi5nZXRCb2R5KCkuY2hhbm5lbElkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3BlZXJNYW5hZ2VyLmNvbm5lY3RUbyhzZW5kZXJBZGRyZXNzLCBvcHRpb25zKVxuICAgICAgICAgIC5jYXRjaChcbiAgICAgICAgICAgIGVycm9yID0+XG4gICAgICAgICAgICAgIGxvZ2dlci53YXJuKGBzdHJlYW0gb2ZmZXIgY29ubmVjdGlvbiB0byAke3NlbmRlckFkZHJlc3N9IGZhaWxlZGAsIGVycm9yKVxuICAgICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb25uZWN0aW9uTmVnb3RpYXRpb25UeXBlLkFOU1dFUjpcbiAgICAgICAgdGhpcy5fcGVlck1hbmFnZXIuY29ubmVjdFRvKHNlbmRlckFkZHJlc3MpLnRoZW4oXG4gICAgICAgICAgcmVtb3RlUGVlciA9PiB7XG4gICAgICAgICAgICBjb25zdCB3ZWJSVENDb25uZWN0aW9uOiBXZWJSVENDb25uZWN0aW9uID1cbiAgICAgICAgICAgICAgcmVtb3RlUGVlci5nZXRDb25uZWN0aW9uRm9yQWRkcmVzcyhzZW5kZXJBZGRyZXNzKSBhcyBXZWJSVENDb25uZWN0aW9uO1xuICAgICAgICAgICAgaWYgKHdlYlJUQ0Nvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgd2ViUlRDQ29ubmVjdGlvbi5lc3RhYmxpc2gob3B0aW9ucyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoYHN0cmVhbSBjb25uZWN0aW9uICR7c2VuZGVyQWRkcmVzcy5nZXRMb2NhdGlvbigpfSBub3QgZm91bmRgLCBjb25uZWN0aW9uTmVnb3RpYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKS5jYXRjaChcbiAgICAgICAgICBlcnJvciA9PlxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oYHN0cmVhbSBhbnN3ZXIgY29ubmVjdGlvbiB0byAke3NlbmRlckFkZHJlc3N9IGZhaWxlZGAsIGVycm9yKVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29ubmVjdGlvbk5lZ290aWF0aW9uVHlwZS5SRUpFQ1RJT046XG4gICAgICAgIHRoaXMuc2V0Q2FwYWNpdHlGb3JQZWVyKHNlbmRlckFkZHJlc3MuZ2V0SWQoKSwgMCk7XG4gICAgICAgIGxvZ2dlci5pbmZvKGBnb3Qgc3RyZWFtIHJlamVjdGlvbiBmcm9tICR7c2VuZGVyQWRkcmVzcy5nZXRJZCgpfSwgc2V0dGluZyBjYXBhY2l0eSAwYCwgY29ubmVjdGlvbk5lZ290aWF0aW9uKTtcbiAgICAgICAgdGhpcy5fcGVlck1hbmFnZXIuZ2V0UGVlckJ5SWQoc2VuZGVyQWRkcmVzcy5nZXRJZCgpKVxuICAgICAgICAgIC5nZXRDb25uZWN0aW9uVGFibGUoKVxuICAgICAgICAgIC5maWx0ZXJCeUxvY2F0aW9uKHJlY2VpdmVyQWRkcmVzcy5nZXRMb2NhdGlvbigpKVxuICAgICAgICAgIC5mb3JFYWNoKFxuICAgICAgICAgICAgY29ubmVjdGlvbiA9PiB7XG4gICAgICAgICAgICAgIGxvZ2dlci53YXJuKGBzdHJlYW0gY29ubmVjdGlvbiBuZWdvdGlhdGlvbiByZWplY3RlZCBieSAke3NlbmRlckFkZHJlc3N9YCwgY29ubmVjdGlvbik7XG4gICAgICAgICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgdW5zdXBwb3J0ZWQgc3RyZWFtIGNvbm5lY3Rpb24gbmVnb3RpYXRpb24gdHlwZSAke25lZ290aWF0aW9uLnR5cGV9YFxuICAgICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXRDaGFubmVsVGFibGUoKTogVGFibGVWaWV3PENoYW5uZWw+IHtcbiAgICByZXR1cm4gdGhpcy5fY2hhbm5lbFBlcklkLmFzVGFibGUoKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRMb2NhbENoYW5uZWwoKTogQ2hhbm5lbCB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q2hhbm5lbFRhYmxlKClcbiAgICAgIC5maW5kKFxuICAgICAgICBjaGFubmVsID0+IGNoYW5uZWxcbiAgICAgICAgICAuZ2V0UHJvdmlkZXJUYWJsZSgpXG4gICAgICAgICAgLmhhcyhcbiAgICAgICAgICAgIHByb3ZpZGVyID0+IHByb3ZpZGVyLmdldFBlZXJJZCgpID09PSB0aGlzLl9teUlkXG4gICAgICAgICAgKVxuICAgICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRMb2NhbFN0cmVhbSgpOiBNZWRpYVN0cmVhbSB7XG4gICAgY29uc3QgY2hhbm5lbCA9IHRoaXMuZ2V0TG9jYWxDaGFubmVsKCk7XG4gICAgaWYgKGNoYW5uZWwpIHtcbiAgICAgIHJldHVybiBjaGFubmVsLmdldE1lZGlhU3RyZWFtKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHNldExvY2FsU3RyZWFtKHN0cmVhbTogTWVkaWFTdHJlYW0pOiB2b2lkIHtcbiAgICB0aGlzLnVuc2V0TG9jYWxTdHJlYW0oKTtcbiAgICBjb25zdCBjaGFubmVsID0gdGhpcy5nZXRPclNldENoYW5uZWwodXVpZCgpKTtcbiAgICBjb25zdCBwcm92aWRlciA9IGNoYW5uZWwuZ2V0T3JTZXRQcm92aWRlcih0aGlzLl9teUlkKTtcbiAgICBwcm92aWRlci5zZXRTdHJlYW0oc3RyZWFtKTtcbiAgICBwcm92aWRlci5zZXRJc1NvdXJjZSgpO1xuICAgIExvZ2dlci5nZXRMb2dnZXIodGhpcy5fbXlJZCkuaW5mbyhgYWRkaW5nIGxvY2FsIGNoYW5uZWwgJHtjaGFubmVsLmdldElkKCl9YCwgY2hhbm5lbCk7XG4gIH1cblxuICBwdWJsaWMgdW5zZXRMb2NhbFN0cmVhbSgpOiB2b2lkIHtcbiAgICBjb25zdCBjaGFubmVsID0gdGhpcy5nZXRMb2NhbENoYW5uZWwoKTtcbiAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgdGhpcy5yZW1vdmVDaGFubmVsKGNoYW5uZWwuZ2V0SWQoKSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHVwZGF0ZVByb3ZpZGVycyhhbm5vdW5jZW1lbnRzOiBBcnJheTxJQ2hhbm5lbEFubm91bmNlbWVudD4pOiB2b2lkIHtcbiAgICBhbm5vdW5jZW1lbnRzLmZvckVhY2goXG4gICAgICBhbm5vdW5jZW1lbnQgPT4ge1xuICAgICAgICBjb25zdCBjaGFubmVsID0gdGhpcy5nZXRPclNldENoYW5uZWwoYW5ub3VuY2VtZW50LmNoYW5uZWxJZCk7XG4gICAgICAgIGFubm91bmNlbWVudC5wcm92aWRlcnMuZm9yRWFjaChcbiAgICAgICAgICBjaGFubmVsUHJvdmlkZXIgPT4ge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBjaGFubmVsUHJvdmlkZXIucGVlcklkICE9PSB0aGlzLl9teUlkICYmXG4gICAgICAgICAgICAgIHRoaXMuX3BlZXJNYW5hZ2VyLmdldFBlZXJCeUlkKGNoYW5uZWxQcm92aWRlci5wZWVySWQpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY2hhbm5lbC5nZXRPclNldFByb3ZpZGVyKGNoYW5uZWxQcm92aWRlci5wZWVySWQpO1xuICAgICAgICAgICAgICB0aGlzLnNldENhcGFjaXR5Rm9yUGVlcihjaGFubmVsUHJvdmlkZXIucGVlcklkLCBjaGFubmVsUHJvdmlkZXIuY2FwYWNpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgcHVibGljIG9ic2VydmVDaGFubmVsQ2h1cm4oKTogU3ViamVjdDxJT2JzZXJ2YWJsZU1hcEV2ZW50PENoYW5uZWw+PiB7XG4gICAgcmV0dXJuIHRoaXMuX2NoYW5uZWxQZXJJZC5vYnNlcnZlKCk7XG4gIH1cblxuICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLl9jaGFubmVsUGVySWRcbiAgICAgIC5mb3JFYWNoKFxuICAgICAgICBjaGFubmVsID0+IGNoYW5uZWwuZGVzdHJveSgpXG4gICAgICApO1xuICAgIHRoaXMuX2NoYW5uZWxQZXJJZC5kZXN0cm95KCk7XG4gIH1cbn1cbiIsIi8qIHRzbGludDpkaXNhYmxlOm5vLWJpdHdpc2UgKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHV1aWQoKTogc3RyaW5nIHtcbiAgaWYgKHR5cGVvZiBjcnlwdG8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgbGV0IGQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICBpZiAodHlwZW9mIHBlcmZvcm1hbmNlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcGVyZm9ybWFuY2Uubm93ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBkICs9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH1cbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBjID0+IHtcbiAgICAgIGNvbnN0IHIgPSAoZCArIE1hdGgucmFuZG9tKCkgKiAxNikgJSAxNiB8IDA7XG4gICAgICBkID0gTWF0aC5mbG9vcihkIC8gMTYpO1xuICAgICAgcmV0dXJuIChjID09PSAneCcgPyByIDogKHIgJiAweDMgfCAweDgpKS50b1N0cmluZygxNik7XG4gICAgfSk7XG4gIH1cbiAgLy8gQHRzLWlnbm9yZVxuICByZXR1cm4gKFsxZTddICsgLTFlMyArIC00ZTMgKyAtOGUzICsgLTFlMTEpLnJlcGxhY2UoL1swMThdL2csIGMgPT5cbiAgICAoYyBeIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdICYgMTUgPj4gYyAvIDQpLnRvU3RyaW5nKDE2KVxuICApO1xufVxuIiwiaW1wb3J0IHtTdWJqZWN0fSBmcm9tICdyeGpzJztcbmltcG9ydCB7SUNsb2NrfSBmcm9tICcuL2Nsb2NrL2ludGVyZmFjZSc7XG5pbXBvcnQge01hc3RlckNsb2NrfSBmcm9tICcuL2Nsb2NrL21hc3Rlcic7XG5pbXBvcnQge0Nvbm5lY3Rpb25TdGF0ZSwgSUNvbm5lY3Rpb24sIFByb3RvY29sfSBmcm9tICcuL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcbmltcG9ydCB7V2ViUlRDQ29ubmVjdGlvbn0gZnJvbSAnLi9jb25uZWN0aW9uL3dlYnJ0Yyc7XG5pbXBvcnQge0lFbmNsYXZlfSBmcm9tICcuL2VuY2xhdmUvaW50ZXJmYWNlJztcbmltcG9ydCB7U2VjdXJlRW5jbGF2ZX0gZnJvbSAnLi9lbmNsYXZlL3NlY3VyZSc7XG5pbXBvcnQge0NodXJuVHlwZX0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHtJTG9nZ2VyfSBmcm9tICcuL2xvZ2dlci9pbnRlcmZhY2UnO1xuaW1wb3J0IHtMb2dnZXJ9IGZyb20gJy4vbG9nZ2VyL2xvZ2dlcic7XG5pbXBvcnQge0FkZHJlc3N9IGZyb20gJy4vbWVzc2FnZS9hZGRyZXNzJztcbmltcG9ydCB7QXBwQ29udGVudH0gZnJvbSAnLi9tZXNzYWdlL2FwcC1jb250ZW50JztcbmltcG9ydCB7SU1lc3NhZ2V9IGZyb20gJy4vbWVzc2FnZS9pbnRlcmZhY2UnO1xuaW1wb3J0IHtNZXNzYWdlfSBmcm9tICcuL21lc3NhZ2UvbWVzc2FnZSc7XG5pbXBvcnQge01lc3NhZ2VCcm9rZXJ9IGZyb20gJy4vbWVzc2FnZS9tZXNzYWdlLWJyb2tlcic7XG5pbXBvcnQge1BlZXJNYW5hZ2VyfSBmcm9tICcuL3BlZXIvcGVlci1tYW5hZ2VyJztcbmltcG9ydCB7UmVtb3RlUGVlcn0gZnJvbSAnLi9wZWVyL3JlbW90ZS1wZWVyJztcbmltcG9ydCB7UmVtb3RlUGVlclRhYmxlfSBmcm9tICcuL3BlZXIvcmVtb3RlLXBlZXItdGFibGUnO1xuaW1wb3J0IHtSb2xlVHlwZX0gZnJvbSAnLi9yb2xlL2ludGVyZmFjZSc7XG5pbXBvcnQge1JvbGVNYW5hZ2VyfSBmcm9tICcuL3JvbGUvcm9sZS1tYW5hZ2VyJztcbmltcG9ydCB7U3RyZWFtTWFuYWdlcn0gZnJvbSAnLi9zdHJlYW0vc3RyZWFtLW1hbmFnZXInO1xuXG5leHBvcnQgY2xhc3MgTWl0b3NpcyB7XG5cbiAgcHJpdmF0ZSBfZW5jbGF2ZTogSUVuY2xhdmU7XG4gIHByaXZhdGUgX3BlZXJNYW5hZ2VyOiBQZWVyTWFuYWdlcjtcbiAgcHJpdmF0ZSBfc3RyZWFtTWFuYWdlcjogU3RyZWFtTWFuYWdlcjtcbiAgcHJpdmF0ZSBfcm9sZU1hbmFnZXI6IFJvbGVNYW5hZ2VyO1xuICBwcml2YXRlIF9tZXNzYWdlQnJva2VyOiBNZXNzYWdlQnJva2VyO1xuICBwcml2YXRlIF9teUlkOiBzdHJpbmc7XG4gIHByaXZhdGUgX215QWRkcmVzczogQWRkcmVzcztcbiAgcHJpdmF0ZSBfc2lnbmFsQWRkcmVzczogQWRkcmVzcztcbiAgcHJpdmF0ZSBfaW5ib3g6IFN1YmplY3Q8QXBwQ29udGVudD47XG4gIHByaXZhdGUgX2ludGVybmFsTWVzc2FnZXM6IFN1YmplY3Q8SU1lc3NhZ2U+O1xuICBwcml2YXRlIF9jbG9jazogSUNsb2NrO1xuICBwcml2YXRlIF9sb2dnZXI6IElMb2dnZXI7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgIGNsb2NrOiBJQ2xvY2sgPSBudWxsLFxuICAgIGVuY2xhdmU6IElFbmNsYXZlID0gbnVsbCxcbiAgICBhZGRyZXNzOiBzdHJpbmcgPSBudWxsLFxuICAgIHNpZ25hbDogc3RyaW5nID0gbnVsbCxcbiAgICByb2xlczogQXJyYXk8Um9sZVR5cGU+ID0gbnVsbFxuICApIHtcbiAgICBpZiAoIWNsb2NrKSB7XG4gICAgICBjbG9jayA9IG5ldyBNYXN0ZXJDbG9jaygpO1xuICAgICAgY2xvY2suc3RhcnQoKTtcbiAgICB9XG4gICAgdGhpcy5fY2xvY2sgPSBjbG9jaztcbiAgICBpZiAoIWVuY2xhdmUpIHtcbiAgICAgIGVuY2xhdmUgPSBuZXcgU2VjdXJlRW5jbGF2ZSgpO1xuICAgIH1cblxuICAgIHRoaXMuX2VuY2xhdmUgPSBlbmNsYXZlO1xuICAgIGlmIChhZGRyZXNzKSB7XG4gICAgICB0aGlzLl9teUFkZHJlc3MgPSBBZGRyZXNzLmZyb21TdHJpbmcoYWRkcmVzcyk7XG4gICAgICB0aGlzLl9teUlkID0gdGhpcy5fbXlBZGRyZXNzLmdldElkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX215SWQgPSBgcCR7TWF0aC5yb3VuZCgxMDAwICsgTWF0aC5yYW5kb20oKSAqIDg5OTkpfWA7XG4gICAgICB0aGlzLl9teUFkZHJlc3MgPSBuZXcgQWRkcmVzcyh0aGlzLl9teUlkKTtcbiAgICB9XG5cbiAgICBpZiAoIXJvbGVzIHx8ICFyb2xlcy5sZW5ndGgpIHtcbiAgICAgIHJvbGVzID0gW1JvbGVUeXBlLk5FV0JJRV07XG4gICAgfVxuICAgIHRoaXMuX3JvbGVNYW5hZ2VyID0gbmV3IFJvbGVNYW5hZ2VyKHRoaXMuX215SWQsIHJvbGVzKTtcblxuICAgIGlmICghc2lnbmFsKSB7XG4gICAgICBzaWduYWwgPSB0aGlzLl9yb2xlTWFuYWdlci5nZXRDb25maWd1cmF0aW9uKCkuREVGQVVMVF9TSUdOQUxfQUREUkVTUztcbiAgICB9XG4gICAgdGhpcy5fc2lnbmFsQWRkcmVzcyA9IEFkZHJlc3MuZnJvbVN0cmluZyhzaWduYWwpO1xuXG4gICAgdGhpcy5fcGVlck1hbmFnZXIgPSBuZXcgUGVlck1hbmFnZXIodGhpcy5fbXlJZCwgdGhpcy5fcm9sZU1hbmFnZXIsIHRoaXMuX2Nsb2NrLmZvcmsoKSk7XG4gICAgdGhpcy5fc3RyZWFtTWFuYWdlciA9IG5ldyBTdHJlYW1NYW5hZ2VyKHRoaXMuX215SWQsIHRoaXMuX3BlZXJNYW5hZ2VyKTtcbiAgICB0aGlzLl9tZXNzYWdlQnJva2VyID0gbmV3IE1lc3NhZ2VCcm9rZXIodGhpcy5fcGVlck1hbmFnZXIsIHRoaXMuX3JvbGVNYW5hZ2VyLCB0aGlzLl9zdHJlYW1NYW5hZ2VyKTtcbiAgICB0aGlzLl9pbmJveCA9IG5ldyBTdWJqZWN0PEFwcENvbnRlbnQ+KCk7XG4gICAgdGhpcy5faW50ZXJuYWxNZXNzYWdlcyA9IG5ldyBTdWJqZWN0PE1lc3NhZ2U+KCk7XG4gICAgdGhpcy5saXN0ZW5Pbk1lc3NhZ2VzKCk7XG4gICAgdGhpcy5saXN0ZW5PbkFwcENvbnRlbnRNZXNzYWdlcygpO1xuICAgIHRoaXMubGlzdGVuT25Db25uZWN0aW9uQ2h1cm4oKTtcblxuICAgIHRoaXMuX2Nsb2NrLnNldEludGVydmFsKHRoaXMub25UaWNrLmJpbmQodGhpcykpO1xuICAgIHRoaXMuX2xvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIodGhpcy5fbXlJZCk7XG4gICAgdGhpcy5fbG9nZ2VyLnNldENsb2NrKHRoaXMuX2Nsb2NrKTtcbiAgICB0aGlzLl9sb2dnZXIuaW5mbyhgaSBhbSBhICR7cm9sZXMuam9pbignIGFuZCBhICcpfWApO1xuICB9XG5cbiAgcHJpdmF0ZSBsaXN0ZW5PbkFwcENvbnRlbnRNZXNzYWdlcygpOiB2b2lkIHtcbiAgICB0aGlzLl9tZXNzYWdlQnJva2VyLm9ic2VydmVBcHBDb250ZW50TWVzc2FnZXMoKVxuICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgKG1lc3NhZ2U6IEFwcENvbnRlbnQpID0+IHRoaXMuX2luYm94Lm5leHQobWVzc2FnZSlcbiAgICAgICk7XG4gIH1cblxuICBwcml2YXRlIGxpc3Rlbk9uTWVzc2FnZXMoKTogdm9pZCB7XG4gICAgdGhpcy5fbWVzc2FnZUJyb2tlci5vYnNlcnZlTWVzc2FnZXMoKVxuICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgbWVzc2FnZSA9PiB7XG4gICAgICAgICAgdGhpcy5fcm9sZU1hbmFnZXIub25NZXNzYWdlKHRoaXMsIG1lc3NhZ2UpO1xuICAgICAgICB9KTtcblxuICAgIHRoaXMuX21lc3NhZ2VCcm9rZXIub2JzZXJ2ZUluY29taW5nTWVzc2FnZXMoKVxuICAgICAgLnN1YnNjcmliZShtZXNzYWdlID0+IHRoaXMuX2ludGVybmFsTWVzc2FnZXMubmV4dChtZXNzYWdlKSk7XG4gIH1cblxuICBwcml2YXRlIGxpc3Rlbk9uQ29ubmVjdGlvbkNodXJuKCk6IHZvaWQge1xuICAgIHRoaXMuX3BlZXJNYW5hZ2VyXG4gICAgICAub2JzZXJ2ZVBlZXJDb25uZWN0aW9uQ2h1cm4oKVxuICAgICAgLnN1YnNjcmliZShldiA9PiB7XG4gICAgICAgIHN3aXRjaCAoZXYudHlwZSkge1xuICAgICAgICAgIGNhc2UgQ2h1cm5UeXBlLkFEREVEOlxuICAgICAgICAgICAgdGhpcy5saXN0ZW5PbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZShldi5jb25uZWN0aW9uKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ2h1cm5UeXBlLlJFTU9WRUQ6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGxpc3Rlbk9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKGNvbm5lY3Rpb246IElDb25uZWN0aW9uKSB7XG4gICAgY29ubmVjdGlvbi5vYnNlcnZlU3RhdGVDaGFuZ2UoKVxuICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgc3RhdGUgPT4ge1xuICAgICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgQ29ubmVjdGlvblN0YXRlLk9QRU46XG4gICAgICAgICAgICAgIHRoaXMuX3N0cmVhbU1hbmFnZXIub25Db25uZWN0aW9uT3Blbihjb25uZWN0aW9uKTtcbiAgICAgICAgICAgICAgdGhpcy5fcm9sZU1hbmFnZXIub25Db25uZWN0aW9uT3Blbih0aGlzLCBjb25uZWN0aW9uKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbm5lY3Rpb25TdGF0ZS5DTE9TRUQ6XG4gICAgICAgICAgICAgIHRoaXMuX3N0cmVhbU1hbmFnZXIub25Db25uZWN0aW9uQ2xvc2UoY29ubmVjdGlvbik7XG4gICAgICAgICAgICAgIHRoaXMuX3JvbGVNYW5hZ2VyLm9uQ29ubmVjdGlvbkNsb3NlKHRoaXMsIGNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG4gIH1cblxuICBwcml2YXRlIG9uVGljaygpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5fcm9sZU1hbmFnZXIub25UaWNrKHRoaXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLl9sb2dnZXIuZXJyb3IoZXJyb3IubWVzc2FnZSwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldE15QWRkcmVzcygpOiBBZGRyZXNzIHtcbiAgICByZXR1cm4gdGhpcy5fbXlBZGRyZXNzO1xuICB9XG5cbiAgcHVibGljIGdldFNpZ25hbEFkZHJlc3MoKTogQWRkcmVzcyB7XG4gICAgcmV0dXJuIHRoaXMuX3NpZ25hbEFkZHJlc3M7XG4gIH1cblxuICBwdWJsaWMgZ2V0UGVlclRhYmxlKCk6IFJlbW90ZVBlZXJUYWJsZSB7XG4gICAgcmV0dXJuIHRoaXMuX3BlZXJNYW5hZ2VyLmdldFBlZXJUYWJsZSgpO1xuICB9XG5cbiAgcHVibGljIGdldFBlZXJNYW5hZ2VyKCk6IFBlZXJNYW5hZ2VyIHtcbiAgICByZXR1cm4gdGhpcy5fcGVlck1hbmFnZXI7XG4gIH1cblxuICBwdWJsaWMgZ2V0SW5ib3goKTogU3ViamVjdDxBcHBDb250ZW50PiB7XG4gICAgcmV0dXJuIHRoaXMuX2luYm94O1xuICB9XG5cbiAgcHVibGljIG9ic2VydmVJbnRlcm5hbE1lc3NhZ2VzKCk6IFN1YmplY3Q8SU1lc3NhZ2U+IHtcbiAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNzYWdlcztcbiAgfVxuXG4gIHB1YmxpYyBnZXRSb2xlTWFuYWdlcigpOiBSb2xlTWFuYWdlciB7XG4gICAgcmV0dXJuIHRoaXMuX3JvbGVNYW5hZ2VyO1xuICB9XG5cbiAgcHVibGljIGdldFN0cmVhbU1hbmFnZXIoKTogU3RyZWFtTWFuYWdlciB7XG4gICAgcmV0dXJuIHRoaXMuX3N0cmVhbU1hbmFnZXI7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q2xvY2soKTogSUNsb2NrIHtcbiAgICByZXR1cm4gdGhpcy5fY2xvY2s7XG4gIH1cblxuICBwdWJsaWMgc2VuZE1lc3NhZ2VUbyhwZWVySWQ6IHN0cmluZywgbWVzc2FnZTogYW55KTogdm9pZCB7XG4gICAgY29uc3QgYXBwTWVzc2FnZSA9IG5ldyBBcHBDb250ZW50KFxuICAgICAgdGhpcy5nZXRNeUFkZHJlc3MoKSxcbiAgICAgIG5ldyBBZGRyZXNzKHBlZXJJZCksXG4gICAgICBtZXNzYWdlXG4gICAgKTtcbiAgICB0aGlzLl9wZWVyTWFuYWdlci5zZW5kTWVzc2FnZShhcHBNZXNzYWdlKTtcbiAgfVxuXG4gIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xuICAgIHRoaXMuX2luYm94LmNvbXBsZXRlKCk7XG4gICAgdGhpcy5faW50ZXJuYWxNZXNzYWdlcy5jb21wbGV0ZSgpO1xuICAgIHRoaXMuX3BlZXJNYW5hZ2VyLmRlc3Ryb3koKTtcbiAgICB0aGlzLl9zdHJlYW1NYW5hZ2VyLmRlc3Ryb3koKTtcbiAgICB0aGlzLl9yb2xlTWFuYWdlci5kZXN0cm95KCk7XG4gICAgdGhpcy5fbWVzc2FnZUJyb2tlci5kZXN0cm95KCk7XG4gICAgdGhpcy5fY2xvY2suc3RvcCgpO1xuICB9XG5cbiAgcHVibGljIHRvSlNPTigpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9IHtcbiAgICBjb25zdCBwZWVyVGFibGUgPSB0aGlzLmdldFBlZXJNYW5hZ2VyKCkuZ2V0UGVlclRhYmxlKCk7XG4gICAgY29uc3QgY29ubmVjdGlvblRvSlNPTiA9IChjb25uZWN0aW9uOiBJQ29ubmVjdGlvbikgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGNvbm5lY3Rpb24uZ2V0QWRkcmVzcygpLmdldElkKCksXG4gICAgICAgIHF1YWxpdHk6IGNvbm5lY3Rpb24uZ2V0TWV0ZXIoKS5nZXRRdWFsaXR5KHBlZXJUYWJsZSksXG4gICAgICAgIHN0YXRlOiBjb25uZWN0aW9uLmdldFN0YXRlKClcbiAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB3c3NDb25uZWN0aW9ucyA9IHBlZXJUYWJsZVxuICAgICAgLmFnZ3JlZ2F0ZUNvbm5lY3Rpb25zKFxuICAgICAgICB0YWJsZSA9PiB0YWJsZS5maWx0ZXJCeVByb3RvY29sKFByb3RvY29sLldFQlNPQ0tFVCwgUHJvdG9jb2wuV0VCU09DS0VUX1VOU0VDVVJFKVxuICAgICAgKVxuICAgICAgLm1hcChjb25uZWN0aW9uVG9KU09OKTtcbiAgICBjb25zdCB3ZWJydGNEYXRhQ29ubmVjdGlvbnMgPSBwZWVyVGFibGVcbiAgICAgIC5hZ2dyZWdhdGVDb25uZWN0aW9ucyhcbiAgICAgICAgdGFibGUgPT4gdGFibGUuZmlsdGVyQnlQcm90b2NvbChQcm90b2NvbC5XRUJSVENfREFUQSlcbiAgICAgIClcbiAgICAgIC5tYXAoY29ubmVjdGlvblRvSlNPTik7XG4gICAgY29uc3Qgd2VicnRjU3RyZWFtQ29ubmVjdGlvbnMgPSBwZWVyVGFibGVcbiAgICAgIC5hZ2dyZWdhdGVDb25uZWN0aW9ucyhcbiAgICAgICAgdGFibGUgPT4gdGFibGUuZmlsdGVyQnlQcm90b2NvbChQcm90b2NvbC5XRUJSVENfU1RSRUFNKVxuICAgICAgKVxuICAgICAgLmZpbHRlcihcbiAgICAgICAgKGNvbm5lY3Rpb246IFdlYlJUQ0Nvbm5lY3Rpb24pID0+IGNvbm5lY3Rpb24uaXNJbml0aWF0b3IoKVxuICAgICAgKVxuICAgICAgLm1hcChjb25uZWN0aW9uVG9KU09OKTtcbiAgICBjb25zdCBjaGFubmVscyA9IHRoaXMuZ2V0U3RyZWFtTWFuYWdlcigpLmdldENoYW5uZWxUYWJsZSgpLm1hcChcbiAgICAgIGNoYW5uZWwgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBjaGFubmVsLmdldElkKCksXG4gICAgICAgICAgcHJvdmlkZXJzOiBjaGFubmVsLmdldFByb3ZpZGVyVGFibGUoKS5tYXAoXG4gICAgICAgICAgICBwcm92aWRlciA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcGVlcklkOiBwcm92aWRlci5nZXRQZWVySWQoKSxcbiAgICAgICAgICAgICAgICBpc0FjdGl2ZTogcHJvdmlkZXIuaXNBY3RpdmUoKSxcbiAgICAgICAgICAgICAgICBpc0xvY2FsOiBwcm92aWRlci5pc0xvY2FsKCksXG4gICAgICAgICAgICAgICAgY2FwYWNpdHk6IHByb3ZpZGVyLmdldENhcGFjaXR5KClcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICBpZDogdGhpcy5nZXRNeUFkZHJlc3MoKS5nZXRJZCgpLFxuICAgICAgcm9sZXM6IHRoaXMuZ2V0Um9sZU1hbmFnZXIoKS5nZXRSb2xlcygpLFxuICAgICAgY29ubmVjdGlvbnM6IHtcbiAgICAgICAgJ3dzcyc6IHdzc0Nvbm5lY3Rpb25zLFxuICAgICAgICAnd2VicnRjLWRhdGEnOiB3ZWJydGNEYXRhQ29ubmVjdGlvbnMsXG4gICAgICAgICd3ZWJydGMtc3RyZWFtJzogd2VicnRjU3RyZWFtQ29ubmVjdGlvbnNcbiAgICAgIH0sXG4gICAgICBjaGFubmVsczogY2hhbm5lbHNcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCAqIGZyb20gJy4vY2xvY2svaW50ZXJmYWNlJztcbmV4cG9ydCAqIGZyb20gJy4vY29ubmVjdGlvbi9pbnRlcmZhY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9wZWVyL2ludGVyZmFjZSc7XG5leHBvcnQgKiBmcm9tICcuL21lc3NhZ2UvaW50ZXJmYWNlJztcbmV4cG9ydCAqIGZyb20gJy4vcm9sZS9pbnRlcmZhY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9sb2dnZXIvaW50ZXJmYWNlJztcbmV4cG9ydCAqIGZyb20gJy4vaW50ZXJmYWNlJztcbmV4cG9ydCAqIGZyb20gJy4vbWV0ZXJpbmcvaW50ZXJmYWNlJztcbmV4cG9ydCAqIGZyb20gJy4vc3RyZWFtL2ludGVyZmFjZSc7XG5leHBvcnQgKiBmcm9tICcuL21ldGVyaW5nL2Nvbm5lY3Rpb24tbWV0ZXIvaW50ZXJmYWNlJztcblxuZXhwb3J0ICogZnJvbSAnLi9jb25maWd1cmF0aW9uJztcblxuZXhwb3J0IHtJQ2xvY2t9IGZyb20gJy4vY2xvY2svaW50ZXJmYWNlJztcbmV4cG9ydCB7QWJzdHJhY3RDbG9ja30gZnJvbSAnLi9jbG9jay9jbG9jayc7XG5leHBvcnQge01hc3RlckNsb2NrfSBmcm9tICcuL2Nsb2NrL21hc3Rlcic7XG5leHBvcnQge1Byb3RvY29sQ29ubmVjdGlvbk1hcH0gZnJvbSAnLi9jb25uZWN0aW9uL3Byb3RvY29sLW1hcCc7XG5leHBvcnQge0lDb25uZWN0aW9ufSBmcm9tICcuL2Nvbm5lY3Rpb24vaW50ZXJmYWNlJztcbmV4cG9ydCB7QWJzdHJhY3RDb25uZWN0aW9ufSBmcm9tICcuL2Nvbm5lY3Rpb24vY29ubmVjdGlvbic7XG5leHBvcnQge1dlYlJUQ0Nvbm5lY3Rpb259IGZyb20gJy4vY29ubmVjdGlvbi93ZWJydGMnO1xuZXhwb3J0IHtXZWJSVENTdHJlYW1Db25uZWN0aW9ufSBmcm9tICcuL2Nvbm5lY3Rpb24vd2VicnRjLXN0cmVhbSc7XG5leHBvcnQge1dlYlJUQ0RhdGFDb25uZWN0aW9ufSBmcm9tICcuL2Nvbm5lY3Rpb24vd2VicnRjLWRhdGEnO1xuZXhwb3J0IHtSZW1vdGVQZWVyfSBmcm9tICcuL3BlZXIvcmVtb3RlLXBlZXInO1xuZXhwb3J0IHtBZGRyZXNzfSBmcm9tICcuL21lc3NhZ2UvYWRkcmVzcyc7XG5leHBvcnQge01lc3NhZ2V9IGZyb20gJy4vbWVzc2FnZS9tZXNzYWdlJztcbmV4cG9ydCB7QXBwQ29udGVudH0gZnJvbSAnLi9tZXNzYWdlL2FwcC1jb250ZW50JztcbmV4cG9ydCB7Q29ubmVjdGlvbk5lZ290aWF0aW9uVHlwZX0gZnJvbSAnLi9tZXNzYWdlL2Nvbm5lY3Rpb24tbmVnb3RpYXRpb24nO1xuZXhwb3J0IHtMb2dnZXJ9IGZyb20gJy4vbG9nZ2VyL2xvZ2dlcic7XG5leHBvcnQge3V1aWR9IGZyb20gJy4vdXRpbC91dWlkJztcbmV4cG9ydCB7c3RyaW5nQnl0ZUxlbmd0aH0gZnJvbSAnLi91dGlsL3N0cmluZy1mdW5jdGlvbnMnO1xuZXhwb3J0IHtJT2JzZXJ2YWJsZU1hcEV2ZW50LCBPYnNlcnZhYmxlTWFwfSBmcm9tICcuL3V0aWwvb2JzZXJ2YWJsZS1tYXAnO1xuZXhwb3J0IHtDb25uZWN0aW9uTWV0ZXJ9IGZyb20gJy4vbWV0ZXJpbmcvY29ubmVjdGlvbi1tZXRlci9jb25uZWN0aW9uLW1ldGVyJztcbmV4cG9ydCB7U3RyZWFtQ29ubmVjdGlvbk1ldGVyfSBmcm9tICcuL21ldGVyaW5nL2Nvbm5lY3Rpb24tbWV0ZXIvc3RyZWFtLWNvbm5lY3Rpb24tbWV0ZXInO1xuZXhwb3J0IHtUcmFuc21pc3Npb25Db25uZWN0aW9uTWV0ZXJ9IGZyb20gJy4vbWV0ZXJpbmcvY29ubmVjdGlvbi1tZXRlci90cmFuc21pc3Npb24tY29ubmVjdGlvbi1tZXRlcic7XG5leHBvcnQge0NoYW5uZWx9IGZyb20gJy4vc3RyZWFtL2NoYW5uZWwnO1xuZXhwb3J0IHtQcm92aWRlcn0gZnJvbSAnLi9zdHJlYW0vcHJvdmlkZXInO1xuZXhwb3J0IHtTdHJlYW1NYW5hZ2VyfSBmcm9tICcuL3N0cmVhbS9zdHJlYW0tbWFuYWdlcic7XG4iLCJpbXBvcnQge01pdG9zaXN9IGZyb20gJ21pdG9zaXMnO1xuXG5jb25zdCB2aWRlb0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndmlkZW8nKTtcbmNvbnN0IHJlY29yZEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uJyk7XG5cbmNvbnN0IG1pdG9zaXMgPSBuZXcgTWl0b3NpcygpO1xuXG5jb25zdCBvblN0cmVhbUFkZGVkID0gKHN0cmVhbUV2KSA9PiB7XG4gIGlmIChzdHJlYW1Fdi50eXBlID09PSAnYWRkZWQnKSB7XG4gICAgdmlkZW9FbC5zcmNPYmplY3QgPSBzdHJlYW1Fdi5zdHJlYW07XG4gICAgdmlkZW9FbC5wbGF5KCk7XG4gIH1cbn07XG5cbmNvbnN0IHN0YXJ0U3RyZWFtID0gKCkgPT4ge1xuICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XG4gICAgdmlkZW86IHRydWUsXG4gICAgYXVkaW86IGZhbHNlXG4gIH0pLnRoZW4oXG4gICAgKHN0cmVhbSkgPT4ge1xuICAgICAgbWl0b3Npcy5nZXRTdHJlYW1NYW5hZ2VyKCkuc2V0TG9jYWxTdHJlYW0oc3RyZWFtKTtcbiAgICB9KTtcbn07XG5cbm1pdG9zaXNcbiAgLmdldFN0cmVhbU1hbmFnZXIoKVxuICAub2JzZXJ2ZUNoYW5uZWxDaHVybigpXG4gIC5zdWJzY3JpYmUoXG4gICAgY2hhbm5lbEV2ID0+IGNoYW5uZWxFdi52YWx1ZVxuICAgICAgLm9ic2VydmVTdHJlYW1DaHVybigpXG4gICAgICAuc3Vic2NyaWJlKG9uU3RyZWFtQWRkZWQpXG4gICk7XG5cbnJlY29yZEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RhcnRTdHJlYW0pO1xuIiwiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcbmV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheVxuZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXG52YXIgbG9va3VwID0gW11cbnZhciByZXZMb29rdXAgPSBbXVxudmFyIEFyciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyA/IFVpbnQ4QXJyYXkgOiBBcnJheVxuXG52YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvZGUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgbG9va3VwW2ldID0gY29kZVtpXVxuICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcbn1cblxuLy8gU3VwcG9ydCBkZWNvZGluZyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5ncywgYXMgTm9kZS5qcyBkb2VzLlxuLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9uc1xucmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5yZXZMb29rdXBbJ18nLmNoYXJDb2RlQXQoMCldID0gNjNcblxuZnVuY3Rpb24gZ2V0TGVucyAoYjY0KSB7XG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0JylcbiAgfVxuXG4gIC8vIFRyaW0gb2ZmIGV4dHJhIGJ5dGVzIGFmdGVyIHBsYWNlaG9sZGVyIGJ5dGVzIGFyZSBmb3VuZFxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9pc3N1ZXMvNDJcbiAgdmFyIHZhbGlkTGVuID0gYjY0LmluZGV4T2YoJz0nKVxuICBpZiAodmFsaWRMZW4gPT09IC0xKSB2YWxpZExlbiA9IGxlblxuXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSB2YWxpZExlbiA9PT0gbGVuXG4gICAgPyAwXG4gICAgOiA0IC0gKHZhbGlkTGVuICUgNClcblxuICByZXR1cm4gW3ZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW5dXG59XG5cbi8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7XG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIF9ieXRlTGVuZ3RoIChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pIHtcbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIHRvQnl0ZUFycmF5IChiNjQpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG5cbiAgdmFyIGFyciA9IG5ldyBBcnIoX2J5dGVMZW5ndGgoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSlcblxuICB2YXIgY3VyQnl0ZSA9IDBcblxuICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG4gIHZhciBsZW4gPSBwbGFjZUhvbGRlcnNMZW4gPiAwXG4gICAgPyB2YWxpZExlbiAtIDRcbiAgICA6IHZhbGlkTGVuXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDEyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNikgfFxuICAgICAgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV1cbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gMTYpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDIpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAxKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDEwKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgNCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDEyICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gNiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtICYgMHgzRl1cbn1cblxuZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG4gIHZhciB0bXBcbiAgdmFyIG91dHB1dCA9IFtdXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID1cbiAgICAgICgodWludDhbaV0gPDwgMTYpICYgMHhGRjAwMDApICtcbiAgICAgICgodWludDhbaSArIDFdIDw8IDgpICYgMHhGRjAwKSArXG4gICAgICAodWludDhbaSArIDJdICYgMHhGRilcbiAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSlcbiAgfVxuICByZXR1cm4gb3V0cHV0LmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGZyb21CeXRlQXJyYXkgKHVpbnQ4KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbiA9IHVpbnQ4Lmxlbmd0aFxuICB2YXIgZXh0cmFCeXRlcyA9IGxlbiAlIDMgLy8gaWYgd2UgaGF2ZSAxIGJ5dGUgbGVmdCwgcGFkIDIgYnl0ZXNcbiAgdmFyIHBhcnRzID0gW11cbiAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODMgLy8gbXVzdCBiZSBtdWx0aXBsZSBvZiAzXG5cbiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVDaHVuayhcbiAgICAgIHVpbnQ4LCBpLCAoaSArIG1heENodW5rTGVuZ3RoKSA+IGxlbjIgPyBsZW4yIDogKGkgKyBtYXhDaHVua0xlbmd0aClcbiAgICApKVxuICB9XG5cbiAgLy8gcGFkIHRoZSBlbmQgd2l0aCB6ZXJvcywgYnV0IG1ha2Ugc3VyZSB0byBub3QgZm9yZ2V0IHRoZSBleHRyYSBieXRlc1xuICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXSArXG4gICAgICAnPT0nXG4gICAgKVxuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDEwXSArXG4gICAgICBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl0gK1xuICAgICAgJz0nXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG4iLCJleHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IChlICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IChtICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKCh2YWx1ZSAqIGMpIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG4iLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG4vKipcbiAqIFRoaXMgaXMgdGhlIHdlYiBicm93c2VyIGltcGxlbWVudGF0aW9uIG9mIGBkZWJ1ZygpYC5cbiAqL1xuXG5leHBvcnRzLmxvZyA9IGxvZztcbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gbG9jYWxzdG9yYWdlKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuXHQnIzAwMDBDQycsXG5cdCcjMDAwMEZGJyxcblx0JyMwMDMzQ0MnLFxuXHQnIzAwMzNGRicsXG5cdCcjMDA2NkNDJyxcblx0JyMwMDY2RkYnLFxuXHQnIzAwOTlDQycsXG5cdCcjMDA5OUZGJyxcblx0JyMwMENDMDAnLFxuXHQnIzAwQ0MzMycsXG5cdCcjMDBDQzY2Jyxcblx0JyMwMENDOTknLFxuXHQnIzAwQ0NDQycsXG5cdCcjMDBDQ0ZGJyxcblx0JyMzMzAwQ0MnLFxuXHQnIzMzMDBGRicsXG5cdCcjMzMzM0NDJyxcblx0JyMzMzMzRkYnLFxuXHQnIzMzNjZDQycsXG5cdCcjMzM2NkZGJyxcblx0JyMzMzk5Q0MnLFxuXHQnIzMzOTlGRicsXG5cdCcjMzNDQzAwJyxcblx0JyMzM0NDMzMnLFxuXHQnIzMzQ0M2NicsXG5cdCcjMzNDQzk5Jyxcblx0JyMzM0NDQ0MnLFxuXHQnIzMzQ0NGRicsXG5cdCcjNjYwMENDJyxcblx0JyM2NjAwRkYnLFxuXHQnIzY2MzNDQycsXG5cdCcjNjYzM0ZGJyxcblx0JyM2NkNDMDAnLFxuXHQnIzY2Q0MzMycsXG5cdCcjOTkwMENDJyxcblx0JyM5OTAwRkYnLFxuXHQnIzk5MzNDQycsXG5cdCcjOTkzM0ZGJyxcblx0JyM5OUNDMDAnLFxuXHQnIzk5Q0MzMycsXG5cdCcjQ0MwMDAwJyxcblx0JyNDQzAwMzMnLFxuXHQnI0NDMDA2NicsXG5cdCcjQ0MwMDk5Jyxcblx0JyNDQzAwQ0MnLFxuXHQnI0NDMDBGRicsXG5cdCcjQ0MzMzAwJyxcblx0JyNDQzMzMzMnLFxuXHQnI0NDMzM2NicsXG5cdCcjQ0MzMzk5Jyxcblx0JyNDQzMzQ0MnLFxuXHQnI0NDMzNGRicsXG5cdCcjQ0M2NjAwJyxcblx0JyNDQzY2MzMnLFxuXHQnI0NDOTkwMCcsXG5cdCcjQ0M5OTMzJyxcblx0JyNDQ0NDMDAnLFxuXHQnI0NDQ0MzMycsXG5cdCcjRkYwMDAwJyxcblx0JyNGRjAwMzMnLFxuXHQnI0ZGMDA2NicsXG5cdCcjRkYwMDk5Jyxcblx0JyNGRjAwQ0MnLFxuXHQnI0ZGMDBGRicsXG5cdCcjRkYzMzAwJyxcblx0JyNGRjMzMzMnLFxuXHQnI0ZGMzM2NicsXG5cdCcjRkYzMzk5Jyxcblx0JyNGRjMzQ0MnLFxuXHQnI0ZGMzNGRicsXG5cdCcjRkY2NjAwJyxcblx0JyNGRjY2MzMnLFxuXHQnI0ZGOTkwMCcsXG5cdCcjRkY5OTMzJyxcblx0JyNGRkNDMDAnLFxuXHQnI0ZGQ0MzMydcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcblx0Ly8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuXHQvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuXHQvLyBleHBsaWNpdGx5XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG5cdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG5cdC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cdHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuXHRcdC8vIElzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcblx0XHQodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuXHRcdC8vIElzIGZpcmVmb3ggPj0gdjMxP1xuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pICYmIHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApID49IDMxKSB8fFxuXHRcdC8vIERvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcblx0XHQodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuXHRhcmdzWzBdID0gKHRoaXMudXNlQ29sb3JzID8gJyVjJyA6ICcnKSArXG5cdFx0dGhpcy5uYW1lc3BhY2UgK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKSArXG5cdFx0YXJnc1swXSArXG5cdFx0KHRoaXMudXNlQ29sb3JzID8gJyVjICcgOiAnICcpICtcblx0XHQnKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG5cdGlmICghdGhpcy51c2VDb2xvcnMpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcblx0YXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0Jyk7XG5cblx0Ly8gVGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcblx0Ly8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuXHQvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cblx0bGV0IGluZGV4ID0gMDtcblx0bGV0IGxhc3RDID0gMDtcblx0YXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIG1hdGNoID0+IHtcblx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aW5kZXgrKztcblx0XHRpZiAobWF0Y2ggPT09ICclYycpIHtcblx0XHRcdC8vIFdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuXHRcdFx0Ly8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcblx0XHRcdGxhc3RDID0gaW5kZXg7XG5cdFx0fVxuXHR9KTtcblxuXHRhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5sb2coKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmxvZ2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIGxvZyguLi5hcmdzKSB7XG5cdC8vIFRoaXMgaGFja2VyeSBpcyByZXF1aXJlZCBmb3IgSUU4LzksIHdoZXJlXG5cdC8vIHRoZSBgY29uc29sZS5sb2dgIGZ1bmN0aW9uIGRvZXNuJ3QgaGF2ZSAnYXBwbHknXG5cdHJldHVybiB0eXBlb2YgY29uc29sZSA9PT0gJ29iamVjdCcgJiZcblx0XHRjb25zb2xlLmxvZyAmJlxuXHRcdGNvbnNvbGUubG9nKC4uLmFyZ3MpO1xufVxuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG5cdHRyeSB7XG5cdFx0aWYgKG5hbWVzcGFjZXMpIHtcblx0XHRcdGV4cG9ydHMuc3RvcmFnZS5zZXRJdGVtKCdkZWJ1ZycsIG5hbWVzcGFjZXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGxvYWQoKSB7XG5cdGxldCByO1xuXHR0cnkge1xuXHRcdHIgPSBleHBvcnRzLnN0b3JhZ2UuZ2V0SXRlbSgnZGVidWcnKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cblxuXHQvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG5cdGlmICghciAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2VudicgaW4gcHJvY2Vzcykge1xuXHRcdHIgPSBwcm9jZXNzLmVudi5ERUJVRztcblx0fVxuXG5cdHJldHVybiByO1xufVxuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcblx0dHJ5IHtcblx0XHQvLyBUVk1MS2l0IChBcHBsZSBUViBKUyBSdW50aW1lKSBkb2VzIG5vdCBoYXZlIGEgd2luZG93IG9iamVjdCwganVzdCBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0XG5cdFx0Ly8gVGhlIEJyb3dzZXIgYWxzbyBoYXMgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dC5cblx0XHRyZXR1cm4gbG9jYWxTdG9yYWdlO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY29tbW9uJykoZXhwb3J0cyk7XG5cbmNvbnN0IHtmb3JtYXR0ZXJzfSA9IG1vZHVsZS5leHBvcnRzO1xuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbiAodikge1xuXHR0cnkge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyb3IubWVzc2FnZTtcblx0fVxufTtcbiIsIlxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICovXG5cbmZ1bmN0aW9uIHNldHVwKGVudikge1xuXHRjcmVhdGVEZWJ1Zy5kZWJ1ZyA9IGNyZWF0ZURlYnVnO1xuXHRjcmVhdGVEZWJ1Zy5kZWZhdWx0ID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmNvZXJjZSA9IGNvZXJjZTtcblx0Y3JlYXRlRGVidWcuZGlzYWJsZSA9IGRpc2FibGU7XG5cdGNyZWF0ZURlYnVnLmVuYWJsZSA9IGVuYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlZCA9IGVuYWJsZWQ7XG5cdGNyZWF0ZURlYnVnLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblxuXHRPYmplY3Qua2V5cyhlbnYpLmZvckVhY2goa2V5ID0+IHtcblx0XHRjcmVhdGVEZWJ1Z1trZXldID0gZW52W2tleV07XG5cdH0pO1xuXG5cdC8qKlxuXHQqIEFjdGl2ZSBgZGVidWdgIGluc3RhbmNlcy5cblx0Ki9cblx0Y3JlYXRlRGVidWcuaW5zdGFuY2VzID0gW107XG5cblx0LyoqXG5cdCogVGhlIGN1cnJlbnRseSBhY3RpdmUgZGVidWcgbW9kZSBuYW1lcywgYW5kIG5hbWVzIHRvIHNraXAuXG5cdCovXG5cblx0Y3JlYXRlRGVidWcubmFtZXMgPSBbXTtcblx0Y3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcblxuXHQvKipcblx0KiBNYXAgb2Ygc3BlY2lhbCBcIiVuXCIgaGFuZGxpbmcgZnVuY3Rpb25zLCBmb3IgdGhlIGRlYnVnIFwiZm9ybWF0XCIgYXJndW1lbnQuXG5cdCpcblx0KiBWYWxpZCBrZXkgbmFtZXMgYXJlIGEgc2luZ2xlLCBsb3dlciBvciB1cHBlci1jYXNlIGxldHRlciwgaS5lLiBcIm5cIiBhbmQgXCJOXCIuXG5cdCovXG5cdGNyZWF0ZURlYnVnLmZvcm1hdHRlcnMgPSB7fTtcblxuXHQvKipcblx0KiBTZWxlY3RzIGEgY29sb3IgZm9yIGEgZGVidWcgbmFtZXNwYWNlXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSBUaGUgbmFtZXNwYWNlIHN0cmluZyBmb3IgdGhlIGZvciB0aGUgZGVidWcgaW5zdGFuY2UgdG8gYmUgY29sb3JlZFxuXHQqIEByZXR1cm4ge051bWJlcnxTdHJpbmd9IEFuIEFOU0kgY29sb3IgY29kZSBmb3IgdGhlIGdpdmVuIG5hbWVzcGFjZVxuXHQqIEBhcGkgcHJpdmF0ZVxuXHQqL1xuXHRmdW5jdGlvbiBzZWxlY3RDb2xvcihuYW1lc3BhY2UpIHtcblx0XHRsZXQgaGFzaCA9IDA7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzcGFjZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0aGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgbmFtZXNwYWNlLmNoYXJDb2RlQXQoaSk7XG5cdFx0XHRoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuXHRcdH1cblxuXHRcdHJldHVybiBjcmVhdGVEZWJ1Zy5jb2xvcnNbTWF0aC5hYnMoaGFzaCkgJSBjcmVhdGVEZWJ1Zy5jb2xvcnMubGVuZ3RoXTtcblx0fVxuXHRjcmVhdGVEZWJ1Zy5zZWxlY3RDb2xvciA9IHNlbGVjdENvbG9yO1xuXG5cdC8qKlxuXHQqIENyZWF0ZSBhIGRlYnVnZ2VyIHdpdGggdGhlIGdpdmVuIGBuYW1lc3BhY2VgLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuXHQqIEByZXR1cm4ge0Z1bmN0aW9ufVxuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGNyZWF0ZURlYnVnKG5hbWVzcGFjZSkge1xuXHRcdGxldCBwcmV2VGltZTtcblxuXHRcdGZ1bmN0aW9uIGRlYnVnKC4uLmFyZ3MpIHtcblx0XHRcdC8vIERpc2FibGVkP1xuXHRcdFx0aWYgKCFkZWJ1Zy5lbmFibGVkKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3Qgc2VsZiA9IGRlYnVnO1xuXG5cdFx0XHQvLyBTZXQgYGRpZmZgIHRpbWVzdGFtcFxuXHRcdFx0Y29uc3QgY3VyciA9IE51bWJlcihuZXcgRGF0ZSgpKTtcblx0XHRcdGNvbnN0IG1zID0gY3VyciAtIChwcmV2VGltZSB8fCBjdXJyKTtcblx0XHRcdHNlbGYuZGlmZiA9IG1zO1xuXHRcdFx0c2VsZi5wcmV2ID0gcHJldlRpbWU7XG5cdFx0XHRzZWxmLmN1cnIgPSBjdXJyO1xuXHRcdFx0cHJldlRpbWUgPSBjdXJyO1xuXG5cdFx0XHRhcmdzWzBdID0gY3JlYXRlRGVidWcuY29lcmNlKGFyZ3NbMF0pO1xuXG5cdFx0XHRpZiAodHlwZW9mIGFyZ3NbMF0gIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdC8vIEFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG5cdFx0XHRcdGFyZ3MudW5zaGlmdCgnJU8nKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcblx0XHRcdGxldCBpbmRleCA9IDA7XG5cdFx0XHRhcmdzWzBdID0gYXJnc1swXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZywgKG1hdGNoLCBmb3JtYXQpID0+IHtcblx0XHRcdFx0Ly8gSWYgd2UgZW5jb3VudGVyIGFuIGVzY2FwZWQgJSB0aGVuIGRvbid0IGluY3JlYXNlIHRoZSBhcnJheSBpbmRleFxuXHRcdFx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0XHRcdH1cblx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0Y29uc3QgZm9ybWF0dGVyID0gY3JlYXRlRGVidWcuZm9ybWF0dGVyc1tmb3JtYXRdO1xuXHRcdFx0XHRpZiAodHlwZW9mIGZvcm1hdHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGNvbnN0IHZhbCA9IGFyZ3NbaW5kZXhdO1xuXHRcdFx0XHRcdG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuXHRcdFx0XHRcdC8vIE5vdyB3ZSBuZWVkIHRvIHJlbW92ZSBgYXJnc1tpbmRleF1gIHNpbmNlIGl0J3MgaW5saW5lZCBpbiB0aGUgYGZvcm1hdGBcblx0XHRcdFx0XHRhcmdzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdFx0aW5kZXgtLTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gQXBwbHkgZW52LXNwZWNpZmljIGZvcm1hdHRpbmcgKGNvbG9ycywgZXRjLilcblx0XHRcdGNyZWF0ZURlYnVnLmZvcm1hdEFyZ3MuY2FsbChzZWxmLCBhcmdzKTtcblxuXHRcdFx0Y29uc3QgbG9nRm4gPSBzZWxmLmxvZyB8fCBjcmVhdGVEZWJ1Zy5sb2c7XG5cdFx0XHRsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcblx0XHR9XG5cblx0XHRkZWJ1Zy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG5cdFx0ZGVidWcuZW5hYmxlZCA9IGNyZWF0ZURlYnVnLmVuYWJsZWQobmFtZXNwYWNlKTtcblx0XHRkZWJ1Zy51c2VDb2xvcnMgPSBjcmVhdGVEZWJ1Zy51c2VDb2xvcnMoKTtcblx0XHRkZWJ1Zy5jb2xvciA9IHNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG5cdFx0ZGVidWcuZGVzdHJveSA9IGRlc3Ryb3k7XG5cdFx0ZGVidWcuZXh0ZW5kID0gZXh0ZW5kO1xuXHRcdC8vIERlYnVnLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuXHRcdC8vIGRlYnVnLnJhd0xvZyA9IHJhd0xvZztcblxuXHRcdC8vIGVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG5cdFx0aWYgKHR5cGVvZiBjcmVhdGVEZWJ1Zy5pbml0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRjcmVhdGVEZWJ1Zy5pbml0KGRlYnVnKTtcblx0XHR9XG5cblx0XHRjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMucHVzaChkZWJ1Zyk7XG5cblx0XHRyZXR1cm4gZGVidWc7XG5cdH1cblxuXHRmdW5jdGlvbiBkZXN0cm95KCkge1xuXHRcdGNvbnN0IGluZGV4ID0gY3JlYXRlRGVidWcuaW5zdGFuY2VzLmluZGV4T2YodGhpcyk7XG5cdFx0aWYgKGluZGV4ICE9PSAtMSkge1xuXHRcdFx0Y3JlYXRlRGVidWcuaW5zdGFuY2VzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0ZnVuY3Rpb24gZXh0ZW5kKG5hbWVzcGFjZSwgZGVsaW1pdGVyKSB7XG5cdFx0Y29uc3QgbmV3RGVidWcgPSBjcmVhdGVEZWJ1Zyh0aGlzLm5hbWVzcGFjZSArICh0eXBlb2YgZGVsaW1pdGVyID09PSAndW5kZWZpbmVkJyA/ICc6JyA6IGRlbGltaXRlcikgKyBuYW1lc3BhY2UpO1xuXHRcdG5ld0RlYnVnLmxvZyA9IHRoaXMubG9nO1xuXHRcdHJldHVybiBuZXdEZWJ1Zztcblx0fVxuXG5cdC8qKlxuXHQqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcblx0KiBzZXBhcmF0ZWQgYnkgYSBjb2xvbiBhbmQgd2lsZGNhcmRzLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBlbmFibGUobmFtZXNwYWNlcykge1xuXHRcdGNyZWF0ZURlYnVnLnNhdmUobmFtZXNwYWNlcyk7XG5cblx0XHRjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuXHRcdGNyZWF0ZURlYnVnLnNraXBzID0gW107XG5cblx0XHRsZXQgaTtcblx0XHRjb25zdCBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpLnNwbGl0KC9bXFxzLF0rLyk7XG5cdFx0Y29uc3QgbGVuID0gc3BsaXQubGVuZ3RoO1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRpZiAoIXNwbGl0W2ldKSB7XG5cdFx0XHRcdC8vIGlnbm9yZSBlbXB0eSBzdHJpbmdzXG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRuYW1lc3BhY2VzID0gc3BsaXRbaV0ucmVwbGFjZSgvXFwqL2csICcuKj8nKTtcblxuXHRcdFx0aWYgKG5hbWVzcGFjZXNbMF0gPT09ICctJykge1xuXHRcdFx0XHRjcmVhdGVEZWJ1Zy5za2lwcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcy5zdWJzdHIoMSkgKyAnJCcpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNyZWF0ZURlYnVnLm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzICsgJyQnKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yIChpID0gMDsgaSA8IGNyZWF0ZURlYnVnLmluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgaW5zdGFuY2UgPSBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXNbaV07XG5cdFx0XHRpbnN0YW5jZS5lbmFibGVkID0gY3JlYXRlRGVidWcuZW5hYmxlZChpbnN0YW5jZS5uYW1lc3BhY2UpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQqIERpc2FibGUgZGVidWcgb3V0cHV0LlxuXHQqXG5cdCogQHJldHVybiB7U3RyaW5nfSBuYW1lc3BhY2VzXG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZGlzYWJsZSgpIHtcblx0XHRjb25zdCBuYW1lc3BhY2VzID0gW1xuXHRcdFx0Li4uY3JlYXRlRGVidWcubmFtZXMubWFwKHRvTmFtZXNwYWNlKSxcblx0XHRcdC4uLmNyZWF0ZURlYnVnLnNraXBzLm1hcCh0b05hbWVzcGFjZSkubWFwKG5hbWVzcGFjZSA9PiAnLScgKyBuYW1lc3BhY2UpXG5cdFx0XS5qb2luKCcsJyk7XG5cdFx0Y3JlYXRlRGVidWcuZW5hYmxlKCcnKTtcblx0XHRyZXR1cm4gbmFtZXNwYWNlcztcblx0fVxuXG5cdC8qKlxuXHQqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gbW9kZSBuYW1lIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG5cdCogQHJldHVybiB7Qm9vbGVhbn1cblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBlbmFibGVkKG5hbWUpIHtcblx0XHRpZiAobmFtZVtuYW1lLmxlbmd0aCAtIDFdID09PSAnKicpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGxldCBpO1xuXHRcdGxldCBsZW47XG5cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjcmVhdGVEZWJ1Zy5za2lwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKGNyZWF0ZURlYnVnLnNraXBzW2ldLnRlc3QobmFtZSkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNyZWF0ZURlYnVnLm5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRpZiAoY3JlYXRlRGVidWcubmFtZXNbaV0udGVzdChuYW1lKSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvKipcblx0KiBDb252ZXJ0IHJlZ2V4cCB0byBuYW1lc3BhY2Vcblx0KlxuXHQqIEBwYXJhbSB7UmVnRXhwfSByZWd4ZXBcblx0KiBAcmV0dXJuIHtTdHJpbmd9IG5hbWVzcGFjZVxuXHQqIEBhcGkgcHJpdmF0ZVxuXHQqL1xuXHRmdW5jdGlvbiB0b05hbWVzcGFjZShyZWdleHApIHtcblx0XHRyZXR1cm4gcmVnZXhwLnRvU3RyaW5nKClcblx0XHRcdC5zdWJzdHJpbmcoMiwgcmVnZXhwLnRvU3RyaW5nKCkubGVuZ3RoIC0gMilcblx0XHRcdC5yZXBsYWNlKC9cXC5cXCpcXD8kLywgJyonKTtcblx0fVxuXG5cdC8qKlxuXHQqIENvZXJjZSBgdmFsYC5cblx0KlxuXHQqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuXHQqIEByZXR1cm4ge01peGVkfVxuXHQqIEBhcGkgcHJpdmF0ZVxuXHQqL1xuXHRmdW5jdGlvbiBjb2VyY2UodmFsKSB7XG5cdFx0aWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0XHRyZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuXHRcdH1cblx0XHRyZXR1cm4gdmFsO1xuXHR9XG5cblx0Y3JlYXRlRGVidWcuZW5hYmxlKGNyZWF0ZURlYnVnLmxvYWQoKSk7XG5cblx0cmV0dXJuIGNyZWF0ZURlYnVnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldHVwO1xuIiwiLyoqXG4gKiBIZWxwZXJzLlxuICovXG5cbnZhciBzID0gMTAwMDtcbnZhciBtID0gcyAqIDYwO1xudmFyIGggPSBtICogNjA7XG52YXIgZCA9IGggKiAyNDtcbnZhciB3ID0gZCAqIDc7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzTmFOKHZhbCkgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigoPzpcXGQrKT9cXC0/XFxkP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8d2Vla3M/fHd8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoXG4gICAgc3RyXG4gICk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgdmFyIHR5cGUgPSAobWF0Y2hbMl0gfHwgJ21zJykudG9Mb3dlckNhc2UoKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuICAgIGNhc2UgJ3dlZWtzJzpcbiAgICBjYXNlICd3ZWVrJzpcbiAgICBjYXNlICd3JzpcbiAgICAgIHJldHVybiBuICogdztcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdFNob3J0KG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICB9XG4gIHJldHVybiBtcyArICdtcyc7XG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgZCwgJ2RheScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGgsICdob3VyJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgbSwgJ21pbnV0ZScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIHMsICdzZWNvbmQnKTtcbiAgfVxuICByZXR1cm4gbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG1zQWJzLCBuLCBuYW1lKSB7XG4gIHZhciBpc1BsdXJhbCA9IG1zQWJzID49IG4gKiAxLjU7XG4gIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbikgKyAnICcgKyBuYW1lICsgKGlzUGx1cmFsID8gJ3MnIDogJycpO1xufVxuIiwiLy8gb3JpZ2luYWxseSBwdWxsZWQgb3V0IG9mIHNpbXBsZS1wZWVyXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0QnJvd3NlclJUQyAoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIG51bGxcbiAgdmFyIHdydGMgPSB7XG4gICAgUlRDUGVlckNvbm5lY3Rpb246IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiB8fCB3aW5kb3cubW96UlRDUGVlckNvbm5lY3Rpb24gfHxcbiAgICAgIHdpbmRvdy53ZWJraXRSVENQZWVyQ29ubmVjdGlvbixcbiAgICBSVENTZXNzaW9uRGVzY3JpcHRpb246IHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb24gfHxcbiAgICAgIHdpbmRvdy5tb3pSVENTZXNzaW9uRGVzY3JpcHRpb24gfHwgd2luZG93LndlYmtpdFJUQ1Nlc3Npb25EZXNjcmlwdGlvbixcbiAgICBSVENJY2VDYW5kaWRhdGU6IHdpbmRvdy5SVENJY2VDYW5kaWRhdGUgfHwgd2luZG93Lm1velJUQ0ljZUNhbmRpZGF0ZSB8fFxuICAgICAgd2luZG93LndlYmtpdFJUQ0ljZUNhbmRpZGF0ZVxuICB9XG4gIGlmICghd3J0Yy5SVENQZWVyQ29ubmVjdGlvbikgcmV0dXJuIG51bGxcbiAgcmV0dXJuIHdydGNcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5mdW5jdGlvbiBvbGRCcm93c2VyICgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdTZWN1cmUgcmFuZG9tIG51bWJlciBnZW5lcmF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyLlxcblVzZSBDaHJvbWUsIEZpcmVmb3ggb3IgSW50ZXJuZXQgRXhwbG9yZXIgMTEnKVxufVxuXG52YXIgQnVmZmVyID0gcmVxdWlyZSgnc2FmZS1idWZmZXInKS5CdWZmZXJcbnZhciBjcnlwdG8gPSBnbG9iYWwuY3J5cHRvIHx8IGdsb2JhbC5tc0NyeXB0b1xuXG5pZiAoY3J5cHRvICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByYW5kb21CeXRlc1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBvbGRCcm93c2VyXG59XG5cbmZ1bmN0aW9uIHJhbmRvbUJ5dGVzIChzaXplLCBjYikge1xuICAvLyBwaGFudG9tanMgbmVlZHMgdG8gdGhyb3dcbiAgaWYgKHNpemUgPiA2NTUzNikgdGhyb3cgbmV3IEVycm9yKCdyZXF1ZXN0ZWQgdG9vIG1hbnkgcmFuZG9tIGJ5dGVzJylcbiAgLy8gaW4gY2FzZSBicm93c2VyaWZ5ICBpc24ndCB1c2luZyB0aGUgVWludDhBcnJheSB2ZXJzaW9uXG4gIHZhciByYXdCeXRlcyA9IG5ldyBnbG9iYWwuVWludDhBcnJheShzaXplKVxuXG4gIC8vIFRoaXMgd2lsbCBub3Qgd29yayBpbiBvbGRlciBicm93c2Vycy5cbiAgLy8gU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS93aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlc1xuICBpZiAoc2l6ZSA+IDApIHsgIC8vIGdldFJhbmRvbVZhbHVlcyBmYWlscyBvbiBJRSBpZiBzaXplID09IDBcbiAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHJhd0J5dGVzKVxuICB9XG5cbiAgLy8gWFhYOiBwaGFudG9tanMgZG9lc24ndCBsaWtlIGEgYnVmZmVyIGJlaW5nIHBhc3NlZCBoZXJlXG4gIHZhciBieXRlcyA9IEJ1ZmZlci5mcm9tKHJhd0J5dGVzLmJ1ZmZlcilcblxuICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgY2IobnVsbCwgYnl0ZXMpXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiBieXRlc1xufVxuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV9yZWFkYWJsZS5qcycpO1xuZXhwb3J0cy5TdHJlYW0gPSBleHBvcnRzO1xuZXhwb3J0cy5SZWFkYWJsZSA9IGV4cG9ydHM7XG5leHBvcnRzLldyaXRhYmxlID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV93cml0YWJsZS5qcycpO1xuZXhwb3J0cy5EdXBsZXggPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX2R1cGxleC5qcycpO1xuZXhwb3J0cy5UcmFuc2Zvcm0gPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX3RyYW5zZm9ybS5qcycpO1xuZXhwb3J0cy5QYXNzVGhyb3VnaCA9IHJlcXVpcmUoJy4vbGliL19zdHJlYW1fcGFzc3Rocm91Z2guanMnKTtcbiIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChhcnIpID09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgQnVmZmVyID0gcmVxdWlyZSgnc2FmZS1idWZmZXInKS5CdWZmZXI7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcblxuZnVuY3Rpb24gY29weUJ1ZmZlcihzcmMsIHRhcmdldCwgb2Zmc2V0KSB7XG4gIHNyYy5jb3B5KHRhcmdldCwgb2Zmc2V0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEJ1ZmZlckxpc3QoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJ1ZmZlckxpc3QpO1xuXG4gICAgdGhpcy5oZWFkID0gbnVsbDtcbiAgICB0aGlzLnRhaWwgPSBudWxsO1xuICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgfVxuXG4gIEJ1ZmZlckxpc3QucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiBwdXNoKHYpIHtcbiAgICB2YXIgZW50cnkgPSB7IGRhdGE6IHYsIG5leHQ6IG51bGwgfTtcbiAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB0aGlzLnRhaWwubmV4dCA9IGVudHJ5O2Vsc2UgdGhpcy5oZWFkID0gZW50cnk7XG4gICAgdGhpcy50YWlsID0gZW50cnk7XG4gICAgKyt0aGlzLmxlbmd0aDtcbiAgfTtcblxuICBCdWZmZXJMaXN0LnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24gdW5zaGlmdCh2KSB7XG4gICAgdmFyIGVudHJ5ID0geyBkYXRhOiB2LCBuZXh0OiB0aGlzLmhlYWQgfTtcbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHRoaXMudGFpbCA9IGVudHJ5O1xuICAgIHRoaXMuaGVhZCA9IGVudHJ5O1xuICAgICsrdGhpcy5sZW5ndGg7XG4gIH07XG5cbiAgQnVmZmVyTGlzdC5wcm90b3R5cGUuc2hpZnQgPSBmdW5jdGlvbiBzaGlmdCgpIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICB2YXIgcmV0ID0gdGhpcy5oZWFkLmRhdGE7XG4gICAgaWYgKHRoaXMubGVuZ3RoID09PSAxKSB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSBudWxsO2Vsc2UgdGhpcy5oZWFkID0gdGhpcy5oZWFkLm5leHQ7XG4gICAgLS10aGlzLmxlbmd0aDtcbiAgICByZXR1cm4gcmV0O1xuICB9O1xuXG4gIEJ1ZmZlckxpc3QucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbDtcbiAgICB0aGlzLmxlbmd0aCA9IDA7XG4gIH07XG5cbiAgQnVmZmVyTGlzdC5wcm90b3R5cGUuam9pbiA9IGZ1bmN0aW9uIGpvaW4ocykge1xuICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcnO1xuICAgIHZhciBwID0gdGhpcy5oZWFkO1xuICAgIHZhciByZXQgPSAnJyArIHAuZGF0YTtcbiAgICB3aGlsZSAocCA9IHAubmV4dCkge1xuICAgICAgcmV0ICs9IHMgKyBwLmRhdGE7XG4gICAgfXJldHVybiByZXQ7XG4gIH07XG5cbiAgQnVmZmVyTGlzdC5wcm90b3R5cGUuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0KG4pIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiBCdWZmZXIuYWxsb2MoMCk7XG4gICAgaWYgKHRoaXMubGVuZ3RoID09PSAxKSByZXR1cm4gdGhpcy5oZWFkLmRhdGE7XG4gICAgdmFyIHJldCA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShuID4+PiAwKTtcbiAgICB2YXIgcCA9IHRoaXMuaGVhZDtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKHApIHtcbiAgICAgIGNvcHlCdWZmZXIocC5kYXRhLCByZXQsIGkpO1xuICAgICAgaSArPSBwLmRhdGEubGVuZ3RoO1xuICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcblxuICByZXR1cm4gQnVmZmVyTGlzdDtcbn0oKTtcblxuaWYgKHV0aWwgJiYgdXRpbC5pbnNwZWN0ICYmIHV0aWwuaW5zcGVjdC5jdXN0b20pIHtcbiAgbW9kdWxlLmV4cG9ydHMucHJvdG90eXBlW3V0aWwuaW5zcGVjdC5jdXN0b21dID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvYmogPSB1dGlsLmluc3BlY3QoeyBsZW5ndGg6IHRoaXMubGVuZ3RoIH0pO1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLm5hbWUgKyAnICcgKyBvYmo7XG4gIH07XG59IiwidmFyIHNjb3BlID0gKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsKSB8fFxuICAgICAgICAgICAgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYpIHx8XG4gICAgICAgICAgICB3aW5kb3c7XG52YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcbn07XG5leHBvcnRzLnNldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkge1xuICBpZiAodGltZW91dCkge1xuICAgIHRpbWVvdXQuY2xvc2UoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuICB0aGlzLl9pZCA9IGlkO1xuICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcbn1cblRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NsZWFyRm4uY2FsbChzY29wZSwgdGhpcy5faWQpO1xufTtcblxuLy8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5leHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcbn07XG5cbmV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcbn07XG5cbmV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblxuICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcbiAgaWYgKG1zZWNzID49IDApIHtcbiAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG4gICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcbiAgICB9LCBtc2Vjcyk7XG4gIH1cbn07XG5cbi8vIHNldGltbWVkaWF0ZSBhdHRhY2hlcyBpdHNlbGYgdG8gdGhlIGdsb2JhbCBvYmplY3RcbnJlcXVpcmUoXCJzZXRpbW1lZGlhdGVcIik7XG4vLyBPbiBzb21lIGV4b3RpYyBlbnZpcm9ubWVudHMsIGl0J3Mgbm90IGNsZWFyIHdoaWNoIG9iamVjdCBgc2V0aW1tZWRpYXRlYCB3YXNcbi8vIGFibGUgdG8gaW5zdGFsbCBvbnRvLiAgU2VhcmNoIGVhY2ggcG9zc2liaWxpdHkgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlXG4vLyBgc2V0aW1tZWRpYXRlYCBsaWJyYXJ5LlxuZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuc2V0SW1tZWRpYXRlKTtcbmV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5jbGVhckltbWVkaWF0ZSk7XG4iLCIoZnVuY3Rpb24gKGdsb2JhbCwgdW5kZWZpbmVkKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5leHRIYW5kbGUgPSAxOyAvLyBTcGVjIHNheXMgZ3JlYXRlciB0aGFuIHplcm9cbiAgICB2YXIgdGFza3NCeUhhbmRsZSA9IHt9O1xuICAgIHZhciBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICB2YXIgZG9jID0gZ2xvYmFsLmRvY3VtZW50O1xuICAgIHZhciByZWdpc3RlckltbWVkaWF0ZTtcblxuICAgIGZ1bmN0aW9uIHNldEltbWVkaWF0ZShjYWxsYmFjaykge1xuICAgICAgLy8gQ2FsbGJhY2sgY2FuIGVpdGhlciBiZSBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBuZXcgRnVuY3Rpb24oXCJcIiArIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIC8vIENvcHkgZnVuY3Rpb24gYXJndW1lbnRzXG4gICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAxXTtcbiAgICAgIH1cbiAgICAgIC8vIFN0b3JlIGFuZCByZWdpc3RlciB0aGUgdGFza1xuICAgICAgdmFyIHRhc2sgPSB7IGNhbGxiYWNrOiBjYWxsYmFjaywgYXJnczogYXJncyB9O1xuICAgICAgdGFza3NCeUhhbmRsZVtuZXh0SGFuZGxlXSA9IHRhc2s7XG4gICAgICByZWdpc3RlckltbWVkaWF0ZShuZXh0SGFuZGxlKTtcbiAgICAgIHJldHVybiBuZXh0SGFuZGxlKys7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaGFuZGxlKSB7XG4gICAgICAgIGRlbGV0ZSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuKHRhc2spIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGFzay5jYWxsYmFjaztcbiAgICAgICAgdmFyIGFyZ3MgPSB0YXNrLmFyZ3M7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuSWZQcmVzZW50KGhhbmRsZSkge1xuICAgICAgICAvLyBGcm9tIHRoZSBzcGVjOiBcIldhaXQgdW50aWwgYW55IGludm9jYXRpb25zIG9mIHRoaXMgYWxnb3JpdGhtIHN0YXJ0ZWQgYmVmb3JlIHRoaXMgb25lIGhhdmUgY29tcGxldGVkLlwiXG4gICAgICAgIC8vIFNvIGlmIHdlJ3JlIGN1cnJlbnRseSBydW5uaW5nIGEgdGFzaywgd2UnbGwgbmVlZCB0byBkZWxheSB0aGlzIGludm9jYXRpb24uXG4gICAgICAgIGlmIChjdXJyZW50bHlSdW5uaW5nQVRhc2spIHtcbiAgICAgICAgICAgIC8vIERlbGF5IGJ5IGRvaW5nIGEgc2V0VGltZW91dC4gc2V0SW1tZWRpYXRlIHdhcyB0cmllZCBpbnN0ZWFkLCBidXQgaW4gRmlyZWZveCA3IGl0IGdlbmVyYXRlZCBhXG4gICAgICAgICAgICAvLyBcInRvbyBtdWNoIHJlY3Vyc2lvblwiIGVycm9yLlxuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdGFzayA9IHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBydW4odGFzayk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbW1lZGlhdGUoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHsgcnVuSWZQcmVzZW50KGhhbmRsZSk7IH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhblVzZVBvc3RNZXNzYWdlKCkge1xuICAgICAgICAvLyBUaGUgdGVzdCBhZ2FpbnN0IGBpbXBvcnRTY3JpcHRzYCBwcmV2ZW50cyB0aGlzIGltcGxlbWVudGF0aW9uIGZyb20gYmVpbmcgaW5zdGFsbGVkIGluc2lkZSBhIHdlYiB3b3JrZXIsXG4gICAgICAgIC8vIHdoZXJlIGBnbG9iYWwucG9zdE1lc3NhZ2VgIG1lYW5zIHNvbWV0aGluZyBjb21wbGV0ZWx5IGRpZmZlcmVudCBhbmQgY2FuJ3QgYmUgdXNlZCBmb3IgdGhpcyBwdXJwb3NlLlxuICAgICAgICBpZiAoZ2xvYmFsLnBvc3RNZXNzYWdlICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cykge1xuICAgICAgICAgICAgdmFyIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG9sZE9uTWVzc2FnZSA9IGdsb2JhbC5vbm1lc3NhZ2U7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShcIlwiLCBcIipcIik7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gb2xkT25NZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgLy8gSW5zdGFsbHMgYW4gZXZlbnQgaGFuZGxlciBvbiBgZ2xvYmFsYCBmb3IgdGhlIGBtZXNzYWdlYCBldmVudDogc2VlXG4gICAgICAgIC8vICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vRE9NL3dpbmRvdy5wb3N0TWVzc2FnZVxuICAgICAgICAvLyAqIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL2NvbW1zLmh0bWwjY3Jvc3NEb2N1bWVudE1lc3NhZ2VzXG5cbiAgICAgICAgdmFyIG1lc3NhZ2VQcmVmaXggPSBcInNldEltbWVkaWF0ZSRcIiArIE1hdGgucmFuZG9tKCkgKyBcIiRcIjtcbiAgICAgICAgdmFyIG9uR2xvYmFsTWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSBnbG9iYWwgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEuaW5kZXhPZihtZXNzYWdlUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudCgrZXZlbnQuZGF0YS5zbGljZShtZXNzYWdlUHJlZml4Lmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKG1lc3NhZ2VQcmVmaXggKyBoYW5kbGUsIFwiKlwiKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZShoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBodG1sID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIDxzY3JpcHQ+IGVsZW1lbnQ7IGl0cyByZWFkeXN0YXRlY2hhbmdlIGV2ZW50IHdpbGwgYmUgZmlyZWQgYXN5bmNocm9ub3VzbHkgb25jZSBpdCBpcyBpbnNlcnRlZFxuICAgICAgICAgICAgLy8gaW50byB0aGUgZG9jdW1lbnQuIERvIHNvLCB0aHVzIHF1ZXVpbmcgdXAgdGhlIHRhc2suIFJlbWVtYmVyIHRvIGNsZWFuIHVwIG9uY2UgaXQncyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaHRtbC5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgICAgIHNjcmlwdCA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaHRtbC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBJZiBzdXBwb3J0ZWQsIHdlIHNob3VsZCBhdHRhY2ggdG8gdGhlIHByb3RvdHlwZSBvZiBnbG9iYWwsIHNpbmNlIHRoYXQgaXMgd2hlcmUgc2V0VGltZW91dCBldCBhbC4gbGl2ZS5cbiAgICB2YXIgYXR0YWNoVG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGdsb2JhbCk7XG4gICAgYXR0YWNoVG8gPSBhdHRhY2hUbyAmJiBhdHRhY2hUby5zZXRUaW1lb3V0ID8gYXR0YWNoVG8gOiBnbG9iYWw7XG5cbiAgICAvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IGUuZy4gYnJvd3NlcmlmeSBlbnZpcm9ubWVudHMuXG4gICAgaWYgKHt9LnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIikge1xuICAgICAgICAvLyBGb3IgTm9kZS5qcyBiZWZvcmUgMC45XG4gICAgICAgIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGNhblVzZVBvc3RNZXNzYWdlKCkpIHtcbiAgICAgICAgLy8gRm9yIG5vbi1JRTEwIG1vZGVybiBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChnbG9iYWwuTWVzc2FnZUNoYW5uZWwpIHtcbiAgICAgICAgLy8gRm9yIHdlYiB3b3JrZXJzLCB3aGVyZSBzdXBwb3J0ZWRcbiAgICAgICAgaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZG9jICYmIFwib25yZWFkeXN0YXRlY2hhbmdlXCIgaW4gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpIHtcbiAgICAgICAgLy8gRm9yIElFIDbigJM4XG4gICAgICAgIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBvbGRlciBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCk7XG4gICAgfVxuXG4gICAgYXR0YWNoVG8uc2V0SW1tZWRpYXRlID0gc2V0SW1tZWRpYXRlO1xuICAgIGF0dGFjaFRvLmNsZWFySW1tZWRpYXRlID0gY2xlYXJJbW1lZGlhdGU7XG59KHR5cGVvZiBzZWxmID09PSBcInVuZGVmaW5lZFwiID8gdHlwZW9mIGdsb2JhbCA9PT0gXCJ1bmRlZmluZWRcIiA/IHRoaXMgOiBnbG9iYWwgOiBzZWxmKSk7XG4iLCJcbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBkZXByZWNhdGU7XG5cbi8qKlxuICogTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbiAqIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4gKlxuICogSWYgYGxvY2FsU3RvcmFnZS5ub0RlcHJlY2F0aW9uID0gdHJ1ZWAgaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG4gKlxuICogSWYgYGxvY2FsU3RvcmFnZS50aHJvd0RlcHJlY2F0aW9uID0gdHJ1ZWAgaXMgc2V0LCB0aGVuIGRlcHJlY2F0ZWQgZnVuY3Rpb25zXG4gKiB3aWxsIHRocm93IGFuIEVycm9yIHdoZW4gaW52b2tlZC5cbiAqXG4gKiBJZiBgbG9jYWxTdG9yYWdlLnRyYWNlRGVwcmVjYXRpb24gPSB0cnVlYCBpcyBzZXQsIHRoZW4gZGVwcmVjYXRlZCBmdW5jdGlvbnNcbiAqIHdpbGwgaW52b2tlIGBjb25zb2xlLnRyYWNlKClgIGluc3RlYWQgb2YgYGNvbnNvbGUuZXJyb3IoKWAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSB0aGUgZnVuY3Rpb24gdG8gZGVwcmVjYXRlXG4gKiBAcGFyYW0ge1N0cmluZ30gbXNnIC0gdGhlIHN0cmluZyB0byBwcmludCB0byB0aGUgY29uc29sZSB3aGVuIGBmbmAgaXMgaW52b2tlZFxuICogQHJldHVybnMge0Z1bmN0aW9ufSBhIG5ldyBcImRlcHJlY2F0ZWRcIiB2ZXJzaW9uIG9mIGBmbmBcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZGVwcmVjYXRlIChmbiwgbXNnKSB7XG4gIGlmIChjb25maWcoJ25vRGVwcmVjYXRpb24nKSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKGNvbmZpZygndGhyb3dEZXByZWNhdGlvbicpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgfSBlbHNlIGlmIChjb25maWcoJ3RyYWNlRGVwcmVjYXRpb24nKSkge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4obXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGBsb2NhbFN0b3JhZ2VgIGZvciBib29sZWFuIHZhbHVlcyBmb3IgdGhlIGdpdmVuIGBuYW1lYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjb25maWcgKG5hbWUpIHtcbiAgLy8gYWNjZXNzaW5nIGdsb2JhbC5sb2NhbFN0b3JhZ2UgY2FuIHRyaWdnZXIgYSBET01FeGNlcHRpb24gaW4gc2FuZGJveGVkIGlmcmFtZXNcbiAgdHJ5IHtcbiAgICBpZiAoIWdsb2JhbC5sb2NhbFN0b3JhZ2UpIHJldHVybiBmYWxzZTtcbiAgfSBjYXRjaCAoXykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdmFsID0gZ2xvYmFsLmxvY2FsU3RvcmFnZVtuYW1lXTtcbiAgaWYgKG51bGwgPT0gdmFsKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBTdHJpbmcodmFsKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBub2RlL25vLWRlcHJlY2F0ZWQtYXBpICovXG52YXIgYnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJylcbnZhciBCdWZmZXIgPSBidWZmZXIuQnVmZmVyXG5cbi8vIGFsdGVybmF0aXZlIHRvIHVzaW5nIE9iamVjdC5rZXlzIGZvciBvbGQgYnJvd3NlcnNcbmZ1bmN0aW9uIGNvcHlQcm9wcyAoc3JjLCBkc3QpIHtcbiAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgIGRzdFtrZXldID0gc3JjW2tleV1cbiAgfVxufVxuaWYgKEJ1ZmZlci5mcm9tICYmIEJ1ZmZlci5hbGxvYyAmJiBCdWZmZXIuYWxsb2NVbnNhZmUgJiYgQnVmZmVyLmFsbG9jVW5zYWZlU2xvdykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGJ1ZmZlclxufSBlbHNlIHtcbiAgLy8gQ29weSBwcm9wZXJ0aWVzIGZyb20gcmVxdWlyZSgnYnVmZmVyJylcbiAgY29weVByb3BzKGJ1ZmZlciwgZXhwb3J0cylcbiAgZXhwb3J0cy5CdWZmZXIgPSBTYWZlQnVmZmVyXG59XG5cbmZ1bmN0aW9uIFNhZmVCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbi8vIENvcHkgc3RhdGljIG1ldGhvZHMgZnJvbSBCdWZmZXJcbmNvcHlQcm9wcyhCdWZmZXIsIFNhZmVCdWZmZXIpXG5cblNhZmVCdWZmZXIuZnJvbSA9IGZ1bmN0aW9uIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuU2FmZUJ1ZmZlci5hbGxvYyA9IGZ1bmN0aW9uIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH1cbiAgdmFyIGJ1ZiA9IEJ1ZmZlcihzaXplKVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGJ1Zi5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgIH0gZWxzZSB7XG4gICAgICBidWYuZmlsbChmaWxsKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBidWYuZmlsbCgwKVxuICB9XG4gIHJldHVybiBidWZcbn1cblxuU2FmZUJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfVxuICByZXR1cm4gQnVmZmVyKHNpemUpXG59XG5cblNhZmVCdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9XG4gIHJldHVybiBidWZmZXIuU2xvd0J1ZmZlcihzaXplKVxufVxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIGEgcGFzc3Rocm91Z2ggc3RyZWFtLlxuLy8gYmFzaWNhbGx5IGp1c3QgdGhlIG1vc3QgbWluaW1hbCBzb3J0IG9mIFRyYW5zZm9ybSBzdHJlYW0uXG4vLyBFdmVyeSB3cml0dGVuIGNodW5rIGdldHMgb3V0cHV0IGFzLWlzLlxuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUGFzc1Rocm91Z2g7XG5cbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCcuL19zdHJlYW1fdHJhbnNmb3JtJyk7XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgdXRpbCA9IHJlcXVpcmUoJ2NvcmUtdXRpbC1pcycpO1xudXRpbC5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudXRpbC5pbmhlcml0cyhQYXNzVGhyb3VnaCwgVHJhbnNmb3JtKTtcblxuZnVuY3Rpb24gUGFzc1Rocm91Z2gob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUGFzc1Rocm91Z2gpKSByZXR1cm4gbmV3IFBhc3NUaHJvdWdoKG9wdGlvbnMpO1xuXG4gIFRyYW5zZm9ybS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xufVxuXG5QYXNzVGhyb3VnaC5wcm90b3R5cGUuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGNiKG51bGwsIGNodW5rKTtcbn07Il0sInNvdXJjZVJvb3QiOiIifQ==